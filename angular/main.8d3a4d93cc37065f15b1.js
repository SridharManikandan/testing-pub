(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+Hlo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,n;n=function(){(function($,ej,undefined){ej.widget("boldReportViewer","ej.ReportViewer",{_rootCSS:"e-reportviewer",element:null,model:null,validTags:["div"],defaults:{reportServiceUrl:"",reportServerId:"",reportCacheID:"",serviceAuthorizationToken:"",reportViewerClientId:"",reportViewerId:"",reportPath:"",enableVirtualEvaluation:!1,reportServerUrl:"",dataSources:[],parameters:[],exportSettings:{exportOptions:255,excelFormat:"excel2013",pptFormat:"powerpoint97to2003",wordFormat:"docx",customItems:[],imageQuality:2},toolbarSettings:{items:1023,showToolbar:!0,templateId:"",click:"",showTooltip:!0,customGroups:[],customItems:[]},locale:"en-US",printMode:!1,sizeToReportContent:!1,renderMode:3,printOption:"Default",enablePageCache:!1,enablePageVirtualization:!1,pageSettings:{height:0,width:0,orientation:null,paperSize:null,margins:{top:0,right:0,bottom:0,left:0}},processingMode:"remote",zoomFactor:1,isResponsive:!0,reportLoaded:null,ajaxBeforeLoad:null,ajaxLoad:null,ajaxSuccess:null,ajaxError:null,toolbarRendering:null,toolBarItemClick:null,renderingBegin:null,beforeParameterAdd:null,renderingComplete:null,reportError:null,showError:null,reportExport:null,exportProgressChanged:null,printProgressChanged:null,exportItemClick:null,drillThrough:null,hyperlink:null,reportPrint:null,viewReportClick:null,destroy:null,tenantName:null,enableParameterBlockScroller:!0,enableDatasourceBlockScroller:!0,enableNotificationBar:!0,enableDropDownSearch:!1,showExceptionsInDialog:!1,enableAnimation:!0,autoRender:!0,parameterSettings:{delimiterChar:",",dateTimePickerType:"Default",minDateTime:null,maxDateTime:null,popupHeight:"152px",popupWidth:"auto",itemWidth:"185px",labelWidth:"110px",attributes:{},hideParameterBlock:!1,timeDisplayFormat:"",dateTimeFormat:"",timeInterval:30,accessInternalValue:!1},parameterUpdateStateChange:null,waitingPopupTemplate:null,customBrandSettings:{hideHelpLink:!1,customDomain:"https://help.boldreports.com",customBrandName:"Bold Reports",customLinks:[{name:"ESLicenseMessage",url:"/licensing/license-token/"}]}},dataTypes:{dataSources:"array",parameters:"array",toolbarSettings:{showToolbar:"boolean"}},_dataVisualization:[],_dataVisualItemCount:0,_currentDropdownText:null,_dataSources:null,_reportParametersModel:[],_reloadParams:[],_svg:!0,_reportViewerToken:null,_serviceType:"Default",_dataRefresh:!1,_isForwardDirection:!1,_isSelectedPage:!1,_refresh:!1,_isPageSetupValueChange:!1,_isToolbarClick:!1,_currnetDocMapNodeId:null,_currentBookmarkInfo:null,_isPopupClick:!1,_printMode:!1,_pageSetup:!1,_pageModel:null,_isprint:!1,_cancelPrintExport:!1,_currentPage:1,_pageLayoutPage:1,_machineCulture:null,_reportParameters:null,_paramInfo:null,_reportDataSources:null,_customParameters:[],_reporDataSets:null,_isRDLC:!1,_zoomLevel:2,_preZoomVal:1,_actionUrl:null,_isDocumentMap:!1,_isPageDocMap:!1,_isDrillThroughReport:!1,_pageDocMapFlag:!1,_childReportToken:null,_parents:[],_parentPageXY:null,_browserInfo:null,_serverActionInfo:null,_isDevice:!1,_zoomVal:1,_originX:0,_originY:0,_paperName:null,_excelFormat:null,_wordFormat:null,_isPercentHeight:-1,_isPercentWidth:-1,_isHeight:!1,_currentTogglePosition:0,_isWidth:!1,_isDesign:!1,_paperOrientation:null,_legendPointNames:null,_updateParam:null,_isFitToPage:!1,_isFitToWidth:!1,_isDataLabel:!1,_pageCache:[],_printData:[],_printPageCache:[],_scrollHeight:0,_localeObj:null,_licenseMessage:null,_touchScreen:{startPoint:0,endPoint:0},_isPinchZoom:!1,_pageImagesCache:null,_reportImages:{},_paperSetup:{paperHeight:null,paperWidth:null,MarginTop:0,MarginRight:0,MarginBottom:0,MarginLeft:0},_reportAction:{reportLoad:"ReportLoad",getDataSourceCredential:"GetDataSourceCredential",validateDSCredential:"ValidateDSCredential",updateDSCredential:"UpdateDSCredential",getParameters:"GetParameters",setParameters:"SetParameters",updateParameters:"UpdateParameters",updateDataSource:"UpdateDataSource",getPageModel:"GetPageModel",getPrintModel:"GetPrintModel",drillDown:"DrillDown",clearCache:"ClearCache",documentMap:"DocumentMap",drillThrough:"DrillThrough",sorting:"Sorting",exporting:"Export",clearObjects:"ClearObjects",getImages:"GetImages"},_elementsRendered:null,_tags:[{tag:"parameters",attr:["",[{tag:"parameter",attr:["name","labels","values","nullable"]}]]},{tag:"dataSources",attr:["",[{tag:"datasource",attr:["name","value"]}]]}],_setModel:function(e){var t,i,s,a,o,r=!1,n=!1;for(t in this._parents.length>0&&this._parents.pop(),e)switch(t){case"reportPath":case"enableVirtualEvaluation":case"reportServerUrl":r=!0;case"reportServiceUrl":this._actionUrl=this.model.reportServiceUrl+"/PostReportAction",this._actionUrl=this._getMultiTenantUrl(this._actionUrl,!0),r=!0;break;case"dataSources":case"parameters":r=!0;break;case"processingMode":n=!0;break;case"zoomFactor":i=$("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),-1!==(s=[.5,.75,1,1.25,1.5,2,4]).indexOf(e[t])&&i.selectItemsByIndices(s.indexOf(e[t]));break;case"printMode":this._updatePreviewLayout(e[t],!1);break;case"toolbarSettings":this._updateToolbarmodel();break;case"locale":this._setCultureInfo();break;case"renderMode":this._reInit();break;case"reportViewerId":this._reportViewerToken=this.model.reportViewerId?this.model.reportViewerId:this._reportViewerToken;break;case"pageSettings":for(a in e[t])switch(a){case"height":this._paperSetup.paperHeight=e[t][a],this._paperName="Custom";break;case"width":this._paperSetup.paperWidth=e[t][a],this._paperName="Custom";break;case"orientation":this._paperOrientation=e[t][a];break;case"paperSize":this._paperName=e[t][a];break;case"margins":for(o in e[t][a])switch(o){case"top":this._paperSetup.MarginTop=e[t][a][o];break;case"bottom":this._paperSetup.MarginBottom=e[t][a][o];break;case"left":this._paperSetup.MarginLeft=e[t][a][o];break;case"right":this._paperSetup.MarginRight=e[t][a][o]}}this._setPageSettings(),this._printMode&&this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1);break;case"waitingPopupTemplate":this.model.waitingPopupTemplate=e[t],this.element.find("#"+this._id+"_viewerContainer").data("ejWaitingPopup").setModel({template:this.model.waitingPopupTemplate}),this.element.find("#"+this._id+"_loadingIndicator").data("ejWaitingPopup").setModel({template:this.model.waitingPopupTemplate})}n&&!r&&this.model.reportServiceUrl&&this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getDataSourceCredential,dataSources:this.model.dataSources,parameters:this.model.parameters}),"_getDataSourceCredential"),this.model.reportPath?r&&this.model.reportServiceUrl&&this._ajaxCallMethod(this._reportAction.clearCache,"_reportReload",!1):(this._initViewer(),this._setPageSize(0,0,0,0))},_reInit:function(){this._destroy(),this._init()},_destroyEJObjects:function(e){for(var t,i,s,a=$(e).find(".e-js"),o=0;o<a.length;o++)if((i=(t=a.eq(o).data()).ejWidgets)&&i.length)for(s=0;s<i.length;s++)t[i[s]]&&t[i[s]].destroy&&t[i[s]].destroy()},_destroy:function(){var e=this.element.find("#"+this._id+"_toolbarContainer"),t=$("#"+this._id+"_printPageSetup"),i=$("#"+this._id+"_viewer_alert_dialog");!ej.isNullOrUndefined(e)&&e.length>0&&e.data("ejToolbar")&&(this._destroyEJObjects(e),e.data("ejToolbar").destroy(),e.remove()),!ej.isNullOrUndefined(t)&&t.length>0&&t.data("ejDialog")&&(this._destroyEJObjects(t),t.data("ejDialog").destroy(),$("#"+this._id+"_printPageSetup").remove()),!ej.isNullOrUndefined(i)&&i.length>0&&i.data("ejDialog")&&(this._destroyEJObjects(i),i.data("ejDialog").destroy(),$("#"+this._id+"_viewer_alert_dialog").remove()),this._destroyEJObjects(this.element),this._clearPageCache(),$("#"+this._id+"_exportForm").remove(),$("#"+this._id+"_toolbar_exportListTip").remove(),$("#"+this._id+"_toolbar_fittoPagePopup").remove(),$("#"+this._id+"_pageInfoPopup").remove(),$("#"+this._id+"_printPageIframe").remove(),this.element.find("#"+this._id+"_licensing_msgContainer").remove(),$(this.element).find(".e-reportviewer-viewer").remove(),this._ajaxCallMethod(this._reportAction.clearCache,"_clearCurrentServerCache",!1)},_destroyExistingObj:function(){$("#"+this._id+"_printPageSetup").remove(),this._parents.length>0&&this._parents.pop()},_hidePageView:function(){$("#"+this._id+"_pageviewOuterContainer").css("display","none")},_destroyPageItems:function(){var e=$("#"+this._id+"_pageviewheaderContainer"),t=$("#"+this._id+"_pageviewfooterContainer"),i=$("#"+this._id+"_pageviewbodyContainer"),s=$("#"+this._id+"_pageviewContainer").find(".e-js");s&&s.length>0&&(this._destroyEJObjects(s),s.prevObject&&s.prevObject.length>0&&this._resetTagStyle(s.prevObject)),s=null,e.length>0&&(e.empty(),this._resetTagStyle(e.parent())),t.length>0&&(t.empty(),this._resetTagStyle(t.parent())),i.length>0&&(i.empty(),this._resetTagStyle(i.parent()))},_resetTagStyle:function(e){e.css({"border-color":"transparent","background-color":"transparent","border-style":"none","border-width":"0pt","background-image":"none"})},_init:function(){this._svg=!!window.SVGSVGElement,this._actionUrl=this.model.reportServiceUrl+"/PostReportAction",this._actionUrl=this._getMultiTenantUrl(this._actionUrl,!0),this._reportViewerToken=this.model.reportViewerId?this.model.reportViewerId:this._reportViewerToken,this._browserInfo=ej.browserInfo(),this.element.hasClass("e-rptdesigner")&&(this._isDesign=!0),this._destroyExistingObj(),this._renderViewer(),this._initViewer(),this._on($(window),"resize",this._viewerResize),this.model.reportServiceUrl&&this._ajaxCallMethod(this._reportAction.reportLoad,"_reportLoaded",!1)},_initViewer:function(){this._wireEvents(),this._initToolbar(),this._destroyPageItems(),this._resetPageNumber(!1),this._clearPageCache(),this._showException(!1),this._currentPage=1,this._pageLayoutPage=this._currentPage,this._setPageSettings(),this._isDocumentMap=!1,this._printMode=this.model.printMode,this._isPageDocMap=!1,this._pageDocMapFlag=!1;var e=this.model.toolbarSettings;e.templateId||(this._showToolbar(e.showToolbar),this._showPrintButton(e.items&ej.ReportViewer.ToolbarItems.Print),this._showRefreshButton(e.items&ej.ReportViewer.ToolbarItems.Refresh),this._showStopButton(e.items&ej.ReportViewer.ToolbarItems.Stop),this._showExportSetupButton(e.items&ej.ReportViewer.ToolbarItems.ExportSetup),this._showZoomControl(e.items&ej.ReportViewer.ToolbarItems.Zoom),this._showFittoPage(e.items&ej.ReportViewer.ToolbarItems.FittoPage),this._showExportControls(e.items&ej.ReportViewer.ToolbarItems.Export),this._showPrintPageSetupButton(e.items&ej.ReportViewer.ToolbarItems.PageSetup),this._showExportList(),this._showPageNavigationControls(e.items&ej.ReportViewer.ToolbarItems.PageNavigation),this._showParameterBlock(e.items&ej.ReportViewer.ToolbarItems.Parameters),this._showPreviewButton(e.items&ej.ReportViewer.ToolbarItems.PrintLayout),this._showDrillThrough(this._parents.length>0),this._showDocumentMap(!1),this._destroyDocumentMapTree()),this._showViewerBlock(!1),this._setContainerSize(),this._showloadingIndicator(!(!this.model.reportServiceUrl||!this.model.reportPath))},_setPageSettings:function(){var e,t,i=!1,s=0,a=0;this._paperName=null,this._paperOrientation=null,this._paperSetup.paperHeight=0,this._paperSetup.paperWidth=0,this._paperSetup.MarginBottom=0,this._paperSetup.MarginLeft=0,this._paperSetup.MarginRight=0,this._paperSetup.MarginTop=0,this.model.pageSettings&&this.model.pageSettings.height>0&&(a=this.model.pageSettings.height,i=!0,this._isPageSetupValueChange=!0),this.model.pageSettings&&this.model.pageSettings.width>0&&(s=this.model.pageSettings.width,i=!0,this._isPageSetupValueChange=!0),this.model.pageSettings.paperSize?(this._paperName=this.model.pageSettings.paperSize,this._isPageSetupValueChange=!0,e=this._getPaperSize(this.model.pageSettings.paperSize),i&&(s>0&&(e.width=s),a>0&&(e.height=a),t="Landscape"==this.model.pageSettings.orientation?this._getPaperName(e.height,e.width):this._getPaperName(e.width,e.height),this._paperName=this.model.pageSettings.paperSize==t?this.model.pageSettings.paperSize:"Custom"),this._paperOrientation="Landscape"==this.model.pageSettings.orientation?"Landscape":"Portrait","Landscape"==this.model.pageSettings.orientation?(this._paperSetup.paperHeight=e.height<e.width?e.height:e.width,this._paperSetup.paperWidth=e.height<e.width?e.width:e.height):(this._paperSetup.paperHeight=e.height,this._paperSetup.paperWidth=e.width)):i&&(s>0&&(this._paperSetup.paperWidth=s),a>0&&(this._paperSetup.paperHeight=a),this._paperName="Custom"),this.model.pageSettings&&this.model.pageSettings.margins&&(this.model.pageSettings.margins.left>0&&(this._paperSetup.MarginLeft=this.model.pageSettings.margins.left,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.right>0&&(this._paperSetup.MarginRight=this.model.pageSettings.margins.right,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.bottom>0&&(this._paperSetup.MarginBottom=this.model.pageSettings.margins.bottom,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.top>0&&(this._paperSetup.MarginTop=this.model.pageSettings.margins.top,this._isPageSetupValueChange=!0))},_renderPageInfoPopup:function(){var e,t,i=$("#"+this._id+"_pageInfoPopup");i.length>0||(i=ej.buildTag("div.e-reportviewer-pagepopupinfo","",{"WHITE-SPACE":"nowrap"},{id:this._id+"_pageInfoPopup"}),(e=ej.buildTag("input.e-reportviewer-pagenumber e-reportviewer-elementalignments ejinputtext","",{},{type:"text",value:this._currentPage,id:this._id+"_popupPageNo"})).css("height","25.5px"),e.css("width","25px"),e.css("background-color","black"),e.css("color","white"),e.css("border-color","black"),(t=ej.buildTag("span.e-reportviewer-popuptotalpage","",{},{})).append(" / "+this._pageModel.TotalPages),i.append(e),i.append(t),$("body").append(i),this._on($("#"+this._id+"_popupPageNo"),"click",this._popupClick),this._on($("#"+this._id+"_popupPageNo"),"keypress",this._onkeyPress)),"block"==i.css("display")?(i.stop().fadeIn(),i.stop().fadeOut(3e3),i.hide(3e3)):(i.show(),i.stop().fadeIn(),i.stop().fadeOut(3e3),i.hide(3e3));var s=$("#"+this._id+"_viewerContainer"),a=s.offset().left+s.width()/2-i.width()/2,o=s.offset().top+s.height()/2-i.height()/2;i.css({left:a,top:o}),this._updatePageNo()},_renderToolBar:function(e){var t,i,s,a,o,r,n,l;this.model.toolbarSettings.templateId?(l=$("#"+this.model.toolbarSettings.templateId),e.append(l),l.ejToolbar({isResponsive:!0,enableSeparator:!0,cssClass:"e-rptviewer-toolbar e-report-responsive-toolbar",height:l.height(),click:this.model.toolbarSettings.click}),l.css("display","block")):(t=ej.buildTag("div.e-reportviewer-toolbarcontainer .e-reportviewer-viewer","",{width:"100%"},{id:this._id+"_toolbarContainer",tabindex:"0"}),e.append(t),this._isDevice?(i=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_exportZoom"}),this._appendToolbarItems(i,"print"),this._appendToolbarItems(i,"export"),this._appendToolbarItems(i,"exportsetup"),this._appendToolbarItems(i,"zoomout"),this._appendToolbarItems(i,"zoomin"),this._appendToolbarItems(i,"pagefit"),t.append(i),s=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_refreshParam"}),this._appendToolbarItems(s,"gotoparent"),this._appendToolbarItems(s,"refresh"),this._appendToolbarItems(s,"parameter"),t.append(s),o=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_navigate"}),this._appendToolbarItems(o,"gotofirst"),this._appendToolbarItems(o,"gotoprevious"),this._appendToolbarItems(o,"gotopage"),this._appendToolbarItems(o,"gotonext"),this._appendToolbarItems(o,"gotolast"),t.append(o)):(a=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_printExport"}),this._appendToolbarItems(a,"print"),this._appendToolbarItems(a,"export"),this._appendToolbarItems(a,"exportsetup"),this._appendToolbarItems(a,"preview"),this._appendToolbarItems(a,"pagesetup"),t.append(a),o=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_navigate"}),this._appendToolbarItems(o,"gotofirst"),this._appendToolbarItems(o,"gotoprevious"),this._appendToolbarItems(o,"gotopage"),this._appendToolbarItems(o,"gotonext"),this._appendToolbarItems(o,"gotolast"),this._appendToolbarItems(o,"gotoparent"),t.append(o),r=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_zoom"}),this._appendToolbarItems(r,"zoomout"),this._appendToolbarItems(r,"zoomin"),this._appendToolbarItems(r,"zoom"),this._appendToolbarItems(r,"pagefit"),t.append(r),n=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_refreshParam"}),this._appendToolbarItems(n,"refresh"),this._appendToolbarItems(n,"stop"),this._appendToolbarItems(n,"documentmap"),this._appendToolbarItems(n,"parameter"),t.append(n),$("#"+this._id+"_toolbar_zoom").ejDropDownList({cssClass:"e-rptviewer-drpdown",height:"27px",width:"80px",change:this._zoomValChange,selectedItem:2,enableAnimation:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("toolbar","zoom","headerText")}}),$("#"+this._id+"_toolbar_zoom_popup_list_wrapper").addClass("e-reportviewer-zoomSelection_popup"),$("#"+this._id+"_toolbar_zoom_popup ul").addClass("e-reportviewer-zoomSelection_popup-ul")),this._onToolbarRendering({target:t}),this._customToolbarRendering(t.find("ul")),this._isDesign&&this._setTooltip(),t.ejToolbar({cssClass:this._isDesign?"e-rptdesigner":"e-rptviewer",isResponsive:!0,enableSeparator:!this._isDevice,click:$.proxy(this._toolbarClick,this)}))},_customToolbarRendering:function(e){for(var t,i,s,a=$.extend(!0,[],this.model.toolbarSettings.customItems),o=$.extend(!0,[],this.model.toolbarSettings.customGroups),r=[],n=0;n<o.length;n++)r.push(o[n]);for(r.sort(this._sortComparer),t=[],n=0;n<a.length;n++)t.push(a[n]);for(t.sort(this._sortComparer),n=0;n<r.length;n++){for(i=ej.buildTag("ul.e-reportviewer-toolbarul","",{}),s=0;s<r[n].items.length;s++)l=r[n].items[s].type,d=this._getToolbarElement(r[n].items[s],ej.isNullOrUndefined(r[n].groupIndex)?s:r[n].groupIndex,l),i.append(d);ej.isNullOrUndefined(r[n].groupIndex)?$(e).eq(e.length-1).after(i):0==r[n].groupIndex?$(e).eq(r[n].groupIndex).before(i):$(e).hasOwnProperty(r[n].groupIndex)?$(e).eq(r[n].groupIndex-1).after(i):$(e).eq(e.length-1).after(i),r[n].cssClass&&i.addClass(r[n].cssClass)}for(n=0;n<t.length;n++){var l=t[n].type,d=this._getToolbarElement(t[n],ej.isNullOrUndefined(t[n].index)?t[n].index:n,l),h=e[ej.isNullOrUndefined(t[n].groupIndex)||!e.hasOwnProperty(t[n].groupIndex)?e.length-1:t[n].groupIndex];ej.isNullOrUndefined(t[n].index)?$(h.childNodes).eq(h.childNodes.length-1).after(d):0==t[n].index?$(h.childNodes).eq(t[n].index).before(d):$(h.childNodes).hasOwnProperty(t[n].index)?$(h.childNodes).eq(t[n].index-1).after(d):$(h.childNodes).eq(h.childNodes.length-1).after(d)}},_sortComparer:function(e,t){return t.index-e.index},_getToolbarElement:function(e,t,i){var s,a;switch(i){case ej.ReportViewer.InputElement.Default:s=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+e.id,"aria-disabled":"false",role:"button","aria-label":e.id}),a=ej.buildTag("span."+e.cssClass+" e-customoption","",{},{id:this._id+"_toolbar_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),s.append(a);break;case ej.ReportViewer.InputElement.Button:s=ej.buildTag("li.e-custombutton","",{},{id:this._id+"_toolbar_li_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),a=ej.buildTag("input."+e.cssClass+" e-customoption","",{},{type:"button",id:this._id+"_toolbar_"+e.id}),s.append(a),$(a).ejButton({text:e.value,type:"Button",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":e.id}});break;case ej.ReportViewer.InputElement.Textbox:s=ej.buildTag("li.e-customtextbox","",{},{id:this._id+"_toolbar_li_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),a=ej.buildTag("input."+e.cssClass+" e-customoption","",{},{type:"text",id:this._id+"_toolbar_"+e.id}),s.append(a),a.ejMaskEdit({value:e.value,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":e.id}});break;case ej.ReportViewer.InputElement.Dropdown:s=ej.buildTag("li.e-customdropdown","",{},{id:this._id+"_toolbar_li_"+e.id,header:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.header,content:ej.isNullOrUndefined(e.tooltip)?null:e.tooltip.content,value:e.id,cssClass:e.cssClass,groupIndex:ej.isNullOrUndefined(t)?e.groupIndex:t}),a=ej.buildTag("select."+e.cssClass+" e-customoption","",{},{id:this._id+"_toolbar_"+e.id}),s.append(a),a.ejDropDownList({value:e.value,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":e.id}})}return s},_appendToolbarItems:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];switch(t){case"print":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","print","headerText")}),a=ej.buildTag("span.e-reportviewer-icon e-reportviewer-print","",{},{id:this._id+"_toolbar_"+t}),i.append(a);break;case"export":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","exportformat","headerText")}),b=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export","",{},{id:this._id+"_toolbar_"+t}),i.append(b);break;case"exportsetup":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","exportsetup","headerText")}),o=ej.buildTag("span.e-reportviewer-icon e-reportviewer-exportsetup","",{},{id:this._id+"_toolbar_"+t}),i.append(o);break;case"pagesetup":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","pagesetup","headerText")}),r=ej.buildTag("span.e-reportviewer-icon e-reportviewer-pagesetup","",{},{id:this._id+"_toolbar_"+t}),i.append(r);break;case"gotofirst":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","first","headerText")}),n=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotofirst","",{},{id:this._id+"_toolbar_"+t}),i.append(n);break;case"gotolast":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","last","headerText")}),l=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotolast","",{},{id:this._id+"_toolbar_"+t}),i.append(l);break;case"gotonext":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","next","headerText")}),d=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotonext","",{},{id:this._id+"_toolbar_"+t}),i.append(d);break;case"gotoprevious":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","previous","headerText")}),h=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotoprevious","",{},{id:this._id+"_toolbar_"+t}),i.append(h);break;case"gotoparent":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","back","headerText")}),c=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotoparent","",{},{id:this._id+"_toolbar_"+t}),i.append(c);break;case"gotopage":u=this._getLocaleString("toolbar","pageIndex","headerText"),i=ej.buildTag("li.e-reportviewer-toolbarli e-reportviewer-tbpage","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":u}),p=ej.buildTag("input.e-reportviewer-pagenumber e-reportviewer-elementalignments ejinputtext","",{},{type:"text",value:"0",id:this._id+"_toolbar_"+t,"data-role":"none","aria-disabled":"false",role:"textbox","aria-label":u}),m=ej.buildTag("span.e-reportviewer-labelpageno","",{},{}),i.append(p),i.append(m);break;case"zoomin":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","zoomIn","headerText")}),g=ej.buildTag("span.e-reportviewer-icon e-reportviewer-zoomin","",{},{id:this._id+"_toolbar_"+t}),i.append(g);break;case"zoomout":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","zoomOut","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-zoomout","",{},{id:this._id+"_toolbar_"+t}),i.append(_);break;case"zoom":i=ej.buildTag("li.e-reportviewer-toolbarli e-reportviewer-ejdropdownlist","",{},{id:this._id+"_toolbar_li_"+t}),(f=ej.buildTag("select.e-reportviewer-tbdiv e-reportviewer-zoomlist","",{},{id:this._id+"_toolbar_"+t,"data-role":"none"})).append("<option>50%</option>"),f.append("<option>75%</option>"),f.append("<option Selected>100%</option>"),f.append("<option>125%</option>"),f.append("<option>150%</option>"),f.append("<option>200%</option>"),f.append("<option>400%</option>"),i.append(f);break;case"pagefit":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","fittopage","headerText")}),b=ej.buildTag("span.e-reportviewer-icon e-reportviewer-pagefit","",{},{id:this._id+"_toolbar_"+t}),i.append(b);break;case"preview":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","printLayout","headerText")}),v=ej.buildTag("span.e-reportviewer-icon e-reportviewer-preview","",{},{id:this._id+"_toolbar_"+t}),i.append(v);break;case"refresh":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","refresh","headerText")}),x=ej.buildTag("span.e-reportviewer-icon e-reportviewer-refresh","",{},{id:this._id+"_toolbar_"+t}),i.append(x);break;case"stop":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","stop","headerText")}),y=ej.buildTag("span.e-reportviewer-icon e-reportviewer-stop","",{},{id:this._id+"_toolbar_"+t}),i.append(y);break;case"documentmap":i=ej.buildTag("li.e-reportviewer-toolbarli","",{display:"none"},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","documentMap","headerText")}),w=ej.buildTag("span.e-reportviewer-icon e-reportviewer-documentmap","",{},{id:this._id+"_toolbar_"+t}),i.append(w);break;case"parameter":i=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","parameter","headerText")}),S=ej.buildTag("span.e-reportviewer-icon e-reportviewer-parameter","",{},{id:this._id+"_toolbar_"+t}),i.append(S);break;case"pdf":i=ej.buildTag("li.e-reportviewer-popupli e-pdf e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Pdf")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-pdf","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Pdf),i.append(s);break;case"xls":i=ej.buildTag("li.e-reportviewer-popupli e-excel e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Excel")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-excel","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Excel),i.append(s);break;case"word":i=ej.buildTag("li.e-reportviewer-popupli e-word e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Word")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-word","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Word),i.append(s);break;case"html":i=ej.buildTag("li.e-reportviewer-popupli e-html e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Html")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-html","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.Html),i.append(s);break;case"ppt":i=ej.buildTag("li.e-reportviewer-popupli e-ppt e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","PPT")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-ppt","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.PPT),i.append(s);break;case"csv":i=ej.buildTag("li.e-reportviewer-popupli e-csv e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","CSV")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-csv","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.CSV),i.append(s);break;case"xml":i=ej.buildTag("li.e-reportviewer-popupli e-xml e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","XML")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),(s=ej.buildTag("span .e-reportviewer-popupspan e-xml","",{},{id:this._id+"_toolbar_"+t})).append(L.toolbar.exportformat.XML),i.append(s);break;case"fittopage":i=ej.buildTag("li.e-reportviewer-popupli","",{},{id:this._id+"_toolbar_li_"+t,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","fittopage","headerText")});break;case"fittopagewidth":i=ej.buildTag("li.e-reportviewer-popupli e-fitpagewidth e-reportviewer-tab-focus-none","",{width:"auto"},{id:this._id+"_toolbar_li_"+t,isSelect:"false","aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","fittopage","headerText")+" "+this._getLocaleString("toolbar","fittopage","pageWidth")}),C=ej.buildTag("span.e-reportviewer-icon e-reportviewer-emptyconetent","",{"padding-right":"4px",cursor:"pointer"},{id:this._id+"_toolbar_"+t,fitType:"PAGEWIDTH"}),i.append(C),i.append(L.toolbar.fittopage.pageWidth);break;case"fittowholepage":i=ej.buildTag("li.e-reportviewer-popupli e-fitpageheight e-reportviewer-tab-focus-none","",{width:"auto"},{id:this._id+"_toolbar_li_"+t,isSelect:"false","aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","fittopage","headerText")+" "+this._getLocaleString("toolbar","fittopage","pageHeight")}),T=ej.buildTag("span.e-reportviewer-icon e-reportviewer-emptyconetent","",{"padding-right":"4px",cursor:"pointer"},{id:this._id+"_toolbar_"+t,fitType:"WHOLEPAGE"}),i.append(T),i.append(L.toolbar.fittopage.pageHeight)}e.append(i)},_renderToolTipExport:function(){var e=ej.buildTag("div.e-js e-reportviewer-tbdiv e-reportviewer-icon e-reportviewer-exporttip","",{display:"none"},{id:this._id+"_toolbar_exportListTip"});return this._appendToolbarItems(e,"pdf"),this._appendToolbarItems(e,"xls"),this._appendToolbarItems(e,"word"),this._appendToolbarItems(e,"html"),this._appendToolbarItems(e,"ppt"),this._appendToolbarItems(e,"csv"),this._appendToolbarItems(e,"xml"),this._renderCustomExport(e),e},_renderCustomExport:function(e){for(var t,i=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],s=0;s<this.model.exportSettings.customItems.length;s++)ej.isNullOrUndefined(t=i.toolbar.exportformat[this.model.exportSettings.customItems[s].value])&&(t=this.model.exportSettings.customItems[s].value),$divouter=ej.buildTag("li.e-reportviewer-popupli e-custom e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_customexport_"+s,"aria-disabled":"false",role:"menuitem","aria-label":t+" "+i.toolbar.exportformat.headerText}),$spanTag=ej.buildTag("span.e-reportviewer-popupspan e-custom","",{},{id:this._id+"_toolbar_customexport_"+s}),$spanTag.append(t),$($divouter).addClass(this.model.exportSettings.customItems[s].cssClass),$divouter.append($spanTag),e.append($divouter),$($divouter).insertBefore(e[0].childNodes[this.model.exportSettings.customItems[s].index])},_renderPageFitPopup:function(){var e=ej.buildTag("div.e-js e-reportviewer-tbdiv e-reportviewer-icon e-reportviewer-fittopagetip","",{display:"none"},{id:this._id+"_toolbar_fittoPagePopup"});return this._appendToolbarItems(e,"fittopagewidth"),this._appendToolbarItems(e,"fittowholepage"),e},_renderFitopagePopup:function(){var e=$("#"+this._id+"_pageviewOuterline"),t=$("#"+this._id+"_viewerContainer"),i=$("#"+this._id+"_toolbar_li_fittopagewidth"),s=$("#"+this._id+"_toolbar_li_fittowholepage"),a=t.width(),o=t.height(),r=e[0].clientWidth;o>e[0].clientHeight&&"false"==s.attr("isSelect")?s.css("opacity","0.4"):s.css("opacity","1"),a>r&&"false"==i.attr("isSelect")?i.css("opacity","0.4"):i.css("opacity","1")},_showPrintPageSetupButton:function(e){e?$("#"+this._id+"_toolbar_li_pagesetup").css("display","block"):$("#"+this._id+"_toolbar_li_pagesetup").css("display","none")},_renderPrintPageSetup:function(){var e,t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],k=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{display:"table",width:"100%"},{id:this._id+"_printPageSetup"}),P=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_paperSetup"}),j=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),D=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect(),A=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),O=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),I=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),R=ej.buildTag("td.e-reportviewer-pagesetupheader","",{"padding-top":"0px"},{colspan:"8"}),M=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{},{colspan:"12"});P.append(j),j.append(A),j.append(O),j.append(I),A.append(R),O.append(M),k.append(P);var E=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),V=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),N=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{});j.append(E),j.append(V),j.append(N),e=ej.buildTag("td.e-reportviewer-pagesetupheader","",{},{colspan:"8"}),E.append(e);var F=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),B=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),z=ej.buildTag("td.e-reportviewer-pagesetupheader","",{},{colspan:"8"});F.append(z),j.append(F),j.append(B),k.ejDialog({width:400,position:{X:D.left+D.width/3+20,Y:D.top+50},enableModal:!1,title:L.toolbar.pagesetup?L.toolbar.pagesetup.headerText:L.toolbar.pageSetup,enableResize:!1,enablePersistance:!1,enableModal:!0,showFooter:!0,cssClass:"e-js e-rptviewer-dialog",close:$.proxy(this._pageSettingClose,this)}),t=ej.buildTag("div","",{"font-weight":"bold",width:"100%"},{id:this._id+"_paperSizeLabel"}),i=ej.buildTag("div.e-reportviewer-ejdropdownlist","",{width:"100%","margin-left":"-2px"},{}),t.append(L.pagesetupDialog.paperSize),R.append(t),(s=ej.buildTag("select.e-rptviewer-pagesetup","",{},{id:this._id+"_PaperSize"})).append('<option value="A3">A3</option>'),s.append('<option value="A4">A4</option>'),s.append('<option value="B4(JIS)">B4(JIS)</option>'),s.append('<option value="B5(JIS)">B5(JIS)</option>'),s.append('<option value="Envelope #10">Envelope #10</option>'),s.append('<option value="Envelope Monarch">Envelope Monarch</option>'),s.append('<option value="Executive">Executive</option>'),s.append('<option value="Legal">Legal</option>'),s.append('<option value="Letter">Letter</option>'),s.append('<option value="Tabloid">Tabloid</option>'),s.append('<option value="Custom">Custom</option>'),i.append(s),s.ejDropDownList({cssClass:"e-rptviewer-drpdown",height:"32px",width:"100%",selectedIndex:10,watermarkText:L.waterMark.selectOption,enableAnimation:!0,change:$.proxy(this._setUpChange,this),enableIncrementalSearch:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")}}),M.append(i);var Y=ej.buildTag("span","",{},{id:this._id+"_widthLabel"}),X=ej.buildTag("div","",{},{}),H=ej.buildTag("span","",{},{id:this._id+"_heightLabel"}),W=ej.buildTag("div","",{},{}),U=ej.buildTag("span","",{},{id:this._id+"_heightUnitLabel"}),G=ej.buildTag("span","",{},{id:this._id+"_widthUnitLabel"}),q=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperHeight"}),Z=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperWidth"});W.append(q),X.append(Z),H.append(L.pagesetupDialog.height+"&nbsp;"),U.append(L.pagesetupDialog.unit+"&nbsp;"),Y.append(L.pagesetupDialog.width+"&nbsp;"),G.append(L.pagesetupDialog.unit+"&nbsp;"),I.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(a=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(H),I.append(a),(o=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(W),I.append(o),(r=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(U),I.append(r),I.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(n=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(Y),I.append(n),(l=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(X),I.append(l),(d=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(G),I.append(d),q.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,enableStrictMode:!0,width:"80px",minValue:1,enable:!1,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")+" "+this._getLocaleString("pagesetupDialog","height")}}),Z.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,enableStrictMode:!0,width:"80px",minValue:1,enable:!1,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")+" "+this._getLocaleString("pagesetupDialog","width")}});var Q=ej.buildTag("div","",{"font-weight":"bold"},{id:this._id+"_marginheader"}),K=ej.buildTag("span","",{},{id:this._id+"_topLabel"}),J=ej.buildTag("div","",{},{}),ee=ej.buildTag("span","",{},{id:this._id+"_topUnitLabel"}),te=ej.buildTag("span","",{},{id:this._id+"_rightLabel"}),ie=ej.buildTag("div","",{},{}),se=ej.buildTag("span","",{},{id:this._id+"_rightUnitLabel"}),ae=ej.buildTag("div","",{},{id:this._id+"_bottomLabel"}),oe=ej.buildTag("div","",{},{}),re=ej.buildTag("span","",{},{id:this._id+"_bottomUnitLabel"}),ne=ej.buildTag("span","",{},{id:this._id+"_leftLabel"}),le=ej.buildTag("div","",{},{}),de=ej.buildTag("span","",{},{id:this._id+"_leftUnitLabel"});Q.append(L.pagesetupDialog.margins),e.append(Q);var he=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginTop"}),ce=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginRight"}),ue=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginBottom"}),pe=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperMarginLeft"});K.append(L.pagesetupDialog.top+"&nbsp;"),ee.append(L.pagesetupDialog.unit+"&nbsp;"),J.append(he),te.append(L.pagesetupDialog.right+"&nbsp;"),se.append(L.pagesetupDialog.unit+"&nbsp;"),ie.append(ce),ae.append(L.pagesetupDialog.bottom+"&nbsp;"),re.append(L.pagesetupDialog.unit+"&nbsp;"),oe.append(ue),ne.append(L.pagesetupDialog.left+"&nbsp;"),de.append(L.pagesetupDialog.unit+"&nbsp;"),le.append(pe),V.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(h=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(K),V.append(h),(c=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(J),V.append(c),(u=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"50px"})).append(ee),V.append(u),V.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(p=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(te),V.append(p),(m=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(ie),V.append(m),(g=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(se),V.append(g),N.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(_=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(ae),N.append(_),(f=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(oe),N.append(f),(b=ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"10px"})).append(re),N.append(b),N.append(ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"3px"})),(v=ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"15px"})).append(ne),N.append(v),(x=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(le),N.append(x),(y=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"10px"})).append(de),N.append(y),w=this._getLocaleString("pagesetupDialog","margins"),he.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":w+" "+this._getLocaleString("pagesetupDialog","top")}}),ce.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":w+" "+this._getLocaleString("pagesetupDialog","right")}}),ue.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":w+" "+this._getLocaleString("pagesetupDialog","bottom")}}),pe.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":w+" "+this._getLocaleString("pagesetupDialog","left")}}),(S=ej.buildTag("div","",{"font-weight":"bold"},{id:this._id+"_orientationLabel"})).append(L.pagesetupDialog.orientation),z.append(S);var me=ej.buildTag("div","",{float:"left"},{}),ge=ej.buildTag("div","",{float:"left"},{}),_e=ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_portraitLabel"}),fe=ej.buildTag("input","",{},{type:"radio",id:this._id+"_portrait",value:"Portrait"});ge.append(fe),_e.append("&nbsp;"+L.pagesetupDialog.portrait),me.append(ge),me.append(_e),fe.ejRadioButton({name:"orientation",checked:!0,size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","portrait")}});var be=ej.buildTag("div","",{float:"left"},{}),ve=ej.buildTag("div","",{float:"left"},{}),xe=ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_landscapeLabel"}),ye=ej.buildTag("input","",{},{type:"radio",id:this._id+"_landscape",value:"Landscape"});ve.append(ye),xe.append("&nbsp;"+L.pagesetupDialog.landscape),be.append(ve),be.append(xe),B.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(C=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"3"})).append(me),B.append(C),B.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(T=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"3"})).append(be),B.append(T),ye.ejRadioButton({name:"orientation",size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","landscape")}});var we=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right"},{type:"button",value:this._getLocaleString("pagesetupDialog","doneButton"),id:this._id+"_Submit"}),Se=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right","margin-left":"10px"},{type:"button",value:this._getLocaleString("pagesetupDialog","cancelButton"),id:this._id+"_Cancel"}),Ce=$("#"+this._id+"_printPageSetup_foot");$("#"+this._id+"_printPageSetup_closebutton").attr("title",L.pagesetupDialog.close),Ce.append(Se).append(we),we.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._pageSetupSubmit,this),cssClass:"e-rptviewer-okbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("pagesetupDialog","doneButton")}}),Se.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._pageSetupCancel,this),cssClass:"e-rptviewer-cancelbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("pagesetupDialog","cancelButton")}}),"msie"==this._browserInfo.name?$("#"+this._id+"_PaperSize_input").css("margin-top","-2px"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name)&&$("#"+this._id+"_PaperSize_input").css("padding-bottom","3px")},_renderViewerBlockinDevice:function(e){var t=ej.buildTag("div.e-reportviewer-viewer e-reportviewer-viewerblock e-reportviewer-blockstyle","",{},{id:this._id+"_viewBlockContainer"});this._appendChild(e,t[0]);var i=ej.buildTag("div.e-reportviewer-viewerblockcellcontent","",{margin:"1px",padding:"1px",width:"99%",height:"99%",display:"inline-table"},{id:this._id+"_viewerBlockCellContent"}),s=ej.buildTag("div.e-reportviewer-viewerblockcontent","",{width:"100%",height:"auto"}),a=ej.buildTag("div.e-reportviewer-viewreport","",{width:"100%",height:"30px","border-left":"0px",padding:"10px 0"}),o=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn e-rptviewer-viewreport-btn","",{},{type:"button",value:ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale].viewButton:ej.ReportViewer.Locale["en-US"].viewButton,id:this._id+"_viewReportClick","data-role":"none"});return a.append(o),i.append(s),i.append(a),o.ejButton({showRoundedCorner:!0,type:"Button"}),t.append(i),t},_renderViewerBlockinWeb:function(e){var t,i,s=ej.buildTag("div.e-reportviewer-viewer e-reportviewer-viewerblock","",{},{id:this._id+"_viewBlockContainer"});e.append(s);var a=ej.buildTag("table.e-reportviewer-viewerblockcellcontent e-reportviewer-blockcontainer","",{padding:"5px","border-collapse":"collapse"},{id:this._id+"_viewerBlockCellContent"}),o=ej.buildTag("tr","",{width:"100%"}),r=ej.buildTag("td.e-reportviewer-viewerblockcontent","",{padding:"0px"},{id:this._id+"_viewerBlockContent"}),n=ej.buildTag("div.e-reportviewer-viewerblock-parentdiv","",{width:"100%"},{id:this._id+"_viewer_paramblock"}),l=ej.buildTag("div","",{}),d=ej.buildTag("div.e-reportviewer-viewerblock-childdiv","",{},{});return n.append(l),l.append(d),t=ej.buildTag("td.e-reportviewer-viewreport","",{"vertical-align":"middle"},{id:this._id+"_viewReportBlock"}),i=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn e-rptviewer-viewreport-btn","",{},{type:"button",value:this._getLocaleString("viewButton"),id:this._id+"_viewReportClick","data-role":"none","aria-label":this._getLocaleString("viewButton")}),t.append(i),r.append(n),o.append(r),o.append(t),a.append(o),i.ejButton({height:32,cssClass:"e-accent",showRoundedCorner:!0,type:"Button"}),n.ejScroller({scrollerSize:9,enableTouchScroll:!0,buttonSize:0,height:"auto",width:"auto"}),s.append(a),s},_renderViewerContainer:function(e){var t,i,s,a,o,r,n,l,d,h,c,u=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_reportviewerContainer"});e.append(u),t=this._buildTag("div","e-reportviewer-viewer e-reportviewer-scrollcontainer e-reportviewer-viewercontainer",null,{id:this._id+"_viewerContainer"}),this._setTagStyle(t,{height:"100%",width:"100%","font-size":"8pt"}),i=this._buildTag("div",null,null,{id:this._id+"_loadingIndicator"}),this._setTagStyle(i,{margin:"0px",height:"99.8%",width:"100%"}),s=this._buildTag("div",null,null,{id:this._id+"_loadingLabel"},{role:"alert"}),this._setTagStyle(s,{display:"none",padding:"2px","background-color":"#ffff99",float:"right",position:"relative","z-index":"1001"}),a=this._buildTag("span",null,null,{id:this._id+"_spanLoadingLable"}),this._setTagStyle(a,{display:"block","font-size":"12.5px","font-family":"Arial"});var p=this._buildTag("div","e-reportviewer-pageviewcontainer",null,{id:this._id+"_pageviewOuterContainer"}),m=this._buildTag("div",null,null,{id:this._id+"_errorMsgContainer"});this._setTagStyle(m,{"text-align":"center",padding:"4px",display:"none"}),o=this._buildTag("span",null,null,{id:this._id+"_errorMsgSpan"}),this._setTagStyle(o,{display:"block","font-size":"15px","font-family":"Arial"}),r=this._buildTag("div","e-reportviewer-pageouterline",null,{id:this._id+"_pageviewOuterline"}),(n=this._buildTag("div","e-reportviewer-pageview",null,{id:this._id+"_pageviewContainer"})).style.backgroundColor="#FFFFFF";var g=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewheaderContainer"}),_={position:"relative","background-color":"transparent"},f=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyContainer"});this._setTagStyle(f,{position:"relative","background-color":"transparent",overflow:"hidden"});var b=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewfooterContainer"}),v={position:"relative","background-color":"transparent"},x=this._buildTag("div","pageHeaderBorder e-reportviewer-box-border",null,null);return this._setTagStyle(x,{position:"relative","background-color":"#FFFFFF"}),l=this._buildTag("div","pageBodyBorder e-reportviewer-box-border",null,null),this._setTagStyle(l,{position:"relative","background-color":"#FFFFFF","background-position":"center center","background-repeat":"no-repeat"}),d=this._buildTag("div","pageFooterBorder e-reportviewer-box-border",null,null),this._setTagStyle(d,{position:"relative","background-color":"#FFFFFF"}),h=ej.buildTag("div.e-reportviewer-alertIcon","",{float:"right",height:"40px",width:"50px",margin:"-55px 10px -35px -117px",position:"relative",cursor:"pointer",display:"none"},{id:this._id+"_AlertIcon"}),this.element.append(h),this._printMode&&(_.overflow="hidden",v.overflow="hidden"),this._setTagStyle(g,_),this._setTagStyle(b,v),this._appendChild(x,g),this._appendChild(l,f),this._appendChild(d,b),this._appendChild(n,x),this._appendChild(n,l),this._appendChild(n,d),this._appendChild(s,a),this._appendChild(t,s),this._appendChild(t,i),this._appendChild(r,n),this._appendChild(p,r),this._appendChild(m,o),this._appendChild(t,m),this._appendChild(t,p),this._isDevice?this._renderViewerBlockinDevice(t):(c=this._buildTag("div","e-reportviewer-documentmapcontainer",null,{id:this._id+"_documentmapContainer"}),this._appendChild(u,c)),this._appendChild(u,t),$("#"+i.id).ejWaitingPopup({showOnInit:!1,text:this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop?'<a href="javascript:;" id = "'+this._id+'_loadingindicator_cancel">'+this._getLocaleString("progressMessage","cancelText")+"</a>":"",appendTo:"#"+this._id+"_loadingIndicator",target:"#"+this._id+"_loadingIndicator",cssClass:"e-designer-loader",template:this.model.waitingPopupTemplate}),this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop&&this._on($("#"+this._id+"_loadingindicator_cancel"),"click",(function(){this.cancelRendering(),this._showNavigationIndicator(!1)})),$("#"+t.id).ejWaitingPopup({showOnInit:!1,appendTo:"#"+this._id+"_viewerContainer",target:"#"+this._id+"_viewerContainer",cssClass:"e-designer-loader",htmlAttributes:{role:"alert"},template:this.model.waitingPopupTemplate}),u},_renderViewer:function(){var e,t,i=this.element.height(),s=this.element.width(),a=ej.buildTag("div.e-reportviewer-viewer","",{});this.element[0].style.height||0==this.element[0].parentElement.clientHeight||(this._isHeight=!0),this.element[0].style.width||0==this.element[0].parentElement.clientWidth||(this._isWidth=!0),0===i&&0!=this.element[0].parentElement.clientHeight?this.element.height(this.element[0].parentElement.clientHeight):"msie"==this._browserInfo.name&&8==this._browserInfo.version&&-1!=this.element[0].style.height.indexOf("%")&&(e=parseInt(this.element[0].style.height),this.element.height(this.element[0].parentElement.clientHeight/100*e)),0===s&&0!=this.element[0].parentElement.clientWidth?this.element.width(this.element[0].parentElement.clientWidth):"msie"==this._browserInfo.name&&8==this._browserInfo.version&&-1!=this.element[0].style.width.indexOf("%")&&(t=parseInt(this.element[0].style.width),this.element.width(this.element[0].parentElement.clientWidth/100*t)),this.element.append(a),this._isDevice=this.model.renderMode&ej.ReportViewer.RenderMode.Mobile&&this.model.renderMode&ej.ReportViewer.RenderMode.Desktop?this._isMobileDevice():!!(this.model.renderMode&ej.ReportViewer.RenderMode.Mobile),this._renderToolBar(a),this._isDevice||(this._renderViewerBlockinWeb(a),$(".e-reportviewer-toolbarli").ejTooltip({isBalloon:!1,associate:"target",position:{target:{horizontal:"center",vertical:"bottom"},stem:{horizontal:"left",vertical:"top"}},beforeOpen:$.proxy(this._beforeTooltipPopup,this)})),this._renderViewerContainer(a)},_refreshScroller:function(){var e=$("#"+this._id+"_viewer_paramblock").data("ejScroller");e&&(this._setScrollerWidth(this._getItemWidth($("#"+this._id+"_viewerBlockCellContent"))),e.refresh(),this._setParameterBottomBorder())},_setScrollerHeight:function(e){var t=$("#"+this._id+"_viewer_paramblock").data("ejScroller");t&&t.setModel({height:e})},_setScrollerWidth:function(e){var t,i,s=$("#"+this._id+"_viewer_paramblock").data("ejScroller");s&&(t=$("#"+this._id+"_viewReportBlock"),i=this._getItemWidth(t)+parseFloat(t.css("padding-left"))+parseFloat(t.css("padding-right")),s.setModel({width:e-i}))},_getItemWidth:function(e){return e.width()+parseFloat(e.css("border-left-width"))+parseFloat(e.css("border-right-width"))},_renderCredentialBlock:function(e){var t,i,s,a,o,r,n,l=ej.buildTag("table","",{},{id:this._id+"_credential_block_table"});for(l.append('<tr height="4px"></tr>'),t=0;t<e.length;t++){var d=e[t],h=ej.buildTag("tr","",{},{}),c=ej.buildTag("td","",{},{colspan:this._isDevice?"1":"5"}),u=ej.buildTag("span.e-reportviewer-header",this._isDevice?"Specify the Credential for "+d.Name+":":d.Prompt,{});c.html(u),h.append(c),this._isDevice?(l.append(h),l.append('<tr height="4px"></tr>'),s=ej.buildTag("tr","",{},{}),this._appendCredentialItems(s,"namelbl",d),a=ej.buildTag("tr","",{},{}),this._appendCredentialItems(a,"nametxt",d),o=ej.buildTag("tr","",{},{}),this._appendCredentialItems(o,"passwdlbl",d),r=ej.buildTag("tr","",{},{}),this._appendCredentialItems(r,"passwdtxt",d),l.append(s),l.append(a),l.append(o),l.append(r),l.append('<tr height="6px"></tr>')):(i=ej.buildTag("tr","",{},{}),this._appendCredentialItems(i,"namelbl",d),this._appendCredentialItems(i,"nametxt",d),i.append(ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{width:"7px"},{})),this._appendCredentialItems(i,"passwdlbl",d),this._appendCredentialItems(i,"passwdtxt",d),l.append(h),l.append('<tr height="6px"></tr>'),l.append(i),l.append('<tr height="10px"></tr>'))}this._wiredViewClickEvent(e),n=this._isDevice?".e-reportviewer-viewerblockcontent":".e-reportviewer-viewerblock-childdiv",$("#"+this._id+"_viewBlockContainer").find(n).html(l)},_wiredViewClickEvent:function(e){this._on($("#"+this._id+"_viewReportClick"),"click",{ds:e},this._viewReportCredentialClick)},_unwiredViewClickEvent:function(){this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportCredentialClick)},_appendCredentialItems:function(e,t,i){var s,a,o,r,n=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];switch(t){case"namelbl":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),a=ej.buildTag("span.e-reportviewer-content",n.credential.userName+"&nbsp;",{},{id:i.ControlId+"_username_label"}),s.append(a);break;case"nametxt":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),o=ej.buildTag("input.e-textbox e-reportviewer-textbox","",{},{type:"text",autocomplete:"off",id:i.ControlId+"_loginName","aria-label":this._getLocaleString("credential","userName")}),s.append(o);break;case"passwdlbl":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),a=ej.buildTag("span.e-reportviewer-content",n.credential.password+"&nbsp;",{},{id:i.ControlId+"_password_label"}),s.append(a);break;case"passwdtxt":s=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),r=ej.buildTag("input.e-textbox e-reportviewer-textbox","",{},{type:"password",autocomplete:"off",id:i.ControlId+"_password","aria-label":this._getLocaleString("credential","password")}),s.append(r)}e.append(s)},_viewReportCredentialClick:function(e){for(var t=e.data.ds,i=[],s=0;s<t.length;s++){var a=t[s],o=$("#"+a.ControlId+"_loginName").val(),r=$("#"+a.ControlId+"_password").val();i.push({Name:a.Name,UserName:o,Password:r})}this._dataSources=i,this._ajaxCallMethod(this._reportAction.validateDSCredential,"_validateDSCredential",!1)},_renderParameterBlock:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I=e.parameters;if(this._reportParametersModel=I,t=e.parametersLayout,null!=(i=e.parameterCustomProperties)&&i.length>0)for(s=0;s<i.length;s++)switch(a=i[s].Name.toLowerCase(),o=i[s].Value,a){case"popupheight":this.model.parameterSettings.popupHeight=o;break;case"popupwidth":this.model.parameterSettings.popupWidth=o;break;case"mindatetime":this.model.parameterSettings.minDateTime=o;break;case"maxdatetime":this.model.parameterSettings.maxDateTime=o;break;case"timedisplayformat":this.model.parameterSettings.timeDisplayFormat=o;break;case"datetimeformat":this.model.parameterSettings.dateTimeFormat=o;break;case"datetimepickertype":"datetime"===o.toLowerCase()&&(this.model.parameterSettings.dateTimePickerType=ej.ReportViewer.DateTimePickerType.DateTime);break;case"timeinterval":this.model.parameterSettings.timeInterval=parseInt(o);break;case"enablefiltersearch":this.model.enableDropDownSearch="true"===o.toLowerCase();break;case"hideparameterblock":this.model.parameterSettings.hideParameterBlock="true"===o.toLowerCase()}if(null!=I&&I.length>0){var R=this._isDevice?".e-reportviewer-viewerblockcontent":".e-reportviewer-viewerblock-childdiv",M=$("#"+this._id+"_viewBlockContainer").find(R),E=this._onRenderBeginAction({reportParameters:$.extend(!0,[],I),parameterBlock:$("#"+this._id+"_viewBlockContainer")});if(!E){if(r=this._buildTag("table",null,null,{id:this._id+"_param_block_table"},{title:this._getLocaleString("parameterBlock")}),n=this._buildTag("tbody",null,null,null),r.setAttribute("data-isViewClick",!1),this._appendChild(r,n),M.html(r),h=[],c=[],t){for(m=0;m<I.length;m++)(C=t.GridLayoutDefinition.CellDefinitions.filter((function(e){return e.ParameterName==I[m].Name})))&&0==I[m].Hidden&&(h.push(C[0].RowIndex),c.push(C[0].ColumnIndex));for(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),l=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(l,d),this._appendChild(n,l),g=0,_=0;_<t.GridLayoutDefinition.NumberOfRows;_++)if(-1!=jQuery.inArray(_,h))for(0!=_&&0!=g&&(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),(l=this._buildTag("tr",null,null,null)).style.height="10px",this._appendChild(l,d),this._appendChild(n,l)),g++,(l=this._buildTag("tr",null,null,null)).style.minHeight="20px",this._appendChild(n,l),f=0;f<t.GridLayoutDefinition.NumberOfColumns;f++)-1!=jQuery.inArray(f,c)&&(b=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),v=t.GridLayoutDefinition.CellDefinitions.filter((function(e){return e.ColumnIndex==f&&e.RowIndex==_})),this._appendChild(l,b),v.length>0?(x=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),L=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._appendChild(l,x),this._appendChild(l,L),(C=I.filter((function(e){return e.Name==v[0].ParameterName}))).length>0&&(p=this._getParamColSize(C[0],"label"),u=this._getParamColSize(C[0],"item"),this._setTagStyle(L,{"min-width":"130px","max-width":u,"padding-right":"auto"!=p?"20px":"5px"}),j=this._getTextWidth(C[0].Prompt?C[0].Prompt:C[0].Name,"segoe ui 14.5px")>parseFloat(p)?"e-reportviewer-txt-overflow":"",(D=this._buildTag("div",null,null,"e-reportviewer-txt-overflow"===j?{title:C[0].Prompt?C[0].Prompt:C[0].Name}:null)).className+=j,D.style.width=p,(A=this._buildTag("span","e-reportviewer-content",null,null)).innerText=C[0].Prompt?C[0].Prompt:C[0].Name+"&nbsp;&nbsp;",this._setTagStyle(A,"auto"==D.style.width?{cursor:"default","padding-right":"5px"}:{cursor:"default"}),this._appendChild(D,A),this._appendChild(x,D),T=this._buildTag("div",null,null,{id:C[0].ControlId+"_div"}),(O={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(T,O),this._appendChild(L,T),this._renderParameterElements(C[0],T))):((y=this._buildTag("td",null,null,null)).style.minWidth="30px",this._appendChild(l,y),(w=this._buildTag("td",null,null,null)).style.minWidth="130px",this._appendChild(l,w)))}else for(S=0;S<I.length;S++)u=this._getParamColSize(C=I[S],"item"),this._isDevice?(r.style.width="100%",d=this._buildTag("td",null,null,null),l=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(l,d),this._appendChild(n,l),l=this._buildTag("tr",null,null,null),this._appendChild(n,l),L=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),A=this._buildTag("span","e-reportviewer-content",C.Prompt+"&nbsp;&nbsp;",null),this._appendChild(L,A),this._appendChild(l,L),l=this._buildTag("tr",null,null,null),this._appendChild(n,l),k=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._setTagStyle(k,{"min-width":"130px","max-width":u}),this._appendChild(l,k),T=this._buildTag("div",null,null,{id:C.ControlId+"_div"}),(O={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(T,O),this._appendChild(k,T)):(S%2==0?(0!=S?(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),(l=this._buildTag("tr",null,null,null)).style.height="10px",this._appendChild(l,d),this._appendChild(n,l)):(d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),l=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(l,d),this._appendChild(n,l)),l=this._buildTag("tr",null,null,null),this._appendChild(n,l)):(P=this._buildTag("td",null,null,null),this._appendChild(l,P)),L=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),p=this._getParamColSize(C,"label"),j=this._getTextWidth(C.Prompt?C.Prompt:C.Name,"segoe ui 14.5px")>parseFloat(p)?"e-reportviewer-txt-overflow":"",(D=this._buildTag("div",null,null,"e-reportviewer-txt-overflow"===j?{title:C.Prompt?C.Prompt:C.Name}:null)).className+=j,D.style.width=p,(A=this._buildTag("span","e-reportviewer-content",null,null)).innerText=C.Prompt?C.Prompt:C.Name+"&nbsp;&nbsp;",this._setTagStyle(A,{cursor:"default"}),this._appendChild(D,A),this._appendChild(L,D),this._appendChild(l,L),k=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._setTagStyle(k,{"min-width":"130px","max-width":u,"padding-right":"20px"}),this._appendChild(l,k),T=this._buildTag("div",null,null,{id:C.ControlId+"_div"}),(O={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(T,O),this._appendChild(k,T)),this._renderParameterElements(C,T);d=this._buildTag("td",null,null,{colSpan:I.length>1?"5":"2"}),this._isDevice&&d.removeAttribute("colSpan"),l=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(l,d),this._appendChild(n,l)}}else this._showParameterBlock(!1);return this._on($("#"+this._id+"_viewReportClick"),"click",{params:this._reportParametersModel},this._viewReportParamsClick),E},_getScrollerHeight:function(e,t){for(var i=0,s=0;s<t;s++)i+=$("#"+e+" tr:eq("+s+")").height();return i},_getTextWidth:function(e,t){var i,s=$("<span>").hide().appendTo(document.body);return s.text(e).css("font",t),i=s.width(),s.remove(),i},_getParamColSize:function(e,t){var i;return"label"===t?(i="auto"===this.model.parameterSettings.labelWidth||Number(this.model.parameterSettings.labelWidth)>110?this.model.parameterSettings.labelWidth:"110px",e.CustomProperties&&e.CustomProperties.LabelWidth&&(i=e.CustomProperties.LabelWidth)):"item"===t&&(i="auto"===this.model.parameterSettings.itemWidth||parseFloat(this.model.parameterSettings.itemWidth)>185?this.model.parameterSettings.itemWidth:"185px",e.CustomProperties&&e.CustomProperties.ItemWidth&&(i=e.CustomProperties.ItemWidth)),isNaN(i)?i:Number(i)},_renderParameterElements:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M=$.extend(!0,{},this.model.parameterSettings),E={parameterModel:e,containerId:e.ControlId+"_div",handled:!1,parameterSettings:M,customProperties:null};if(null!=e.CustomProperties&&e.CustomProperties!=undefined&&(E.customProperties=e.CustomProperties,null!=E.customProperties))for(i in E.customProperties)i&&("datetimepickertype"==i.toLowerCase()||"datetimeuitype"==i.toLowerCase()?M.dateTimePickerType=E.customProperties[i]:"popupheight"==i.toLowerCase()?M.popupHeight=E.customProperties[i]:"popupwidth"==i.toLowerCase()?M.popupWidth=E.customProperties[i]:"itemwidth"==i.toLowerCase()&&(M.itemWidth=E.customProperties[i]));if(this._onBeforeParameterAdd(E),E.handled)(R={labels:[],values:[],nullable:!1}).name=e.Name,R.nullable=e.IsNullable,e.Labels&&e.Labels.length>0?R.labels=e.Labels:e.Label&&R.labels.push(e.Label),e.Values&&e.Values.length>0?R.values=e.Values:e.Value&&R.values.push(e.Value),this._updateCustomParametersModel(R);else if(r=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],n="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,"MultiValue"==e.ParameterElementType){if(h=[],$("#"+e.ControlId+"_popup_wrapper").length>0&&$("#"+e.ControlId+"_popup_wrapper").remove(),c=this._buildTag("select","e-rptviewer-multivalue",null,{id:e.ControlId,name:e.Name}),this._setAttributes(c,M.attributes),c.setAttribute("data-sf-name",e.Name),this._appendChild(t,c),d="auto"===M.itemWidth||parseFloat(M.itemWidth)<185?"185px":M.itemWidth,e.AvailableLabels){if(u=this._buildTag("input",null,null,{id:e.ControlId+"_check",type:"checkbox"}),p=this._buildTag("div",null,null,null),this._setTagStyle(p,{"border-bottom":"1px solid #c8c8c8"}),this._appendChild(p,u),m=$.extend(e.DefaultValuesfields,!0),e.Values&&e.Values.length>0&&(m=e.Values),null!=e.AvailableLabels){if(e.IsNullable){if(e.IsNullable)for(f=0;f<e.AvailableLabels.length;f++)null!=e.AvailableValues&&null!=e.AvailableValues[f]&&null!=e.AvailableLabels[f]&&((o=document.createElement("option")).value=e.AvailableValues[f],o.text=e.AvailableLabels[f],-1!=jQuery.inArray(e.AvailableValues[f],m)&&h.push(f),c.add(o))}else for(f=0;f<e.AvailableLabels.length;f++)null!=e.AvailableValues&&((o=document.createElement("option")).value=e.AvailableValues[f],o.text=e.AvailableLabels[f],-1!=jQuery.inArray(e.AvailableValues[f],m)&&h.push(f),c.add(o));e.AvailableLabels.length==m.length&&(l=!0)}$("#"+c.id).ejDropDownList({cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:d,showCheckbox:!0,selectedIndices:h,watermarkText:r.waterMark.selectOption,delimiterChar:M.delimiterChar,beforePopupShown:e.IsDependent?this._beforePopupOpen:"",change:e.IsDependent?this._paramsChangeEvent:"",isInteraction:!0,popupHide:e.IsDependent?this._paramsChangeEvent:"",enableFilterSearch:this.model.enableDropDownSearch,enableAnimation:!0,headerTemplate:p.outerHTML,checkChange:this._chkBoxSelectionChange,isSelectAllChecked:!1,height:28,popupHeight:M.popupHeight,popupWidth:M.popupWidth,htmlAttributes:{"aria-label":e.Prompt}}),$("#"+e.ControlId+"_check").ejCheckBox({cssClass:"e-reportviewer-paramcheckbox",checked:l,isInteraction:!0,name:e.ControlId+"_chk_SelectAll",size:"small",text:r.selectAll,change:this._onCheckAll}),(b=$($("#"+e.ControlId+"_check")).siblings(".e-text")).addClass("e-reportviewer-paramcheckboxlabel"),this._isDevice&&($("#"+e.ControlId+"_check").data("ejCheckBox").setModel({cssClass:"e-reportviewer-device-paramcheckbox"}),b.removeClass("e-reportviewer-paramcheckboxlabel"),b.addClass("e-reportviewer-device-paramcheckbox"))}else if(e.Values){for(g=this._buildTag("input",null,null,{id:e.ControlId+"_check",type:"checkbox"}),_=this._buildTag("div",null,null,null),this._setTagStyle(_,{"border-bottom":"1px solid #c8c8c8"}),this._appendChild(_,g),this._appendChild(t,c),f=0;f<e.Values.length;f++)(o=document.createElement("option")).value=e.Values[f],o.text=e.Labels[f],h.push(f),c.add(o);e.Values.length>0&&(l=!0),$("#"+c.id).ejDropDownList({cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:d,showCheckbox:!0,selectedIndices:h,watermarkText:r.waterMark.selectOption,change:e.IsDependent?this._paramsChangeEvent:"",beforePopupShown:e.IsDependent?this._beforePopupOpen:"",popupHide:e.IsDependent?this._paramsChangeEvent:"",checkChange:this._selectionChanged,headerTemplate:_.outerHTML,enableFilterSearch:this.model.enableDropDownSearch,isSelectAllChecked:!1,height:28,popupHeight:M.popupHeight,popupWidth:M.popupWidth,htmlAttributes:{"aria-label":e.Prompt}}),$("#"+e.ControlId+"_check").ejCheckBox({cssClass:"e-reportviewer-paramcheckbox",checked:l,isInteraction:!0,name:"chk_SelectAll",size:"small",text:r.selectAll,change:this._onCheckAll}),(b=$($("#"+e.ControlId+"_check")).siblings(".e-text")).addClass("e-reportviewer-paramcheckboxlabel")}}else if("ComboBox"==e.ParameterElementType){if(v=this._buildTag("select","e-rptviewer-comboBox",null,{id:e.ControlId,name:e.Name,"data-data":"select"}),this._setAttributes(v,M.attributes),v.setAttribute("data-sf-name",e.Name),x=9999,y=!1,this._appendChild(t,v),null!=e.AvailableLabels)for(f=0;f<e.AvailableLabels.length;f++)"Select a value"!=e.AvailableLabels[f]?null!=e.AvailableValues&&((o=document.createElement("option")).value=e.AvailableValues[f],o.text=e.AvailableLabels[f],e.AvailableValues[f]==e.Value&&(x=f),v.add(o)):"Select a value"==e.AvailableLabels[f]&&(y=!0);y&&(x-=1),w={cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:d="auto"===M.itemWidth||parseFloat(M.itemWidth)<185?"185px":M.itemWidth,watermarkText:r.waterMark.selectValue,beforePopupShown:e.IsDependent?this._beforePopupOpen:"",change:e.IsDependent?this._paramsChangeEvent:"",popupHide:e.IsDependent?this._paramsChangeEvent:"",enableIncrementalSearch:!0,enableFilterSearch:this.model.enableDropDownSearch,enableAnimation:!0,height:28,popupHeight:M.popupHeight,popupWidth:M.popupWidth,htmlAttributes:{"aria-label":e.Prompt}},9999!=x&&(w.selectedIndex=x),$("#"+v.id).ejDropDownList(w),"auto"==M.itemWidth&&(S=$("#"+e.ControlId+"_popup_list_wrapper").width()+$(t).find("#"+e.ControlId+"_dropdown").width())>185&&(t.parent().css("max-width",S),v.data("ejDropDownList").setModel({width:S}))}else if("DateTime"==e.ParameterElementType)C=this._buildTag("input","e-reportviewer-DateTime",null,{id:e.ControlId,type:"text",maxLength:"256",name:e.Name},{"aria-label":e.Prompt}),this._appendChild(t,C),d="auto"==M.itemWidth||parseFloat(M.itemWidth)<185?e.IsNullable?"75%":"100%":e.IsNullable?parseFloat(M.itemWidth)-50+"px":M.itemWidth,"DateTime"==M.dateTimePickerType?$("#"+C.id).ejDateTimePicker({minDateTime:M.minDateTime,maxDateTime:M.maxDateTime,cssClass:n?"e-reportviewer-param-datepicker e-reportviewer-param":"e-reportviewer-param",width:d,value:e._dateTimeValue,change:e.IsDependent?this._paramsChangeEvent:"",locale:this.model.locale,dateTimeFormat:ej.isNullOrUndefined(M.dateTimeFormat)||""==M.dateTimeFormat?e.fullDateFormatString:M.dateTimeFormat,timeDisplayFormat:ej.isNullOrUndefined(M.timeDisplayFormat)||""==M.timeDisplayFormat?e.longTimeFormatString:M.timeDisplayFormat,interval:M.timeInterval,height:28}):$("#"+C.id).ejDatePicker({minDate:M.minDateTime,maxDate:M.maxDateTime,cssClass:n?"e-reportviewer-param-datepicker e-reportviewer-param":"e-reportviewer-param",width:d,value:e._dateValue,change:e.IsDependent?this._paramsChangeEvent:"",locale:this.model.locale,dateFormat:M.dateTimeFormat,height:28}),e.IsNullable&&(s=this._buildTag("span",null,null,null),this._setTagStyle(s,{"WHITE-SPACE":"nowrap"}),n||this._setTagStyle(s,{display:"block","padding-top":"3.5px"}),(I=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(t,I),a=this._buildTag("input",null,null,{id:e.ControlId+"_chk",type:"checkbox",name:"chkDateTime",value:this._id}),this._appendChild(s,a),this._appendChild(t,s),s.insertAdjacentHTML("afterend","&nbsp;<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),null!=e.Label&&e.Label.length>0?$("#"+a.id).ejCheckBox({change:this._paramNullChange}):($("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(e.ControlId,"chkDateTime",!0)));else if("RadioButton"==e.ParameterElementType){var V=this._buildTag("table",null,null,null),N=this._buildTag("tbody",null,null,null),F=this._buildTag("tr",null,null,null);this._appendChild(N,F),this._appendChild(V,N),this._appendChild(t,V),n&&this._setTagStyle(V,{float:"left"}),T=!1,null!=e.Label&&e.Label.length>0&&"true"==e.Label.toLowerCase()&&(T=!0),L=this._buildTag("td",null,null,null),k=this._buildTag("input",null,null,{id:e.ControlId+"_01",type:"radio",name:e.Name}),this._setAttributes(k,M.attributes),this._appendChild(L,k),this._appendChild(F,L),k.insertAdjacentHTML("afterend","&nbsp;<span>True</span>"),$("#"+k.id).ejRadioButton({checked:T,change:e.IsDependent?this._paramsChangeEvent:"",htmlAttributes:{"aria-label":e.Prompt+":True"}}),(P=this._buildTag("td",null,null,null)).style.width="10px",this._appendChild(F,P),j=this._buildTag("td",null,null,null),D=this._buildTag("input",null,null,{id:e.ControlId+"_02",type:"radio",name:e.Name}),this._setAttributes(D,M.attributes),this._appendChild(j,D),this._appendChild(F,j),D.insertAdjacentHTML("afterend","&nbsp;<span>False</span>"),null!=e.Label&&e.Label.length>0&&(T=!T),$("#"+D.id).ejRadioButton({checked:T,change:e.IsDependent?this._paramsChangeEvent:"",htmlAttributes:{"aria-label":e.Prompt+":False"}}),e.IsNullable&&(A=this._buildTag("td",null,null,null),s=this._buildTag("span",null,null,null),this._setTagStyle(s,{"WHITE-SPACE":"nowrap"}),n||this._setTagStyle(s,{display:"block","padding-top":"3.5px"}),(I=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(A,I),a=this._buildTag("input",null,null,{id:e.ControlId+"_chk",type:"checkbox",name:"chkRadio",value:this._id}),this._appendChild(A,a),this._appendChild(F,A),A.insertAdjacentHTML("afterend","<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),$("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange}),null!=e.Label&&e.Label.length>0?$("#"+a.id).ejCheckBox({change:this._paramNullChange}):($("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(e.ControlId,"chkRadio",!0)))}else O=this._buildTag("input","e-textbox e-reportviewer-textbox",null,{id:e.ControlId,type:"text",autocomplete:"off",name:e.Name,value:e.Value},{"aria-label":e.Prompt}),this._setAttributes(O,M.attributes),this._appendChild(t,O),d="auto"==M.itemWidth||parseFloat(M.itemWidth)<185?e.IsNullable?"75%":"100%":e.IsNullable?parseFloat(M.itemWidth)-50+"px":M.itemWidth,e.IsNullable?(O.style.width=d,s=this._buildTag("span",null,null,null),this._setTagStyle(s,{"WHITE-SPACE":"nowrap"}),n||this._setTagStyle(s,{display:"block","padding-top":"3.5px"}),(I=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(t,I),a=this._buildTag("input",null,null,{id:e.ControlId+"_chk",type:"checkbox",name:"chkTextbox",value:this._id}),this._appendChild(s,a),this._appendChild(t,s),s.insertAdjacentHTML("afterend","&nbsp;<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),$("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange}),null!=e.Label&&e.Label.length>0?$("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange}):($("#"+a.id).ejCheckBox({change:e.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(e.ControlId,"chkTextbox",!0))):O.style.width=d,e.IsDependent&&O.addEventListener("change",this._paramsChangeEvent)},_onCheckAll:function(e){var t=e.model.id.substring(0,e.model.id.indexOf("_check")),i=(t.substr(0,t.lastIndexOf("Param")-1),$("#"+t).ejDropDownList("instance"));i.isSelectAllChecked=i._selectedIndices.length==i.listitems.length,e.isChecked?(i.isSelectAllChecked=!0,i.checkAll()):i.isSelectAllChecked&&(i.isSelectAllChecked=!1,i.uncheckAll())},_chkBoxSelectionChange:function(e){var t=this._id.indexOf("Param")<0?e.target.id:this._id,i=(t.substr(0,t.lastIndexOf("Param")-1),$("#"+t).ejDropDownList("instance"));this._selectedIndices.length!=this.listitems.length?(i.isSelectAllChecked=!1,$("#"+t+"_check").ejCheckBox({checked:!1})):(i.isSelectAllChecked=!0,$("#"+t+"_check").ejCheckBox({checked:!0}))},_selectionChanged:function(e){var t,i=this._id.indexOf("Param")<0?e.target.id:this._id,s=i.substr(0,i.lastIndexOf("Param")-1),a=$("#"+s).data("boldReportViewer"),o=this._activeItem;if(0==this.selectedIndexValue&&this.selectedTextValue==(ej.ReportViewer.Locale[a.model.locale]?ej.ReportViewer.Locale[a.model.locale]:ej.ReportViewer.Locale["en-US"]).selectAll)if(this.checkedStatus)for(t=1;t<this.listitems.length;t++)this._setModel({selectedIndex:t});else for(t=1;t<this.listitems.length;t++)this.unselectItemsByIndices(t);else this._selectedIndices.length==this.listitems.length-1&&(this.checkedStatus?this._setModel({selectedIndex:0}):this.unselectItemsByIndices(0));this._activeItem=o},_updateParamElements:function(e){var t,i,s,a=this._onRenderBeginAction({reportParameters:$.extend(!0,{},e[0])});if(!a)for(t=0;t<e.length;t++)if(i=e[t],null!=(s=document.getElementById(i.ControlId+"_div")))if(i.IsMultiValue||null!=i.AvailableValues||"Boolean"==i.DataType){for(;s.firstChild;)s.removeChild(s.firstChild);this._renderParameterElements(i,s)}else"DateTime"==i.DataType?(this._isDateTimePicker(i.ControlId)?$("#"+i.ControlId).data("ejDateTimePicker"):$("#"+i.ControlId).data("ejDatePicker")).setModel({value:i.Label}):$("#"+i.ControlId).val(i.Label);return this._updateParametersModel(e),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null),a},_paramsChangeEvent:function(e){var t,i=this._id!=undefined?this._id:this.id,s=i.indexOf("Param")<0?e.target.id:i,a=s.substr(0,s.lastIndexOf("Param")-1),o=$("#"+a).data("boldReportViewer");o._updateParam=null,("popupHide"!=e.type||e.text==this._currentDropdownText)&&("change"!=e.type||this.popUpShow)||(o._updateParamLoadingMessage(o,"ejRadioButton"==this.pluginName?s.substr(0,s.lastIndexOf("_")):s),this._currentDropdownText=null,t=o._paramDependentUpdate(s,!1,this,e)),t!=undefined&&(o._updateParam=t,o._ajaxCallMethod(o._reportAction.updateParameters,"_updateParameters",!1))},_beforePopupOpen:function(e){this._currentDropdownText=e.text},_updateParamLoadingMessage:function(e,t){var i;$("#"+e._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable");var s=ej.ReportViewer.Locale[e.model.locale]?ej.ReportViewer.Locale[e.model.locale]:ej.ReportViewer.Locale["en-US"],a=null,o=null;if(null!=e._reportParametersModel&&e._reportParametersModel.length>0){for(i=0;i<e._reportParametersModel.length;i++)if(e._reportParametersModel[i].ControlId==t){a=e._reportParametersModel[i];break}for(i=0;i<e._reportParametersModel.length;i++)if(null!=a.RelationInfo&&null!=a.RelationInfo.ReferencedParameters&&a.RelationInfo.ReferencedParameters.length>0&&a.RelationInfo.ReferencedParameters[0]==e._reportParametersModel[i].Name){o=e._reportParametersModel[i].ControlId;break}}e._showparameterLoadingIndicator(!0,s.parameterProcessingMessage,a.Name,a.Prompt,o)},_paramDependentUpdate:function(e,t,i,s){var a,o,r,n={Name:"",Labels:[],Values:[]},l=$("#"+e);if(n.Name=l.attr("name"),t)n.Labels.push(null),n.Values.push(null);else if("ejDropDownList"==i.pluginName){if(n.Name==undefined&&(n.Name=l.attr("data-sf-name")),i.model.showCheckbox)for(a=0;a<i.model.selectedIndices.length;a++)n.Labels.push(i.selectOptionItems[i.model.selectedIndices[a]].text),n.Values.push(i.selectOptionItems[i.model.selectedIndices[a]].value);else-1!=i.model.selectedIndex&&(n.Labels.push(i.selectOptionItems[i.model.selectedIndex].text),n.Values.push(i.selectOptionItems[i.model.selectedIndex].value));if("popupHide"!=s.type&&"change"!=s.type)return}else"ejDatePicker"==i.pluginName?(o=l.data("ejDatePicker").getValue(),n.Labels.push(o),n.Values.push(o)):"ejDateTimePicker"==i.pluginName?(o=l.data("ejDateTimePicker").getValue(),n.Labels.push(o),n.Values.push(o)):"ejRadioButton"==i.pluginName?(r=l.data("ejRadioButton").model.checked,"_01"===l.attr("id").slice(-3)?(n.Labels.push(r),n.Values.push(r)):(n.Labels.push(!1),n.Values.push(!1))):(n.Labels.push(l.val()),n.Values.push(l.val()));return n},_viewReportParamsClick:function(e){var t,i,s,a,o,r;if(this._showloadingIndicator(!0),$("#"+this._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable"),this._hidePageView(),t=this._getParameterJson(e.data.params,!0)){for(a in this._reportParameters=t,this._viewReportEnableDisable(!0),this._refresh=!0,this._currentPage=1,$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcontent table:first").attr("data-isviewclick","true"),i=[],s={},t)s[t[a].name]=t[a];for(o in s)i.push(s[o]);this._onViewReportClick({parameters:i}),this._reportParameters=t=i,r=this._printMode?"_getPreviewModel":"_getPageModel",t.cancel?this._showloadingIndicator(!1):(this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:t}),r),this._isDevice&&this._toggleParameterBlock())}else this._showloadingIndicator(!1)},_viewReportEnableDisable:function(e){$("#"+this._id+"_viewReportClick").attr("disabled",e)},_getDefaultParameters:function(e){for(var t,i=[],s=[],a=e.parameters;0<a.length;a++)if(a[0].DefaultValues){for(t=0;t<a[0].DefaultValues.length;t++)s.push(a[0].DefaultValues[t]),i.push(a[0].DefaultValues[t]);this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.setParameters,parameters:[{Name:a[0].Name,Values:i,Labels:s,Nullable:a[0].IsNullable}]}),"_setParameters")}},_isDateTimePicker:function(e){return!ej.isNullOrUndefined($("#"+e).data("ejDateTimePicker"))},_getParameterJson:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],v=e.parameters?e.parameters:e;if(e.paramName!=undefined&&""!=e.paramName)return s=(i=b.alertMessage.RVERR0005).substr(i.indexOf("{"),i.indexOf("}")-3),this._showAlertDialog(i.replace(s,e.paramName),"",!0),!1;for(a=[],o=0;o<v.length;o++){var x=v[o],y=[],w=[],S=!1,C=$("#"+x.ControlId+"_div").find(".e-chkbox-wrap").attr("aria-checked");if("true"==C)S=!0;else if(0==x.Hidden)if("MultiValue"==x.ParameterElementType&&$("#"+x.ControlId).data("ejDropDownList"))if((r=(T=$("#"+x.ControlId).data("ejDropDownList"))._selectedIndices).length>0){for(n=0;n<r.length;n++)w.push(T.selectOptionItems[r[n]].text),y.push(T.selectOptionItems[r[n]].value);if(x.IsNullable)for(l=0;l<x.AvailableLabels.length;l++)null==x.AvailableLabels[l]&&(w.push(""),y.push(""),S=!0)}else{if(0!=r.length||!t||!x.IsNullable)return t&&this._showAlertDialog(b.alertMessage.RVERR0004+" '"+x.Prompt+"'.","",!0),!1;if(null!=x.AvailableLabels)for(d=0;d<x.AvailableLabels.length;d++)null==x.AvailableLabels[d]&&(S=!0);if(!S&&(0==o||v.length==o+1))return this._showAlertDialog(b.alertMessage.RVERR0004+" '"+x.Prompt+"'.","",!0),!1}else if("ComboBox"==x.ParameterElementType&&$("#"+x.ControlId).data("ejDropDownList")){var T,L=(T=$("#"+x.ControlId).data("ejDropDownList")).getSelectedValue(),k=T.getSelectedItem();if(""==L?L=x.Value:null!=x.AvailableValues&&x.AvailableValues.length>0&&x.AvailableValues[T._selectedIndices[0]]!=L&&(L=x.AvailableValues[T._selectedIndices[0]]),k=k&&""==$(k).text()?x.Label:$(k).text(),!(T._selectedIndices.length>0))return t&&this._showAlertDialog(b.alertMessage.RVERR0004+" '"+x.Prompt+"'.","",!0),!1;w.push(k),y.push(L)}else if("DateTime"==x.ParameterElementType&&$("#"+x.ControlId).data("ejDatePicker")){if(h=this._isDateTimePicker(x.ControlId)?$("#"+x.ControlId).data("ejDateTimePicker"):$("#"+x.ControlId).data("ejDatePicker")){if(c=h.getValue(),t&&null==c)return this._showAlertDialog(b.alertMessage.RVERR0010+" '"+x.Prompt+"'. "+b.alertMessage.RVERR0011,"",!0),!1;if(null==c)return!1;w.push(c),y.push(c)}}else if("RadioButton"==x.ParameterElementType&&$("#"+x.ControlId+"_01").data("ejRadioButton")&&$("#"+x.ControlId+"_02").data("ejRadioButton"))if(u=$("#"+x.ControlId+"_01").data("ejRadioButton"),p=$("#"+x.ControlId+"_02").data("ejRadioButton"),"true"==(C=$("#"+x.ControlId+"_div").find(".e-chkbox-wrap").attr("aria-checked")))S=!0;else{if(t&&!u.model.checked&&!p.model.checked)return this._showAlertDialog(b.alertMessage.RVERR0010+" '"+x.Prompt+"'. "+b.alertMessage.RVERR0011,"",!0),!1;if(u.model.checked||p.model.checked)w.push(u.model.checked),y.push(u.model.checked);else if(!u.model.checked&&!p.model.checked)return!1}else{if(m=null,this._customParameters&&this._customParameters.length>0)for(_=0;_<this._customParameters.length;_++)if((g=this._customParameters[_])&&g.name==x.Name){m=g;break}if(m){if(ej.isNullOrUndefined(m.values)||0==m.values.length)return t&&this._showAlertDialog(b.alertMessage.RVERR0004+" '"+x.Prompt+"'.","",!0),!1;for(_=0;_<m.values.length;_++){if(!this._validateParameter(t,x,f=m.values[_],b))return!1;(!ej.isNullOrUndefined(f)||x.IsNullable||x.AllowBlank&&""==f)&&(w.push(void 0!==m.labels[_]?m.labels[_]:f),y.push(f))}}else{if(f=$("#"+x.ControlId).val(),!this._validateParameter(t,x,f,b))return!1;(!ej.isNullOrUndefined(f)||x.IsNullable||x.AllowBlank&&""==f)&&(w.push(f),y.push(f))}}else"MultiValue"==x.ParameterElementType&&x.Values.length>0?(w=x.Labels,y=x.Values):(w.push(f=x.Value),y.push(f));a.push({name:x.Name,values:y,labels:w,nullable:S})}return a},_validateParameter:function(e,t,i,s){if(e){var a=s.alertMessage.RVERR0012,o=a.substr(a.indexOf("{"),a.indexOf("}")-3);if("Float"!=t.DataType||t.AllowBlank)if("Integer"!=t.DataType||t.AllowBlank){if("String"==t.DataType&&!t.AllowBlank&&(""==i||ej.isNullOrUndefined(i)))return this._showAlertDialog(s.alertMessage.RVERR0010+" '"+t.Prompt+"'. "+s.alertMessage.RVERR0011,"",!0),!1}else{if(""==i||ej.isNullOrUndefined(i))return this._showAlertDialog(s.alertMessage.RVERR0010+" '"+t.Prompt+"'. "+s.alertMessage.RVERR0011,"",!0),!1;if(!i.match("^[-+]?[0-9]+$"))return this._showAlertDialog(a.replace(o,t.Prompt),"",!0),!1}else{if(""==i||ej.isNullOrUndefined(i))return this._showAlertDialog(s.alertMessage.RVERR0010+" '"+t.Prompt+"'. "+s.alertMessage.RVERR0011,"",!0),!1;if(!i.match("^[-+]?[0-9]*.?[0-9]+$"))return this._showAlertDialog(a.replace(o,t.Prompt),"",!0),!1}}else if(!t.AllowBlank&&(""==i||ej.isNullOrUndefined(i)))return!1;return!0},_updateParametersModel:function(e){var t,i,s;if(this._reportParametersModel&&e)for(t=0;t<e.length;t++)for(i=!1,s=0;s<this._reportParametersModel.length;s++){if(this._reportParametersModel[s].Name===e[t].Name){this._reportParametersModel[s]=e[t],i=!0;break}i||this._reportParametersModel.push(e[t])}},_updateCustomParametersModel:function(e){var t,i,s;if(this._customParameters==undefined&&(this._customParameters=[]),this._customParameters&&e&&e.name){if(t=!0,this._customParameters.length>0)for(i=0;i<this._customParameters.length;i++)if((s=this._customParameters[i])&&s.name==e.name){this._customParameters[i]=e,t=!1;break}t&&this._customParameters.push(e)}},_paramNullChange:function(e){var t=e.model.id.split("~");$("#"+e.model.value).data("boldReportViewer")._paramElementDisable(t[0],e.model.name,e.isChecked)},_depentParamNullChange:function(e){var t,i=e.model.id.split("~"),s=this._id.indexOf("Param")<0?e.target.id:i[0];"_chk"===s.slice(-4)&&(s=s.slice(0,-4));var a=s.substr(0,s.lastIndexOf("Param")-1),o=$("#"+a).data("boldReportViewer");$("#"+e.model.value).data("boldReportViewer")._paramElementDisable(i[0],e.model.name,e.isChecked),o._updateParam=null,(t=o._paramDependentUpdate(s,e.isChecked,this,e))!=undefined&&0!=e.isInteraction&&(o._updateParamLoadingMessage(o,s),o._updateParam=t,o._ajaxCallMethod(o._reportAction.updateParameters,"_updateParameters",!1))},_paramElementDisable:function(e,t,i){var s,a,o;"_chk"===e.slice(-4)&&(e=e.slice(0,-4)),"chkDateTime"==t?(s=this._isDateTimePicker(e)?$("#"+e).data("ejDateTimePicker"):$("#"+e).data("ejDatePicker"),i?s.disable():s.enable()):"chkTextbox"==t?i?(document.getElementById(e).setAttribute("disabled","disabled"),document.getElementById(e).style.opacity="0.45"):(document.getElementById(e).removeAttribute("disabled"),document.getElementById(e).style.opacity="1"):"chkRadio"==t&&(a=$("#"+e+"_01").data("ejRadioButton"),o=$("#"+e+"_02").data("ejRadioButton"),i?(a.disable(),o.disable()):(a.enable(),o.enable()))},_selectparamToolItem:function(e){if(!this.model.toolbarSettings.templateId){var t=$("#"+this._id+"_toolbarContainer").data("ejToolbar");e?t.selectItemByID(this._id+"_toolbar_li_parameter"):t.deselectItemByID(this._id+"_toolbar_li_parameter")}},_showParameterBlock:function(e){e?($("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display","block"),$("#"+this._id+"_toolbar_li_parameter").css("display","block")):($("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display","none"),$("#"+this._id+"_toolbar_li_parameter").css("display","none")),this._isDevice&&(this._showViewerBlock(e),this._showViewerPage(!e))},_toggleParameterBlock:function(){if(this._isDevice){var e="none"==$("#"+this._id+"_viewBlockContainer").css("display");this._showViewerBlock(e),this._showViewerPage(!e),e||this._selectparamToolItem(e)}else this._selectparamToolItem(!("block"==$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display"))),$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").toggle();this._setContainerSize(),this._onElementsRendered({action:"ParameterToggle"})},_setParameterBlockVisibile:function(e){if(!this._isDevice){var t=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent");e?"none"==t.css("display")&&(t.toggle(),this._setContainerSize()):"block"==t.css("display")&&(t.toggle(),this._setContainerSize())}},_closeException:function(){this._showException(!1)},_errorPopupblock:function(e){var t=e.data.exceptionArgs;this._showAlertDialog(t.Message,t.Detail,!1,t.Code)},_onCancelClick:function(e){var t=$("#"+e+"_viewer_alert_dialog").data("ejDialog");$("#"+this._id+"_printPageSetup_wrapper").css("z-index",$("#"+this._id+"_printPageSetup_wrapper").css("z-index")+1),t&&t.close()},_showExceptionDetails:function(e){var t=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],i=$("#"+e+"_msg_container");i.is(":visible")?(i.css("display","none"),$("#"+e+"_alert_link_detail").text(t.alertMessage.showDetails)):($("#"+e+"_viewer_alert_dialog_wrapper").children(".e-dialog-scroller").css("height","auto"),$("#"+e+"_viewer_alert_dialog").css("height","auto"),i.css("display","block"),$("#"+e+"_alert_link_detail").text(t.alertMessage.hideDetails))},_showExceptionBlock:function(e,t){e?(this._showloadingIndicator(!e),this._showViewerBlock(e),this._on($("#"+this._id+"_viewBlockContainer_errmsg"),"click",{exceptionArgs:t},this._errorPopupblock),this._on($("#"+this._id+"_closebutton"),"click",this._closeException),$("#"+this._id+"_errorMsgContainer").css("display","block"),$("#"+this._id+"_viewerBlockCellContent").css("display","none"),$("#"+this._id+"_AlertIcon").css("display","block"),this._on($("#"+this._id+"_AlertIcon"),"click",{exceptionArgs:t},this._errorPopupblock),$("#"+this._id+"_AlertIcon").css("visibility","visible")):(this._off($("#"+this._id+"_viewBlockContainer_errmsg"),"click",this._errorPopupblock),this._off($("#"+this._id+"_closebutton"),"click",this._closeException),$("#"+this._id+"_errorMsgContainer").css("display","none"),this._off($("#"+this._id+"_AlertIcon"),"click",this._errorPopupblock),$("#"+this._id+"_AlertIcon").css("display","none")),t!=undefined&&this._showloadingIndicator(!1),this._setContainerSize()},_showException:function(e,t){if(e&&t!=undefined){if(-1!=t.content.indexOf("Sf_Exception"))var i=t.content.replace("Sf_Exception","");this._onReportError({errmsg:i})}e&&this.model.enableNotificationBar?this._isDevice?this._showAlertDialog(t.content,t.description,!1):this._showExceptionBlock(e,t):this._showExceptionBlock(!1,t)},_showAlertDialog:function(e,t,i,s){var a,o,r,n,l={errorCode:s,errorMessage:e,errorDetail:t};if(this._showparameterLoadingIndicator(!1,null),this._showPrintExportProgressIndicator(!1),this._onShowError(l),!l.cancel){e=l.errorMessage,t=l.errorDetail,s=l.errorCode,a=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],i&&($("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null)),$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect();var d=this._renderAlertDialog(s).data("ejDialog");d.setModel({height:"auto"}),$("#"+this._id+"_alert_link_detail").text(a.alertMessage.showDetails),d.open(),o=$("#"+this._id+"_alert_footer_ok"),r=$("#"+this._id+"_viewer_alert_dialog_closebutton"),$("#"+this._id+"_alert_link_div").css("display","block"),this._getTextHeight(e,{width:"430px","font-size":"13px"})>150?(-1!=e.indexOf("StackTrace:")&&(t=e.substring(0,e.indexOf("StackTrace:")),n=e.substring(e.indexOf("StackTrace:")).replace("  at","at"),e=n.replace("StackTrace: \n","")),$("#"+this._id+"_short_content").html(t),$("#"+this._id+"_detail_content").html(e)):-1!=e.indexOf("StackTrace:")?($("#"+this._id+"_short_content").html(e.substring(0,e.indexOf("StackTrace:"))),n=e.substring(e.indexOf("StackTrace:")).replace("  at","at"),$("#"+this._id+"_detail_content").html(n.replace("StackTrace: \n",""))):null!=l.errorDetail&&""!=l.errorDetail?($("#"+this._id+"_short_content").html(e),$("#"+this._id+"_detail_content").html(l.errorDetail)):($("#"+this._id+"_short_content").html(e),$("#"+this._id+"_alert_link_div").css("display","none")),null!=s&&""!=s?($("#"+this._id+"_errorcode_hyper_link").html(s),$("#"+this._id+"_error_code_div").css("display","block")):$("#"+this._id+"_error_code_div").css("display","none"),$(this.element).find(".e-dialog-scroller").css("border-bottom-style","none"),$("#"+this._id+"_msg_container").css("display","none"),$("#"+this._id+"_viewer_alert_dialog_title").css("text-align","center"),$("#"+this._id+"_printPageSetup_wrapper").css("z-index",$("#"+this._id+"_printPageSetup_wrapper").css("z-index")-1),o.unbind("click",$.proxy(this._onCancelClick,this)),r.unbind("click",$.proxy(this._onCancelClick,this)),o.bind("click",$.proxy(this._onCancelClick,this,this._id)),r.bind("click",$.proxy(this._onCancelClick,this,this._id))}},_redirectToOnlineLink:function(e){window.open("https://help.syncfusion.com/wpf/reportviewer/troubleshooting-errors/#"+e.toLowerCase())},_getTextHeight:function(e,t){var i,s=$("<span>").hide().appendTo(document.body);return s.text(e).css(t),i=s.height(),s.remove(),i},_renderAlertDialog:function(e){var t,i=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],s=$("#"+this._id+"_viewer_alert_dialog");if(s.length>0)return s;s=ej.buildTag("div","",{height:"auto"},{id:this._id+"_viewer_alert_dialog"});var a=ej.buildTag("div","",{height:"auto",display:"block"}),o=ej.buildTag("div","",{display:"block",width:"100%",height:"auto"}),r=ej.buildTag("table.e-reportviewer-alert-table","",{}),n=ej.buildTag("tr","",{}),l=ej.buildTag("td","",{"max-width":"430px"},{id:this._id+"_content_cell"}),d=ej.buildTag("div.e-reportviewer-tab-focus-none","",{width:"513px",minHeight:"15px","word-wrap":"break-word","text-align":"justify"},{role:"textbox",tabindex:"0"}),h=ej.buildTag("span","",{"font-size":"13px"},{id:this._id+"_short_content"}),c=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_error_code_div"}),u=ej.buildTag("span","Error code: ",{"font-size":"14px","font-weight":"600"},{id:this._id+"_error_code"}),p=(e=ej.buildTag("span","",{"font-size":"13px"},{id:this._id+"_error_code_text"}),ej.buildTag("a","",{"font-size":"14px","font-weight":"Medium",color:"#0099FF",outline:"none"},{href:"javascript:void(0);",color:"#0099FF",id:this._id+"_errorcode_hyper_link"})),m=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_alert_link_div"}),g=ej.buildTag("a",i.alertMessage.showDetails,{"font-size":"12px","font-family":"Segoe UI","font-weight":"600","margin-bottom":"18px","margin-top":"18px",color:"#179bd7","text-decoration":"none",outline:"none"},{href:"javascript:void(0);",color:"#0B0080",id:this._id+"_alert_link_detail"}),_=ej.buildTag("div.e-reportviewer-scroller e-reportviewer-error-content","",{"word-wrap":"break-word","max-height":"111px",height:"auto !important","margin-top":"16px",border:"1px solid #c9cbcc",display:"none","border-radius":"2px"},{id:this._id+"_msg_container"}),f=ej.buildTag("span.e-reportviewer-error-content","",{width:"100%"},{id:this._id+"_detail_content"});return _.css("overflow-y","chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name?"scroll":"hidden"),t=ej.buildTag("button.e-reportviewer-alert-okbtn",i.alertMessage.done,{float:"right"},{id:this._id+"_alert_footer_ok"}),$(document.body).append(s),s.append(a),a.append(o),o.append(r),r.append(n),n.append(l),c.append(u),c.append(e),e.append(p),l.append(d),d.append(h),a.append(m),m.append(g),a.append(_),_.append(f),s.ejDialog({title:i.alertMessage.title,target:"#"+this.element.attr("id"),enableModal:!0,enableResize:!1,showRoundedCorner:!0,cssClass:"e-js e-fe-dialog e-reportviewer-alertbox",backgroundScroll:!1,height:"auto",width:573,showOnInit:!0,showFooter:!0}),g.bind("click",$.proxy(this._showExceptionDetails,this,this._id)),p.bind("click",$.proxy(this._redirectToOnlineLink,this,e)),$("#"+this._id+"_viewer_alert_dialog_foot").append(t),t.ejButton({width:"80px",height:"28px",showRoundedCorner:!1,type:"Button",contentType:ej.ContentType.TextAndImage,size:"small"}),_.ejScroller({buttonSize:0,height:"100px",scrollerSize:9}),s},_setContainerSize:function(){var e,t,i=0,s=0,a=0,o=$("#"+this._id).height();this._isDevice||(e=$("#"+this._id+"_viewBlockContainer")).length>0&&"block"==e.css("display").toLowerCase()&&(i=$("#"+this._id+"_viewBlockContainer").height(),s=parseFloat($("#"+this._id+"_viewBlockContainer").css("border-top-width")),a=parseFloat($("#"+this._id+"_viewBlockContainer").css("border-bottom-width")));var r=0,n=0,l=0;this.model.toolbarSettings.templateId?(l=$("#"+this.model.toolbarSettings.templateId).height(),r=parseFloat($("#"+this.model.toolbarSettings.templateId).css("border-top-width")),n=parseFloat($("#"+this.model.toolbarSettings.templateId).css("border-bottom-width"))):(l=$("#"+this._id+"_toolbarContainer").height(),r=parseFloat($("#"+this._id+"_toolbarContainer").css("border-top-width")),n=parseFloat($("#"+this._id+"_toolbarContainer").css("border-bottom-width"))),t=o-(i+s+a)-(l+r+n),this.model.sizeToReportContent?(this._currentTogglePosition>0&&$("html,body").animate({scrollTop:this._currentTogglePosition},1e3),$("#"+this._id+"_viewerContainer").css({height:t+"px"})):$("#"+this._id+"_viewerContainer").css({height:t+"px"}),this._currentTogglePosition=0},_setPageSize:function(e,t,i,s){var a,o,r,n=null,l=null,d=$("#"+this._id+"_pageviewheaderContainer").parent(),h=$("#"+this._id+"_pageviewbodyContainer").parent(),c=$("#"+this._id+"_pageviewfooterContainer").parent();a=parseFloat(d.css("border-top-width")),o=parseFloat(d.css("border-bottom-width"));var u=parseFloat(h.css("border-top-width"))+parseFloat(h.css("border-bottom-width")),p=a+o+i+u+e+(parseFloat(c.css("border-top-width"))+parseFloat(c.css("border-bottom-width")))+s;e=u>0?e:e+2,$("#"+this._id+"_pageviewContainer").css({width:t+"px",height:p+"px"}),$("#"+this._id+"_pageviewheaderContainer").css({width:t+"px",height:i+"px"}),$("#"+this._id+"_pageviewfooterContainer").css({width:t+"px",height:s+"px"}),$("#"+this._id+"_pageviewbodyContainer").css({height:e+"px",width:t+"px"}),r=$("#"+this._id+"_pageviewContainer")[0].getBoundingClientRect(),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(n=r.right-r.left,l=r.bottom-r.top):(n=r.width,l=r.height),$("#"+this._id+"_pageviewOuterline").css({width:n+"px",height:l+"px"})},_renderPageModels:function(e){if(this._destroyPageItems(),$("#"+this._id+"_pageviewOuterContainer").css("display","block"),this.model.sizeToReportContent&&$("#"+this._id+"_viewerContainer").css({height:"auto"}),e){e.ReportStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer"),e.ReportStyleModel,!1,!0),e.HeaderStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageHeaderBorder")[0],e.HeaderStyleModel,!1,!1),e.FooterStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageFooterBorder")[0],e.FooterStyleModel,!1,!1),e.HeaderModel&&e.HeaderModel.length>0&&(this._renderPageControls(e,e.HeaderModel,document.getElementById(this._id+"_pageviewheaderContainer"),!1,null),this._printMode&&$("#"+this._id+"_pageviewheaderContainer").css("overflow","hidden")),e.FooterModel&&e.FooterModel.length>0&&(this._renderPageControls(e,e.FooterModel,document.getElementById(this._id+"_pageviewfooterContainer"),!1,null),this._printMode&&$("#"+this._id+"_pageviewfooterContainer").css("overflow","hidden"));var t=document.getElementById(this._id+"_pageviewbodyContainer");this._printMode&&this._pageModel&&this._pageModel.Columns>1?this._renderMultiColumnPage(this._pageModel,t,!1,0):(e.BodyStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageBodyBorder")[0],e.BodyStyleModel,!1,!1),e.PageModel&&e.PageModel.length>0&&this._renderPageControls(e,e.PageModel,t,!1,null))}$(".txtToggle_"+this._id).length>0&&this._drillAction(),$(".drillAction_"+this._id).length>0&&this._drillThroughAction(),$(".txtSorting_"+this._id).length>0&&this._sortingAction(),this._isDocumentMap&&!this._printMode&&(this._documentMapAction(),this._isDocumentMap=!1,this._pageDocMapFlag=!0),this._parentPageXY&&($("#"+this._id+"_viewerContainer").animate({scrollTop:this._parentPageXY.y,scrollLeft:this._parentPageXY.x},1e3),this._parentPageXY=null),this.model.printMode?$("#"+this._id+"_pageviewContainer").css({"padding-left":this._pageModel.MarginLeft,"padding-top":this._pageModel.MarginTop,"padding-right":this._pageModel.MarginRight,"padding-bottom":this._pageModel.MarginBottom}):$("#"+this._id+"_pageviewContainer").css("padding","0px")},_renderMultiColumnPage:function(e,t,i,s){var a,o,r,n,l,d=s*e.Columns,h=this._buildTag("div",null,null,{id:this._id+"_multiColumnbodyContainer_"+s});for(this._setTagStyle(h,{position:"relative","background-color":"transparent",display:"table"}),t&&this._appendChild(t,h),a=0,o=d;o<e.Columns+d;o++){r=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyContainer_"+o}),n=this._buildTag("div","pageBodyBorder e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyBorder_"+o}),this._appendChild(n,r),h&&this._appendChild(h,n);var c={position:"relative","background-color":"transparent"},u={position:"relative","background-color":"#FFFFFF",display:"table-cell","background-position":"center center","background-repeat":"no-repeat"},p=null;o<e.PageData.length&&null!=e.PageData[o]&&(c.height=(p=e.PageData[o]).Height+"px",c.width=p.ColumnWidth+"px",u.left=a+"px",a+=e.ColumnSpacing,l=null,i&&(l="Print"+o),p.PageModel&&p.PageModel.length>0&&r&&this._renderPageControls(p,p.PageModel,r,i,l)),this._setTagStyle(n,u),this._setTagStyle(r,c),p&&p.BodyStyleModel&&r&&this._applyPageStyle(n,p.BodyStyleModel,i,l)}},_applyPageStyle:function(e,t,i,s){var a=i?"PrintImage":"GetResource";t.BackgroundColor?e.style.backgroundColor=t.BackgroundColor:""==t.BackgroundColor&&(e.style.backgroundColor="#FFFFFF"),t.BackgroundSrc?(e.style.backgroundImage="url("+this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+a+"/?key="+t.BackgroundSrc+"&resourcetype=sfimg&isPrint="+i,!1)+")",null!=t.BackgroundRepeat&&(e.style.backgroundPosition="0px 0px",s&&this._printMode&&!i?(e.style.backgroundPositionX=this._pageModel.MarginLeft+"px",e.style.backgroundPositionY=this._pageModel.MarginTop+"px"):s&&i&&(e.style.position="absolute",e.style.marginLeft=this._pageModel.MarginLeft+"px",e.style.marginTop=this._pageModel.MarginTop+"px"),e.style.backgroundRepeat=this._getBackgrounRepeate(t.BackgroundRepeat))):e.style.backgroundImage="none","Clip"===t.BackgroundRepeat&&(e.style.backgroundClip="auto"),t.Border&&this._applyBorderStyle(t.Border,e)},_getBackgrounRepeate:function(e){switch(e.toLowerCase()){case"repeatx":e="repeat-x";break;case"repeaty":e="repeat-y";break;case"fit":e="round";break;case"clip":e="no-repeat";break;case"repeat":e="repeat"}return e},_renderErrorDialog:function(e){this._showAlertDialog(e.Message,e.Detail,!1,e.Code)},_renderErrorItemControl:function(e,t,i,s,a){var o,r,n,l=this._controlKeyGenerator(this._id+"_"+e.Name,null,i,s),d=this._buildTag("div","e-reportviewer-errormodeltooltip",l.ToolTip,{id:l}),h="#Error",c="Click here for more details.",u={},p={},m={},g=this._buildTag("table","e-reportviewer-alert-table",null,null),_=this._buildTag("tr",null,null,null),f=this._buildTag("td",null,null,{id:this._id+"_tablerow_cell"});return f.style.maxWidth="430px",o=this._buildTag("div","e-reportviewer-errorIcon",null,null),u["-webkit-box-sizing"]=u["-moz-box-sizing"]=u["box-sizing"]="content-box",u.position="absolute",u["word-wrap"]="break-word",u["white-space"]="pre-wrap",u["background-color"]="#FBE7E9",u.cursor="pointer",p["vertical-align"]="middle",p["text-align"]="center",m.width="24px",m.height="24px",m.display="inline-block",m["margin-left"]="auto",m["margin-right"]="auto",m["margin-bottom"]="-5px",a?u.border="1px solid #c8c8c8":(u.top=e.Top+"px",u.left=e.Left+"px"),this._isDataRegionModel(e.ItemType)||a?(p.width=e.Width+"px",p.height=e.Height+"px"):(p.width="80px",p.height="30px"),this._isDataRegionModel(e.ItemType)?h="An error occurred while rendering '"+e.ItemType.toString().replace("Model","")+"' report item.":c="An error occurred while rendering '"+e.ItemType.toString().replace("Model","")+"' report item.",this._appendChild(g,_),this._appendChild(_,f),this._setTagStyle(o,m),this._setTagStyle(g,p),this._setTagStyle(d,u),(r=this._buildTag("span",null,null,{id:this._id+"_errorText"})).textContent=h,this._setTagStyle(r,{"font-family":"Segoe UI, Helvetica Neue, Ubuntu, Arial !important","font-size":"14px","font-weight":"500"}),(n=this._buildTag("span","e-reportviewer-tooltiptext",null,{id:this._id+"_toolTipText"})).textContent=c,$("#"+this._id+"_toolTipText").css("bottom","100%"),ej.isNullOrUndefined(e.ErrorInformation)||d.addEventListener("click",$.proxy(this._renderErrorDialog,this,e.ErrorInformation)),this._appendChild(f,o),this._appendChild(f,r),this._appendChild(d,g),this._appendChild(d,n),d},_isDataRegionModel:function(e){return!("LineModel"==e||"ImageModel"==e||"TextBoxModel"==e||"RectangleModel"==e)},_renderPageControls:function(e,t,i,s,a){var o,r,n,l,d=document.createElement("div");for(this._appendChild(i,d),o=0;o<t.length;o++)!ej.isNullOrUndefined((r=t[o]).ErrorInformation)&&r.ErrorInformation.Message?(n=this._renderErrorItemControl(r,!1,s,a,!1),this._appendChild(d,n)):"TextBoxModel"==r.ItemType?this._renderTextBoxControl(r,!1,null,s,a,d):"LineModel"==r.ItemType?(l=this._renderLineControl(r,null,s,a),this._appendChild(d,l)):"ImageModel"==r.ItemType?this._renderImageControl(r,!1,d,null,s,a):"CustomReportItemModel"==r.ItemType?this._renderCustomReportItemControl(r,!1,d,null,s,a):"TablixModel"==r.ItemType?this._renderTablixControl(r,!1,{},d,null,s,a,e):"GaugeModel"==r.ItemType?this._renderGaugeControl(r,!1,!1,{},d,null,s,a):"RectangleModel"==r.ItemType?this._renderRectangleControl(r,!1,d,null,s,a,e):"ChartModel"==r.ItemType?this._renderChartControl(r,!1,!1,{},d,null,s,a):"MapModel"==r.ItemType?this._renderMapControl(r,!1,d,null,s,a):"SubReportModel"==r.ItemType&&this._renderSubReportControl(r,!1,d,null,s,a,e)},_controlKeyGenerator:function(e,t,i,s){var a=ej.isNullOrUndefined(t)?"":"_"+t;return i&&(a=0==a.length?"_"+s:a+"_"+s),e+a},_addEmbeddedImage:function(e,t,i,s,a){var o=this._buildTag("img",null,null,{alt:"",id:s,src:"data:image/jpeg;base64,"+(this._reportImages[a]?this._reportImages[a]:a)});o.width=t,o.height=i,this._appendChild(e,o)},_getImageDataURL:function(e,t,i,s){return e?"url(data:image/png;base64,"+(this._reportImages[s]?this._reportImages[s]:s)+")":"url("+this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+i+"/?key="+s+"&resourcetype=sfimg&isPrint="+t,!1)+")"},_applyBorderStyle:function(e,t){this._applyCellBorderStyle("",e.Default,t),this._applyCellBorderStyle("-left",e.LeftBorder,t),this._applyCellBorderStyle("-right",e.RightBorder,t),this._applyCellBorderStyle("-top",e.TopBorder,t),this._applyCellBorderStyle("-bottom",e.BottomBorder,t)},_applyTextStyle:function(e,t,i,s,a,o,r,n){var l,d,h,c=0,u=0,p=0,m=0,g={topBorder:0,rightBorder:0,bottomBorder:0,leftBorder:0};if(e.Padding&&(e.Padding.Top&&(t.style.paddingTop=e.Padding.Top+"px",c=e.Padding.Top),e.Padding.Right&&(t.style.paddingRight=e.Padding.Right+"px",u=e.Padding.Right),e.Padding.Bottom&&(t.style.paddingBottom=e.Padding.Bottom+"px",p=e.Padding.Bottom),e.Padding.Left&&(t.style.paddingLeft=e.Padding.Left+"px",m=e.Padding.Left)),e.TextBoxBackgroundColor&&(t.style.backgroundColor=e.TextBoxBackgroundColor),o&&n&&(n.isDefaultBorder||n.isLeftBorder||n.isRightBorder||n.isTopBorder||n.isBottomBorder)?this._applyCellBorders(t,e.Border,g,r,n):this._applyTextBoxBorders(t,e.Border,g),"td"==t.tagName.toLowerCase()){var _=parseFloat(m,10)+parseFloat(u,10),f=(parseFloat(c,10),parseFloat(p,10),parseFloat(g.leftBorder,10)+parseFloat(g.rightBorder,10)),b=(parseFloat(g.topBorder,10),parseFloat(g.bottomBorder,10),parseFloat(e.Width,10)-(_+f));if(b<=0&&(i.style.display="none"),t.style.width=b+"px",t.style.height=e.Height+"px",!e.ToggleInfo){for(l=$(i).children(),d=0;d<l.length;d++)(h=$(l[d])).hasClass("e-reportviewer-usersort")||h.width(b);i.style.maxHeight="mozilla"==this._browserInfo.name?"-moz-fit-content":e.Height+"px"}}},_applyTextBoxBorders:function(e,t,i){t&&(t.Default&&(this._applyCellBorderStyle("",t.Default,e),i.topBorder=i.rightBorder=i.bottomBorder=i.leftBorder=t.Default.Thickness),t.LeftBorder&&(this._applyCellBorderStyle("-left",t.LeftBorder,e),i.leftBorder=t.LeftBorder.Thickness),t.RightBorder&&(this._applyCellBorderStyle("-right",t.RightBorder,e),i.rightBorder=t.RightBorder.Thickness),t.TopBorder&&(this._applyCellBorderStyle("-top",t.TopBorder,e),i.topBorder=t.TopBorder.Thickness),t.BottomBorder&&(this._applyCellBorderStyle("-bottom",t.BottomBorder,e),i.bottomBorder=t.BottomBorder.Thickness))},_updateTablixBorderState:function(e){return{isDefaultBorder:this._isBorderAvailable(e.Default),isLeftBorder:this._isBorderAvailable(e.LeftBorder),isRightBorder:this._isBorderAvailable(e.RightBorder),isTopBorder:this._isBorderAvailable(e.TopBorder),isBottomBorder:this._isBorderAvailable(e.BottomBorder)}},_isBorderAvailable:function(e){return!(ej.isNullOrUndefined(e)||ej.isNullOrUndefined(e.BorderStyle)||"Default"==e.BorderStyle||"None"==e.BorderStyle||ej.isNullOrUndefined(e.Thickness)||0==e.Thickness||ej.isNullOrUndefined(e.BorderBrush)||"Transparent"==e.BorderBrush||"No Color"==e.BorderBrush)},_applyCellBorders:function(e,t,i,s,a){if(!ej.isNullOrUndefined(t)){var o=this._getCellBorder(t.TopBorder,t),r=this._getCellBorder(t.BottomBorder,t),n=this._getCellBorder(t.LeftBorder,t),l=this._getCellBorder(t.RightBorder,t);ej.isNullOrUndefined(i)||(ej.isNullOrUndefined(o)||(i.topBorder=o.borderWidth),ej.isNullOrUndefined(r)||(i.bottomBorder=r.borderWidth),ej.isNullOrUndefined(n)||(i.leftBorder=n.borderWidth),ej.isNullOrUndefined(l)||(i.rightBorder=l.borderWidth)),ej.isNullOrUndefined(o)||!(s.rowIndex>0)&&(a.isDefaultBorder||a.isTopBorder)||this._applyCellBorderStyle("-top",o.cellBorder,e),ej.isNullOrUndefined(r)||!(s.rowIndex<s.rowLength-1)&&(a.isDefaultBorder||a.isBottomBorder)||this._applyCellBorderStyle("-bottom",r.cellBorder,e),ej.isNullOrUndefined(n)||!(s.colIndex>0)&&(a.isDefaultBorder||a.isLeftBorder)||this._applyCellBorderStyle("-left",n.cellBorder,e),ej.isNullOrUndefined(l)||!(s.colIndex<s.colLength-1)&&(a.isDefaultBorder||a.isRightBorder)||this._applyCellBorderStyle("-right",l.cellBorder,e)}},_applyCellBorderStyle:function(e,t,i){if(t){var s={};s["border"+e+"-width"]=t.Thickness+"px",s["border"+e+"-color"]=null!=t.BorderBrush?t.BorderBrush:"None",s["border"+e+"-style"]=t.BorderStyle,this._setTagStyle(i,s)}},_getCellBorder:function(e,t){return ej.isNullOrUndefined(e)?ej.isNullOrUndefined(t)||ej.isNullOrUndefined(t.Default)?void 0:{cellBorder:t.Default,borderWidth:t.Default.Thickness}:{cellBorder:e,borderWidth:e.Thickness}},_setAttributes:function(e,t,i){var s,a;if(null!=t&&t!=undefined)for(s=Object.keys(t),a=0;a<s.length;a++)e[s[a]]=t[s[a]];if(null!=i&&i!=undefined)for(s=Object.keys(i),a=0;a<s.length;a++)e.setAttribute(s[a],i[s[a]])},_buildTag:function(e,t,i,s,a){var o=document.createElement(e);return null!=t&&t!=undefined&&(o.className=t),null!=i&&i!=undefined&&(o.title=i),this._setAttributes(o,s,a),o},_appendChild:function(e,t){null!=e.append&&e.append!=undefined?e.append(t):e.appendChild(t)},_setTagStyle:function(e,t){var i,s;if(t)for(i=Object.keys(t),s=0;s<i.length;s++)e.style[i[s]]=t[i[s]]},_renderTablixControl:function(e,t,i,s,a,o,r,n){var l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P=this,j=e.Height,D=e.Width,A=P._controlKeyGenerator(P._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),a,o,r),O=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:A},{role:"table",tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Tablix")+e.Name}),I={},R={};if(this._appendChild(s,O),I.top=e.Top+"px",I.left=e.Left+"px",I["-webkit-box-sizing"]="border-box",I["-moz-box-sizing"]="border-box",I["box-sizing"]="border-box",I.visibility=e.Hidden?"hidden":"visible",t?(j=i.height,D-=parseFloat(O.style.borderLeftWidth,10)+parseFloat(O.style.borderRightWidth,10),j-=parseFloat(O.style.borderTopWidth,10)+parseFloat(O.style.borderBottomWidth,10),I.position="relative"):I.position="absolute",I.width=D+"px",I.height=j+"px",l=this._buildTag("table",null,null,null),d={"border-collapse":"collapse","font-size":"8pt"},this._appendChild(O,l),e.BackgroundColor&&(d["background-color"]=e.BackgroundColor),e.StyleVal&&(e.StyleVal.Font&&(e.StyleVal.Font.FontFamily&&(d["font-family"]="'"+e.StyleVal.Font.FontFamily+"'"),e.StyleVal.Font.FontStyle&&(d["font-style"]=e.StyleVal.Font.FontStyle),e.StyleVal.Font.FontWeight&&(d["font-weight"]=this._getConvertedFontWeight(e.StyleVal.Font.FontWeight)+" !important")),d.color=e.StyleVal.TextColor?e.StyleVal.TextColor:"black",e.StyleVal.TextDecoration&&(d["text-decoration"]=e.StyleVal.TextDecoration)),e.Padding&&(e.Padding.Left&&(d["padding-left"]=e.Padding.Left),e.Padding.Right&&(d["padding-right"]=e.Padding.Right),e.Padding.Top&&(d["padding-top"]=e.Padding.Top),e.Padding.Bottom&&(d["padding-bottom"]=e.Padding.Bottom)),e.TextAlign&&(d["text-align"]=e.TextAlign),e.VerticalAlign&&(d["vertical-align"]=e.VerticalAlign),e.BackgroundImageSrc&&(d["background-image"]=this._getImageDataURL(e.EmbedImageData,o,o?"PrintImage":"GetResource",e.BackgroundImageSrc)),e.Border&&(this._applyBorderStyle(e.Border,l),R=this._updateTablixBorderState(e.Border)),this._setTagStyle(l,d),this._setTagStyle(O,I),e.CellModels&&e.CellModels.length>0){for(h=this._buildTag("tbody",null,null,null),c=this._buildTag("tr",null,null,null),this._setTagStyle(c,{padding:"0px",margin:"0px",height:"0px",visibility:"collapse"}),(e.Border&&(e.Border.TopBorder&&"None"!=e.Border.TopBorder.BorderStyle||e.Border.Default&&"None"!=e.Border.Default.BorderStyle)||e.CellModels[0][0].Border&&(e.CellModels[0][0].Border.TopBorder&&"None"!=e.CellModels[0][0].Border.TopBorder.BorderStyle||e.CellModels[0][0].Border.Default&&"None"!=e.CellModels[0][0].Border.Default.BorderStyle))&&(c.style.visibility="visible"),this._appendChild(h,c),this._appendChild(l,h),p=null,m=null,u=0;u<e.CellModels[0].length;u++)g=this._buildTag("td",null,null,{rowSpan:"1",colSpan:"1"}),this._appendChild(c,g),this._setTagStyle(g,{padding:"0px",margin:"0px",width:e.ColWidths[u]+"px"});for(_=0;_<e.CellModels.length;_++){for(f=this._buildTag("tr",null,null,null),b={padding:"0px",margin:"0px","text-align":"left",height:e.RowHeights[_]+"px","vertical-align":"top"},this._appendChild(h,f),this._setTagStyle(f,b),v=e.CellModels[_],u=0;u<v.length;u++)if(x=this._buildTag("td",null,null,{rowSpan:"1",colSpan:"1"}),y={padding:"0px",margin:"0px","text-align":"left","-webkit-box-sizing":"content-box","-moz-box-sizing":"content-box","box-sizing":"content-box"},this._appendChild(f,x),this._setTagStyle(x,y),w=v[u].ItemModel){var M=v[u].Border,E=v[u].RowSpan,V=v[u].ColSpan,N={rowIndex:_,rowLength:e.CellModels.length,colIndex:u,colLength:v.length},F=e.RowHeights[_];E>1&&(x.rowSpan=E,F<w.Height&&(F=w.Height)),V>1&&(x.colSpan=V),w.Hidden||(x.style.height="100%",!M||"TextBoxModel"==w.ItemType||P._applyCellBorders(x,M,null,N,R),!ej.isNullOrUndefined(w.ErrorInformation)&&w.ErrorInformation.Message?((S=P._renderErrorItemControl(w,!0,o,r,!0)).style.position="relative",this._appendChild(x,S)):"TextBoxModel"==w.ItemType?((C=P._renderTextBoxControl(w,!0,A+"tablixRow"+_+"xCol"+u,o,r,x)).style.maxHeight="mozilla"==this._browserInfo.name?"-moz-fit-content":"99.9%",x.style.height=F+"px",P._applyTextStyle(w,x,C,e.ColWidths[u],F,!0,N,R)):"LineModel"==w.ItemType?((T=P._renderLineControl(w,A+"tablixRow"+_+"xCol"+u,o,r)).style.position="relative",this._appendChild(x,T)):"ImageModel"==w.ItemType?P._renderImageControl(w,!0,x,A+"tablixRow"+_+"xCol"+u,o,r):"CustomReportItemModel"==w.ItemType?P._renderCustomReportItemControl(w,!0,x,A+"tablixRow"+_+"xCol"+u,o,r):"TablixModel"==w.ItemType?P._renderTablixControl(w,!0,{height:F},x,A+"tablixRow"+_+"xCol"+u,o,r,n):"GaugeModel"==w.ItemType?P._renderGaugeControl(w,!1,!0,{height:F},x,A+"tablixRow"+_+"xCol"+u,o,r):"RectangleModel"==w.ItemType?P._renderRectangleControl(w,!0,x,A+"tablixRow"+_+"xCol"+u,o,r,n):"ChartModel"==w.ItemType?this._renderChartControl(w,!1,!0,{height:F},x,A+"tablixRow"+_+"xCol"+u,o,r):"MapModel"==w.ItemType?this._renderMapControl(w,!1,x,A+"tablixRow"+_+"xCol"+u,o,r):"SubReportModel"==w.ItemType&&P._renderRectangleControl(w,!0,x,A+"tablixRow"+_+"xCol"+u,o,r,n))}else x.style.display="none";v[0].FixedData&&(null==p&&null==m&&(L=this._buildTag("div","",null,{id:A+"_headertable"}),O.className="fixed-data",this._appendChild(s,L),this._setTagStyle(L,{top:e.Top+"px",left:e.Left+"px",position:"absolute"}),k=this._buildTag("table",null,null,null),this._appendChild(L,k),this._setTagStyle(k,{"border-collapse":"collapse","font-size":"8pt"})),p=c.cloneNode(!0),m=f.cloneNode(!0),this._appendChild(k,p),this._appendChild(k,m))}}var B=l.getBoundingClientRect(),z=Math.max(l.offsetHeight,("msie"==this._browserInfo.name&&8==this._browserInfo.version?B.bottom-B.top:B.height)/this._preZoomVal);z>n.Height&&z>e.Height+e.Top&&(n.Height=z+e.Top)},_renderTextBoxControl:function(e,t,i,s,a,o){var r,n,l,d,h,c,u,p=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),i,s,a),m=this._buildTag("div","e-reportviewer-txtitem e-reportviewer-tab-focus-none",e.ToolTip,{id:p},{role:"textbox",tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Textbox")+e.Name});if(o!=undefined&&this._appendChild(o,m),(r={}).visibility=e.Hidden?"hidden":"visible",r["-webkit-box-sizing"]="content-box",r["-moz-box-sizing"]="content-box",r["box-sizing"]="content-box",t?t&&(r["word-wrap"]="break-word",r["white-space"]="pre-wrap"):(r.position="absolute",r.top=e.Top+"px",r.left=e.Left+"px",r.width=e.Width+"px",r.height=e.Height+"px",this._applyTextStyle(e,m,null,null,null,!1,null,null)),e.CanGrow||(r.overflow="hidden"),e.BackgroundSrc&&(r["background-image"]=this._getImageDataURL(e.EmbedImageData,s,s?"PrintImage":"GetResource",e.BackgroundSrc)),e.ToggleInfo&&!this._printMode){var g=this._buildTag("div","e-reportviewer-toggleicon "+(e.IsToggle?"ej-reportviewericonscollapse":"ej-reportviewericonsexpand")+" txtToggle_"+this._id,null,null),_={display:"block",width:"14px",height:"14px","margin-top":"2px"};"msie"==this._browserInfo.name?(_["margin-right"]="1px",_.float="left"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name||"edge"==this._browserInfo.name)&&(_.display="table",_["margin-right"]="2px",_.float="left"),g.setAttribute("drillObj",e.ToggleInfo),this._appendChild(m,g),this._setTagStyle(g,_),r.display="msie"==this._browserInfo.name?"inline-block":"block",r["word-wrap"]="inherit",r["white-space"]="inherit"}if(e.Sorting&&!this._printMode&&(l={display:"block",width:"14px",height:"14px","padding-right":"1px","margin-top":"1px",float:"right","vertical-align":"middle"},(n=this._buildTag("div","e-reportviewer-"+("UpDown"==e.Sorting.Sorting?"sortingUpDown":"Up"==e.Sorting.Sorting?"sortingUp":"sortingDown")+" txtSorting_"+this._id+" e-reportviewer-usersort",null,null)).setAttribute("sortingObj",JSON.stringify(e.Sorting)),this._appendChild(m,n),this._setTagStyle(n,l),r.display="msie"==this._browserInfo.name?"inline-block":"block",r["word-wrap"]="inherit",r["white-space"]="inherit"),"default"!=e.WritingMode)switch(e.WritingMode){case"vertical":r["writing-mode"]="msie"==this._browserInfo.name?"tb-rl":"vertical-rl";break;case"rotate270":"msie"==this._browserInfo.name?(r["writing-mode"]="tb-rl",r.transform="rotate(180deg)",r["-webkit-transform"]="rotate(180deg)",r["-moz-transform"]="rotate(180deg)",r["-ms-transform"]="rotate(180deg)",r["-o-transform"]="rotate(180deg)"):(r["writing-mode"]="vertical-rl",r.transform="rotate(180deg)",r["-webkit-transform"]="rotate(180deg)",r["-moz-transform"]="rotate(180deg)",r["-ms-transform"]="rotate(180deg)",r["-o-transform"]="rotate(180deg)")}if(e.ActionInfo&&((d=ej.buildTag("div.e-reportviewer-txtboxactioninfo","",{})).data("actionObj",e.ActionInfo),d.addClass("drillAction_"+this._id+" e-reportviewer-drillhover"),d[0].style.height="100%",d[0].style.Width="100%",this._appendChild(m,d[0])),e.Paragraphval)for(h=0;h<e.Paragraphval.length;h++){var f=this._buildTag("div","e-reportviewer-paragrap",null,null),b={},v=e.Paragraphval[h],x=1==e.Paragraphval.length&&1==v.Runs.length;for(c=0;c<v.Runs.length;c++){var y=v.Runs[c],w=this._buildTag(x?"div":"span",null,null,null),S={};S["white-space"]=e.ToggleInfo&&!s?"inherit":"pre-wrap",y.ActionInfo&&!e.ActionInfo&&(w.setAttribute("actionObj",JSON.stringify(y.ActionInfo)),w.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),y.Style.Font.FontFamily&&(S["font-family"]="'"+y.Style.Font.FontFamily+"'"),y.Style.Font.FontSize&&(S["font-size"]=y.Style.Font.FontSize+"px"),y.Style.Font.FontStyle&&(S["font-style"]=y.Style.Font.FontStyle),y.Style.Font.FontWeight&&(S["font-weight"]=this._getConvertedFontWeight(y.Style.Font.FontWeight)),S.color=y.Style.TextColor?y.Style.TextColor:"black",y.Style.TextDecoration&&(S["text-decoration"]=y.Style.TextDecoration),y.RunText?(u=document.createTextNode(y.RunText),this._appendChild(w,u)):1===v.Runs.length&&""===y.RunText&&(e.Height>v.Runs[0].Style.Font.FontSize||e.Width>v.Runs[0].Style.Font.FontSize)&&(u=document.createTextNode(" "),this._appendChild(w,u)),this._appendChild(f,w),this._setTagStyle(w,S)}t||(b["word-wrap"]="break-word"),v.TextAlignment&&(b["text-align"]=v.TextAlignment),"Default"!=e.Direction&&"Default"==b["text-align"]&&(b["text-align"]="LTR"!=e.Direction?"Right":"Left"),e.IsNoRowMessage&&(b["padding-left"]=e.Padding.Left+"px",b["padding-top"]=e.Padding.Top+"px",b["padding-right"]=e.Padding.Right+"px",b["padding-bottom"]=e.Padding.Bottom+"px"),"vertical"==e.WritingMode||"rotate270"==e.WritingMode?(v.LeftIndent&&(b["padding-top"]=v.LeftIndent+"px"),v.RightIndent&&(b["padding-bottom"]=v.RightIndent+"px"),v.SpaceBefore&&(b["padding-right"]=v.SpaceBefore+"px"),v.SpaceAfter&&(b["padding-left"]=v.SpaceAfter+"px")):(v.LeftIndent&&(b["padding-left"]=v.LeftIndent+"px"),v.RightIndent&&("Right"==v.TextAlignment?(b["padding-right"]=v.RightIndent+"px",b.float="right"):b["padding-right"]=v.RightIndent+"px"),v.SpaceBefore&&(b["padding-top"]=v.SpaceBefore+"px"),v.SpaceAfter&&(b["padding-bottom"]=v.SpaceAfter+"px")),v.ListStyle&&(b["list-style-type"]=v.ListStyle),v.HangingIndent&&(b["text-indent"]=v.HangingIndent),t&&(b["min-width"]="99.9%"),v.ListLevel&&0!=v.ListLevel&&"RTL"!=e.Direction?b["margin-left"]="30"*v.ListLevel+"px":0!=v.ListLevel&&"RTL"==e.Direction&&(b["margin-Right"]="30"*v.ListLevel+"px",b.direction="rtl"),"Numbered"==v.ListStyle&&v.ListLevel>=1?1==v.ListLevel||4==v.ListLevel||7==v.ListLevel?(b.display="list-item",b["list-style-type"]="decimal"):2==v.ListLevel||5==v.ListLevel||8==v.ListLevel?(b.display="list-item",b["list-style-type"]="lower-roman"):(3==v.ListLevel||6==v.ListLevel||9==v.ListLevel)&&(b.display="list-item",b["list-style-type"]="lower-alpha"):"Bulleted"==v.ListStyle&&v.ListLevel>=1&&(b.display="list-item",b["list-style-type"]=v.ListStyle),this._setTagStyle(f,b),this._appendChild(e.ActionInfo?d:m,f)}return this._setTagStyle(m,r),m},_getChartDate:function(e){return new Date(e.Year,e.Month,e.Day,e.Hour,e.Minute,e.Second,0).toLocaleString()},_getConvertedFontWeight:function(e){var t="normal";switch(e){case"Thin":t="200";break;case"ExtraLight":t="300";break;case"Light":t="400";break;case"Medium":t="500";break;case"SemiBold":t="600";break;case"Bold":t="bold";break;case"ExtraBold":t="800";break;case"Heavy":t="900"}return t},_renderChartControl:function(e,t,i,s,a,o,r,n,l,d){var h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L="chartCtrl";if(e.ChartAreas){h=i&&s.height?s.height:e.Height,c=e.Width,this._legendPointNames=[],u=r?"PrintImage":"GetResource","undefined"==d&&(d=!1),"undefined"==l&&(l=!1),t&&(this._id=o,e.Top=0,e.Left=0);var k=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),o,r,n),P=h/e.ChartAreas.length,j=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:k},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Chart")+e.Name}),D={position:i&&s.height?"relative":"absolute",top:e.Top+"px",left:e.Left+"px",width:c+"px",height:h+"px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",visibility:e.Hidden?"hidden":"visible"};for(this._appendChild(a,j),e.BackgroundImge&&(D["background-image"]="url("+this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+u+"/?key="+e.BackgroundImge+"&resourcetype=sfimg&isPrint="+r,!1)+")",D["background-size"]="100% 100%"),e.ChartStyle&&(e.ChartStyle.Border&&!i&&this._applyBorderStyle(e.ChartStyle.Border,j),e.ChartStyle.FillStyle&&(D["background-color"]=e.ChartStyle.FillStyle.BackgroundColor,this._applyBackgroundGradientStyle(e.ChartStyle.FillStyle,j))),this._setTagStyle(j,D),i&&(L=o,s.height&&(h=s.height,c-=parseFloat(D["border-left-width"],10)+parseFloat(D["border-right-width"],10),h-=parseFloat(D["border-top-width"],10)+parseFloat(D["border-bottom-width"],10))),p=0;p<e.ChartAreas.length;p++){var A=e.ChartAreas[p],O={value:0},I={series:[],axes:[],commonSeriesOptions:{marker:{},enableSmartLabels:!1,enableAnimation:!(r||t||l||!this.model.enableAnimation)},chartArea:{border:{width:0}},isResponsive:!0,enableCanvasRendering:d,legendItemRendering:$.proxy(this.legendItemRender,this),locale:e.Language?e.Language:""};if(A.BackgroundImg&&(I.backGroundImageUrl=this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+u+"/?key="+A.BackgroundImg+"&resourcetype=sfimg&isPrint="+r,!1)),A.Style&&(A.Style.FillStyle&&"#00ffffff"!=A.Style.FillStyle.BackgroundColor&&(I.chartArea.background=A.Style.FillStyle.BackgroundColor),A.Style.Border&&A.Style.Border.Default?(A.Style.Border.Default.BorderBrush&&(I.chartArea.border.color=A.Style.Border.Default.BorderBrush),"Default"==A.Style.Border.Default.BorderStyle||"None"==A.Style.Border.Default.BorderStyle?(I.chartArea.border.width=0,I.chartArea.border.opacity=0):I.chartArea.border.width=A.Style.Border.Default.Thickness):(I.chartArea.border.opacity=1,I.chartArea.border.color="Transparent")),e.ChartTiles&&e.ChartTiles.length>0&&(I.title=this._getChartTitle(e.ChartTiles[0])),I.legend=e.ChartLegends&&e.ChartLegends.length>0?this._getChartLegend(e):{visible:!1},I.legend.shape="rectangle",e.CustomProperties&&e.CustomProperties.length>0)for(m=0;m<e.CustomProperties.length;m++)if("legendshape"==e.CustomProperties[m].Name.toLowerCase()){if("thumbnail"==e.CustomProperties[m].Value.toLowerCase()){I.legend.shape="seriestype";break}if("circle"==e.CustomProperties[m].Value.toLowerCase()){I.legend.shape="circle";break}}if(I.colors=[],I.colors[0]="transparent",g=this._buildTag("div",null,e.ToolTip,{id:L+"_"+this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name)+"_"+A.Name+(r?"_"+n:"")}),r||this._dataVisualization.push({name:null!=e.ItemName?e.ItemName:e.Name,id:g.id,type:"ChartModel"}),g.style.height=P+"px",this._appendChild(j,g),e.NoRowModel&&e.ChartNoDataMessage)return null==I.title?I.title=this._getChartTitle(e.ChartNoDataMessage):I.title.subTitle=this._getChartTitle(e.ChartNoDataMessage),I.primaryXAxis={},I.primaryXAxis.visible=!1,I.primaryXAxis.majorGridLines={},I.primaryXAxis.majorGridLines.visible=!1,I.primaryYAxis={},I.primaryYAxis.visible=!1,I.primaryYAxis.majorGridLines={},I.primaryYAxis.majorGridLines.visible=!1,void $("#"+g.id).ejChart(I);for("DataBar"==e.DesignerMode?(I.commonSeriesOptions.columnWidth=2,I.elementSpacing=0,I.margin={left:5,right:5,top:5,bottom:5}):I.margin={left:5,right:5,top:5,bottom:5},_=0;_<A.ChartSeries.length;_++)if(A.ChartSeries[_].Visibility){var R=I.series.length,M=A.ChartSeries[_],E=[],V=[],N=[],F=M.Legend&&M.Legend.LegendText?M.Legend.LegendText:""==M.Label&&"EmptySeriesName"==M.Name?M.Name:M.Label;M.TooltipY=F;var B=!1,z=!1,Y=!1,X=null,H=null,W=null==M.CategoryAxisName?"primary":M.CategoryAxisName.toLowerCase(),U=null==M.ValueAxisName?"primary":M.ValueAxisName.toLowerCase(),G=$.grep(A.ChartAreaXAxis,(function(e){return e.Name.toLowerCase()==W})).map((function(e){return e})),q=$.grep(A.ChartAreaYAxis,(function(e){return e.Name.toLowerCase()==U})).map((function(e){return e}));if(null!=M.CustomProperties){for(f=0;f<M.CustomProperties.length;f++)null!=(b=M.CustomProperties[f]).Value&&(v=b.Name.toLowerCase(),x=b.Value.toLowerCase(),"enabletrendline"==v&&"true"==x&&(B=!0),z||(z=this._getTrendlineType(v,x)),Y||"showtrendlinelegend"==v&&"false"==x&&(Y=!0));B&&z&&N.push(this._getTrendline(M.CustomProperties,N,Y))}switch(M.Style&&M.Style.Border&&M.Style.Border.Default&&(I.commonSeriesOptions.border={},M.Style.Border.Default.BorderBrush&&(I.commonSeriesOptions.border.color=M.Style.Border.Default.BorderBrush),0!=M.Style.Border.Default.Thickness&&(I.commonSeriesOptions.border.width=M.Style.Border.Default.Thickness),"Dashed"==M.Style.Border.Default.BorderStyle?I.commonSeriesOptions.border.dashArray="2,4":"Dotted"==M.Style.Border.Default.BorderStyle&&(I.commonSeriesOptions.border.dashArray="2,2")),A.Chart3D&&A.Chart3D.Enabled&&this._is3DChartType(M.Type)&&this._update3DChartProperties(I,A,e,M.Type),this._isDataLabel=!1,M.Type){case"column":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),H="YAxis"),I.series.push({trendlines:N,points:E,type:"column",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingcolumn":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.legendBoundsCalculate=this._legendOrder,"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingcolumn",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",isStacking:!0,name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingcolumn100":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingcolumn100",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"bar":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"bar",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel))),"DataBar"==e.DesignerMode&&(I.primaryXAxis.majorTickLines.size=0,I.primaryYAxis.majorTickLines.size=0);break;case"stackingbar":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):e.PaletteColors[O.value<e.PaletteColors.length?O.value:0],text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingbar",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingbar100":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingbar100",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"line":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color&&S<M.PointValues.length-1?this._getSeriesColor(M.PointValues[S+1],O,e.PaletteColors):null,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),H="YAxis"),I.series.push({trendlines:N,points:E,type:"line",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hidden"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"spline":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"spline",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hidden"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stepline":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"stepline",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hidden"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"pie":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"pie",name:F,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"explodedpie":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"pie",explodeAll:!0,explodeOffset:8,name:F,visibility:M.Visibility?"visible":"hide"}),I.series[R].explodeIndex=0,M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"doughnut":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"doughnut",name:F,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"pyramid":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,points:E,type:"pyramid",name:F,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"funnel":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[E.length-1]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,points:E,type:"funnel",name:F,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"area":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"area",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"splinearea":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"splinearea",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingarea":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingarea",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingarea100":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"stackingarea100",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangearea":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"rangearea",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat||this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangebar":case"rangecolumn":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"rangecolumn",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"boxplot":for(S=0;S<M.PointValues.length;S++)w=[M.PointValues[S].High,M.PointValues[S].Low,M.PointValues[S].Start,M.PointValues[S].End,M.PointValues[S].Mean,M.PointValues[S].Median],E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(w),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.loaded=$.proxy(this._boxplotLoaded,this,g[0].id),"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"boxandwhisker",boxPlotMode:"exclusive",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangestock":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),open:M.PointValues[S].Start?M.PointValues[S].Start:0,close:M.PointValues[S].End?M.PointValues[S].End:0,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"hiloopenclose",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"candlestick":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),low:M.PointValues[S].Low?M.PointValues[S].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[S].High?M.PointValues[S].High:0,q[0].LabelFormat),open:M.PointValues[S].Start?M.PointValues[S].Start:0,close:M.PointValues[S].End?M.PointValues[S].End:0,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"candle",name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"errorbar":for(S=0;S<M.PointValues.length;S++)E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==W?I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,"Secondary")),I.primaryXAxis={visible:!1},X="XAxis"),"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"scatter",errorBar:{visibility:"visible",type:"percentage"},name:F,xAxisName:X,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(I,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"scatter":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,xName:"x",yName:"y",points:E,type:"scatter",name:F,visibility:M.Visibility?"visible":"hide"}),I.primaryXAxis=this._getChartAxis(G[0],e.IsLabelIndex,"XAxis",A.ChartSeries[0].Type,A.Chart3D?A.Chart3D.Enabled:null,M.DataType,e.CustomProperties),I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",A.ChartSeries[0].Type,A.Chart3D?A.Chart3D.Enabled:null,null,e.CustomProperties),y=I.primaryYAxis&&"datetime"===I.primaryYAxis.valueType&&"seconds"===I.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==G[0].LabelFormat?y&&this.chartLoadEvent(I,null,null,y):this.chartLoadEvent(M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,y),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"bubble":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),size:.5,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,points:E,type:"bubble",name:F,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"polar":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==U?I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"polar",name:F,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"radar":for(S=0;S<M.PointValues.length;S++)E.push({fill:null!=M.PointValues[S].Style&&null!=M.PointValues[S].Style.Color?this._getSeriesColor(M.PointValues[S],O,e.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].IsDateY?this._getChartDate(M.PointValues[S].Y):M.PointValues[S].Y,q[0].LabelFormat),text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,F),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);"primary"==U?(I.primaryYAxis=this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Primary",e.CustomProperties),I.primaryXAxis={range:{interval:1}}):(I.axes.push(this._getChartAxis(q[0],e.IsLabelIndex,"YAxis",M.Type,A.Chart3D?A.Chart3D.Enabled:null,null,"Secondary")),I.primaryYAxis={visible:!1},H="YAxis"),I.series.push({trendlines:N,points:E,type:"radar",drawType:"area",name:F,yAxisName:H,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,I.series[R]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(I.series[R].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,_),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"explodeddoughnut":for(S=0;S<M.PointValues.length;S++)null!=M.PointValues[S].Y&&M.PointValues[S].Y!=undefined&&(C=this._getSeriesColor(M.PointValues[S],O,e.PaletteColors),M.PointValues[S].Y&&E.push({x:this._getAxisLabelFormatedValues(M.PointValues[S].X?M.PointValues[S].IsDateX?this._getChartDate(M.PointValues[S].X):M.PointValues[S].X:"",G[0].LabelFormat),y:this._getAxisLabelFormatedValues(M.PointValues[S].Y,q[0].LabelFormat),fill:C,text:M.PointValues[S].ChartDataLabel.Label?M.PointValues[S].ChartDataLabel.Label:"",tooltip:M.PointValues[S].ToolTip?M.PointValues[S].ToolTip:""}),this.addLegendName(M.PointValues[S].LegendVisibility,M.PointValues[S].X),M.PointValues[S].Style&&M.PointValues[S].Style.Border&&M.PointValues[S].Style.Border.Default&&this._setBorderProp(M.PointValues[S].Style.Border,E[S]),M.PointValues[S].ActionInfo&&V.push(M.PointValues[S].ActionInfo)),this._setIsDataLabel(M.PointValues[S].ChartDataLabel.Label);I.series.push({trendlines:N,startAngle:90,points:E,type:"doughnut",explodeAll:!0,name:F,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(I.series[R].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)})}I.series.length>0&&(M.PointValues.length>0&&(I.series[R].fill=this._getSeriesColor(M.PointValues[0],O,e.PaletteColors),M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&(I.series[R].width=M.PointValues[0].Style.Border.Default.Thickness)),V.length>0&&(I.pointRegionClick=this._drillThroughClick,I.ejreportid=this._id,g.setAttribute(g.id+"actionObj_Series"+_,JSON.stringify(V)),I.pointRegionMouseMove=this._chartSeriesMouseHover),this._updateSmartLabel(I,R,M,M.Type))}$("#"+g.id).ejChart(I)}}else if(e.NoRowModel&&e.ChartNoDataMessage){I={series:[],chartArea:{border:{width:0}},isResponsive:!0,enableCanvasRendering:d},k=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),o,r,n);var Z=this._buildTag("div",null,e.ToolTip,{id:k});return this._appendChild(a,Z),this._setTagStyle(Z,{position:i&&s.height?"relative":"absolute",top:e.Top+"px",left:e.Left+"px",width:e.Width+"px",height:e.Height+"px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),e.ChartStyle&&e.ChartStyle.Border&&this._applyBorderStyle(e.ChartStyle.Border,Z),T=this._buildTag("div",null,e.ToolTip,{id:L+"_"+this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name)+"_"+e.ChartNoDataMessage.Name+(r?"_"+n:"")}),r||this._dataVisualization.push({name:null!=e.ItemName?e.ItemName:e.Name,id:T.id,type:"ChartModel"}),T.style.height=e.Height+"px",this._appendChild(Z,T),e.ChartTiles&&e.ChartTiles.length>0&&e.ChartTiles[0].Visible&&(I.title=this._getChartTitle(e.ChartTiles[0])),null==I.title||null!=I.title&&""==I.title.text?I.title=this._getChartTitle(e.ChartNoDataMessage):I.title.subTitle=this._getChartTitle(e.ChartNoDataMessage),I.primaryXAxis={},I.primaryXAxis.visible=!1,I.primaryXAxis.majorGridLines={},I.primaryXAxis.majorGridLines.visible=!1,I.primaryYAxis={},I.primaryYAxis.visible=!1,I.primaryYAxis.majorGridLines={},I.primaryYAxis.majorGridLines.visible=!1,void $("#"+T.id).ejChart(I)}},_setIsDataLabel:function(e){!this._isDataLabel&&e&&(this._isDataLabel=!0)},_getAxisLabelFormatedValues:function(e,t){return ej.isNullOrUndefined(e)||"#,0,,;(#,0,,)"!=t?e:e/1e6},_update3DChartProperties:function(e,t,i,s){e.enable3D=t.Chart3D.Enabled,e.enableRotation=t.Chart3D.Enabled,e.depth=t.Chart3D.DepthRatio,e.crosshair={visible:!0},e.rotation=t.Chart3D.Rotation,e.loaded=$.proxy(this._chartLoaded,this),e.chartMouseMove=$.proxy(this._chartMouseMove,this);var a=this._getCustomPropertyValue(i.CustomProperties,"tilt"),o=this._getCustomPropertyValue(i.CustomProperties,"columnwidth");null!=a&&(e.tilt=a),null!=o&&(e.commonSeriesOptions.columnWidth=o),this._isShapeChartType(s)||(e.perspectiveAngle=t.Chart3D.Perspective,e.wallSize=t.Chart3D.WallThickness)},chartLoadEvent:function(e,t,i,s){s&&this._updateStackingColumn(e),e.load=function(e){var a,o,r,n,l,d,h,c,u,p,m,g,_;if(null!==t||null!==i)for(a=e.model.series.length,o=0;o<a;o++)for(r=e.model.series[o].points.length,n=0;n<r;n++)e.model.series[o].points[n].x=ej.parseDate(e.model.series[o].points[n].x,i,t);if(s){var f=e.model.primaryYAxis.range?e.model.primaryYAxis.range:{},b=e.model.series,v=!f.min,x=!f.max;for(v&&(f.min=1/0),x&&(f.max=null),l=0;l<b.length;l++)for(d=b[l].points,h=0;h<d.length;h++)c=new Date(d[h].y),b[l].points[h].y=c,c<f.min&&(f.min=c),"stackingcolumn"===b[l].type?f.max?(f.max=new Date(f.max),f.max.setHours(f.max.getHours()+c.getHours()),f.max.setMinutes(f.max.getMinutes()+c.getMinutes()),f.max.setSeconds(f.max.getSeconds()+c.getSeconds())):f.max=new Date(f.min.getTime()):c>f.max&&(f.max=c);for(f.min=v?new Date(new Date(f.min).setSeconds(new Date(f.min).getSeconds()-10)).toISOString():new Date(f.min).toISOString(),f.max=x?new Date(new Date(f.max).setSeconds(new Date(f.max).getSeconds()+20)).toISOString():new Date(f.max).toISOString(),e.model.primaryYAxis.range=f,u=$.extend(!0,{},b),p=0;p<b.length;p++)if("stackingcolumn"===e.model.series[p].type)for(_=0;_<e.model.series[p].points.length;_++)0===p?(e.model.series[p].points[_].y=new Date(u[p].points[_].y),m=e.model.series[p].points[_].y):((g=new Date(e.model.series[p].points[_].y)).setHours(m.getHours()+g.getHours()),g.setMinutes(m.getMinutes()+g.getMinutes()),g.setSeconds(m.getSeconds()+g.getSeconds()),e.model.series[p].points[_].y=new Date(g.getTime()-m),m=g)}}},_updateStackingColumn:function(e){e.seriesRendering=function(e){"stackingcolumn"===e.model.series[0].type&&e.data.series.name===e.model.series[0].name&&(e.model.series[0].stackedValue.StartValues[0]=new Date(e.model.primaryYAxis.range.min).getTime())},e.toolTipInitialize=function(e){if("stackingcolumn"===e.model.series[0].type){var t=e.data.currentText.split(":",3);t.push(e.model.series[e.data.seriesIndex].points[e.data.pointIndex].YValues[0]),e.data.currentText=t.join(":")}}},legendItemRender:function(e){if(!ej.isNullOrUndefined(this._legendPointNames))for(var t=0;t<this._legendPointNames.length;t++)e.data.legendItem.Text===this._legendPointNames[t]&&(e.data.legendItem.Text="",e.cancel=!0)},addLegendName:function(e,t){ej.isNullOrUndefined(e)||"true"!=e.toLowerCase()||this._legendPointNames.push(t)},_boxplotLoaded:function(e,t){for(var i,s,a=t.model._visibleSeries,o=0;o<a.length;o++)for(i=t.model._visibleSeries[o]._visiblePoints,s=0;s<i.length;s++){var r="#"+e+"_svg_Series"+o+"_Point"+s,n=parseFloat($(r)[0].getAttribute("x")),l=parseFloat($(r)[0].getAttribute("width")),d=i[s].boxPlotLocation[0],h="M "+n+" "+d.Y+" L "+(n+l)+" "+d.Y+" Z",c=document.querySelectorAll(r+"_whisker")[2];c.setAttribute("d",h),c.setAttribute("stroke-dasharray","3,5")}},_chartLoaded:function(e){this._applySeriesBorder(e)},_chartMouseMove:function(e){this._applySeriesBorder(e)},_applySeriesBorder:function(){for(var e,t=$("path[id*='_Region_Series_']").attr("style","stroke-width: 1; stroke: #505050;"),i=0;i<t.length;i++)(e=t[i].getAttribute("d")).indexOf("z")<0&&t[i].setAttribute("d",e+"z")},_updateSmartLabel:function(e,t,i,s){var a,o,r,n,l,d,h,c;if(!ej.isNullOrUndefined(i)){if(a=e.series[t],i.TooltipX||i.TooltipY){if(o=!1,r=!1,a.points&&a.points.length>0)for(o=!0,n=0;n<a.points.length;n++)if(r=!!a.points[n].tooltip,ej.isNullOrUndefined(l=a.points[n].text)||0==l.length){o=!1;break}a.tooltip=r?{format:"#point.tooltip#<br/>",visible:!0}:{format:" "+(null==i.TooltipX?"":i.TooltipX+" : #point.x#<br/>")+(null==i.TooltipY?"":i.TooltipY+" : "+(o?"#point.text#":"#point.y#")),visible:!0}}else a.tooltip={format:" x: #point.x#<br/>y: #point.y#",visible:!0};if(ej.isNullOrUndefined(i.ChartSmartLabel)||i.ChartSmartLabel.Disabled||(e.commonSeriesOptions.enableSmartLabels=!0),!ej.isNullOrUndefined(i.CustomProperties)&&i.CustomProperties.length>0)for(d=0;d<i.CustomProperties.length;d++)h=this._getCustomProp(i.CustomProperties[d],s),!ej.isNullOrUndefined(h)&&!ej.isNullOrUndefined(h.Value)&&h.Value.length>0&&(e.commonSeriesOptions.enableSmartLabels=!0,this._isShapeChartType(s)?(a.labelPosition="OutsideInColumn"===h.Value?"outside":h.Value.toLowerCase(),"pie"==s&&"outside"==e.series[t].labelPosition&&(e.commonSeriesOptions.pieCoefficient=.5),("doughnut"==s||"explodeddoughnut"==s)&&"doughnutradius"==h.Name.toLowerCase()&&(e.series[t].doughnutCoefficient=h.Value)):"labelstyle"==h.Name.toLowerCase()&&(c=this._getPosition(h.Value),a.marker.dataLabel.horizontalTextAlignment=c.horizontalTextAlignment,a.marker.dataLabel.textPosition=c.textPosition),(this._isColumnChartType(s)||this._isBarChartType(s)||this._isRangeChartType(s))&&("pointwidth"==h.Name.toLowerCase()||"pixelpointwidth"==h.Name.toLowerCase())&&(e.series[t].columnWidth=h.Value))}},_getTrendlineType:function(e,t){return"trendlinetype"==e&&("linear"==t||"exponential"==t||"logarithmic"==t||"power"==t||"polynomial"==t||"movingaverage"==t)},_getTrendline:function(e,t,i){for(var s,a={},o=0;o<e.length;o++)switch((s=e[o]).Name.toLowerCase()){case"trendlinetype":a.type=s.Value;break;case"trendlinecolor":a.fill=s.Value;break;case"enabletrendline":a.visibility="visible";break;case"trendlinelegendtext":a.name=s.Value;break;case"Trendlinewidth":a.width=s.Value;break;case"Trendlineopacity":a.opacity=s.Value;break;case"trendlinestrokedasharray":a.dashArray=s.Value;break;case"trendlineperiod":a.period=s.Value;break;case"trendlineintercept":a.intercept=s.Value;break;case"trendlineforwardcast":a.forwardForecast=s.Value;break;case"trendlinebackwardcast":a.backwardForecast=s.Value;break;case"trendlinepolynomialorder":a.polynomialOrder=s.Value;break;case"showtrendlinelegend":i&&(a.visibleOnLegend="hidden");break;case"trendlineTtooltip":a.tooltip=s.Value}return a},_isShapeChartType:function(e){return"pie"==e||"explodedpie"==e||"doughnut"==e||"explodeddoughnut"==e||"pyramid"==e||"funnel"==e},_isColumnChartType:function(e){return"column"==e||"stackingcolumn"==e||"stackingcolumn100"==e},_isBarChartType:function(e){return"bar"==e||"stackingbar"==e||"stackingbar100"==e},_isRangeChartType:function(e){return"rangecolumn"==e||"rangebar"==e||"rangearea"==e||"rangestock"==e||"errorbar"==e||"candlestick"==e},_is3DChartType:function(e){return"column"==e||"stackingcolumn"==e||"stackingcolumn100"==e||"bar"==e||"stackingbar"==e||"stackingbar100"==e||"pie"==e||"doughnut"==e},_getCustomPropertyValue:function(e,t){if(!ej.isNullOrUndefined(e)&&e.length>0)for(var i=0;i<e.length;i++)if(e[i].Name.toLowerCase()===t)return e[i].Value;return null},_getCustomProp:function(e,t){switch(t){case"pie":case"explodedpie":case"doughnut":case"explodeddoughnut":if("pielabelstyle"===e.Name.toLowerCase()||"doughnutradius"===e.Name.toLowerCase())return e;case"funnel":if("funnellabelstyle"===e.Name.toLowerCase())return e;case"pyramid":if("pyramidlabelstyle"===e.Name.toLowerCase())return e;case"bar":case"stackingbar":case"stackingbar100":case"column":case"stackingcolumn":case"stackingcolumn100":case"rangecolumn":case"rangebar":case"candlestick":if("pixelpointwidth"===e.Name.toLowerCase()||"barlabelstyle"===e.Name.toLowerCase()||"pointwidth"===e.Name.toLowerCase())return e;case"line":case"spline":case"stepline":case"linewithmarkers":case"splinewithmarkers":case"area":case"splinearea":case"scatter":case"bubble":case"rangearea":case"polar":case"radar":if("labelstyle"===e.Name.toLowerCase())return e}},_setBorderProp:function(e,t){switch(t.border={},e.Default.BorderBrush&&(t.border.color=e.Default.BorderBrush),"None"!=e.Default.BorderStyle?t.border.width=e.Default.Thickness:(t.border.width=0,t.border.color="transparent"),e.Default.BorderStyle){case"Dotted":t.border.dashArray="3,3";break;case"Dashed":t.border.dashArray="10,10";break;case"DashDot":t.border.dashArray="10,10,4,10";break;case"DashDotDot":t.border.dashArray="20,10,4,4,4,10";break;default:t.border.dashArray="0"}},_chartSeriesMouseHover:function(e){if(ej.isNullOrUndefined($("#"+this._id).data(this._id+"actionObj_Series"+e.data.region.SeriesIndex)))return!1;$("#"+this._id+"_svg_Series"+e.data.region.SeriesIndex+"_Point"+e.data.region.Region.PointIndex).css("cursor","pointer")},_getChartTitle:function(e){var t={font:{size:"10pt"},border:{width:1,color:"transparent"},text:"",textAlignment:"",background:"",visible:!1};return e.Caption&&e.Visible&&(t.visible=e.Visible,t.text=e.Caption,t.textAlignment=this._getTextAlignment(e.Position),e.Style&&(t.font.color=e.Style.Color?e.Style.Color:"Black",e.Style.FillStyle&&e.Style.FillStyle.BackgroundColor&&(t.background=e.Style.FillStyle.BackgroundColor),e.Style.Font&&(e.Style.Font.FontFamily&&(t.font.fontFamily=e.Style.Font.FontFamily),e.Style.Font.FontStyle&&(t.font.fontStyle="Default"!==e.Style.Font.FontStyle?e.Style.Font.FontStyle.toLowerCase():""),e.Style.Font.FontWeight&&(t.font.fontWeight=this._getFontWeight(e.Style.Font.FontWeight)),0!=e.Style.Font.FontSize&&(t.font.size=e.Style.Font.FontSize+"px")),e.Style.Border&&this._setBorderProp(e.Style.Border,t))),t},_getFontWeight:function(e){var t="";switch(e){case"Default":t="";break;case"Normal":t="regular";break;case"Thin":case"ExtraLight":case"Light":t="lighter";break;case"Bold":case"ExtraBold":case"SemiBold":case"Heavy":t="bold";break;default:t=""}return t},_getTextAlignment:function(e){var t;switch(e){case"TopCenter":case"Default":case"Center":t="center";break;case"Left":case"TopLeft":case"Near":t="near";break;case"Right":case"TopRight":case"Far":t="far";break;default:t="center"}return t},_getSeriesMarker:function(e,t,i){var s,a={border:{},size:{},visible:!1};return e.ChartMarker&&(s=e.ChartMarker.MarkerType,a.visible=!0,a.shape="scatter"!==t||"None"!==s&&"Auto"!==s?this._getMarkerType(s):this._getMarkerShape(i),e.ChartMarker.Color&&(a.fill=e.ChartMarker.Color),e.ChartMarker.BorderColor&&(a.border.color=e.ChartMarker.BorderColor),e.ChartMarker.Borderwidth&&(a.border.width=e.ChartMarker.Borderwidth),e.ChartMarker.Size&&(a.size.height=a.size.width=e.ChartMarker.Size)),a},_getMarkerShape:function(e){var t="rectangle";return e%6==0?t="rectangle":e%6==1?t="circle":e%6==2?t="diamond":e%6==3?t="triangle":e%6==4?t="cross":e%6==5&&(t="star"),t},_getMarkerType:function(e){switch(e){case"Auto":case"Square":return"rectangle";case"Circle":return"circle";case"Diamond":return"diamond";case"Triangle":return"triangle";case"Cross":return"cross";case"Star4":case"Star5":case"Star6":case"Star10":return"star";default:return"none"}},_getMarkerDataLabel:function(e){var t,i={connectorLine:{},font:{},border:{},showEdgeLabels:!0};return i.visible=(this._isDataLabel||e.UsExvalueAsLabel)&&e.Visible,e.Visible&&(i.connectorLine.type="line",i.connectorLine.width=.5,i.angle=e.Rotation,i.font.color=e.TextColor?e.TextColor:"Black",e.Font&&(i.font.fontFamily=e.Font.FontFamily,i.font.fontStyle="Default"==e.Font.FontStyle||"Normal"==e.Font.FontStyle?"normal":"italic",i.font.fontWeight="Light"==e.Font.FontWeight?"lighter":e.Font.FontWeight.toLowerCase(),i.font.size=e.Font.FontSize+"px"),e.BorderStyle&&"None"!=e.BorderStyle&&(i.border.color=e.BorderColor,i.border.width=e.BorderWidth?e.BorderWidth:1.333,i.shape="Rectangle"),e.BackGroundColor&&(i.fill=e.BackGroundColor),t=this._getPosition(e.Position),i.horizontalTextAlignment=t.horizontalTextAlignment,i.textPosition=t.textPosition,i.textAnchor=t.textAnchor,i.offset={y:t.y}),i},_getPosition:function(e){var t={y:0};switch(e){case"Auto":case"Top":t.horizontalTextAlignment="center",t.textPosition="top",t.textAnchor="start";break;case"TopLeft":t.horizontalTextAlignment="near",t.textPosition="top",t.textAnchor="start";break;case"TopRight":t.horizontalTextAlignment="far",t.textPosition="top",t.textAnchor="start";break;case"Center":t.horizontalTextAlignment="center",t.textPosition="middle",t.textAnchor="middle",t.y=4;break;case"Left":t.horizontalTextAlignment="near",t.textPosition="middle",t.textAnchor="middle",t.y=4;break;case"Right":t.horizontalTextAlignment="far",t.textPosition="middle",t.textAnchor="middle",t.y=4;break;case"Bottom":t.horizontalTextAlignment="center",t.textPosition="bottom",t.textAnchor="start",t.y=4;break;case"BottomLeft":t.horizontalTextAlignment="near",t.textPosition="bottom",t.textAnchor="start",t.y=4;break;case"BottomRight":t.horizontalTextAlignment="far",t.textPosition="bottom",t.textAnchor="start",t.y=4;break;default:t.horizontalTextAlignment="",t.textPosition="top",t.textAnchor="middle"}return t},_getChartLegend:function(e){var t,i=e.ChartLegends[0],s={shape:"seriestype",enableScrollbar:!1,toggleSeriesVisibility:!0,font:{},border:{},background:"",title:{text:"",textAlignment:"",font:{}}};if(e.CustomProperties&&e.CustomProperties.length>0)for(t=0;t<e.CustomProperties.length;t++){if("enablechartlegendscroller"==e.CustomProperties[t].Name.toLowerCase()&&"true"==e.CustomProperties[t].Value){s.enableScrollbar=!0;break}if("disablelegendinteraction"==e.CustomProperties[t].Name.toLowerCase()&&"true"==e.CustomProperties[t].Value){s.toggleSeriesVisibility=!1;break}if("legendmaxautosize"==e.CustomProperties[t].Name.toLowerCase()&&null!=e.CustomProperties[t].Value){s.legendContainerWidth=e.CustomProperties[t].Value;break}}return s.visible=i.Visibilty,i.Alignment&&(s.alignment=i.Alignment),i.Position&&(s.position=i.Position),i.Style&&(s.font.color=i.Style.Color?i.Style.Color:"gray",i.Style.FillStyle&&i.Style.FillStyle.BackgroundColor&&(s.background=i.Style.FillStyle.BackgroundColor),i.Style.Font&&(i.Style.Font.FontFamily&&(s.font.fontFamily=i.Style.Font.FontFamily),i.Style.Font.FontStyle&&(s.font.fontStyle=i.Style.Font.FontStyle),i.Style.Font.FontWeight&&(s.font.fontWeight=i.Style.Font.FontWeight),0!=i.Style.Font.FontSize&&(s.font.size=i.Style.Font.FontSize+"px")),i.Style.Border&&i.Style.Border.Default&&(i.Style.Border.Default.BorderBrush&&"None"!=i.Style.Border.Default.BorderStyle&&(s.border.color="Default"==i.Style.Border.Default.BorderStyle?"transparent":i.Style.Border.Default.BorderBrush),0!=i.Style.Border.Default.Thickness&&(s.border.width=i.Style.Border.Default.Thickness))),i.LegendTile&&(i.LegendTile.Caption&&(s.title.text=i.LegendTile.Caption),i.LegendTile.Style&&(i.LegendTile.Style.Color&&(s.title.font.color=i.LegendTile.Style.Color),i.LegendTile.Style.Font&&(i.LegendTile.Style.Font.FontFamily&&(s.title.font.fontFamily=i.LegendTile.Style.Font.FontFamily),i.LegendTile.Style.Font.FontStyle&&(s.title.font.fontStyle="Default"!==i.LegendTile.Style.Font.FontStyle?i.LegendTile.Style.Font.FontStyle.toLowerCase():""),i.LegendTile.Style.Font.FontWeight&&(s.title.font.fontWeight=this._getFontWeight(i.LegendTile.Style.Font.FontWeight)),0!=i.LegendTile.Style.Font.FontSize&&(s.title.font.size=i.LegendTile.Style.Font.FontSize+"px"))),i.LegendTile.TileAlignment&&(s.title.textAlignment=this._getTextAlignment(i.LegendTile.TileAlignment))),s},_getSeriesColor:function(e,t,i){var s;return null!=i&&(t.value=t.value<i.length?t.value:0),e.Style&&e.Style.Color?s=e.Style.Color:null!=i&&i.length>0&&(s=i[t.value],t.value++),s},_legendOrder:function(e){e.model.legendCollection.reverse()},_applyBackgroundGradientStyle:function(e,t){switch(e.BackgroundGradientType){case"LeftRight":t.style.background="linear-gradient(to right,"+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"TopBottom":t.style.background="linear-gradient("+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"Center":t.style.background="radial-gradient("+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"DiagonalLeft":t.style.background="linear-gradient(to bottom right,"+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"DiagonalRight":t.style.background="linear-gradient(to bottom left,"+e.BackgroundColor+", "+e.BackgroundGradientEndcolor+")";break;case"HorizontalCenter":t.style.background="linear-gradient("+e.BackgroundColor+","+e.BackgroundGradientEndcolor+", "+e.BackgroundColor+")";break;case"VerticalCenter":t.style.background="linear-gradient(90deg,"+e.BackgroundColor+","+e.BackgroundGradientEndcolor+", "+e.BackgroundColor+")"}},_getChartAxis:function(e,t,i,s,a,o,r,n){var l,d,h,c,u,p,m={title:{font:{}},font:{},range:{},axisLine:{},majorGridLines:{},minorGridLines:{},majorTickLines:{},minorTickLines:{},multiLevelLabels:[],stripLine:[],edgeLabelPlacement:"shift"};if(n&&n.length>0)for(c=0;c<n.length;c++)("XAxis"==i&&"XAxisRangePadding"==n[c].Name||"YAxis"==i&&"YAxisRangePadding"==n[c].Name)&&(m.rangePadding=n[c].Value),("XAxis"==i&&"XAxisEdgeLabelPlacement"==n[c].Name||"YAxis"==i&&"YAxisEdgeLabelPlacement"==n[c].Name)&&(m.edgeLabelPlacement=n[c].Value);if(m.font.color=e.LabelColor?e.LabelColor:"gray",e.LabelFont&&(m.font.fontFamily=e.LabelFont.FontFamily,m.font.size=e.HideLabels?"0px":e.LabelFont.FontSize,m.font.fontStyle="Default"==e.LabelFont.FontStyle?"Normal":e.LabelFont.FontStyle,m.font.fontWeight=e.LabelFont.FontWeight),"XAxis"==i&&(m.isIndexed=t,e.CategoryLabel))for(d in m.crosshairLabel={visible:(l=e.CategoryLabel).Enable},m.valueType="category",m.labelBorder={width:1,color:"transparent",type:"none"},m.textAlignment=l.TextAlignment?l.TextAlignment:"center",l.BorderColor&&(m.labelBorder.color=l.BorderColor),l.BorderStyle&&(m.labelBorder.type=l.BorderStyle),l.LabelPoints)for(h=l.LabelPoints[d],c=0;c<h.length;c++)m.multiLevelLabels.push({visible:!0,text:h[c].Text,start:h[c].Start,end:h[c].End,level:d,font:m.font,textAlignment:m.textAlignment,border:m.labelBorder});if(null!=e.ChartStripLines&&e.ChartStripLines.length>0)for(u=e.ChartStripLines.length,p=0;p<u;p++)m.stripLine.push(this._getStripLines(e.ChartStripLines[p]));return e.ChartAxisTitle&&(e.ChartAxisTitle.Caption&&(m.title.text=e.ChartAxisTitle.Caption),e.ChartAxisTitle.TextColor&&(m.title.font.color=e.ChartAxisTitle.TextColor),e.ChartAxisTitle.Font&&(e.ChartAxisTitle.Font.FontSize&&(m.title.font.size=e.ChartAxisTitle.Font.FontSize),e.ChartAxisTitle.Font.FontFamily&&(m.title.font.fontFamily=e.ChartAxisTitle.Font.FontFamily),e.ChartAxisTitle.Font.FontStyle&&(m.title.font.fontStyle=e.ChartAxisTitle.Font.FontStyle))),(null!=e.Maximum||null!=e.Minimum)&&(m.setRange=!0,m.range.min=e.Minimum,m.range.max=e.Maximum,e.IsDateMin&&(m.range.min=this._getChartDate(e.Minimum)),e.IsDateMax&&(m.range.max=this._getChartDate(e.Maximum))),0!=e.Interval&&(m.setRange=!0,"XAxis"==i&&(m.valueType="category"),m.range.interval=e.Interval),m.labelFormat=e.LabelFormat,"#,0,,;(#,0,,)"==e.LabelFormat&&(m.labelFormat=null),"0\\%"==e.LabelFormat&&(m.labelFormat="{value}%",null==e.Minimum&&(m.range.min=0)),"XAxis"==i||a?"XAxis"==i&&("spline"==s||"line"==s||"stepline"==s)&&(m.labelPlacement="onticks",m.rangePadding="additional"):m.labelPlacement="onticks",e.ChartMajorGridLines&&(m.majorGridLines=this._getGridLines(e.ChartMajorGridLines)),e.ChartMinorGridLines&&(m.minorGridLines=this._getGridLines(e.ChartMinorGridLines)),e.ChartMajorTickMarks&&(m.majorTickLines=this._getTickMarks(e.ChartMajorTickMarks)),e.ChartMinorTickMarks&&(m.minorTickLines=this._getTickMarks(e.ChartMinorTickMarks)),null!=e.Labels&&e.Labels.length>0?m.labelIntersectAction="trim":e.LabelsAutoFitEnabled?m.labelIntersectAction=e.PrExventWordWrap&&e.PrExventLabelOffset?"none"!=e.AllowLabelRotation?e.AllowLabelRotation:"trim":e.PrExventLabelOffset?"wrapByWord":"multipleRows":e.Angle?m.labelRotation=e.Angle:m.labelIntersectAction=e.LabelOverFlowMode,e.LineColor&&(m.axisLine.color=e.LineColor),e.LineWidth&&(m.axisLine.width=e.LineWidth),e.HideEndLabels&&(m.edgeLabelPlacement="hide"),m.visible=m.axisLine.visible="True"==e.VisibleStatus||"Auto"==e.VisibleStatus,"None"==e.LineStyle&&(m.axisLine.visible=!1),"XAxis"==i&&(m.valueType=ej.isNullOrUndefined(o)||"DateTime"!=o||null==e.LabelFormat?"category":"datetimecategory"),ej.isNullOrUndefined(o)||"DateTime"!=o||"Years"!=e.IntervalType&&"Months"!=e.IntervalType&&"Days"!=e.IntervalType&&"Hours"!=e.IntervalType&&"Minutes"!=e.IntervalType&&"Seconds"!=e.IntervalType&&"Milliseconds"!=e.IntervalType&&"Weeks"!=e.IntervalType||(m.intervalType=e.IntervalType.toLowerCase(),ej.isNullOrUndefined(m.valueType)&&(m.valueType="datetime")),(e.IsDateMin||e.IsDateMax)&&(ej.isNullOrUndefined(m.valueType)&&(m.valueType="datetime"),("Years"==e.IntervalType||"Months"==e.IntervalType||"Days"==e.IntervalType||"Hours"==e.IntervalType||"Minutes"==e.IntervalType||"Seconds"==e.IntervalType||"Milliseconds"==e.IntervalType||"Weeks"==e.IntervalType)&&(m.intervalType=e.IntervalType.toLowerCase())),"Secondary"==r&&(m.opposedPosition=!0,m.name=i),m},_getStripLines:function(e){var t={font:{},visible:!0,zIndex:"behind",start:e.IntervalOffset,width:e.StripWidth,isRepeat:!!(e.Interval&&e.Interval>0),repeatEvery:e.Interval?e.Interval:0,text:e.Title,textAlignment:this._getStripLineTextAlign(e.Style.TextAlign)};return t.sizeType="Default"==e.IntervalType?"auto":"Number"==e.IntervalType?"pixel":e.IntervalType.toLowerCase(),e.Style&&(e.Style.FillStyle&&e.Style.FillStyle.BackgroundColor&&(t.color=e.Style.FillStyle.BackgroundColor),e.BackgroundImg&&(t.imageUrl=this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+(this.model.printMode?"PrintImage":"GetResource")+"/?key="+e.BackgroundImg+"&resourcetype=sfimg&isPrint="+this.model.printMode,!1)),e.Style.Border&&"Default"!=e.Style.Border.Default.BorderStyle&&"None"!=e.Style.Border.Default.BorderStyle?(e.Style.Border.Default.BorderBrush&&(t.borderColor=e.Style.Border.Default.BorderBrush),0!=e.Style.Border.Default.Thickness&&(t.borderWidth=e.Style.Border.Default.Thickness)):t.borderWidth=0,e.Style.Color&&(t.font.color=e.Style.Color),e.Style.Font&&(e.Style.Font.FontFamily&&(t.font.fontFamily=e.Style.Font.FontFamily),0!=e.Style.Font.FontSize&&(t.font.size=e.Style.Font.FontSize+"px"),e.Style.Font.FontStyle&&(t.font.fontStyle="Default"!==e.Style.Font.FontStyle?e.Style.Font.FontStyle.toLowerCase():""),e.Style.Font.FontWeight&&(t.font.fontWeight=this._getConvertedFontWeight(e.Style.Font.FontWeight)))),t},_getStripLineTextAlign:function(e){switch(e.toLowerCase()){case"left":return"middletop";case"center":return"middlecenter";case"right":return"middlebottom";default:return"middletop"}},_getGridLines:function(e){var t={};return t.visible=e.Enabled,e.Enabled&&e.Style&&e.Style.Default&&(e.Style.Default.BorderBrush&&(t.color=e.Style.Default.BorderBrush),"None"!=e.Style.Default.BorderStyle&&(t.width=e.Style.Default.Thickness),"Dashed"==e.Style.Default.BorderStyle?t.dashArray="2,4":"Dotted"==e.Style.Default.BorderStyle&&(t.dashArray="2,2")),t},_getTickMarks:function(e){var t={};return t.visible=e.Enabled,e.Enabled&&(e.Style&&e.Style.Default&&(e.Style.Default.BorderBrush&&(t.color=e.Style.Default.BorderBrush),e.Style.Default.Thickness&&(t.width=e.Style.Default.Thickness),"None"==e.Style.Default.BorderStyle&&(t.visible=!1)),e.Length&&(t.size=e.Length)),t},_renderImageControl:function(e,t,i,s,a,o){var r,n,l,d,h=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),c=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:h},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Image")+e.Name}),u={};this._appendChild(i,c),u["-webkit-box-sizing"]="border-box",u["-moz-box-sizing"]="border-box",u["box-sizing"]="border-box",u.position=t&&e.IsTablixChild?"relative":"absolute",u.top=e.Top+"px",u.left=e.Left+"px",u.width=e.Width+"px",u.height=e.Height+"px",u.overflow="hidden",u.visibility=e.Hidden?"hidden":"visible",u["padding-left"]=e.PaddingLeft+"px",u["padding-right"]=e.PaddingRight+"px",u["padding-top"]=e.PaddingTop+"px",u["padding-bottom"]=e.PaddingBottom+"px",e.ActionInfo&&(c.setAttribute("actionObj",JSON.stringify(e.ActionInfo)),c.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),e.Border&&!e.IsTablixChild&&this._applyBorderStyle(e.Border,c),null==e.ExternalImageUrl&&e.EmbedImageData?this._addEmbeddedImage(c,e.ImageWidth,e.ImageHeight,h+"_imgTag",e.ImageUrl):(r=e.ExternalImageUrl?e.ExternalImageUrl:this._getMultiTenantUrl(this.model.reportServiceUrl+"/GetResource/?key="+e.ImageUrl+"&resourcetype=sfimg&isPrint="+a,!1),(n=this._buildTag("img",null,null,{alt:"",id:h+"_imgTag",onload:e.ExternalImageUrl?"ej.ReportViewer.prototype._updateImageScale(this)":"",src:a?"":r,"data-imgUrl":r})).style.width=e.ImageWidth+"px",n.style.height=e.ImageHeight+"px",this._appendChild(c,n),e.Angle&&"0"!=e.Angle&&((l={}).transform="rotate("+(d=e.Angle)+"deg)",l["-webkit-transform"]="rotate("+d+"deg)",l["-ms-transform"]="rotate("+d+"deg)",l["-moz-transform"]="rotate("+d+"deg)",l["-o-transform"]="rotate("+d+"deg)",this._setTagStyle(n,l))),this._setTagStyle(c,u)},_updateImageScale:function(e){if("Uniform"==e.id){var t=Math.min(e.parentNode.offsetWidth/e.naturalWidth,e.parentNode.offsetHeight/e.naturalHeight);e.style.width=e.naturalWidth*t+"px",e.style.height=e.naturalHeight*t+"px"}else"UniformToFill"==e.id&&(e.style.width=e.naturalWidth+"px",e.style.height=e.naturalHeight+"px")},_renderCustomReportItemControl:function(e,t,i,s,a,o){var r,n,l=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),d=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:l},{tabindex:"0","aria-lable":this._getLocaleString("reportItemLabel","Custom")+e.Name}),h={};return this._appendChild(i,d),h["-webkit-box-sizing"]="border-box",h["-moz-box-sizing"]="border-box",h["box-sizing"]="border-box",h.position=t&&e.IsTablixChild?"relative":"absolute",h.top=e.Top+"px",h.left=e.Left+"px",h.width=e.Width+"px",h.height=e.Height+"px",h.overflow="hidden",h.visibility=e.Hidden?"hidden":"visible",h["padding-left"]=e.PaddingLeft+"px",h["padding-right"]=e.PaddingRight+"px",h["padding-top"]=e.PaddingTop+"px",h["padding-bottom"]=e.PaddingBottom+"px",e.ActionInfo&&(d.setAttribute("actionObj",JSON.stringify(e.ActionInfo)),d.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),e.Border&&!e.IsTablixChild&&this._applyBorderStyle(e.Border,d),(this._printMode||a)&&e.EmbedImageData?this._addEmbeddedImage(d,e.Width,e.Height,l+"_imgTag",e.ImageUrl):(r=this._getMultiTenantUrl(this.model.reportServiceUrl+"/GetResource/?key="+e.ImageUrl+"&resourcetype=sfimg&isPrint="+a,!1),(n=this._buildTag("img",null,null,{alt:"",id:l+"_imgTag",onload:"",src:a?"":r,"data-imgUrl":r})).width=e.Width,n.height=e.Height,this._appendChild(d,n)),this._setTagStyle(d,h),d},_renderRectangleControl:function(e,t,i,s,a,o,r){var n,l,d,h,c=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),u=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:c},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Rectangle")+e.Name}),p={};if(this._appendChild(i,u),p["-webkit-box-sizing"]="border-box",p["-moz-box-sizing"]="border-box",p["box-sizing"]="border-box",p.position=t?"relative":"absolute",p.top=e.Top+"px",p.left=e.Left+"px",p.width=e.Width+"px",p.height=e.Height+"px",p["background-color"]=e.BackgroundColor,p.visibility=e.Hidden?"hidden":"visible",e.BackgroundImageSrc&&(p["background-image"]=this._getImageDataURL(e.EmbedImageData,a,a?"PrintImage":"GetResource",e.BackgroundImageSrc)),e.BackgroundRepeate&&(p["background-repeat"]=this._getBackgrounRepeate(e.BackgroundRepeate)),e.Border&&!t&&this._applyBorderStyle(e.Border,u),e.IsTablixChild&&e.ReportModels&&e.ReportModels.length>0)for(n=0;n<e.ReportModels.length;n++)(l=e.ReportModels[n])&&(!ej.isNullOrUndefined(l.ErrorInformation)&&l.ErrorInformation.Message?(d=this._renderErrorItemControl(l,!1,a,o,!1),this._appendChild(u,d)):"TextBoxModel"==l.ItemType?this._renderTextBoxControl(l,!1,c+"_"+l.Name,a,o,u):"LineModel"==l.ItemType?(h=this._renderLineControl(l,c+"_"+l.Name,a,o),this._appendChild(u,h)):"ImageModel"==l.ItemType?this._renderImageControl(l,!1,u,c+"_"+l.Name,a,o):"CustomReportItemModel"==l.ItemType?this._renderCustomReportItemControl(l,!1,u,c+"_"+l.Name,a,o):"TablixModel"==l.ItemType?this._renderTablixControl(l,!1,{},u,c+"_"+l.Name,a,o,r):"GaugeModel"==l.ItemType?this._renderGaugeControl(l,!1,!1,{},u,c+"_"+l.Name,a,o):"RectangleModel"==l.ItemType?this._renderRectangleControl(l,!1,u,c+NaN+l.Name,a,o,r):"ChartModel"==l.ItemType?this._renderChartControl(l,!1,!1,{},u,c+"_"+l.Name,a,o):"MapModel"==l.ItemType?this._renderMapControl(l,!1,u,c+"_"+l.Name,a,o):"SubReportModel"==l.ItemType&&this._renderRectangleControl(l,!1,u,c+NaN+l.Name,a,o,r));this._setTagStyle(u,p)},_renderMapControl:function(e,t,i,s,a,o){var r,n,l=e.MapProperties;t&&(this._id=s,e.Top=0,e.Left=0);var d=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),h=this._buildTag("div","e-reportviewer-tab-focus-none",l.ToolTip,{id:d},{tabindex:"0","aria-lable":this._getLocaleString("reportItemLabel","Map")+e.Name}),c={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};if(this._appendChild(i,h),c.position="absolute",c.top=e.Top+"px",c.left=e.Left+"px",c.height=e.Height+"px",c.width=e.Width+"px",c.visibility=e.Hidden?"hidden":"visible",e.IsTablixChild&&(c.position="relative"),l.ActionInfo&&(h.className+=" drillAction_"+this._id+" e-reportviewer-drillhover",h.setAttribute("actionObj",JSON.stringify(l.ActionInfo))),l.Border&&this._applyBorderStyle(l.Border,h),this._setTagStyle(h,c),l.MapViewport){var u=l.MapViewport,p=this._buildTag("div","",l.ToolTip,{id:d+"_"+(null!=e.ItemName?e.ItemName:e.Name),width:"100%",height:"100%"},{}),m={};this._appendChild(h,p),(n={}).layers=[{type:"Layer",layerType:"Geometry",shapeData:(r=l.MapPolygonLayers&&l.MapPolygonLayers.length>0?l.MapPolygonLayers[0]:null).MapFields,shapePropertyPath:r.MapBindingFieldPairs?r.MapBindingFieldPairs.FieldName:"name",shapeDataPath:"Value",dataSource:e.MapModelData,highlightSettings:{enable:!1},tooltipSettings:this._getTooltipSettings(r),dataLabelSettings:this._getLabelSettings(r),shapeSettings:this._getShapeSettings(r),markerSettings:this._getMarkerSettings(r,e.MapMarkerData),visible:!(!r||!r.MapPolygonTemplate||r.MapPolygonTemplate.Hidden)}],n.height=this._getCalculatedHeight(e.Height,h)+"px",n.width=this._getCalculatedWidth(e.Width,h)+"px",n.background=l.Background.BackgroundColor,n.mapsArea={background:l.Background.BackgroundColor},n.projectionType=this._getMapProjection(u),n.titleSettings=this._getTitleSetting(l.MapTitles),n.legendSettings=this._getLegendSettings(l,n.width,n.height),m.position="relative",this._setTagStyle(p,m),new ejs.maps.Maps(n).appendTo($("#"+p.id)[0])}a||this._dataVisualization.push({name:null!=e.ItemName?e.ItemName:e.Name,id:p.id,type:"MapModel"})},_getCalculatedWidth:function(e,t){return e-("none"!=t.style.borderLeftStyle&&t.style.borderLeftWidth?parseFloat(t.style.borderLeftWidth,10):0)-("none"!=t.style.borderRightStyle&&t.style.borderRightWidth?parseFloat(t.style.borderRightWidth,10):0)},_getCalculatedHeight:function(e,t){return e-("none"!=t.style.borderTopStyle&&t.style.borderTopWidth?parseFloat(t.style.borderTopWidth,10):0)-("none"!=t.style.borderBottomStyle&&t.style.borderBottomWidth?parseFloat(t.style.borderBottomWidth,10):0)},_getTitleSetting:function(e){var t,i=null;return e&&e.length>0&&(i=(t=e[0]).Hidden?{text:""}:{text:t.Text?t.Text:"Map Title",alignment:t.Style.TextAlign?this._getMapTitleAlignment(t.Style.TextAlign):"Left",textStyle:{color:t.Style.TextColor?t.Style.TextColor:"Gray",size:t.Style.Font.FontSize?t.Style.Font.FontSize:"10pt",fontFamily:t.Style.Font.FontFamily?t.Style.Font.FontFamily:"Arial",fontStyle:t.Style.Font.FontStyle?t.Style.Font.FontStyle:"Default",fontWeight:t.Style.Font.FontWeight?this._getConvertedFontWeight(t.Style.Font.FontWeight):"Normal"}}),i},_getMapTitleAlignment:function(e){var t="";switch(e.toLowerCase()){case"center":t="Center";break;case"left":t="Near";break;case"right":t="Far";break;default:t="Center"}return t},_getTooltipSettings:function(e){var t=null;return e&&(t={visible:!0,valuePath:"ToolTipPath"}),t},_getShapeSettings:function(e){var t=null;return e&&e.ShapeSettings&&(t={colorMapping:[],colorValuePath:null,valuePath:null,fill:e.MapPolygonTemplate&&e.MapPolygonTemplate.BackGround&&e.MapPolygonTemplate.BackGround.BackgroundColor?e.MapPolygonTemplate.BackGround.BackgroundColor:"#E5E5E5",border:{color:e.MapPolygonTemplate&&e.MapPolygonTemplate.Border&&e.MapPolygonTemplate.Border.BorderBrush?e.MapPolygonTemplate.Border.BorderBrush:"#ffffff",width:e.MapPolygonTemplate&&e.MapPolygonTemplate.Border&&e.MapPolygonTemplate.Border.Thickness?e.MapPolygonTemplate.Border.Thickness:.75}},e&&e.ShapeColorMappings&&e.ShapeColorMappings.length>0&&(t.colorMapping=e.ShapeColorMappings,t.colorValuePath=e.ShapeSettings.ShapeColorValuePath,t.valuePath=e.ShapeSettings.ShapeValuePath)),t},_getMarkerSettings:function(e,t){var i,s=[];return e&&e.MapCenterPointTemplate&&t.length>0&&(s=[{visible:!e.MapCenterPointTemplate.Hidden,dataSource:t,latitudeValuePath:"LatitudeValuePath",longitudeValuePath:"LongitudeValuePath",colorValuePath:"Color",shapeValuePath:"MapMarkerStyle",imageUrlValuePath:"ImagePath",animationDuration:this.model.enableAnimation?1e3:0,width:i=e.MapCenterPointTemplate.Size?e.MapCenterPointTemplate.Size:"10",height:i,border:this._getMarkerBorder(e),tooltipSettings:this._getTooltipSettings(e)}]),s},_getMarkerBorder:function(e){return{color:e.MapCenterPointTemplate.Border&&e.MapCenterPointTemplate.Border.BorderBrush?e.MapCenterPointTemplate.Border.BorderBrush:"#808080",width:e.MapCenterPointTemplate.Border&&e.MapCenterPointTemplate.Border.Thickness?e.MapCenterPointTemplate.Border.Thickness:.75}},_setBubbleSettings:function(e,t){var i=null;return t.MapCenterPointRules&&t.MapCenterPointRules.length>0&&t.MapCenterPointRules.MapSizeRule&&(i={maxRadius:t.BubbleSettings.MaxSize,minRadius:t.BubbleSettings.MinSize,colorValuePath:null==t.BubbleSettings.ColorValuePath?"Value":t.BubbleSettings.ColorValuePath,valuePath:t.BubbleSettings.ValuePath},t.BubbleColorMappings&&t.BubbleColorMappings.length>1&&(i.colorMappings=t.BubbleColorMappings)),i&&(e.layers[0].bubbleSettings=i),e},_getLabelSettings:function(e){if(e&&e.MapPolygonTemplate&&!e.MapPolygonTemplate.Hidden&&e.ShapeSettings){var t=e.MapPolygonTemplate.ShowLabel?"Trim":"None";return{visible:!!e.MapPolygonTemplate.ShowLabel,labelPath:e.ShapeSettings.LabelPath,textStyle:{color:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.TextColor?e.MapPolygonTemplate.Style.TextColor:"Black",fontFamily:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontFamily?e.MapPolygonTemplate.Style.Font.FontFamily:"Arial",fontStyle:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontStyle?e.MapPolygonTemplate.Style.Font.FontStyle:"Default",fontWeight:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontWeight?this._getConvertedFontWeight(e.MapPolygonTemplate.Style.Font.FontWeight):"Normal",size:e.MapPolygonTemplate.Style&&e.MapPolygonTemplate.Style.Font&&e.MapPolygonTemplate.Style.Font.FontSize?e.MapPolygonTemplate.Style.Font.FontSize:"10pt"},smartLabelMode:t,intersectionAction:t}}},_isValidColorCode:function(e){return/^#[0-9a-fA-F]{6}$/gi.test(e)},_getMapProjection:function(e){var t,i="Mercator";if(e.MapProjection)switch(t=e.MapProjection){case"HammerAitoff":i="AitOff";break;case"Fahey":i="Miller";break;case"Eckert1":i="Eckert5";break;case"Bonne":i="Eckert6";break;case"Equirectangular":case"Eckert3":case"Mercator":i=t}return i},_getLegendSettings:function(e,t,i){var s,a,o,r={};return e.MapLegends&&e.MapLegends.length>0&&((s=e.MapLegends[0]).Hidden?r={visible:!1}:(r.visible=!s.Hidden,r.showLegendPath=!0,r.background="LightGrey",s.Position&&(a=this._getMapLegendPosition(s.Position),o=this._getMapLegendSize(a.position,t,i),r.position=a.position,r.orientation="Left"===a.position||"Right"===a.position?"Vertical":"Horizontal",r.alignment=a.alignment,r.width=o.width,r.height=o.height),s.LegendMode&&(r.mode=s.LegendMode?s.LegendMode:"Default","Interactive"===s.LegendMode&&("Vertical"===r.orientation?(r.height="70%",r.width="10"):(r.height="10",r.width=""))),s.BackGround&&s.BackGround.BackgroundColor&&(r.background=s.BackGround.BackgroundColor.startsWith("#")&&!this._isValidColorCode(s.BackGround.BackgroundColor)?"LightGrey":s.BackGround.BackgroundColor),s.Border&&"None"!=s.Border.BorderStyle&&(r.border={},s.Border.BorderBrush&&(r.border.color=s.Border.BorderBrush),0!=s.Border.Thickness&&(r.border.width=s.Border.Thickness)),s.Style&&(r.textStyle={},r.textStyle.color=s.Style.TextColor?s.Style.TextColor:"Black",s.Style.Font&&(s.Style.Font.FontFamily&&(r.textStyle.fontFamily=s.Style.Font.FontFamily?s.Style.Font.FontFamily:"Arial"),s.Style.Font.FontStyle&&(r.textStyle.fontStyle=s.Style.Font.FontStyle?s.Style.Font.FontStyle:"default"),s.Style.Font.FontWeight&&(r.textStyle.fontWeight=s.Style.Font.FontWeight?s.Style.Font.FontWeight:"bold"),0!=s.Style.Font.FontSize&&(r.textStyle.size=s.Style.Font.FontSize?s.Style.Font.FontSize+"px":"10px"))),s.MapLegendTitle&&(r.title={},s.MapLegendTitle.Caption&&(r.title.text=s.MapLegendTitle.Caption),s.MapLegendTitle.Style&&(r.titleStyle={},r.titleStyle.color=s.MapLegendTitle.Style.TextColor?s.MapLegendTitle.Style.TextColor:"Black",s.MapLegendTitle.Style.Font&&(s.MapLegendTitle.Style.Font.FontFamily&&(r.titleStyle.fontFamily=s.MapLegendTitle.Style.Font.FontFamily?s.MapLegendTitle.Style.Font.FontFamily:"Arial"),s.MapLegendTitle.Style.Font.FontStyle&&(r.titleStyle.fontStyle=s.MapLegendTitle.Style.Font.FontStyle?s.MapLegendTitle.Style.Font.FontStyle:"default"),s.MapLegendTitle.Style.Font.FontWeight&&(r.titleStyle.fontWeight=s.MapLegendTitle.Style.Font.FontWeight?s.MapLegendTitle.Style.Font.FontWeight:"bold"),0!=s.MapLegendTitle.Style.Font.FontSize&&(r.titleStyle.size=s.MapLegendTitle.Style.Font.FontSize?s.MapLegendTitle.Style.Font.FontSize+"px":"10px")))),r.shape="Rectangle")),r},_getMapLegendSize:function(e,t,i){var s={width:"60px",height:"30px"};if(e)switch(e){case"Top":case"Bottom":s.width=(parseInt(t,10)-10).toString()+"px";break;case"Left":case"Right":s.height=(parseInt(i,10)-10).toString()+"px"}return s},_getMapLegendPosition:function(e){var t={position:"Right",alignment:"Center"};switch(e){case"TopLeft":t={position:"Top",alignment:"Near"};break;case"TopCenter":t={position:"Top",alignment:"Center"};break;case"TopRight":t={position:"Top",alignment:"Far"};break;case"LeftTop":t={position:"Left",alignment:"Near"};break;case"LeftCenter":t={position:"Left",alignment:"Center"};break;case"LeftBottom":t={position:"Left",alignment:"Far"};break;case"RightTop":t={position:"Right",alignment:"Near"};break;case"RightCenter":t={position:"Right",alignment:"Center"};break;case"RightBottom":t={position:"Right",alignment:"Far"};break;case"BottomLeft":t={position:"Bottom",alignment:"Near"};break;case"BottomCenter":t={position:"Bottom",alignment:"Center"};break;case"BottomRight":t={position:"Bottom",alignment:"Far"}}return t},_renderGaugeControl:function(e,t,i,s,a,o,r,n){var l,d,h,c,u,p,m=e.GaugePanel;t&&(this._id=o,e.Top=0,e.Left=0);var g=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),o,r,n),_=this._buildTag("div","e-reportviewer-tab-focus-none",null,{id:g},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Gauge")+e.Name}),f={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",overflow:"hidden"};this._appendChild(a,_),f.position="absolute",f.visibility=e.Hidden?"hidden":"visible",l=e.Height,d=e.Width,e.Top&&(f.top=e.Top+"px"),e.Left&&(f.left=e.Left+"px"),h="Horizontal",c=0,m.RadialGauges&&m.RadialGauges.length>0&&(c+=m.RadialGauges.length),m.LinearGauges&&m.LinearGauges.length>0&&(c+=m.LinearGauges.length),m.Indicator&&m.Indicator.length>0&&(c+=m.Indicator.length),m.GaugeFrame&&m.GaugeFrame.FrameImage&&(f["background-image"]=this._getImageDataURL(m.EmbedImageData,r,r?"PrintImage":"GetResource",m.GaugeFrame.FrameImage)),m.Border&&!i&&this._applyBorderStyle(m.Border,_),0!=c&&(l>d?(l/=c,h="Vertical"):d/=c),m.RadialGauges&&m.RadialGauges.length>0&&this._renderRadialGauge(e,_,null!=e.ItemName?e.ItemName:e.Name,h,d,l,o,r,n),m.LinearGauges&&m.LinearGauges.length>0&&this._renderLinearGauge(e,_,null!=e.ItemName?e.ItemName:e.Name,h,d,l,o,r,n),m.Indicator&&m.Indicator.length>0&&(u=i?0:parseFloat(_.style.borderLeftWidth,10)+parseFloat(_.style.borderRightWidth,10),p=i?0:parseFloat(_.style.borderTopWidth,10)+parseFloat(_.style.borderBottomWidth,10),this._renderIndicator(m.Indicator,_,null!=e.ItemName?e.ItemName:e.Name,d-u,l-p,o,r,n)),m.GaugeLabel&&m.GaugeLabel.length>0&&this._renderGaugeLabel(e,_),i?(f.position="relative",f.width=d+"px",f.height=s&&s.height>l?s.height+"px":l+"px",f["background-color"]=m.BackgroundColor):(f.width=e.Width+"px",f.height=e.Height+"px",f["background-color"]=m.BackgroundColor),this._setTagStyle(_,f)},_renderGaugeLabel:function(e,t){var i;if(!(e.GaugePanel.RadialGauges&&e.GaugePanel.RadialGauges.length>0&&"None"!==e.GaugePanel.GaugeLabel[0].ParentItem)){var s=e.GaugePanel.GaugeLabel[0],a=this._buildTag("div",".e-gauge-label"),o={left:s.Left+"%",top:s.Top+"%","background-color":s.BackgroundColor,"border-color":s.Style.BorderColor,"border-width":s.Style.BorderWidth+"px","border-style":s.Style.Borderstyle,position:"absolute",height:s.Height+"%",width:s.Width+"%","font-size":s.Font.FontSize+"px","font-weight":this._getConvertedFontWeight(s.Font.FontWeight),"font-style":"Default"===s.Font.FontStyle||"Normal"===s.Font.FontStyle?"normal":"italic","font-family":s.Font.FontFamily,color:s.TextColor,"text-decoration":s.TextDecoration,"text-align":s.TextAlign,"z-index":1};this._setTagStyle(a,o),i=this._buildTag("span",".e-gauge-label-content"),$(i).text(s.Text),this._appendChild(a,i),this._updateGaugeLabelVerticalAlign(s.VerticalAlignment,$(a)),this._appendChild(t,a)}},_updateGaugeLabelVerticalAlign:function(e,t){switch(e){case"Default":t.css("display",""),t.children().css({"vertical-align":"",display:""});break;case"Top":t.css("display","table"),t.children().css({"vertical-align":"top",display:"table-cell"});break;case"Middle":t.css("display","table"),t.children().css({"vertical-align":"middle",display:"table-cell"});break;case"Bottom":t.css("display","table"),t.children().css({"vertical-align":"bottom",display:"table-cell"})}},_renderIndicator:function(e,t,i,s,a,o,r,n){for(var l,d,h,c,u,p="http://www.w3.org/2000/svg",m=0;m<e.length;m++){for(d=this._buildTag("div","e-reportviewer-tab-focus-none",(l=e[m]).ToolTip,{id:this._controlKeyGenerator(this._id+"_"+i+"_"+l.Name,o,r,n)},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Indicator")+l.Name}),r||this._dataVisualization.push({name:i,id:d.id,type:"GaugeModel",itemType:"Indicator"}),this._setTagStyle(d,{left:l.Left+"%",top:l.Top+"%",width:l.Width+"%",height:l.Height+"%",position:"inherit",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"}),c="height:inherit; width:inherit; position:inherit; top:inherit; left:inherit;",(h=document.createElementNS(p,"svg")).setAttribute("class","e-indicator-item"),h.setAttributeNS(null,"style",c),h.setAttributeNS(null,"viewBox","0 0 32 32"),this._appendChild(d,h),u=0;u<l.IndicatorState.length;u++){var g=l.IndicatorState[u].IndicatorStyle,_=l.IndicatorState[u].StartValue.Value,f=l.IndicatorState[u].EndValue.Value,b=_;if(_>=f&&(_=f,f=b),l.IndicatorData.Value>=_&&l.IndicatorData.Value<=f){fillColor=l.IndicatorState[u].FillColor,h.setAttributeNS(null,"style",c+"transform: scale("+l.IndicatorState[u].ScaleFactor+");");var v=this._getIndicatorIconPaths(g),x=document.createElementNS(p,"g"),y=this;v.forEach((function(e){var t=document.createElementNS(p,e.tag);e.class&&(t.setAttribute("class",e.class),y._setTagStyle(t,{fill:"e-indicator-color"===e.class?fillColor:"transparent"})),y._setAttributes(t,null,e.attr),y._appendChild(x,t)})),this._appendChild(h,x);break}}this._appendChild(t,d)}},_getIndicatorIconPaths:function(e){var t=[];switch(e){case"Circle":case"ThreeSignsCircle":case"QuartersAllFilled":case"TrafficLightUnrimmed":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14.5"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Z"}}];break;case"Flag":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"6",y:"1",width:"10",height:"14"}},{tag:"path",class:"e-indicator-color",attr:{d:"M17,16H5V0H17ZM7,14h8V2H7Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"16",y:"5",width:"10",height:"14"}},{tag:"path",class:"e-indicator-color",attr:{d:"M27,20H15V4H27ZM17,18h8V6H17Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",width:"2",height:"32"}}];break;case"ArrowDown":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"25.58 14.32 18.06 21.7 18.06 2.28 14.06 2.28 14.06 21.7 6.42 14.19 3.52 17.04 16 29.32 28.48 17.16 25.58 14.32"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,30.72,2.09,17l4.33-4.25,6.64,6.53v-18h6v18l6.52-6.4,4.33,4.25ZM4.94,17,16,27.92,27.05,17.16l-1.47-1.44-8.52,8.37V3.28h-2V24.09l-8.64-8.5Z"}}];break;case"ArrowDownIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"22.93 8.93 22.95 19.95 8.42 5.42 5.47 8.37 19.91 22.98 7.86 22.98 7.86 27 26.94 27 26.94 8.93 22.93 8.93"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M27.94,28H6.86V22H17.52L4.06,8.37,8.42,4,21.94,17.53l0-9.6h6ZM8.86,26H25.94V9.93h-2l0,12.44L8.42,6.83,6.88,8.37,22.31,24H8.86Z"}}];break;case"ArrowSide":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"14.39 6.01 21.99 13.56 2 13.55 2 17.6 21.99 17.72 13.7 25.99 16.46 28.74 29.59 15.66 17.16 3.26 14.39 6.01"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16.47,30.15,12.29,26l7.29-7.28L1,18.6V12.55H19.56L13,6l4.18-4.17L31,15.66ZM15.12,26l1.35,1.34,11.7-11.67-11-11L15.81,6l8.61,8.55H3v2.06l21.39.13Z"}}];break;case"ArrowUp":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"6.42 17.68 13.94 10.3 13.94 29.72 17.94 29.72 17.94 10.3 25.58 17.81 28.48 14.96 16 2.68 3.52 14.84 6.42 17.68"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M18.94,30.72h-6v-18l-6.52,6.4L2.09,14.83,16,1.28,29.91,15l-4.33,4.25-6.64-6.53Zm-4-2h2V7.91l8.64,8.5L27.06,15,16,4.08,5,14.84l1.47,1.44,8.52-8.37Z"}}];break;case"ArrowUpIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"22.93 23.07 22.95 12.05 8.42 26.59 5.47 23.63 19.91 9.02 7.86 9.02 7.86 5 26.94 5 26.94 23.07 22.93 23.07"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M8.42,28,4.06,23.63,17.52,10H6.86V4H27.94V24.07h-6l0-9.6ZM6.88,23.63l1.54,1.54L24,9.63l0,12.44h2V6H8.86V8H22.31Z"}}];break;case"LightArrowDown":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.11 31 3.99 19.44 5.37 18 16.1 28.23 26.61 18.05 28 19.48 16.11 31"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15",y:"1",width:"2",height:"29"}}];break;case"LightArrowDownIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"30 30 13 30 13 28 28 28 28 13 30 13 30 30"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15.5",y:"-1.59",width:"2",height:"36.18",transform:"translate(-6.83 16.5) rotate(-44.99)"}}];break;case"LightArrowSide":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"18.38 28 17 26.55 28.1 16 17 5.45 18.38 4 31 16 18.38 28"}},{tag:"rect",class:"e-indicator-color",attr:{x:"1",y:"15",width:"29",height:"1.99"}}];break;case"LightArrowUp":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"26.62 14.01 15.9 3.77 5.39 13.96 4 12.52 15.89 1 28 12.56 26.62 14.01"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15",y:"2",width:"2",height:"29"}}];break;case"LightArrowUpIncline":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"30 19 28 19 28 4 13 4 13 2 30 2 30 19"}},{tag:"rect",class:"e-indicator-color",attr:{x:"-1.59",y:"14.5",width:"36.18",height:"2",transform:"translate(-6.13 16.21) rotate(-45)"}}];break;case"ButtonStop":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"4",y:"3.66",width:"24",height:"24"}}];break;case"ButtonPlay":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"4 -0.34 28 15.66 4 31.66 4 -0.34"}}];break;case"ButtonPause":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"4",y:"1.66",width:"8",height:"28"}},{tag:"rect",class:"e-indicator-color",attr:{x:"20",y:"1.66",width:"8",height:"28"}}];break;case"FaceSmile":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"path",attr:{d:"M16,24a6.49,6.49,0,0,1-4.31-1.64A1,1,0,0,1,13,20.89a4.47,4.47,0,0,0,6.09-.12A1,1,0,1,1,20.5,22.2,6.43,6.43,0,0,1,16,24Z",fill:"#fff"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}}];break;case"FaceNeutral":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}},{tag:"path",attr:{d:"M19.9,23.3h-7.5c-0.6,0-1-0.4-1-1s0.4-1,1-1h7.5c0.6,0,1,0.4,1,1S20.4,23.3,19.9,23.3z",fill:"#fff"}}];break;case"FaceFrown":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"path",attr:{d:"M12.36,24a1,1,0,0,1-.69-1.72,6.47,6.47,0,0,1,8.8-.18,1,1,0,0,1,.09,1.41,1,1,0,0,1-1.42.08,4.48,4.48,0,0,0-6.09.13A1,1,0,0,1,12.36,24Z",fill:"#fff"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}}];break;case"BoxesAllFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"3",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"3",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"BoxesNoneFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",attr:{x:"3",y:"17",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"17",fill:"lightgrey",width:"12",height:"12"}}];break;case"BoxesOneFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"17",fill:"lightgrey",width:"12",height:"12"}}];break;case"BoxesTwoFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"BoxesThreeFilled":t=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"3",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"QuartersNoneFilled":t=[{tag:"circle",attr:{cx:"16",cy:"16",r:"14",fill:"transparent"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}},{tag:"circle",attr:{cx:"16",cy:"16",r:"13",fill:"transparent"}}];break;case"QuartersOneFilled":t=[{tag:"path",class:"e-indicator-color",attr:{d:"M29,16A13,13,0,0,0,16,3V16Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"QuartersTwoFilled":t=[{tag:"path",class:"e-indicator-color",attr:{d:"M16,1V31A15,15,0,0,0,16,1Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"QuartersThreeFilled":t=[{tag:"path",class:"e-indicator-color",attr:{d:"M16,1V16H1A15,15,0,1,0,16,1Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"SignalMeterFourFilled":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"23",y:"2",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"8",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterNoneFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",attr:{x:"11",y:"15",fill:"lightgrey",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",attr:{x:"5",y:"21",fill:"lightgrey",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterOneFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",attr:{x:"11",y:"15",fill:"lightgrey",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterThreeFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"8",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterTwoFilled":t=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"StarQuartersAllFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"26 29.2 16.43 23.04 6.87 29.2 11.22 18.64 3.4 10.71 12.96 10.71 16.43 2.79 19.04 10.71 28.6 10.71 20.78 18.64 26 29.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersNoneFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersOneFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"13.4,25.1 6.9,29.1 11.2,18.5 3.4,10.7 13.4,10.7"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.3,24.2 16.3,21.8 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 16,5.7 16,0 12.1,9.7 1,9.7 10,18.8   4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"13.4,26.1 13.4,23.7 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 13.4,6.5 12.1,9.7 1,9.7 10,18.8 4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31,9.8 19.5,9.8 16,0 16,0.2 16,5.7 17.2,9.2 17.2,9.1 18.1,11.8 26.2,11.8 19.6,18.5 23.5,26.4   17.4,22.5 17.4,22.5 16.3,21.8 16.3,24.2 28.5,32 22,18.9"}}];break;case"StarQuartersTwoFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.43 22.93 6.87 29.06 11.22 18.55 3.39 10.66 12.71 10.66 16.05 2.78"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersThreeFilled":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.4,22.9 6.9,29.1 11.2,18.5 3.4,10.7 12.7,10.7 16,2.8 18.1,10 18.1,24.3"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.3,24.2 16.3,21.8 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 16,5.7 16,0 12.1,9.7 1,9.7 10,18.8   4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31,9.8 19.5,9.8 16,0 16,0.2 16,5.7 17.2,9.1 18.1,11.8 26.2,11.8 19.6,18.5 23.5,26.4 17.4,22.5   17.4,22.5 16.3,21.8 16.3,24.2 28.5,32 22,18.9"}}];break;case"ThreeSignsDiamond":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"6.26",y:"6.26",width:"19.49",height:"19.49",transform:"translate(16, -6.73) rotate(45)"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31.19.81,16,16,.81,31.19,16ZM3.64,16,16,28.36,28.36,16,16,3.64Z"}}];break;case"ThreeSignsTriangle":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 2.24 1.62 31 30.38 31 16 2.24"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M32,32H0L16,0ZM3.24,30H28.76L16,4.47Z"}}];break;case"ThreeSymbolCheck":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14.5"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31.5A15.5,15.5,0,1,1,31.5,16,15.51,15.51,0,0,1,16,31.5Zm0-29A13.5,13.5,0,1,0,29.5,16,13.52,13.52,0,0,0,16,2.5Z"}},{tag:"polygon",attr:{points:"4.01 16.74 6.99 13.76 12.49 19.26 23.99 7.76 26.99 10.76 12.51 25.24 4.01 16.74",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M12.51,26.66,2.59,16.74,7,12.34l5.5,5.5L24,6.34l4.42,4.42ZM5.42,16.74l7.09,7.09L25.58,10.76,24,9.17l-11.5,11.5L7,15.17Z"}}];break;case"ThreeSymbolCross":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,3A13,13,0,1,0,29,16,13,13,0,0,0,16,3Z"}},{tag:"polygon",attr:{points:"26.58 9.79 22.21 5.41 16 11.62 9.79 5.41 5.42 9.79 11.62 16 5.42 22.21 9.79 26.59 16 20.38 22.21 26.59 26.58 22.21 20.38 16 26.58 9.79",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M22.21,28,16,21.79,9.79,28,4,22.21,10.21,16,4,9.79,9.79,4,16,10.21,22.21,4,28,9.79,21.79,16,28,22.21ZM16,19l6.21,6.21,3-3L19,16l6.21-6.21-3-3L16,13,9.79,6.83l-3,3L13,16,6.83,22.21l3,3Z"}}];break;case"ThreeSymbolExclamation":t=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,3A13,13,0,1,0,29,16,13,13,0,0,0,16,3Z"}},{tag:"rect",attr:{x:"13",y:"3.92",fill:"#fff",width:"6",height:"15.83"}},{tag:"path",class:"e-indicator-color",attr:{d:"M20,20.75H12V2.92h8Zm-6-2h4V4.92H14Z"}},{tag:"ellipse",attr:{cx:"16",cy:"24.75",rx:"4.17",ry:"3.33",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,29.08c-2.85,0-5.17-1.94-5.17-4.33s2.32-4.33,5.17-4.33,5.17,1.94,5.17,4.33S18.85,29.08,16,29.08Zm0-6.66c-1.72,0-3.17,1.07-3.17,2.33s1.45,2.33,3.17,2.33,3.17-1.07,3.17-2.33S17.72,22.42,16,22.42Z"}}];break;case"ThreeSymbolUnCircledCheck":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"1.01 18.24 3.99 15.26 10.49 21.76 27.99 4.26 30.99 7.26 10.51 27.74 1.01 18.24"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M10.51,29.16-.41,18.24,4,13.84l6.5,6.5L28,2.84l4.42,4.42ZM2.42,18.24l8.09,8.09L29.58,7.26,28,5.67l-17.5,17.5L4,16.67Z"}}];break;case"ThreeSymbolUnCircledCross":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"29.59 5.81 26.19 2.41 16 12.6 5.81 2.41 2.41 5.81 12.6 16 2.41 26.19 5.81 29.59 16 19.4 26.19 29.59 29.59 26.19 19.4 16 29.59 5.81"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M26.19,31,16,20.81,5.81,31,1,26.19,11.19,16,1,5.81,5.81,1,16,11.19,26.19,1,31,5.81,20.81,16,31,26.19ZM16,18l10.19,10.2,2-2L18,16,28.17,5.81l-2-2L16,14,5.81,3.82l-2,2L14,16,3.83,26.19l2,2Z"}}];break;case"ThreeSymbolUnCircledExclamation":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"13",y:"2",width:"6",height:"19"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M20,22H12V1h8Zm-6-2h4V3H14Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"13",y:"25",width:"6",height:"6"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M20,32H12V24h8Zm-6-2h4V26H14Z"}}];break;case"TrafficLight":t=[{tag:"rect",attr:{x:"2",y:"2",fill:"black",width:"28",height:"28"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z"}},{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"11"}},{tag:"path",attr:{d:"M16,28A12,12,0,1,1,28,16,12,12,0,0,1,16,28ZM16,6A10,10,0,1,0,26,16,10,10,0,0,0,16,6Z",fill:"black"}}];break;case"TriangleDash":t=[{tag:"rect",class:"e-indicator-color",attr:{x:"2",y:"12",width:"28",height:"8"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,21H1V11H31ZM3,19H29V13H3Z"}}];break;case"TriangleDown":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 24.34 3 7 29 7 16 24.34"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,26,1,6H31ZM5,8,16,22.67,27,8Z"}}];break;case"TriangleUp":t=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 7.67 29 25 3 25 16 7.67"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,26H1L16,6ZM5,24H27L16,9.33Z"}}];break;case"None":t=[]}return t},_renderRadialGauge:function(e,t,i,s,a,o,r,n,l){var d=e.GaugePanel.RadialGauges[0],h={scale:d.ScaleProperties[0],pointer:d.ScaleProperties[0].RadialPointer?d.ScaleProperties[0].RadialPointer[0]:undefined,range:d.ScaleProperties[0].Range?d.ScaleProperties[0].Range[0]:undefined},c=this._buildTag("div","e-reportviewer-tab-focus-none",d.ToolTip,{id:this._controlKeyGenerator(this._id+"_"+i+"_"+d.Name,r,n,l)},{tabindex:"0","aria-label":d.Name});n||this._dataVisualization.push({name:i,id:c.id,type:"GaugeModel",itemType:"Radial"}),this._setTagStyle(c,{position:"relative",left:d.Left+"%",top:d.Top+"%",width:d.Width+"%",height:d.Height+"%",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"}),this._appendChild(t,c);var u=h.pointer&&h.pointer.Value>h.scale.Maximum?this._getGaugeMaxValue(h.pointer.Value):h.scale.Maximum,p=h.pointer&&h.pointer.Value>h.scale.Maximum?this._getGaugeMaxValue(h.pointer.Value):h.scale.ScaleInterval;new ejs.circulargauge.CircularGauge({background:"transparent",height:"302px",width:"302px",loaded:(function(t){var i=$(t.gauge.element.querySelector("svg"));i[0].setAttributeNS(null,"viewBox","0 0 300 300"),i.css({height:"100%",width:"100%",position:"absolute",top:d.PivotY-50+"%",left:d.PivotX-50+"%"}),e.GaugePanel.GaugeLabel&&e.GaugePanel.GaugeLabel.length>0&&"None"!==e.GaugePanel.GaugeLabel[0].ParentItem&&this._renderGaugeItemLabel(e,h,i)}).bind(this),axes:[{minimum:h.scale.Minimum,maximum:u,startAngle:180+h.scale.StartAngle,endAngle:180+h.scale.StartAngle+h.scale.SweepAngle,direction:h.scale.Reversed?"AntiClockWise":"ClockWise",showLastLabel:h.scale.Label.ShowEndLabels,labelStyle:{autoAngle:h.scale.Label.RotateLabels,font:{size:h.scale.Label.Hidden?"0":h.scale.Label.FontSize+"px",fontFamily:h.scale.Label.FontFamily,color:h.scale.Label.Color,fontStyle:"Default"===h.scale.Label.FontStyle||"Normal"===h.scale.Label.FontStyle?"normal":"italic",fontWeight:this._getConvertedFontWeight(h.scale.Label.FontWeight)},position:h.scale.Label.LabelPlacement,offset:h.scale.Label.RotateLabels?7:3},lineStyle:{width:h.scale.ScaleWidth,color:h.scale.BackgroundColor},majorTicks:{interval:"null"===h.scale.TickMark.MajorTickInterval?"null"===h.scale.ScaleInterval?null:parseFloat(p):parseFloat(h.scale.TickMark.MajorTickInterval),height:h.scale.TickMark.MajorTickHide?0:h.scale.TickMark.MajorTickLength,width:h.scale.TickMark.MajorTickWidth,position:h.scale.TickMark.MajorTickPlacement,color:h.scale.TickMark.MajorTickColor},minorTicks:{interval:"null"===h.scale.TickMark.MinorTickInterval?null:parseFloat(h.scale.TickMark.MinorTickInterval),height:h.scale.TickMark.MinorTickHide?0:h.scale.TickMark.MinorTickLength,width:h.scale.TickMark.MinorTickWidth,position:h.scale.TickMark.MinorTickPlacement,color:h.scale.TickMark.MinorTickColor},pointers:this._updateRadialPointers(["Circle","Rectangle","Triangle","Diamond"],d.ScaleProperties[0].RadialPointer),ranges:this._updateRadialRanges(d.ScaleProperties[0].Range)}]}).appendTo(c)},_updateRadialPointers:function(e,t){var i,s,a=[];if(null!=t&&t.length>0)for(i=0;i<t.length;i++)s=this._getRadialPointerSize(t[i]),a.push({value:t[i].Value,color:t[i].BackgroundColor,position:t[i].Placement,cap:{radius:t[i].CapHidden?0:t[i].CapRadius/2,color:t[i].CapBackGroundColor},type:"Bar"===t[i].Type?"RangeBar":t[i].Type,markerWidth:s.width,pointerWidth:s.width,markerHeight:s.height,markerShape:-1===e.indexOf(t[i].MarkerStyle)?"Triangle":t[i].MarkerStyle,animation:{enable:!1}});return a},_updateRadialRanges:function(e){var t,i=[];if(null!=e&&e.length>0)for(t=0;t<e.length;t++)i.push({start:e[t].StartValue,end:e[t].EndValue,startWidth:e[t].StartWidth,endWidth:e[t].EndWidth,color:e[t].BackgroundColor,position:e[t].RangePlacement,linearGradient:{startValue:"0%",endValue:"100%",colorStop:[{color:e[t].BackgroundColor,offset:"0%",opacity:.9},{color:e[t].BackgroundGradientEndcolor,offset:"70%",opacity:.9}]}});return i},_getGaugeMaxValue:function(e){var t,i,s,a,o,r,n,l=e/10,d=e/100,h=d>=1?d:l>=1?l:e,c=null;h<1&&(i=100*h,(t=10*h)>=1?c=!0:i>=1&&(c=!1),h=t<1?i<1?h:i:t);var u=h/20+h,p=0;if(h>=4&&h<=8)p=Math.ceil(u);else for(s=Math.ceil(10*u),(a=[]).push(8*Math.ceil(s/8)/10),a.push(7*Math.ceil(s/7)/10),a.push(6*Math.ceil(s/6)/10),a.push(Math.ceil(s/5)/2),o=0;o<a.length&&(r=0===o?a[o]:p,n=a[o+1],p=Math.abs(r-h)<Math.abs(n-h)?r:n,2!==o);o++);return!0===c||!1===c?!0===c?p/10:p/100:p*(d>=1?100:l>=1?10:1)},_getRadialGaugeType:function(e,t){var i=t.scale.StartAngle.toString(),s=t.scale.SweepAngle.toString(),a=e.GaugePanel.RadialGauges[0].PivotY.toString();return"20"===i&&"320"===s&&"50"===a?"Radial":"90"===i&&"180"===s&&"68"===a?"HalfCircle":"Auto"},_updateGaugeLabelSize:function(e,t,i){var s=this._getRadialGaugeType(e,t),a=t.pointer?t.pointer.Type:"";i.attr({x:"50%",y:("HalfCircle"===s&&"Needle"===a?"65":"Radial"===s&&"Needle"===a?"95":"50")+"%"})},_getRadialPointerSize:function(e){var t={},i="Marker"===e.Type&&-1!==["Circle","Rectangle","Triangle","Diamond"].indexOf(e.MarkerStyle)&&"Triangle"!==e.MarkerStyle;return t.width=i?e.MarkerLength:e.Width,t.height=i?e.Width:e.MarkerLength,t},_renderGaugeItemLabel:function(e,t,i){var s,a=e.GaugePanel.GaugeLabel[0],o="http://www.w3.org/2000/svg",r=$(document.createElementNS(o,"g"));r[0].setAttribute("class","e-anotation"),s=$(document.createElementNS(o,"text")),r.append(s),i[0].appendChild(r[0]),s.attr({fill:a.TextColor,"font-size":a.Font.FontSize+"px","font-family":a.Font.FontFamily,"font-style":"Default"===a.Font.FontStyle||"Normal"===a.Font.FontStyle?"normal":"italic","font-weight":this._getConvertedFontWeight(a.Font.FontWeight),"text-decoration":a.TextDecoration,"text-anchor":"middle","dominant-baseline":"middle"}),s.text(a.Text),this._updateGaugeLabelSize(e,t,s)},_renderLinearGauge:function(e,t,i,s,a,o,r,n,l){var d=e.GaugePanel.LinearGauges[0],h={scale:d.ScaleProperties[0],pointer:d.ScaleProperties[0].LinearPointer?d.ScaleProperties[0].LinearPointer[0]:undefined,range:d.ScaleProperties[0].Range?d.ScaleProperties[0].Range[0]:undefined},c=this._getLinearGaugeOrientationInfo(d.Orientation,e.Height,e.Width),u=this._buildTag("div","e-reportviewer-tab-focus-none",d.ToolTip,{id:this._controlKeyGenerator(this._id+"_"+i+"_"+d.Name,r,n,l)},{tabindex:"0","aria-label":d.Name});n||this._dataVisualization.push({name:i,id:u.id,type:"GaugeModel",itemType:"Linear"}),this._setTagStyle(u,{position:"inherit",left:d.Left+"%",top:d.Top+"%",width:d.Width+"%",height:d.Height+"%",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"}),this._appendChild(t,u);var p=h.pointer&&h.pointer.Value>h.scale.Maximum?this._getGaugeMaxValue(h.pointer.Value):h.scale.Maximum,m=h.pointer&&h.pointer.Value>h.scale.Maximum?this._getGaugeMaxValue(h.pointer.Value):h.scale.ScaleInterval;new ejs.lineargauge.LinearGauge({orientation:c.orientation,background:"transparent",width:c.width+"px",height:c.height+"px",axes:[{minimum:h.scale.Minimum,maximum:p,isInversed:h.scale.Reversed,showLastLabel:h.scale.Label.ShowEndLabels,labelStyle:{font:{size:h.scale.Label.Hidden?"0":h.scale.Label.FontSize+"px",fontFamily:h.scale.Label.FontFamily,color:h.scale.Label.Color,fontStyle:"Default"===h.scale.Label.FontStyle||"Normal"===h.scale.Label.FontStyle?"normal":"italic",fontWeight:this._getConvertedFontWeight(h.scale.Label.FontWeight)},position:h.scale.Label.LabelPlacement},line:{width:h.scale.ScaleWidth,color:h.scale.BackgroundColor},majorTicks:{interval:"null"===h.scale.TickMark.MajorTickInterval?"null"===h.scale.ScaleInterval?null:parseFloat(m):parseFloat(h.scale.TickMark.MajorTickInterval),height:h.scale.TickMark.MajorTickHide?0:h.scale.TickMark.MajorTickLength,width:h.scale.TickMark.MajorTickWidth,position:h.scale.TickMark.MajorTickPlacement,color:h.scale.TickMark.MajorTickColor},minorTicks:{interval:"null"===h.scale.TickMark.MinorTickInterval?null:parseFloat(h.scale.TickMark.MinorTickInterval),height:h.scale.TickMark.MinorTickHide?0:h.scale.TickMark.MinorTickLength,width:h.scale.TickMark.MinorTickWidth,position:h.scale.TickMark.MinorTickPlacement,color:h.scale.TickMark.MinorTickColor},pointers:this._updateLinearPointers(["Circle","Rectangle","Triangle","Diamond"],["Bar","Marker"],c,d.ScaleProperties[0].LinearPointer),ranges:this._updateLinearRanges(d.ScaleProperties[0].Range)}]}).appendTo(u)},_updateLinearPointers:function(e,t,i,s){var a,o=[];if(null!=s&&s.length>0)for(a=0;a<s.length;a++)o.push({color:s[a].BackgroundColor,position:s[a].Placement,type:-1===t.indexOf(s[a].Type)?"Marker":s[a].Type,value:s[a].Value,width:this._updateLinearPointerSize(s[a],i.orientation).width,height:this._updateLinearPointerSize(s[a],i.orientation).height,markerType:-1===e.indexOf(s[a].MarkerStyle)?"Triangle":s[a].MarkerStyle,animation:{enable:!1}});return o},_updateLinearRanges:function(e){var t,i=[];if(null!=e&&e.length>0)for(t=0;t<e.length;t++)i.push({start:e[t].StartValue,end:e[t].EndValue,startWidth:e[t].StartWidth,endWidth:e[t].EndWidth,color:e[t].BackgroundColor,position:"Inside"==e[t].RangePlacement?"Outside":"Outside"==e[t].RangePlacement?"Inside":"Cross",linearGradient:{startValue:"0%",endValue:"100%",colorStop:[{color:e[t].BackgroundColor,offset:"0%",opacity:1},{color:e[t].BackgroundGradientEndcolor,offset:"100%",opacity:1}]}});return i},_getLinearGaugeOrientationInfo:function(e,t,i){var s={};return s.orientation="Auto"===e?t<i?"Horizontal":"Vertical":e,s.height=t,s.width=i,s},_updateLinearPointerSize:function(e,t){var i,s;switch(t){case"Horizontal":s="Marker"===e.Type?e.Width:e.MarkerLength,i="Marker"===e.Type?e.MarkerLength:e.Width;break;case"Vertical":s="Marker"===e.Type?e.MarkerLength:e.Width,i="Marker"===e.Type?e.Width:e.MarkerLength}return{width:s,height:i}},_renderLineControl:function(e,t,i,s){var a,o,r,n,l,d="http://www.w3.org/2000/svg",h=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),t,i,s),c=this._buildTag("div","e-reportviewer-tab-focus-none",null,{id:h},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Line")+e.Name}),u={position:"absolute","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};return u.top=e.Top+"px",u.left=e.Left+"px",u.width=0==e.Width?"11.00064px":e.Width+"px",u.height=0==e.Height?"16.00128px":e.Height+"px",u.visibility=e.Hidden?"hidden":"visible",this._setTagStyle(c,u),this._svg?((a=document.createElementNS(d,"svg")).setAttributeNS(null,"width",0==e.Width?"11.00064":e.Width+e.LineWidth),a.setAttributeNS(null,"height",0==e.Height?"16.00128":e.Height+e.LineWidth),(o={})["vertical-align"]="top",this._setTagStyle(a,o),(r=document.createElementNS(d,"line")).setAttributeNS(null,"x1",0==e.X1?e.LineWidth:e.X1),r.setAttributeNS(null,"y1",0==e.Y1?e.LineWidth/2:e.Y1),r.setAttributeNS(null,"x2",0==e.X2?e.LineWidth:e.X2),r.setAttributeNS(null,"y2",0==e.Y2?e.LineWidth/2:e.Y2),r.setAttributeNS(null,"stroke",e.LineColor),r.setAttributeNS(null,"stroke-width",e.LineWidth),r.setAttributeNS(null,"shape-rendering","crispEdges"),"Dashed"==e.LineStyle?r.setAttributeNS(null,"stroke-dasharray",2*e.LineWidth+","+2*e.LineWidth):"Dotted"==e.LineStyle&&r.setAttributeNS(null,"stroke-dasharray",e.LineWidth),this._appendChild(a,r),this._appendChild(c,a)):(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ",n=document.createElement("<v:line id='line' from='"+e.X1+","+e.Y1+"' to='"+e.X2+","+e.Y2+"' strokecolor='"+e.LineColor+"' strokeweight='"+e.LineWidth+"pt'><v:stroke dashstyle='dot'></v:stroke></v:line>"),(l=document.createElement("v:stroke")).setAttribute("dashstyle","Dotted"==e.LineStyle?"dot":"Dashed"==e.LineStyle?"dash":"solid"),l.outerHTML=l.outerHTML,this._appendChild(n,l),n.style.position="absolute",n.style.width=e.Width,n.style.height=e.Height,n.style.visibility="visible",this._appendChild(c,n)),c},_renderSubReportControl:function(e,t,i,s,a,o,r){var n,l,d,h=this._controlKeyGenerator(this._id+"_"+(null!=e.ItemName?e.ItemName:e.Name),s,a,o),c=this._buildTag("div","e-reportviewer-tab-focus-none",e.ToolTip,{id:h},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Subreport")+e.Name}),u={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};if(this._appendChild(i,c),u.position=t?"relative":"absolute",u.top=e.Top+"px",u.left=e.Left+"px",u.width=e.Width+"px",u.height=e.Height+"px",u["background-color"]=e.BackgroundColor,u.visibility=e.Hidden?"hidden":"visible",e.BackgroundImageSrc&&(u["background-image"]=this._getImageDataURL(e.EmbedImageData,a,a?"PrintImage":"GetResource",e.BackgroundImageSrc)),e.Padding&&(e.Padding.Left&&(u["padding-left"]=e.Padding.Left+"px"),e.Padding.Right&&(u["padding-right"]=e.Padding.Right+"px"),e.Padding.Top&&(u["padding-top"]=e.Padding.Top+"px"),e.Padding.Bottom&&(u["padding-bottom"]=e.Padding.Bottom+"px")),e.Style&&(e.Style.Font&&(e.Style.Font.FontFamily&&(u["font-family"]="'"+e.Style.Font.FontFamily+"'"),e.Style.Font.FontSize&&(u["font-size"]=e.Style.Font.FontSize+"px"),e.Style.Font.FontStyle&&(u["font-style"]=e.Style.Font.FontStyle),e.Style.Font.FontWeight&&(u["font-weight"]=this._getConvertedFontWeight(e.Style.Font.FontWeight))),u.color=e.Style.TextColor?e.Style.TextColor:"black",e.Style.TextDecoration&&(u["text-decoration"]=e.Style.TextDecoration)),e.TextAlign&&(u["text-align"]=e.TextAlign),e.VerticalAlign&&(u["vertical-align"]=e.VerticalAlign),e.Border&&!t&&this._applyBorderStyle(e.Border,c),this._setTagStyle(c,u),e.ReportItemModels&&e.ReportItemModels.length>0)for(n=0;n<e.ReportItemModels.length;n++)(l=e.ReportItemModels[n])&&("TextBoxModel"==l.ItemType?this._renderTextBoxControl(l,!1,h+"_"+l.Name,a,o,c):"LineModel"==l.ItemType?(d=this._renderLineControl(l,h+"_"+l.Name,a,o),this._appendChild(c,d)):"ImageModel"==l.ItemType?this._renderImageControl(l,!1,c,h+"_"+l.Name,a,o):"CustomReportItemModel"==l.ItemType?this._renderCustomReportItemControl(l,!1,c,h+"_"+l.Name,a,o):"TablixModel"==l.ItemType?this._renderTablixControl(l,!1,{},c,h+"_"+l.Name,a,o,r):"GaugeModel"==l.ItemType?this._renderGaugeControl(l,!1,!1,{},c,h+"_"+l.Name,a,o):"RectangleModel"==l.ItemType?this._renderRectangleControl(l,!1,c,h+NaN+l.Name,a,o,r):"ChartModel"==l.ItemType?this._renderChartControl(l,!1,!1,{},c,h+"_"+l.Name,a,o):"MapModel"==l.ItemType?this._renderMapControl(l,!1,c,h+"_"+l.Name,a,o):"SubReportModel"==l.ItemType&&this._renderSubReportControl(l,!1,c,h+NaN+l.Name,a,o,r))},doAjaxPost:function(e,t,i,s){var a,o=this,r=s,n=ej.ReportViewer.Locale[o.model.locale]?ej.ReportViewer.Locale[o.model.locale]:ej.ReportViewer.Locale["en-US"],l={reportViewerToken:o._reportViewerToken,reportViewerClientId:o._reportViewerToken,serviceAuthorizationToken:o.model.serviceAuthorizationToken?o.model.serviceAuthorizationToken:"",serverUrl:o.model.reportServerUrl?o.model.reportServerUrl:"",headerReq:[],headers:[],data:null,inVokemethod:s};o._onAjaxRequest(l),o.model.reportCacheID=o.model.reportServerId,a=jQuery.parseJSON(i),l.reportViewerToken&&l.reportViewerToken.length>0&&(a.reportViewerToken=l.reportViewerToken,a.reportViewerClientId=l.reportViewerToken),o.model.reportCacheID&&o.model.reportCacheID.length>0&&(a.reportCacheID=o.model.reportCacheID),l.data&&(a.customData=l.data),!ej.isNullOrUndefined(l.actionName)&&l.actionName.trim().length>0&&(t=t.replace(t.substr(t.lastIndexOf("/")+1),l.actionName.trim())),i=JSON.stringify(a),$.ajax({type:e,url:t,crossDomain:!0,contentType:"application/json; charset=utf-8",dataType:"json",data:i,beforeSend:function(e){var t;if(("_getPageModel"==r||"_getPreviewModel"==r)&&(o._isToolbarClick?o._showNavigationIndicator(!0):o._showloadingIndicator(!0)),"SelfHost"!=o._serviceType&&(l.serviceAuthorizationToken&&l.serviceAuthorizationToken.length>0&&(e.setRequestHeader("serviceAuthorizationToken",l.serviceAuthorizationToken),l.reportViewerToken&&l.reportViewerToken.length>0&&e.setRequestHeader("reportViewerToken",l.reportViewerToken)),l.serverUrl&&l.serverUrl.length>0&&e.setRequestHeader("serverUrl",l.serverUrl),l.headerReq&&l.headerReq.length>0))for(t=0;t<l.headerReq.length;t++)e.setRequestHeader(l.headerReq[t].Key,l.headerReq[t].Value);if(l.headers&&l.headers.length>0)for(t=0;t<l.headers.length;t++)e.setRequestHeader(l.headers[t].Key,l.headers[t].Value)},success:function(e){if("string"==typeof e&&(e=JSON.parse(e)),o._cancelPrintExport)o._showPrintExportProgressIndicator(!1),o._cancelPrintExport=!1;else if(o._cancelProcessing)o._renderErrorMsg(o._getLocaleString("errorMessage","cancelReportProcessMsg")),o._viewReportEnableDisable(!1),o._isToolbarClick=!0,o._cancelProcessing=!1,o._currnetDocMapNodeId=null,o._currentBookmarkInfo=null;else if(o.model&&e.errorInfo){var t={errmsg:e.errorInfo.Message};o._onReportError(t),e.exportError!=undefined||t.cancel||(o._renderErrorMsg(t.errmsg),o._showExceptionBlock(!0,e.errorInfo)),e.showAlert&&!t.cancel&&o._showAlertDialog(t.errmsg,null,!1)}else o.model&&(e&&void 0!==e.Data&&(e=e.Data),"string"==typeof e&&"Sf_legacy"!=e&&o._renderErrorMsg(n.alertMessage.RVERR0003+" InVokemethod:- "+r+":"+e),"object"!=typeof e||ej.isNullOrUndefined(o.model)||o._onAjaxSuccess(e),e&&e.licensingMessage&&(o._licenseMessage=e.licensingMessage),o[r](e))},error:function(e){o.model&&"_clearCurrentServerCache"!=r&&(o._onAjaxFailure(e),0==e.readyState?"_exportReport"==r?(o._showAlertDialog(n.errorMessage.exportAjaxFailureMsg==undefined?null:n.errorMessage.exportAjaxFailureMsg,null,!1),o._showPrintExportProgressIndicator(!1)):"_getPrintModel"==r?(o._renderErrorMsg(n.errorMessage.printAjaxFailureMsg==undefined?null:n.errorMessage.printAjaxFailureMsg),o._showPrintExportProgressIndicator(!1)):o._renderErrorMsg(n.errorMessage.reportLoadAjaxFailureMsg==undefined?null:n.errorMessage.reportLoadAjaxFailureMsg):o._renderErrorMsg(e.responseText))}})},_renderErrorMsg:function(e){$("#"+this._id+"_pageviewContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),$("#"+this._id+"_toolbarUl_navigate").addClass("e-reportviewer-toolbar-disable"),this._isDevice?$("#"+this._id+"_toolbarUl_exportZoom").addClass("e-reportviewer-toolbar-disable"):($("#"+this._id+"_toolbarUl_printExport").addClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").addClass("e-reportviewer-toolbar-disable")),this._showNavigationIndicator(!1),this._showparameterLoadingIndicator(!1,null),this._showPrintExportProgressIndicator(!1),!ej.isNullOrUndefined(e)&&e.length>0&&($("#"+this._id+"_errorMsgContainer").css("display","block"),$("#"+this._id+"_errorMsgSpan").html(e)),this._showloadingIndicator(!1),this._onElementsRendered({action:"Error"})},_ajaxCallMethod:function(e,t,i,s){e==this._reportAction.reportLoad||"reloadReport"==e?this.doAjaxPost("POST",this._actionUrl,this.model.parameters&&this.model.parameters.length>0?JSON.stringify({reportAction:this._reportAction.reportLoad,parameters:this.model.parameters,isReloadReport:"reloadReport"===e,controlId:this._id,reportPath:this.model.reportPath,enableVirtualEvaluation:this.model.enableVirtualEvaluation,reportServerUrl:this.model.reportServerUrl,processingMode:this.model.processingMode,locale:this.model.locale,customBrandSettings:this.model.customBrandSettings}):JSON.stringify({reportAction:this._reportAction.reportLoad,isReloadReport:"reloadReport"===e,controlId:this._id,reportPath:this.model.reportPath,enableVirtualEvaluation:this.model.enableVirtualEvaluation,reportServerUrl:this.model.reportServerUrl,processingMode:this.model.processingMode,locale:this.model.locale,accessInternalValue:this.model.parameterSettings.accessInternalValue,customBrandSettings:this.model.customBrandSettings}),t):e==this._reportAction.validateDSCredential?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.validateDSCredential,dataSourceCredentials:this._dataSources}),t):(e==this._reportAction.getParameters||e==this._reportAction.getPrintModel)&&(this.model.parameters&&(s=this.model.parameters),this._reloadParams&&this._reloadParams.length>0&&(s=this._reloadParams),this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:e,parameters:this._isDrillThroughReport?null:s,dataSources:this.model.dataSources.length>0?this.model.dataSources:null}),t),this._reloadParams=[]),e==this._reportAction.updateParameters?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateParameters,updateParam:this._updateParam}),"_updateParameters"):e!=this._reportAction.getPageModel||i?e==this._reportAction.drillDown||e==this._reportAction.sorting?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:e,pageindex:this._currentPage,toggleInfo:_serverActionInfo,refresh:!1,dataRefresh:!1,pageInit:this._isToolbarClick,isPrint:this._printMode}),t):e==this._reportAction.documentMap||e==this._reportAction.clearCache?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:e}),t):e==this._reportAction.getPageModel&&i&&this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,PageSetup:this._paperSetup}),t):(ej.isNullOrUndefined(s)&&(s=this.model.parameters.length>0?this.model.parameters:null),this._reloadParams&&this._reloadParams.length>0&&(s=this._reloadParams),this._printMode&&this._isPageSetupValueChange?(this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:s,PageSetup:this._paperSetup}),t),this._isPageSetupValueChange=!1):this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:s,PageSetup:this._paperSetup}),t),this._reloadParams=[])},_loadReportFromBegin:function(){this._showloadingIndicator(!0),this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportParamsClick),this._destroyPageItems(),this._clearPageCache(),this._showNavigationIndicator(!1),this._viewReportEnableDisable(!1),this._showException(!1),this._reportParametersModel&&(this._reloadParams=this._getParameterJson(this._reportParametersModel,!1),this._reloadParams&&(this._reportParameters=this._reloadParams)),this._ajaxCallMethod("reloadReport","_reportLoaded",!1)},_isReloadResult:function(e){return!!e.reloadReport},_reportLoaded:function(e){var t,i;this._isReloadResult(e)?this._loadReportFromBegin(e):(t=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],"inProgress"==e.inProgress?(this._reportViewerToken=e.reportViewerToken,this.doAjaxPost("POST",this._actionUrl,JSON.stringify({inProgress:"inProgress",reportAction:this._reportAction.reportLoad,reportViewerToken:e.reportViewerToken}),"_reportLoaded")):"object"==typeof e&&e.isReportLoad?e?(this._paramInfo=e.paramInfo,this._reportParameters=e.reportParameters,this._reportDataSources=e.dataSources,this._reporDataSets=e.dataSets,this._reportViewerToken=e.reportViewerToken,this._serviceType=e.serviceType,this._isRDLC=e.isRDLC,this._onReportLoaded(),null!=e.dataSources?this._getDataSourceCredential(e.dataSources):"Params"==e.paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)):(i=this._onReportError({errmsg:"ReportViewer failed to load the Report"}),this._showException(!i,{content:t.alertMessage.RVERR0001,description:""})):(this._reportViewerToken=e.reportViewerToken,!ej.isNullOrUndefined(e.paramInfo)&&e.paramInfo&&(this._paramInfo=e.paramInfo),!ej.isNullOrUndefined(e.serviceType)&&e.serviceType&&(this._serviceType=e.serviceType),!ej.isNullOrUndefined(e.parameters)&&e.parameters?this._getParameters(e):!ej.isNullOrUndefined(e.reportPageModel)&&e.reportPageModel?this._getPageModel(e):(i=this._onReportError({errmsg:"Report Loaded:"+e,innerMessage:e}),this._showException(!i,{content:t.alertMessage.reportLoad+e,description:t.alertMessage.RVERR0001}))))},_getDataSourceCredential:function(e){if(ej.isNullOrUndefined(e)||"Sf_legacy"==e)this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateDataSource}),"_updateDataSource");else if(this._renderCredentialBlock(e),this._showViewerBlock(!0),this.model.enableDatasourceBlockScroller&&e&&e.length>=2){var t=this._getScrollerHeight(this._id+"_credential_block_table",5);this._setScrollerHeight(t)}else this._setScrollerHeight("auto");this._refreshScroller(),this._showloadingIndicator(!1),this._setContainerSize(),this._showloadingIndicator(!0),this._onElementsRendered({action:"Credential"})},_validateDSCredential:function(e){"Sf_legacy"==e?(this._showloadingIndicator(!1),this._showViewerBlock(!1),this._setContainerSize(),this._showloadingIndicator(!0),"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1),this._dataSources=null,this._unwiredViewClickEvent()):this._showAlertDialog(e,(ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]).alertMessage.RVERR0008,!1)},_showLicenseMsg:function(e){var t,i=document.getElementById(this._id+"_licensing_msgContainer");if(ej.isNullOrUndefined(i)){i=this._buildTag("div","",null,{id:this._id+"_licensing_msgContainer"});var s=this._buildTag("div","e-licensing-container",null,{id:this._id+"_licensing_content"}),a={display:"table",position:"absolute",width:"100%",height:"100%","pointer-events":"none","z-index":ej.util.getZindexPartial(this.element)},o={width:"100%",height:"100%","font-weight":"bold","font-family":"Arial",color:"black",opacity:"0.2","text-align":"center","vertical-align":"middle","pointer-events":"none",display:"table-cell",filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"};"msie"===this._browserInfo.name||"edge"===this._browserInfo.name||"webkit"===this._browserInfo.name?(a["margin-top"]="Trial"===e?"75px":"175px",o.overflow="hidden",o["font-size"]="Trial"===e?"70px":"50px"):(a.overflow="hidden",o["font-size"]=("Trial"===e?100:70)+"px"),t="Trial"===e?210:750,$("#"+this._id+"_pageviewContainer").height()>t?(o.transform="rotate(-45deg)",o["-webkit-transform"]="rotate(-45deg)",o["-moz-transform"]="rotate(-45deg)",o["-ms-transform"]="rotate(-45deg)",o["-o-transform"]="rotate(-45deg)"):("msie"===this._browserInfo.name||"edge"===this._browserInfo.name||"webkit"===this._browserInfo.name)&&(a["margin-top"]="10px"),this._setTagStyle(i,a),this._setTagStyle(s,o),i.appendChild(s),document.getElementsByClassName("pageBodyBorder")[0].insertBefore(i,document.getElementById(this._id+"_pageviewbodyContainer")),s.innerHTML=e}},_updateDSCredential:function(){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateDataSource}),"_updateDataSource")},_updateParameter:function(e){var t,i;if(e){var s=!1,a=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],o=null;for(t=0;t<this._reportParametersModel.length;t++)(i=this._reportParametersModel[t])&&e&&i.Name==e.name&&i.IsDependent&&(s=!0,o=i);$("#"+this._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable"),this._updateCustomParametersModel(e),s&&o?this._showparameterLoadingIndicator(!0,a.parameterProcessingMessage,o.Name,o.Prompt):this._showparameterLoadingIndicator(!0,a.parameterProcessingMessage),s?(this._updateParam=e,this._ajaxCallMethod(this._reportAction.updateParameters,"_updateParameters",!1)):($("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null))}},_getParameters:function(e){var t,i,s,a,o;"Sf_legacy"!=e?((t=this._renderParameterBlock(e))?(this._setContainerSize(),this._getDefaultParameters(e)):(this._showViewerBlock(!e.parameters||0!=e.parameters.length),this._showloadingIndicator(!1),this.model.enableParameterBlockScroller&&e.parameters&&e.parameters.length>=5?(i=this._getScrollerHeight(this._id+"_param_block_table",5),this._setScrollerWidth(this._getItemWidth($("#"+this._id+"_viewerBlockCellContent"))),this._setScrollerHeight(i)):this._setScrollerHeight("auto"),this._setParameterBottomBorder(),this._setContainerSize(),this._showloadingIndicator(!0),(s=this._getParameterJson(e,!1))&&(this._reportParameters=s),this.model.autoRender&&s||this._isDrillThroughReport?(this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,s),this._isDevice&&this._toggleParameterBlock()):(this._showloadingIndicator(!1),this._hidePageView(),this._onElementsRendered({action:"Parameters"}))),this._refreshScroller(),!t&&this.model.autoRender&&s&&!this._isDevice&&this.model.parameterSettings.hideParameterBlock&&!this._dataRefresh&&(a=$("#"+this._id+"_viewBlockContainer").height(),o=$("#"+this._id+"_loadingIndicator_WaitingPopup"),this._toggleParameterBlock(),o.css("height",o.height()+a))):(this._showParameterBlock(!1),this._isForwardDirection=!0,this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_setParameterBottomBorder:function(){var e=$("#"+this._id+"_viewer_paramblock").data("ejScroller");e&&(e.isHScroll()?$("#"+this._id+"_viewerBlockContent").css("border-bottom-style","solid"):$("#"+this._id+"_viewerBlockContent").css("border-bottom-style","none"))},_setParameters:function(e){var t,i=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcontent table:first").attr("data-isviewclick");"boolean"==typeof e&&(0==e?(this._showloadingIndicator(!0),this._setContainerSize(),this._isDevice&&(this._showViewerBlock(!1),this._showViewerPage(!0),this._selectparamToolItem(!1)),this._currentPage=1,this._clearPageCache(),this._isForwardDirection=!0,this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)):(this._showloadingIndicator(!1),this._hidePageView(),"true"==i&&(t=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],this._viewReportEnableDisable(!1),this._showAlertDialog(t.alertMessage.RVERR0004,"",!0))))},_updateParameters:function(e){"Sf_legacy"!=e&&this._updateParamElements(e),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null)},_updateDataSource:function(){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getParameters}),"_getParameters")},_clearObjects:function(e){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.clearObjects,reportViewerToken:this._reportViewerToken,previousAction:e,isPrint:this._printMode}),"_clearCurrentServerCache")},_embedImageRequest:function(e){var t=this.model.reportServiceUrl+"/PostReportAction";t=this._getMultiTenantUrl(t,!0),this.doAjaxPost("POST",t,JSON.stringify({reportAction:this._reportAction.getImages,controlID:this._reportViewerToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:""}),e)},_inProgressRequest:function(e,t){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({inProgress:"inProgress",reportAction:this._reportAction.getPageModel,reportViewerToken:e}),t)},_getPageModel:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPageModel"):e.embedImageData?(this._pageImagesCache=e,this._embedImageRequest("_getPageImages")):(this._clearObjects(this._reportAction.getPageModel),this._renderCurrentPageModels(e))},_getPageImages:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPageModel"):(this._reportImages=e.reportImagesData,this._clearObjects(this._reportAction.getPageModel),this._renderCurrentPageModels(this._pageImagesCache))},_renderCurrentPageModels:function(e){var t,i,s;if(e){if(this._showNavigationIndicator(!1),this._showloadingIndicator(!1),this._viewReportEnableDisable(!1),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),("NoParams"==this._paramInfo||"HiddenParams"==this._paramInfo)&&this._showParameterBlock(!1),this._showparameterLoadingIndicator(!1,null),$("#"+this._id+"_pageviewContainer").css("display","block"),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_toolbarUl_navigate").removeClass("e-reportviewer-toolbar-disable"),this._isDevice?$("#"+this._id+"_toolbarUl_exportZoom").removeClass("e-reportviewer-toolbar-disable"):($("#"+this._id+"_toolbarUl_printExport").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").removeClass("e-reportviewer-toolbar-disable")),"IsDrillDown"===e||"IsSorting"===e)return;e.isDocumentMap&&(this._refresh?(this._showDocumentMap(e.isDocumentMap),(t=$("#"+this._id+"_ejtreeView").data("ejTreeView"))?t.collapseAll():this._isDocumentMap=this._isPageDocMap=e.isDocumentMap):this._isDocumentMap=this._isPageDocMap=e.isDocumentMap),e.errorInfo&&e.errorInfo.length>0?(i=this._onReportError({errmsg:e.errorInfo}),this._showException(!i,{content:e.errorInfo,description:(ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]).alertMessage.RVERR0002})):this._showException(!1),e.reportPageModel&&e.reportPageModel.PageData&&(this._pageModel=e.reportPageModel,this._dataVisualization.length>0&&(this._dataVisualization=[]),this._onRenderBeginAction(),this._gotoPage(this._currentPage),this._isToolbarClick||this._enableToolbarItems(),this._pageLayoutPage=this._currentPage,this._onRenderingComplete({reportParameters:this._reportParameters}),this._enablePreviewItem(),this._currnetDocMapNodeId&&this._currnetDocMapNodeId.length>0&&this._scrollDocMapItemView(),this._currentBookmarkInfo&&this._scrollToBookmark(),this._refresh=!1,this._dataRefresh=!1),this._currnetDocMapNodeId=null,this._currentBookmarkInfo=null,e.pgsetting&&this._updatePageSetup(e.pgsetting),e.exportsetting&&this._updateExportSetup(e.exportsetting),(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._storePageCache(this._currentPage),this._renderPages()),this._isFitToPage&&(s=this._fitToPage("fitToPage"),this._applyDropDownVal(s,!1,!0),$("#"+this._id+"_viewerContainer").scrollTop(0)),this._isFitToWidth&&(s=this._fitToPage("fitToWidth"),this._applyDropDownVal(s,!0,!1)),this._onElementsRendered({action:"PageModel"})}},_onRenderBeginAction:function(e){this._onRenderingBegin(e)},_enablePreviewItem:function(){var e=$("#"+this._id+"_toolbar_li_preview");e.hasClass("e-disable")&&$("#"+this._id+"_toolbarContainer").ejToolbar("enableItem",e)},_getPreviewModel:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPreviewModel"):e.embedImageData?(this._pageImagesCache=e,this._embedImageRequest("_getPreviewImages")):(this._clearObjects(this._reportAction.getPageModel),this._renderPreviewPageModels(e))},_getPreviewImages:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this._inProgressRequest(e.reportViewerToken,"_getPreviewModel"):(this._reportImages=e.reportImagesData,this._clearObjects(this._reportAction.getPageModel),this._renderPreviewPageModels(this._pageImagesCache))},_renderPreviewPageModels:function(e){var t;("NoParams"==this._paramInfo||"HiddenParams"==this._paramInfo)&&this._showParameterBlock(!1),this._showNavigationIndicator(!1),this._showloadingIndicator(!1),this._viewReportEnableDisable(!1),this._showparameterLoadingIndicator(!1,null),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),$("#"+this._id+"_pageviewContainer").css("display","block"),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_toolbarUl_navigate").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_printExport").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").removeClass("e-reportviewer-toolbar-disable"),e&&(e.isDocumentMap&&(this._isDocumentMap=e.isDocumentMap,this._isPageDocMap=this._isDocumentMap,this._pageDocMapFlag=!1),e.reportPageModel&&e.reportPageModel.PageData&&(this._pageModel=e.reportPageModel,this._isToolbarClick||(this._selectPreviewToolItem(!0),this._enableToolbarItems()),this._dataVisualization.length>0&&(this._dataVisualization=[]),this._gotoPage(this._currentPage),this._refresh=!1,this._initialPageSetup(e)),e.pgsetting&&this._updatePageSetup(e.pgsetting),(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._storePageCache(this._currentPage),this._renderPages()),this._enablePreviewItem()),this._isFitToPage&&(t=this._fitToPage("fitToPage"),this._applyDropDownVal(t,!1,!0),$("#"+this._id+"_viewerContainer").scrollTop(0)),this._isFitToWidth&&(t=this._fitToPage("fitToWidth"),this._applyDropDownVal(t,!0,!1)),this._onElementsRendered({action:"PreviewModel"})},_getPrintModel:function(e){var t,i,s,a;if(this._isReloadResult(e))this._loadReportFromBegin(e);else if(this._onPrintProgressChanged(t={stage:"preparation",currentPage:e.currentpage,preparationStage:e.preparationStage,totalPages:e.totalpages,handled:!1,containerId:this._id+"_viewerContainer"}),"dataPreparation"==e.preparationStage&&e.totalPages>1&&e.currentPage>1&&(i=Math.floor(e.currentPage/e.totalPages*100))>0&&(t.handled||this._showPrintExportProgressIndicator(!0,_getLocaleString("progressMessage")==undefined?null:String.format(_getLocaleString("progressMessage","printPreparationMessage"),i))),"inProgress"==e.inProgress){if(s={reportAction:this._reportAction.getPrintModel,printReportId:e.printReportId},e.reportPageModel&&e.reportPageModel&&e.reportPageModel.PageData.length>0)for(a=0;a<e.reportPageModel.PageData.length;a++)this._printData.push(e.reportPageModel.PageData[a]);this.doAjaxPost("POST",this._actionUrl,JSON.stringify(s),"_getPrintModel")}else if(this._clearObjects(this._reportAction.getPrintModel),e&&e.reportPageModel.PageData&&e.reportPageModel.PageData.length>0){for(a=0;a<e.reportPageModel.PageData.length;a++)this._printData.push(e.reportPageModel.PageData[a]);e.reportPageModel.PageData=this._printData,"None"==this.model.printOption?this._renderSilentPrinting(e):this._printReport(e)}},_documentMapModel:function(e){e&&e.DocumentMapNode&&e.DocumentMapNode.length>0&&(this._showDocumentMap(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.DocumentMap),this._containerSplit(e.DocumentMapNode))},_drillThroughModel:function(e){var t={x:$("#"+this._id+"_viewerContainer").scrollLeft(),y:$("#"+this._id+"_viewerContainer").scrollTop()},i=this._cloneReportViewerProperties();this._parents.push({pagePos:t,parentPro:i}),this._setInitialization(),this._reportViewerToken=i._childReportToken,this._unwireEvents(),this._initViewer(),this._reportLoaded(e)},_gotoParentReportModel:function(){var e;this._setParentReportViewerProperties(),e=this._currentPage,this._unwireEvents(),this._initViewer(),this._currentPage=e,"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):(this._selectparamToolItem(!1),this._showParameterBlock(!1),this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_clearCurrentServerCache:function(){},_print:function(){var e={stage:"beginPrint",handled:!1,containerId:this._id+"_viewerContainer",waitingPopupTemplate:this.model.waitingPopupTemplate};this._onPrintProgressChanged(e),e.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:this._getLocaleString("progressMessage","printLoadingMessage"),e.waitingPopupTemplate),this._ajaxCallMethod(this._reportAction.getPrintModel,"_getPrintModel",!1)},_printReport:function(e){var t=e.reportPageModel,i={stage:"printStarted",handled:!1,containerId:this._id+"_viewerContainer"};this._onPrintProgressChanged(i),i.handled||this._showPrintExportProgressIndicator(!1),e.embedImageData?(this._pageImagesCache=t,this._embedImageRequest("_getPrintingImages")):this._renderPrintPageModels(t)},_getPrintingImages:function(e){this._isReloadResult(e)?this._loadReportFromBegin(e):"inProgress"==e.inProgress?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPrintModel,printReportId:e.printReportId}),"_getPrintModel"):(this._reportImages=e.reportImagesData,this._renderPrintPageModels(this._pageImagesCache))},_renderPrintPageModels:function(e){var t,i,s,a,o,r,n,l,d,h,c,u=e.PaperHeight,p=e.PaperWidth,m=e.MarginTop,g=e.MarginLeft;this._isprint=!0;var _=$("head").find("link"),f="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,b="Default"==this.model.printOption&&"mozilla"!=this._browserInfo.name?window.open("","pint","tabbar=no,scrollbars = yes,resizable = yes"):window.open("","_blank"),v="<style>h1 {display:block;height:0px;page-break-after:always;}@page { size:"+p+"px "+u+"px; margin:0px;}@media print{ div {-webkit-print-color-adjust: exact; "+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+" } #header, #footer { display:none } }</style>";if(null!=b)try{if(b.document.write("<!DOCTYPE html>"),b.printDelay=500,(t=this._onReportPrint({printWind:b,isStyleLoad:!1})).cancel)return;for(i="msie"===this._browserInfo.name?'<body style="width:'+p+'px">':"<body>",t.isStyleLoad?(s="",_.each((function(e,t){$(t).attr("href",t.href),s+=t.outerHTML})),b.document.write("<html><head>"+s+v+"</head>"+i)):b.document.write("<html><head>"+v+"</head>"+i),a=ej.buildTag("div","",{display:"block",padding:"2px","background-color":"#ffff99",float:"right"},{id:"PrintloadingLabel"}),(o=ej.buildTag("span","",{display:"block","font-size":"12.5px","font-family":"Arial"},{id:"PrintspanLoadingLable"})).html("Loading print content..."),a.append(o),b.document.write(a[0].outerHTML),r=0;r<e.TotalPages;r++)n=e.PageData[r],e.Columns>1&&(l=r*e.Columns)<e.PageData.length&&(n=e.PageData[l]),ej.isNullOrUndefined(n)||(b.document.write('<div style="position: relative; height:'+n.Height+"px;width:"+n.Width+"px;"+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+';">'),d=this._renderPrintContainer(n,m,g,r,e),b.document.write(d),b.document.write("</div>"),f?f&&r<e.TotalPages&&b.document.write("<h1></h1>"):b.document.write("<h1></h1>"));h=b.printDelay&&b.printDelay===parseInt(b.printDelay,10)?b.printDelay:500,b.document.write("</body></html>"),b.document.close(),b.focus(),(c=b.document.getElementById("PrintloadingLabel")).parentNode.removeChild(c),setTimeout((function(){try{ej.isNullOrUndefined(b.window)||(b.print(),setTimeout((function(){try{b.close()}catch(e){}}),300))}catch(e){}}),h),this._printData=[],this._isprint=!1,this._onElementsRendered({action:"Print"})}catch(x){}},_renderSilentPrinting:function(e){var t,i,s,a,o,r,n,l,d=e.reportPageModel,h={stage:"printStarted",handled:!1,containerId:this._id+"_viewerContainer"};this._onPrintProgressChanged(h),h.handled||this._showPrintExportProgressIndicator(!1);var c=d.PaperHeight,u=d.PaperWidth,p=d.MarginTop,m=d.MarginLeft,g=$("head").find("link"),_="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,f="<style>h1 {display:block;height:0px;page-break-after:always;}@page { size:"+u+"px "+c+"px; margin:0px;}@media print{ div {-webkit-print-color-adjust: exact;} #header, #footer { display:none } }</style>",b=$("#"+this._id+"_printPageIframe");if(b.length>0||((b=$('<iframe id="'+this._id+'_printPageIframe"></iframe>')).css({height:".0001px",width:".0001px",backgroundColor:"Transparent",border:"none"}),$("body").append(b)),null!=(t=b[0].contentWindow?b[0].contentWindow:b[0].contentDocument.document?b[0].contentDocument.document:b[0].contentDocument)){for(t.document.open(),t.document.write("<!DOCTYPE html>"),t.printDelay=500,isCssLoad=this._onReportPrint({printFrame:t,isStyleLoad:!1}),i="msie"===this._browserInfo.name?'<body style="width:'+u+'px">':"<body>",isCssLoad?(s="",g.each((function(e,t){$(t).attr("href",t.href),s+=t.outerHTML})),t.document.write("<html><head>"+s+f+"</head>"+i)):t.document.write("<html><head>"+f+"</head>"+i),a=0;a<d.TotalPages;a++)o=d.PageData[a],d.Columns>1&&(r=a*d.Columns)<d.PageData.length&&(o=d.PageData[r]),ej.isNullOrUndefined(o)||(t.document.write('<div style="position:relative;height:'+c+"px;width:"+u+"px;"+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+';">'),n=this._renderPrintContainer(o,p,m,a,d),t.document.write(n),t.document.write("</div>"),_?_&&a<d.TotalPages&&t.document.write("<h1></h1>"):t.document.write("<h1></h1>"));l=t.printDelay&&t.printDelay===parseInt(t.printDelay,10)?t.printDelay:500,t.document.write("</body></html>"),t.document.close(),t.focus(),setTimeout((function(){ej.isNullOrUndefined(t.window)||(t.print(),setTimeout((function(){t.window.close()}),300))}),l)}},_renderPrintContainer:function(e,t,i,s,a){var o,r,n,l=document.createElement("div");document.body.appendChild(l),this._setTagStyle(l,{overflow:"auto",width:"1px",height:"1px"}),o=this._buildTag("div",null,null,null),r={position:"relative","background-color":"transparent","font-size":"8pt"},this._appendChild(l,o),this._setTagStyle(o,r);var d=this._buildTag("div",null,null,null),h={position:"relative","background-color":"transparent",width:e.Width+"px",height:e.HeaderHeight+"px"},c=this._buildTag("div","pageHeaderBorder",null,null),u={position:"relative","background-color":"#FFFFFF",left:i+"px",top:t+"px"};this._appendChild(c,d),this._appendChild(o,c),this._setTagStyle(c,u);var p=this._buildTag("div",null,null,null),m={position:"relative","background-color":"transparent",width:e.Width+"px",height:e.Height+"px"},g=this._buildTag("div","pageBodyBorder",null,null),_={position:"relative","background-color":"#FFFFFF",left:i+"px",top:t+"px","background-position":"center center","background-repeat":"no-repeat"};this._appendChild(g,p),this._appendChild(o,g),this._setTagStyle(g,_);var f=this._buildTag("div",null,null,null),b={position:"relative","background-color":"transparent",width:e.Width+"px",height:e.FooterHeight+"px"},v=this._buildTag("div","pageFooterBorder",null,null);return this._setTagStyle(v,{position:"relative","background-color":"#FFFFFF",left:i+"px",top:t+"px"}),this._appendChild(v,f),this._appendChild(o,v),(this._printMode||this._isprint)&&(h.overflow="hidden",b.overflow="hidden"),this._setTagStyle(d,h),this._setTagStyle(f,b),e.ReportStyleModel&&this._applyPageStyle(o,e.ReportStyleModel,!0,!0),e.HeaderStyleModel&&this._applyPageStyle(c,e.HeaderStyleModel,!0,!1),e.FooterStyleModel&&this._applyPageStyle(v,e.FooterStyleModel,!0,!1),e.HeaderModel&&e.HeaderModel.length>0&&this._renderPageControls(e,e.HeaderModel,d,!0,"Print"+s),e.FooterModel&&e.FooterModel.length>0&&this._renderPageControls(e,e.FooterModel,f,!0,"Print"+s),a&&a.Columns>1?this._renderMultiColumnPage(a,p,!0,s):(e.BodyStyleModel&&this._applyPageStyle(g,e.BodyStyleModel,!0,!1),e.PageModel&&e.PageModel.length>0&&this._renderPageControls(e,e.PageModel,p,!0,"Print"+s)),m.height=e.Height+"px",this._setTagStyle(p,m),$(l).find("img").each((function(e,t){null!=t["data-imgUrl"]&&"undefined"!=t["data-imgUrl"]&&t.setAttribute("src",t["data-imgUrl"])})),n=l.innerHTML.replace(/PrintImage/g,"GetResource"),document.body.removeChild(l),n},_showPrintButton:function(e){e?$("#"+this._id+"_toolbar_li_print").css("display","block"):$("#"+this._id+"_toolbar_li_print").css("display","none")},_exportMenuClick:function(e){var t,i=$(e.target);if(i){i.hasClass("e-pdf")?t="PDF":i.hasClass("e-word")?t="Word":i.hasClass("e-excel")?t="Excel":i.hasClass("e-html")?t="Html":i.hasClass("e-ppt")?t="PPT":i.hasClass("e-csv")?t="CSV":i.hasClass("e-xml")?t="XML":i.hasClass("e-custom")&&($(e.target.textContent),t=$(e.target).text());var s={value:t,fileName:""},a=this._onExportItemClick(s),o="";s.fileName&&s.fileName.length>0&&(o=s.fileName),a||i.hasClass("e-custom")||this._processExport(t,o)}},_processExport:function(e,t){var i,s,a,o;e&&("pdf"==(s=e.toLowerCase())?i="PDF":"word"==s?i="Word_"+this.model.exportSettings.wordFormat:"excel"==s?i="Excel_"+this.model.exportSettings.excelFormat:"html"==s?i="Html":"ppt"==s?i="PPT_"+this.model.exportSettings.pptFormat:"csv"==s?i="CSV":"xml"==s&&(i="XML"),i&&(this._onExportProgressChanged(a={format:e,stage:"beginExport",handled:!1,containerId:this._id+"_viewerContainer",waitingPopupTemplate:this.model.waitingPopupTemplate}),a.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:this._getLocaleString("progressMessage","exportLoadingMessage"),a.waitingPopupTemplate),o=this._getMultiTenantUrl(o=this.model.reportServiceUrl+"/PostReportAction",!0),this.doAjaxPost("POST",o,JSON.stringify({reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,resourcetype:i,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,reportName:t,pageindex:this._currentPage,imageQuality:this.model.exportSettings.imageQuality}),"_exportReport")))},_convertModelToImage:function(e,t,i){var s,a,o,r=this._buildTag("div",null,null,{visibility:"hidden",position:"absolute",width:"0px",height:"0px"},null);for(document.body.appendChild(r),"ChartModel"==e.ItemType?(this._renderChartControl(e,!1,!1,{},r,null,!1,null,!0,"msie"==this._browserInfo.name),o=e.ItemName?e.ItemName:e.Name,document.getElementById(this._id+"_"+o).style.visibility="collapse",a="#chartCtrl_"+this._id+"_"+o+"_"+(null!=e.ChartAreas?e.ChartAreas[0].Name:e.ChartNoDataMessage.Name),"msie"==this._browserInfo.name?this._getChartImageData($(a).ejChart("instance"),o,i):this._getImageFromSvg(a,o,i,t,"chart")):"GaugeModel"==e.ItemType?(this._renderGaugeControl(e,!1,!1,{},r,null,!1,null),a="#"+this._dataVisualization[this._dataVisualization.length-1].id,o=e.ItemName?e.ItemName:e.Name,document.getElementById(this._id+"_"+o).style.visibility="collapse",s=!ej.isNullOrUndefined(e.GaugePanel.Indicator)&&e.GaugePanel.Indicator.length>0?"Indicator":!ej.isNullOrUndefined(e.GaugePanel.RadialGauges)&&e.GaugePanel.RadialGauges.length>0?"Radial":"Linear",this._getImageFromSvg(a,o,i,t,s)):"MapModel"==e.ItemType&&(this._renderMapControl(e,!1,r,null,!1,null),a="#"+this._dataVisualization[this._dataVisualization.length-1].id,o=e.ItemName?e.ItemName:e.Name,document.getElementById(this._id+"_"+o).style.visibility="collapse",this._getImageFromSvg(a,o,i,t));r.firstChild;)r.removeChild(r.firstChild)},_getImageFromSvg:function(e,t,i,s,a){var o,r,n=this.model.exportSettings.imageQuality;if("chart"==a){(o=$(e).ejChart("instance")).model.exportSettings.type="svg";var l=decodeURIComponent(o.export()),d=(p=this._buildTag("canvas",null,null,{width:o.svgWidth*n,height:o.svgHeight*n},null)).getContext("2d");document.body.appendChild(p);var h,c=window.URL.createObjectURL(new Blob([l],{type:"image/svg+xml"})),u=this;(h=new Image).onload=function(){d.setTransform(n,0,0,n,0,0),d.webkitImageSmoothingEnabled=!1,d.mozImageSmoothingEnabled=!1,d.imageSmoothingEnabled=!1,d.drawImage(h,0,0);var e=p.toDataURL();$(p).remove(),i[t]?_dataVisualItemCount--:i[t]=e.replace(e.substr(0,e.lastIndexOf(",")+1),""),_dataVisualItemCount==Object.keys(i).length&&u._dataVisualizationRequest(i,s)},h.src=c}else{l=document.querySelector(e).querySelector("svg");var p,m=(new XMLSerializer).serializeToString(l),g=l.getBoundingClientRect();d=(p=this._buildTag("canvas",null,null,{width:"Indicator"===a?g.width*n:g.width,height:"Indicator"===a?g.height*n:g.height},null)).getContext("2d"),document.body.appendChild(p),r="Indicator"===a?window.URL.createObjectURL(new Blob([m],{type:"image/svg+xml"})):"data:image/svg+xml;base64,"+btoa(m),h=this._buildTag("img",null,null,{src:r,width:g.width,height:g.height},null),document.body.appendChild(h),u=this,h.onload=function(){"Indicator"===a?d.drawImage(h,0,0):"Radial"===a?g.width<g.height?d.drawImage(h,0,0,g.width,g.width):d.drawImage(h,0,0,g.height,g.height):d.drawImage(h,0,0,g.width,g.height);var e="Indicator"===a?p.toDataURL():p.toDataURL("image/png",1);$(p).remove(),$(h).remove(),i[t]?_dataVisualItemCount--:i[t]=e.replace(e.substr(0,e.lastIndexOf(",")+1),""),_dataVisualItemCount==Object.keys(i).length&&u._dataVisualizationRequest(i,s)}}},_getChartImageData:function(e,t,i){var s=e.export().toDataURL("image/png",1);i[t]=s.replace(s.substr(0,s.lastIndexOf(",")+1),"")},_getMapImageData:function(e,t,i){var s=e.export("SVG",this.model.reportName).toDataURL("image/png",1);i[t]=s.replace(s.substr(0,s.lastIndexOf(",")+1),"")},_visualizationExport:function(e){var t,i,s,a,o=e.exportModels,r={};for(_dataVisualItemCount=o?o.length+this._dataVisualization.length:this._dataVisualization.length,t=0;t<this._dataVisualization.length;t++)"ChartModel"==this._dataVisualization[t].type?"msie"==this._browserInfo.name?(s=!1,(i=$("#"+this._dataVisualization[t].id).ejChart("instance")).model&&(i.model.enable3D&&(i.model.enable3D=i.model.enableRotation=!1,s=!0),i.model.enableCanvasRendering=!0,i.redraw(),this._getChartImageData(i,this._dataVisualization[t].name,r),i.model.enableCanvasRendering=!1,s&&!i.model.enable3D&&(i.model.enable3D=i.model.enableRotation=!0),i.redraw())):this._getImageFromSvg("#"+this._dataVisualization[t].id,this._dataVisualization[t].name,r,e,"chart"):"GaugeModel"==this._dataVisualization[t].type?this._getImageFromSvg("#"+this._dataVisualization[t].id,this._dataVisualization[t].name,r,e,this._dataVisualization[t].itemType):"MapModel"==this._dataVisualization[t].type&&this._getImageFromSvg("#"+this._dataVisualization[t].id,this._dataVisualization[t].name,r,e);if(o)for(a=0;a<o.length;a++)this._convertModelToImage(o[a],e,r);return r},_dataVisualizationRequest:function(e,t){var i={reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,resourcetype:t.resourcetype,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,reportName:t.reportName,ExportImages:e,pageindex:this._currentPage};this.doAjaxPost("POST",this._getMultiTenantUrl(this.model.reportServiceUrl+"/PostReportAction",!0),JSON.stringify(i),"_exportReport")},_exportReport:function(e){var t,i,s,a,o,r,n,l,d,h,c=this.model.reportServiceUrl+("NETCore"==this._serviceType||"SelfHost"==this._serviceType?"/PostFormReportAction":"/PostReportAction");if(c=this._getMultiTenantUrl(c,!0),i={reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,downloadreportid:e.downloadreportid},this._onExportProgressChanged(a={stage:"preparation",format:e.format,preparationStage:e.preparationStage,currentPage:e.currentpage,totalPages:e.totalpages,handled:!1,containerId:this._id+"_viewerContainer"}),"documentPreparation"==e.preparationStage&&e.totalPages>1&&e.currentPage>1&&(t=Math.floor(e.currentPage/e.totalPages*100))>0&&(a.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:String.format(_getLocaleString("progressMessage","exportPreparationMessage"),t))),"inProgress"==e.inProgress)i={reportAction:this._reportAction.exporting,downloadreportid:e.downloadreportid},this.doAjaxPost("POST",this._getMultiTenantUrl(this.model.reportServiceUrl+"/PostReportAction",!0),JSON.stringify(i),"_exportReport");else if(e.clientExport)s=this._visualizationExport(e),_dataVisualItemCount==Object.keys(s).length&&this._dataVisualizationRequest(s,e);else{for(l in this._clearObjects(this._reportAction.exporting),o=this._id,this._onExportProgressChanged(a={stage:"exportStarted",handled:!1,containerId:this._id+"_viewerContainer"}),!ej.isNullOrUndefined(a.actionName)&&a.actionName.trim().length>0&&(c=c.replace(c.substr(c.lastIndexOf("/")+1),a.actionName.trim())),r=$("<form>").attr({action:c,method:"POST",name:"export","data-ajax":"false"}),n=function(e,t){$("<input type='hidden' title='params'>").attr({id:o+"_"+e,name:e,value:t}).appendTo(r)},i)n(l,i[l]);if($("body").append(r),$(r).hide(),this._onReportExport(d={exportAction:r,formValues:[]}))return void this._showPrintExportProgressIndicator(!1);if(d.formValues&&d.formValues.length>0)for(h=0;h<d.formValues.length;h++)n(d.formValues[h].key,d.formValues[h].value);$(r).submit().remove(),a.handled||this._showPrintExportProgressIndicator(!1),this.element.find("#"+this._id+"_toolbar_exportListTip").hide(),this._onElementsRendered({action:"Export"})}},_showExportList:function(){this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Html?$("#"+this._id+"_toolbar_li_html").css("display","block"):$("#"+this._id+"_toolbar_li_html").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Word?$("#"+this._id+"_toolbar_li_word").css("display","block"):$("#"+this._id+"_toolbar_li_word").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Excel?$("#"+this._id+"_toolbar_li_xls").css("display","block"):$("#"+this._id+"_toolbar_li_xls").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Pdf?$("#"+this._id+"_toolbar_li_pdf").css("display","block"):$("#"+this._id+"_toolbar_li_pdf").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.PPT?$("#"+this._id+"_toolbar_li_ppt").css("display","block"):$("#"+this._id+"_toolbar_li_ppt").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.CSV?$("#"+this._id+"_toolbar_li_csv").css("display","block"):$("#"+this._id+"_toolbar_li_csv").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.XML?$("#"+this._id+"_toolbar_li_xml").css("display","block"):$("#"+this._id+"_toolbar_li_xml").css("display","none");for(var e=0;e<this.model.exportSettings.customItems.length;e++)this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.CustomItems?$("#"+this._id+"_toolbar_li_customexport_"+e).css("display","block"):$("#"+this._id+"_toolbar_li_customexport_"+e).css("display","none")},_showExportControls:function(e){e?$("#"+this._id+"_toolbar_li_export").css("display","block"):$("#"+this._id+"_toolbar_li_export").css("display","none")},_showExportTooltip:function(){var e,t,i,s=$("#"+this._id+"_toolbar_exportListTip");s.length>0||(s=this._renderToolTipExport(),$("body").append(s),this._showExportList(),this._on($("#"+this._id+"_toolbar_exportListTip .e-reportviewer-popupli"),"click",this._exportMenuClick),this._on($("#"+this._id+"_toolbar_exportListTip .e-reportviewer-popupli"),"mousedown",this._onPopupClick)),"block"==s.css("display")?s.css("display","none"):s.css("display","block"),e=$("#"+this._id+"_toolbar_li_export"),(t=$("#"+this._id+"_toolbarContainer_hiddenlist")).length>0&&t.find("#"+this._id+"_toolbar_li_export").length>0&&"none"!==t.css("display")?s.css({left:e.offset().left,top:e.offset().top+e.height()+parseFloat(e.css("padding-top"))+parseFloat(e.css("padding-bottom"))+parseFloat(e.parent().css("margin-bottom")),"z-index":ej.util.getZindexPartial(this.element)}):(i=this.element.find("#"+this._id+"_toolbarContainer"),s.css({left:e.offset().left,top:i.offset().top+parseFloat(i.css("border-top-width"))+i.height(),"z-index":ej.util.getZindexPartial(this.element)}))},_updatePageNavigation:function(e,t){var i=$("#"+this._id+"_toolbarContainer");i.ejToolbar("enableItem",$("#"+this._id+"_toolbarUl_navigate")),e>1&&e<t?(i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotolast"))):1==e&&e<t?(i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotolast"))):e==t&&1!=t?(i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast"))):(i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),i.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast")))},_gotoRenderPage:function(){this._onRenderBeginAction(),this._pageModel=this._retrievePageCache(this._currentPage),this._gotoPage(this._currentPage),this._onRenderingComplete({reportParameters:this._reportParameters}),this._refresh=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._renderPages()},_gotoFirstPage:function(){this._pageModel&&this._pageModel.TotalPages&&this._pageModel.TotalPages>0&&(this._currentPage=1,this._refresh=!1,this._isForwardDirection=!0,this._isSelectedPage=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_gotoLastPage:function(){this._pageModel&&this._pageModel.TotalPages&&this._pageModel.TotalPages>0&&(this._currentPage=this._pageModel.TotalPages,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_gotoNextPage:function(){var e;this._pageModel&&this._pageModel.TotalPages&&this._currentPage<this._pageModel.TotalPages&&(this._currentPage=this._currentPage+1,this._refresh=!1,this._isForwardDirection=!0,this._isSelectedPage=!1,(e=$("#"+this._id+"_toolbarContainer")).ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbarUl_navigate")),(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_gotoPreviousPage:function(){var e;this._pageModel&&this._pageModel.TotalPages&&this._currentPage>1&&(this._currentPage=this._currentPage-1,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!1,(e=$("#"+this._id+"_toolbarContainer")).ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbarUl_navigate")),(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_gotoPageNo:function(e){var t;this._pageModel&&this._pageModel.TotalPages&&((t=parseInt(e))>=1&&t<=this._pageModel.TotalPages&&this._currentPage!=t?(this._currentPage=t,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!0,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)):this._currnetDocMapNodeId&&this._currnetDocMapNodeId.length>0?this._scrollDocMapItemView():this._currentBookmarkInfo&&this._scrollToBookmark())},_gotoPage:function(e){var t,i,s;this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0&&(t=parseInt(e),this._updatePageNavigation(t,this._pageModel.TotalPages),this._pageModel.TotalPages>0&&this._pageModel.TotalPages&&(this._resetPageNumber(!0),$("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").html(" / "+this._pageModel.TotalPages),$("#"+this._id+"_toolbar_gotopage").val(t),t>999&&t<=9999?$("#"+this._id+"_toolbar_gotopage").css("width","35px"):t>9999?$("#"+this._id+"_toolbar_gotopage").css("width","43px"):$("#"+this._id+"_toolbar_gotopage").css("width","28px")),(i=$("#"+this._id+"_pageviewContainer").find(".e-js"))&&i.length>0&&this._destroyEJObjects(i),i=null,this._renderPageModels(s=this._pageModel.PageData[0]),s&&this._setPageSize(s.Height,s.Width,s.HeaderHeight,s.FooterHeight))},_onkeyPress:function(e){if(13==e.keyCode)try{var t=parseInt($(e.currentTarget).val());this._gotoPageNo(t)}catch(i){}if(e.keyCode>31&&(e.keyCode<48||e.keyCode>57))return!1},_showPageNavigationControls:function(e){e?$("#"+this._id+"_toolbar_gotopage").parents(".e-reportviewer-toolbarul").css("display","block"):$("#"+this._id+"_toolbar_gotopage").parents(".e-reportviewer-toolbarul").css("display","none")},_resetPageNumber:function(e){e?this.element.find("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").css("display","inline"):(this.element.find("#"+this._id+"_toolbar_gotopage").val(0),this.element.find("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").css("display","none"))},_showPrintPageSetup:function(){var e;$("#"+this._id+"_printPageSetup").length>0?e=$("#"+this._id+"_printPageSetup").data("ejDialog"):(this._renderPrintPageSetup(),this._bindPageSetupModel(),$("#"+this._id+"_landscape").data("ejRadioButton").model.change=$.proxy(this._orientationChanged,this),$("#"+this._id+"_portrait").data("ejRadioButton").model.change=$.proxy(this._orientationChanged,this)),e&&e.model&&(e.isOpen()?$("#"+this._id+"_printPageSetup").ejDialog("close"):($("#"+this._id+"_printPageSetup").ejDialog("open"),this._bindPageSetupModel())),this._enableToolbarContents(!1)},_pageSettingClose:function(){this._enableToolbarContents(!0)},_updatePageSetup:function(e){ej.isNullOrUndefined(e)||(this._paperSetup.paperHeight=this._paperSetup.paperHeight?this._paperSetup.paperHeight:(e.PaperHeight/96).toFixed(2),this._paperSetup.paperWidth=this._paperSetup.paperWidth?this._paperSetup.paperWidth:(e.PaperWidth/96).toFixed(2),this._paperSetup.MarginTop=this._paperSetup.MarginTop&&this._paperSetup.MarginTop>0?this._paperSetup.MarginTop:(e.MarginTop/96).toFixed(2),this._paperSetup.MarginRight=this._paperSetup.MarginRight&&this._paperSetup.MarginRight>0?this._paperSetup.MarginRight:(e.MarginRight/96).toFixed(2),this._paperSetup.MarginBottom=this._paperSetup.MarginBottom&&this._paperSetup.MarginBottom>0?this._paperSetup.MarginBottom:(e.MarginBottom/96).toFixed(2),this._paperSetup.MarginLeft=this._paperSetup.MarginLeft&&this._paperSetup.MarginLeft>0?this._paperSetup.MarginLeft:(e.MarginLeft/96).toFixed(2),this._paperOrientation=this._paperOrientation?this._paperOrientation:parseFloat(this._paperSetup.paperHeight)<parseFloat(this._paperSetup.paperWidth)?"Landscape":"Portrait",this._paperName=this._paperName?this._paperName:"Landscape"==this._paperOrientation?this._getPaperName(parseFloat(this._paperSetup.paperHeight),parseFloat(this._paperSetup.paperWidth)):this._getPaperName(parseFloat(this._paperSetup.paperWidth),parseFloat(this._paperSetup.paperHeight)))},_initialPageSetup:function(e){ej.isNullOrUndefined(e.reportPageModel.PaperHeight)||(this._paperSetup.paperHeight=this._paperSetup.paperHeight?this._paperSetup.paperHeight:(e.reportPageModel.PaperHeight/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.PaperWidth)||(this._paperSetup.paperWidth=this._paperSetup.paperWidth?this._paperSetup.paperWidth:(e.reportPageModel.PaperWidth/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginTop)||(this._paperSetup.MarginTop=this._paperSetup.MarginTop&&this._paperSetup.MarginTop>0?this._paperSetup.MarginTop:(e.reportPageModel.MarginTop/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginRight)||(this._paperSetup.MarginRight=this._paperSetup.MarginRight&&this._paperSetup.MarginRight>0?this._paperSetup.MarginRight:(e.reportPageModel.MarginRight/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginBottom)||(this._paperSetup.MarginBottom=this._paperSetup.MarginBottom&&this._paperSetup.MarginBottom>0?this._paperSetup.MarginBottom:(e.reportPageModel.MarginBottom/96).toFixed(2)),ej.isNullOrUndefined(e.reportPageModel.MarginLeft)||(this._paperSetup.MarginLeft=this._paperSetup.MarginLeft&&this._paperSetup.MarginLeft>0?this._paperSetup.MarginLeft:(e.reportPageModel.MarginLeft/96).toFixed(2))},_bindPageSetupModel:function(){var e=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),t=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),i=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),s=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),a=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),o=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox");$("#"+this._id+"_PaperSize").data("ejDropDownList").selectItemByText(this._paperName),e.option("value",this._paperSetup.paperHeight?this._paperSetup.paperHeight:1),t.option("value",this._paperSetup.paperWidth?this._paperSetup.paperWidth:1),s.option("value",this._paperSetup.MarginTop),a.option("value",this._paperSetup.MarginRight),o.option("value",this._paperSetup.MarginBottom),i.option("value",this._paperSetup.MarginLeft),"Landscape"==this._paperOrientation?$("#"+this._id+"_landscape").data("ejRadioButton").option("checked",!0):$("#"+this._id+"_portrait").data("ejRadioButton").option("checked",!0)},_orientationChanged:function(e){var t,i,s,a,o=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),r=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),n=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),l=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),d=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),h=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox");o&&r&&(t=o.getValue(),i=r.getValue(),"Custom"==this._paperName&&(e.model.id==this._id+"_portrait"&&t>i||e.model.id==this._id+"_landscape"&&t<i)?(o.option("value",t),r.option("value",i)):(o.option("value",i),r.option("value",t)),e.model.id==this._id+"_landscape"&&1==e.model.checked?(s=n.getValue(),n.option("value",l.getValue()),a=h.getValue(),h.option("value",s),s=d.getValue(),d.option("value",a),l.option("value",s),this._paperOrientation=ej.ReportViewer.Orientation.Landscape):(s=d.getValue(),d.option("value",l.getValue()),a=h.getValue(),h.option("value",s),s=n.getValue(),n.option("value",a),l.option("value",s),this._paperOrientation=ej.ReportViewer.Orientation.Portrait))},_setUpChange:function(e){var t=e.value,i=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),s=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),a=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),o=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),r=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),n=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox"),l=this._getPaperSize(t);"Custom"==t?"Portrait"==this._paperOrientation&&l.height>l.width||"Landscape"==this._paperOrientation&&l.height<l.width?(i.option("value",l.height),s.option("value",l.width)):(i.option("value",l.width),s.option("value",l.height)):"Landscape"==this._paperOrientation?(i.option("value",l.height<l.width?l.height:l.width),s.option("value",l.height<l.width?l.width:l.height)):(i.option("value",l.height),s.option("value",l.width)),o.getValue()||o.option("value",(0).toFixed(2)),r.getValue()||r.option("value",(0).toFixed(2)),n.getValue()||n.option("value",(0).toFixed(2)),a.getValue()||a.option("value",(0).toFixed(2)),"Custom"==t?(i.enable(),s.enable()):(i.disable(),s.disable())},_getPaperName:function(e,t){return 11.69==e&&16.54==t?"A3":8.27==e&&11.69==t?"A4":10.12==e&&14.33==t?"B4(JIS)":7.17==e&&10.12==t?"B5(JIS)":4.13==e&&9.5==t?"Envelope #10":3.88==e&&7.5==t?"Envelope Monarch":7.25==e&&10.5==t?"Executive":8.5==e&&14===t?"Legal":8.5==e&&11===t?"Letter":11===e&&17===t?"Tabloid":"Custom"},_getPaperSize:function(e){var t,i,s,a,o={};switch(e){case"A3":i=11.69,t=16.54;break;case"A4":i=8.27,t=11.69;break;case"B4(JIS)":i=10.12,t=14.33;break;case"B5(JIS)":i=7.17,t=10.12;break;case"Envelope #10":i=4.13,t=9.5;break;case"Envelope Monarch":i=3.88,t=7.5;break;case"Executive":i=7.25,t=10.5;break;case"Legal":i=8.5,t=14;break;case"Letter":i=8.5,t=11;break;case"Tabloid":i=11,t=17;break;case"Custom":s=$("#"+this._id+"_paperHeight"),a=$("#"+this._id+"_paperWidth"),t=s.length>0&&s.data("ejNumericTextbox")?s.data("ejNumericTextbox").getValue():this.model.pageSettings.height,i=a.length>0&&a.data("ejNumericTextbox")?a.data("ejNumericTextbox").getValue():this.model.pageSettings.width}return o.height=t,o.width=i,o},_pageSetupSubmit:function(){var e,t=$("#"+this._id+"_paperHeight").data("ejNumericTextbox").getValue(),i=$("#"+this._id+"_paperWidth").data("ejNumericTextbox").getValue(),s=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox").getValue(),a=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox").getValue(),o=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox").getValue(),r=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox").getValue();ej.isNullOrUndefined(t)||ej.isNullOrUndefined(i)||ej.isNullOrUndefined(s)||ej.isNullOrUndefined(a)||ej.isNullOrUndefined(o)||ej.isNullOrUndefined(r)||(s+o>=t||r+a>=i?this._showAlertDialog((ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]).alertMessage.RVERR0009,"",!1):(this._paperSetup.paperHeight=ej.isNullOrUndefined(t)?0:t,this._paperSetup.paperWidth=ej.isNullOrUndefined(i)?0:i,this._paperSetup.MarginTop=ej.isNullOrUndefined(s)?0:s,this._paperSetup.MarginRight=ej.isNullOrUndefined(a)?0:a,this._paperSetup.MarginBottom=ej.isNullOrUndefined(o)?0:o,this._paperSetup.MarginLeft=ej.isNullOrUndefined(r)?0:r,e=$("#"+this._id+"_PaperSize").data("ejDropDownList"),this._paperName=e.model.value,this._paperOrientation=t<i?"Landscape":"Portrait",this._pageSetup=!0,this.model.pageSettings.height=this._paperSetup.paperHeight,this.model.pageSettings.width=this._paperSetup.paperWidth,this.model.pageSettings.orientation=this._paperOrientation,this.model.pageSettings.paperSize=this._paperName,this.model.pageSettings.margins.top=this._paperSetup.MarginTop,this.model.pageSettings.margins.right=this._paperSetup.MarginRight,this.model.pageSettings.margins.bottom=this._paperSetup.MarginBottom,this.model.pageSettings.margins.left=this._paperSetup.MarginLeft,ej.isNullOrUndefined(this._paperSetup.paperWidth)||ej.isNullOrUndefined(this._paperSetup.paperHeight)||this._updatePreviewLayout(this._printMode,!0),$("#"+this._id+"_printPageSetup").ejDialog("close")))},_pageSetupCancel:function(){$("#"+this._id+"_printPageSetup").ejDialog("close")},_showExportSetup:function(){var e;$("#"+this._id+"_exportSetup").length>0?e=$("#"+this._id+"_exportSetup").data("ejDialog"):(this._renderExportSetup(),this._bindExportSetupModel()),e&&e.model&&(e.isOpen()?$("#"+this._id+"_exportSetup").ejDialog("close"):($("#"+this._id+"_exportSetup").ejDialog("open"),this._bindExportSetupModel())),this._enableToolbarContents(!1)},_exportSetupSubmit:function(){this.model.exportSettings.excelFormat=null!=this._excelFormat?this._excelFormat:this.model.exportSettings.excelFormat,this.model.exportSettings.wordFormat=null!=this._wordFormat?this._wordFormat:this.model.exportSettings.wordFormat;var e=$("#"+this._id+"_imageQuality").data("ejNumericTextbox").getValue();this.model.exportSettings.imageQuality=null!=e?e:this.model.exportSettings.imageQuality,ej.isNullOrUndefined(e)||$("#"+this._id+"_exportSetup").ejDialog("close")},_exportSetupCancel:function(){$("#"+this._id+"_exportSetup").ejDialog("close")},_bindExportSetupModel:function(){$("#"+this._id+"_ExcelFormat").data("ejDropDownList").selectItemByText(this.model.exportSettings.excelFormat),$("#"+this._id+"_WordFormat").data("ejDropDownList").selectItemByText(this.model.exportSettings.wordFormat),$("#"+this._id+"_imageQuality").data("ejNumericTextbox").option("value",this.model.exportSettings.imageQuality)},_exportSetupClose:function(){this._enableToolbarContents(!0)},_exportSetupChange:function(e){e.value.includes("excel")?this._excelFormat=e.value:this._wordFormat=e.value},_updateExportSetup:function(e){ej.isNullOrUndefined(e)||(this.model.exportSettings.excelFormat="Excel2013"!=e.ExcelVersion?e.ExcelVersion.toLowerCase():this.model.exportSettings.excelFormat,this.model.exportSettings.wordFormat="Docx"!=e.WordFormat?e.WordFormat.toLowerCase():this.model.exportSettings.wordFormat,this.model.exportSettings.imageQuality=2!=e.ImageQuality?e.ImageQuality:this.model.exportSettings.imageQuality)},_showFittoPage:function(e){e?$("#"+this._id+"_toolbar_li_pagefit").css("display","block"):$("#"+this._id+"_toolbar_li_pagefit").css("display","none")},_resetPage:function(){var e=null,t=null,i=$("#"+this._id+"_pageviewContainer"),s=$("#"+this._id+"_pageviewOuterline");s.css({width:i.width(),height:i.height()}),this._applyPageTransform(i,this._preZoomVal,this._preZoomVal),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(e=i[0].getBoundingClientRect().right,t=i[0].getBoundingClientRect().bottom):(e=i[0].getBoundingClientRect().width,t=i[0].getBoundingClientRect().height),s.css({width:e,height:t})},_fitToPage:function(e){var t=null,i=null;this._resetPage();var s=$("#"+this._id+"_viewerContainer"),a=$("#"+this._id+"_pageviewContainer"),o=$("#"+this._id+"_pageviewOuterline"),r=s.width(),n=s.height(),l=o.width(),d=o.height(),h=1,c=1;return"msie"==this._browserInfo.name&&8==this._browserInfo.version?(t=a[0].getBoundingClientRect().right,i=a[0].getBoundingClientRect().bottom):(t=a[0].getBoundingClientRect().width,i=a[0].getBoundingClientRect().height),"fitToPage"==e?(h=(r-40)/l*this._preZoomVal,c=(n-40)/d*this._preZoomVal,n>d&&(c=this._preZoomVal),r>l&&(h=this._preZoomVal),this._applyPageTransform(a,h,c,e),o.css({width:t,height:i})):"wholepage"==e?n<d&&(this._applyPageTransform(a,this._preZoomVal,c=(n-40)/d*this._preZoomVal,e),h=this._preZoomVal,o.css({width:t,height:i})):"fitToWidth"==e&&r<l&&(this._applyPageTransform(a,h=(r-40)/l*this._preZoomVal,this._preZoomVal,e),c=this._preZoomVal,o.css({width:t,height:i})),{scalX:h,scalY:c}},_selectDropDownIndex:function(e){var t=$($("#"+this._id+"_toolbar_zoom_popup li")[e]);t.addClass("e-active"),$("#"+this._id+"_toolbar_zoom_input").val(t.text())},_applyDropDownVal:function(e,t,i){if(i){var s=e.scalX>e.scalY?e.scalY:e.scalX;$("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*s)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active")}else t?($("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*e.scalX)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active")):($("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*e.scalY)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active"))},_pageFitMenuClick:function(e){var t;if(this._isFitToPage=!1,this._isFitToWidth=!1,t=$(e.target).hasClass("e-reportviewer-icon")?$(e.target).attr("fitType"):e.target.className){var i,s=$("#"+this._id+"_toolbar_li_fittopagewidth"),a=s.find("span.e-reportviewer-icon"),o=$("#"+this._id+"_toolbar_li_fittowholepage"),r=o.find("span.e-reportviewer-icon"),n=$("#"+this._id+"_viewerContainer"),l=$("#"+this._id+"_pageviewOuterline"),d=$("#"+this._id+"_pageviewContainer"),h=n.width(),c=n.height(),u=l.width(),p=l.height(),m=d.width();switch($("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),t){case"FITTOPAGE":this._isFitToPage=!0,i=this._fitToPage("fitToPage"),this._applyDropDownVal(i,!1,!0),n.scrollTop(0);break;case"PAGEWIDTH":case"e-reportviewer-popupli e-fitpagewidth e-reportviewer-tab-focus-none":if("true"==s.attr("isSelect"))"true"==o.attr("isSelect")?(this._isFitToPage=!0,i=this._fitToPage("fitToPage"),this._applyDropDownVal(i,!1,!0),n.scrollTop(0)):(this._resetPage(),this._selectDropDownIndex(this._zoomLevel)),a.removeClass("e-reportviewer-pagefittopage"),a.addClass("e-reportviewer-emptyconetent"),s.attr("isSelect","false");else{if(h>u)return void("true"==o.attr("isSelect")&&u!=m&&(this._isFitToWidth=!0,i=this._fitToPage("fitToWidth"),this._applyDropDownVal(i,!0,!1),s.attr("isSelect","true"),a.addClass("e-reportviewer-pagefittopage"),a.removeClass("e-reportviewer-emptyconetent"),r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage"),o.attr("isSelect","false")));this._isFitToWidth=!0,i=this._fitToPage("fitToWidth"),this._applyDropDownVal(i,!0,!1),o.attr("isSelect","false"),r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage"),s.attr("isSelect","true"),a.addClass("e-reportviewer-pagefittopage"),a.removeClass("e-reportviewer-emptyconetent")}break;case"WHOLEPAGE":case"e-reportviewer-popupli e-fitpageheight e-reportviewer-tab-focus-none":if("true"==o.attr("isSelect"))"true"==s.attr("isSelect")?(this._isFitToWidth=!0,i=this._fitToPage("fitToWidth"),this._applyDropDownVal(i,!0,!1)):(this._resetPage(),this._selectDropDownIndex(this._zoomLevel)),r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage"),o.attr("isSelect","false");else{if(c>p)return;this._isFitToPage=!0,i=this._fitToPage("fitToPage"),n.scrollTop(0),this._applyDropDownVal(i,!1,!0),r.addClass("e-reportviewer-pagefittopage"),r.removeClass("e-reportviewer-emptyconetent"),o.attr("isSelect","true"),a.removeClass("e-reportviewer-pagefittopage"),a.addClass("e-reportviewer-emptyconetent"),s.attr("isSelect","false")}}$("#"+this._id+"_toolbar_fittoPagePopup").hide(),this._onElementsRendered({action:"PageFit"})}},_showFitToPagetip:function(){var e,t,i,s=$("#"+this._id+"_toolbar_fittoPagePopup");s.length>0||(s=this._renderPageFitPopup(),$("body").append(s),this._on($("#"+this._id+"_toolbar_fittoPagePopup li.e-reportviewer-popupli"),"click",this._pageFitMenuClick),this._on($("#"+this._id+"_toolbar_fittoPagePopup li.e-reportviewer-popupli"),"mousedown",this._onPopupClick)),"block"==s.css("display")?s.css("display","none"):(s.css("display","block"),this._renderFitopagePopup()),e=$("#"+this._id+"_toolbar_li_pagefit"),(t=$("#"+this._id+"_toolbarContainer_hiddenlist")).length>0&&t.find("#"+this._id+"_toolbar_li_pagefit").length>0&&"none"!==t.css("display")?s.css({left:e.offset().left,top:e.offset().top+e.height()+parseFloat(e.css("padding-top"))+parseFloat(e.css("padding-bottom"))+parseFloat(e.parent().css("margin-bottom")),"z-index":ej.util.getZindexPartial(this.element)}):(i=this.element.find("#"+this._id+"_toolbarContainer"),s.css({left:e.offset().left,top:i.offset().top+parseFloat(i.css("border-top-width"))+i.height(),"z-index":ej.util.getZindexPartial(this.element)}))},_zoomValChange:function(e){var t=this._id.substr(0,this._id.lastIndexOf("_toolbar_zoom")),i=$("#"+t).data("boldReportViewer"),s=parseInt(e.value)/100;i._zoomLevel=e.itemId,i._zoomContainer(s,!1)},_zoomIn:function(){this._zoomLevel>=6?this._zoomLevel=6:this._zoomLevel++,this._isDevice?this._mobileLayoutZoomChange():$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").selectItemsByIndices(this._zoomLevel)},_zoomOut:function(){this._zoomLevel<=0?this._zoomLevel=0:this._zoomLevel--,this._isDevice?this._mobileLayoutZoomChange():$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").selectItemsByIndices(this._zoomLevel)},_mobileLayoutZoomChange:function(){this._zoomContainer([.5,.75,1,1.25,1.5,2,4][this._zoomLevel],!1)},_zoomInContainer:function(e,t){var i,s=t,a=($("#"+this._id+"_viewerContainer"),$("#"+this._id+"_pageviewContainer")),o=$("#"+this._id+"_pageviewOuterline");e&&(this._zoomVal=this._zoomVal+s),i=this._getPageViewSize(a),this._applyPageTransform(a,this._zoomVal,this._zoomVal),o.css({width:i.width*this._zoomVal,height:i.height*this._zoomVal})},_zoomOutContainer:function(e,t){var i,s=t,a=($("#"+this._id+"_viewerContainer"),$("#"+this._id+"_pageviewContainer")),o=$("#"+this._id+"_pageviewOuterline");e&&(this._zoomVal=this._zoomVal-s),i=this._getPageViewSize(a),this._applyPageTransform(a,this._zoomVal,this._zoomVal),o.css({width:i.width*this._zoomVal,height:i.height*this._zoomVal})},_getPageViewSize:function(e){var t=e.width(),i=e.height();return this.model.printMode&&!ej.isNullOrUndefined(this._pageModel)&&(t+=this._pageModel.MarginLeft+this._pageModel.MarginRight,i+=this._pageModel.MarginTop+this._pageModel.MarginBottom),{width:t,height:i}},_applyPageTransform:function(e,t,i,s){var a,o="scale("+t+","+i+")";if("msie"==this._browserInfo.name)switch(e.css("8.0"==this._browserInfo.version?{zoom:t}:{"-ms-transform":o,"-ms-transform-origin":"0 0"}),this._setZoomScrollerIE(),a=$("#"+this._id+"_viewerContainer"),s){case"fitToPage":a.css({"overflow-x":"hidden","overflow-y":"hidden"});break;case"wholepage":a.css({"overflow-y":"hidden"});break;case"fitToWidth":a.css({"overflow-x":"hidden"})}else"mozilla"==this._browserInfo.name?e.css("11.0"==this._browserInfo.version?{transform:o,"transform-origin":"0 0"}:{"-moz-transform":o,"-moz-transform-origin":"0 0"}):"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"opera"==this._browserInfo.name?e.css({"-webkit-transform":o,"-webkit-transform-origin":"0 0"}):"edge"==this._browserInfo.name&&e.css({transform:o,"transform-origin":"0 0"})},_updateZoomContainer:function(e){var t=$("#"+this._id+"_toolbarContainer"),i=$("#"+this._id+"_toolbar_li_zoomout"),s=$("#"+this._id+"_toolbar_li_zoomin");0==e?t.ejToolbar("disableItem",i):i.hasClass("e-disable")&&t.ejToolbar("enableItem",i),6==e?t.ejToolbar("disableItem",s):s.hasClass("e-disable")&&t.ejToolbar("enableItem",s)},_zoomContainer:function(e,t){var i;this.model&&this.model.zoomFactor&&(this.model.zoomFactor=e),this._zoomVal=e,this._updateZoomContainer(this._zoomLevel);var s=$("#"+this._id+"_toolbar_li_fittopagewidth"),a=$("#"+this._id+"_toolbar_li_fittowholepage"),o=s.find("span.e-reportviewer-icon"),r=a.find("span.e-reportviewer-icon");if(("true"==s.attr("isSelect")||"true"==a.attr("isSelect"))&&this._resetPage(),o&&(o.removeClass("e-reportviewer-pagefittopage"),o.addClass("e-reportviewer-emptyconetent")),r&&(r.addClass("e-reportviewer-emptyconetent"),r.removeClass("e-reportviewer-pagefittopage")),0==(i=Math.abs(this._preZoomVal-e)))return!1;this._preZoomVal>e?this._zoomOutContainer(t,i):this._zoomInContainer(t,i),this._preZoomVal=e,this._onElementsRendered({action:"ZoomChange"})},_setZoomScrollerIE:function(e){if("msie"==this._browserInfo.name&&this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0){var t=$("#"+this._id+"_viewerContainer"),i=this._pageModel.PageData[0],s=i.Width,a=i.Height+i.HeaderHeight+i.FooterHeight,o=t.height(),r=t.width();a*=e,s*=e,t.css({overflow:"hidden"}),t.css({"overflow-x":"Auto"}),t.css({"overflow-y":"Auto"}),a<o&&s<r?(t.css({"overflow-x":"hidden"}),t.css({"overflow-y":"hidden"})):s<r?t.css({"overflow-x":"hidden"}):a<o&&t.css({"overflow-y":"hidden"})}},_showZoomControl:function(e){e?($("#"+this._id+"_toolbar_li_zoomin").css("display","block"),$("#"+this._id+"_toolbar_li_zoomout").css("display","block"),$("#"+this._id+"_toolbar_li_zoom").css("display","block")):($("#"+this._id+"_toolbar_li_zoomin").css("display","none"),$("#"+this._id+"_toolbar_li_zoomout").css("display","none"),$("#"+this._id+"_toolbar_li_zoom").css("display","none"))},_getMultiTenantUrl:function(e,t){return this.model.tenantName?t?e+"?site="+this.model.tenantName:e+"&site="+this.model.tenantName:e},_refreshReport:function(){this._refresh=!0,this._dataRefresh=!0,this._unwireEvents(),this._initViewer(),null!=this._reportDataSources&&this._reportDataSources.length>0?this._getDataSourceCredential(this._reportDataSources):"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)},_showRefreshButton:function(e){e?$("#"+this._id+"_toolbar_li_refresh").css("display","block"):$("#"+this._id+"_toolbar_li_refresh").css("display","none")},_refreshIndicator:function(){var e=this.element.find("#"+this._id+"_viewerContainer").data("ejWaitingPopup"),t=this.element.find("#"+this._id+"_loadingIndicator").data("ejWaitingPopup");e&&e.model.showOnInit&&e.refresh(),t&&t.model.showOnInit&&t.refresh()},_showStopButton:function(e){e?$("#"+this._id+"_toolbar_li_stop").css("display","block"):$("#"+this._id+"_toolbar_li_stop").css("display","none")},_showExportSetupButton:function(e){e?$("#"+this._id+"_toolbar_li_exportsetup").css("display","block"):$("#"+this._id+"_toolbar_li_exportsetup").css("display","none")},_renderExportSetup:function(){var e,t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],b=null,v=null,x=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{display:"table",width:"100%"},{id:this._id+"_exportSetup"}),y=ej.buildTag("div","",{display:"block",width:"352px"},{id:this._id+"_exportFormat"}),w=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),S=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect(),C=ej.buildTag("tr.e-reportviewer-exportsetuptr","",{}),T=ej.buildTag("tr.e-reportviewer-exportsetuptr","",{}),L=ej.buildTag("tr.e-reportviewer-exportsetuptr","",{}),k=ej.buildTag("td.e-reportviewer-exportsetupheader","",{"padding-top":"0px"},{colspan:"8"}),P=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{},{width:"80px"});y.append(w),w.append(C),w.append(T),w.append(L),C.append(k),x.append(y),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(b=S.right,v=S.bottom):(b=S.width,v=S.height),x.ejDialog({width:400,position:{X:S.left+b/3+20,Y:(S.top+v/2)/2},enableModal:!1,title:f.toolbar.exportsetup?f.toolbar.exportsetup.headerText:f.toolbar.exportsetup,enableResize:!1,enablePersistance:!1,enableModal:!0,showFooter:!0,cssClass:"e-js e-rptviewer-dialog",close:$.proxy(this._exportSetupClose,this)}),(e=ej.buildTag("div","",{"font-weight":"bold",width:"100%"},{id:this._id+"_ExportFomatLabel"})).append(f.exportsetupDialog.exportFormat),k.append(e),t=ej.buildTag("span","",{},{id:this._id+"_excelFormatLabel"}),i=ej.buildTag("div.e-reportviewer-ejdropdownlist","",{width:"100%","margin-left":"-2px"},{}),t.append(f.exportsetupDialog.excel+"&nbsp;"),(s=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_ExcelFormat"})).append('<option value="excel97to2003">Excel97to2003 (.xls)</option>'),s.append('<option value="excel2007">Excel2007 (.xlsx)</option>'),s.append('<option value="excel2010">Excel2010 (.xlsx)</option>'),s.append('<option value="excel2013">Excel2013 (.xlsx)</option>'),i.append(s),s.ejDropDownList({cssClass:"e-rptviewer-drpdown-excelformat",height:"32px",width:"100%",value:this.model.exportSettings.excelFormat,watermarkText:f.waterMark.selectOption,enableAnimation:!0,change:$.proxy(this._exportSetupChange,this),enableIncrementalSearch:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","excel")}}),P.append(i),T.append(ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"3px"})),(a=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"15px"})).append(t),T.append(a),T.append(P),o=ej.buildTag("span","",{},{id:this._id+"_wordFormatLabel"}),r=ej.buildTag("div.e-reportviewer-ejdropdownlist","",{width:"100%","margin-left":"-2px"},{}),o.append(f.exportsetupDialog.word+"&nbsp;"),(n=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_WordFormat"})).append('<option value="doc">Doc</option>'),n.append('<option value="dot">Dot</option>'),n.append('<option value="docx">Docx</option>'),n.append('<option value="word2007">Word2007 (.docx)</option>'),n.append('<option value="word2010">Word2010 (.docx)</option>'),n.append('<option value="word2013">Word2013 (.docx)</option>'),n.append('<option value="word2007Dotx">Word2007Dotx (.dotx)</option>'),n.append('<option value="word2010Dotx">Word2010Dotx (.dotx)</option>'),n.append('<option value="word2013Dotx">Word2013Dotx (.dotx)</option>'),n.append('<option value="word2007Docm">Word2007Docm (.docm)</option>'),n.append('<option value="word2010Docm">Word2010Docm (.docm)</option>'),n.append('<option value="word2013Docm">Word2013Docm (.docm)</option>'),n.append('<option value="word2007Dotm">Word2007Dotm (.dotm)</option>'),n.append('<option value="word2010Dotm">Word2010Dotm (.dotm)</option>'),n.append('<option value="word2013Dotm">Word2013Dotm (.dotm)</option>'),n.append('<option value="rtf">Rtf</option>'),n.append('<option value="txt">Txt</option>'),n.append('<option value="epub">EPub</option>'),n.append('<option value="html">Html</option>'),n.append('<option value="xml">Xml</option>'),r.append(n),n.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat",height:"32px",width:"100%",watermarkText:f.waterMark.selectOption,value:this.model.exportSettings.wordFormat,enableAnimation:!0,change:$.proxy(this._exportSetupChange,this),enableIncrementalSearch:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","word")}}),L.append(ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"3px"})),(l=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{width:"15px"})).append(o),(d=ej.buildTag("td.e-reportviewer-exportsetupcontent","",{},{width:"80px"})).append(r),L.append(l),L.append(d),x.append(ej.buildTag("hr","",{size:"1px"}));var j=ej.buildTag("div","",{display:"block",width:"352px"},{id:this._id+"_imagequalitydiv "}),D=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),A=ej.buildTag("span","",{},{id:this._id+"_$imageQualityLabel"});A.append(f.exportsetupDialog.imageQuality+"&nbsp;"),j.append(D),x.append(j),(h=ej.buildTag("tr.e-reportviewer-exportimagequalitytr","",{})).append(ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"3px"})),(c=ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"114px"})).append(A),h.append(c),D.append(h),u=ej.buildTag("div","",{},{}),p=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_imageQuality"}),u.append(p),(m=ej.buildTag("span","",{},{id:this._id+"_imageQualityUnitLabel"})).append(f.exportsetupDialog.dpi+"&nbsp;"),(g=ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"80px"})).append(u),h.append(g),(_=ej.buildTag("td.e-reportviewer-exportimagequalitycontent","",{width:"120px"})).append(m),h.append(_),p.ejNumericTextbox({cssClass:"e-rptviewer-updown",enableStrictMode:!0,width:"80px",minValue:1,maxValue:10,enable:!1,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("exportsetupDialog","imageQuality")}});var O=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right"},{type:"button",value:this._getLocaleString("exportsetupDialog","doneButton"),id:this._id+"_Submit"}),I=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right","margin-left":"10px"},{type:"button",value:this._getLocaleString("exportsetupDialog","cancelButton"),id:this._id+"_Cancel"}),R=$("#"+this._id+"_exportSetup_foot");$("#"+this._id+"_exportSetup_closebutton").attr("title",f.exportsetupDialog.close),R.append(I).append(O),O.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._exportSetupSubmit,this),cssClass:"e-rptviewer-okbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("exportsetupDialog","doneButton")}}),I.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._exportSetupCancel,this),cssClass:"e-rptviewer-cancelbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("exportsetupDialog","cancelButton")}}),"msie"==this._browserInfo.name?$("#"+this._id+"_ExportFormat_input").css("margin-top","-2px"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name)&&$("#"+this._id+"_ExportFormat_input").css("padding-bottom","3px")},_wireEvents:function(){this.model.toolbarSettings.templateId||(this._on($("#"+this._id+"_toolbar_gotopage"),"keypress",this._onkeyPress),this._on($("#"+this._id+"_toolbar_gotopage"),"click ",this._onToolbarItemClick),this._on($("#"+this._id+"_zoomSelection"),"change",this._zoomValChange),this._on($("#"+this._id+"_toolbar_zoom_container"),"click ",this._onToolbarItemClick)),this._on($("#"+this._id+"_viewerContainer"),"scroll",this._scrollPage),this._isDevice&&(this._on($("#"+this._id+"_viewerContainer"),"touchstart",this._touchStart),this._on($("#"+this._id+"_viewerContainer"),"touchend",this._touchEnd),this._on($("#"+this._id+"_viewerContainer"),"touchmove",this._touchMove)),this._on($("#"+this._id+"_pageviewOuterContainer"),"click",this._viewerClick),this._on($(document),"mousedown",this._onDocumentMouseDown),this._on($(document),"mouseup",this._onDocumentMouseUp)},_unwireEvents:function(){this.model.toolbarSettings.templateId||(this._off($("#"+this._id+"_toolbar_gotopage"),"keypress",this._onkeyPress),this._off($("#"+this._id+"_toolbar_gotopage"),"click ",this._onToolbarItemClick),this._off($("#"+this._id+"_zoomSelection"),"change",this._zoomValChange),this._off($("#"+this._id+"_toolbar_zoom_container"),"click ",this._onToolbarItemClick)),this._off($("#"+this._id+"_viewerContainer"),"scroll",this._scrollPage),this._isDevice&&(this._off($("#"+this._id+"_viewerContainer"),"touchstart",this._touchStart),this._off($("#"+this._id+"_viewerContainer"),"touchend",this._touchEnd),this._off($("#"+this._id+"_viewerContainer"),"touchmove",this._touchMove)),this._off($("#"+this._id+"_pageviewOuterContainer"),"click",this._viewerClick),this._off($(document),"mousedown",this._onDocumentMouseDown),this._off($(document),"mouseup",this._onDocumentMouseUp),this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportParamsClick),this._off($(window),"resize",this._viewerResize)},_hidePopUp:function(e){$(e.target).hasClass("e-reportviewer-export")||$($(e.target).children()).hasClass("e-reportviewer-export")?"block"!=$("#"+this._id+"_toolbar_exportListTip").css("display")&&$("#"+this._id+"_toolbar_exportListTip").css("display","none"):$("#"+this._id+"_toolbar_exportListTip").css("display","none"),$(e.target).hasClass("e-reportviewer-pagefit")||$($(e.target).children()).hasClass("e-reportviewer-pagefit")?"block"!=$("#"+this._id+"_toolbar_fittoPagePopup").css("display")&&$("#"+this._id+"_toolbar_fittoPagePopup").css("display","none"):$("#"+this._id+"_toolbar_fittoPagePopup").css("display","none")},_onPopupClick:function(){this._isPopupClick=!0},_onDocumentMouseUp:function(e){this._isPopupClick&&this._hidePopUp(e),this._isPopupClick=!1},_onDocumentMouseDown:function(e){this._isPopupClick||this._hidePopUp(e)},_onToolbarItemClick:function(e){var t=$(e.target).closest("li");t&&t.data("ejTooltip")&&t.ejTooltip("hide")},_toolbarClick:function(e){var t,i=e.target,s=$(e.target).attr("class"),a=$(e.target).closest("li"),o=a.attr("value")?a.attr("value"):$(e.target).attr("value");if(!a.attr("value")&&a.find(".e-customoption").length>0&&(o=a.find(".e-customoption").attr("value")),t=this._onToolbarClick({target:i,cssClass:s,groupIndex:$(a.closest("ul")[0]).index(),Index:a.index(),value:o}),$(i).hasClass("e-reportviewer-stop")&&($("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this.cancelRendering()),this._isToolbarClick){if(this._isPageDialogOpened())return;a.data("ejTooltip")&&a.ejTooltip("hide"),t||($(i).hasClass("e-reportviewer-toolbarli")&&(i=$(i).find("span")),$(i).hasClass("e-reportviewer-print")?(this._printData=[],this._print()):$(i).hasClass("e-reportviewer-export")?this._showExportTooltip():$(i).hasClass("e-reportviewer-pagesetup")?this._showPrintPageSetup():$(i).hasClass("e-reportviewer-exportsetup")?this._showExportSetup():$(i).hasClass("e-reportviewer-gotofirst")?this._gotoFirstPage():$(i).hasClass("e-reportviewer-gotolast")?this._gotoLastPage():$(i).hasClass("e-reportviewer-gotonext")?this._gotoNextPage():$(i).hasClass("e-reportviewer-gotoprevious")?this._gotoPreviousPage():$(i).hasClass("e-reportviewer-gotoparent")?this._gotoParentReport():$(i).hasClass("e-reportviewer-documentmap")&&!this._printMode?this._documentMapClick():$(i).hasClass("e-reportviewer-zoomin")?this._zoomIn():$(i).hasClass("e-reportviewer-zoomout")?this._zoomOut():$(i).hasClass("e-reportviewer-pagefit")?this._showFitToPagetip():$(i).hasClass("e-reportviewer-preview")?this._printlayout():$(i).hasClass("e-reportviewer-refresh")?this._refreshReport():$(i).hasClass("e-reportviewer-parameter")&&this._toggleParameterBlock())}},_showToolbar:function(e){e?$("#"+this._id+"_toolbarContainer").css("display","block"):$("#"+this._id+"_toolbarContainer").css("display","none")},_initToolbar:function(){var e,t;this._isToolbarClick=!1,this.model.toolbarSettings.templateId||this._isDevice||(e=$("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),this._refresh?e.selectItemsByIndices(e.model.selectedIndex):-1!==(t=[.5,.75,1,1.25,1.5,2,4]).indexOf(this.model.zoomFactor)?e.selectItemsByIndices(t.indexOf(this.model.zoomFactor)):e.selectItemsByIndices(2),e.disable(),this._disableNavigation())},_disableNavigation:function(){var e=$("#"+this._id+"_toolbarContainer");$("#"+this._id+"_toolbar_gotopage").attr("disabled","disabled"),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),e.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast"))},_enableToolbarItems:function(){this._isToolbarClick=!0,this.model.toolbarSettings.templateId||this._isDevice||($("#"+this._id+"_toolbar_gotopage").removeAttr("disabled"),$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").enable())},_enableToolbarContents:function(e){e?($("#"+this._id+"_toolbar_zoom").data("ejDropDownList").enable(),$("#"+this._id+"_toolbar_gotopage").attr("readonly",!1)):($("#"+this._id+"_toolbar_zoom").data("ejDropDownList").disable(),$("#"+this._id+"_toolbar_gotopage").attr("readonly",!0))},_setTooltip:function(){$("#"+this._id+"_toolbar_li_print").attr("data-content",this._getLocaleString("toolbar","print","headerText")),$("#"+this._id+"_toolbar_li_export").attr("data-content",this._getLocaleString("toolbar","exportformat","headerText")),$("#"+this._id+"_toolbar_li_exportsetup").attr("data-content",this._getLocaleString("toolbar","exportsetup","headerText")),$("#"+this._id+"_toolbar_li_pagesetup").attr("data-content",this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_toolbar_li_gotofirst").attr("data-content",this._getLocaleString("toolbar","first","headerText")),$("#"+this._id+"_toolbar_li_gotolast").attr("data-content",this._getLocaleString("toolbar","last","headerText")),$("#"+this._id+"_toolbar_li_gotonext").attr("data-content",this._getLocaleString("toolbar","next","headerText")),$("#"+this._id+"_toolbar_li_gotoprevious").attr("data-content",this._getLocaleString("toolbar","previous","headerText")),$("#"+this._id+"_toolbar_li_gotoparent").attr("data-content",this._getLocaleString("toolbar","back","headerText")),$("#"+this._id+"_toolbar_li_zoomin").attr("data-content",this._getLocaleString("toolbar","zoomIn","headerText")),$("#"+this._id+"_toolbar_li_zoomout").attr("data-content",this._getLocaleString("toolbar","zoomOut","headerText")),$("#"+this._id+"_toolbar_li_pagefit").attr("data-content",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_li_preview").attr("data-content",this._getLocaleString("toolbar","printLayout","headerText")),$("#"+this._id+"_toolbar_li_refresh").attr("data-content",this._getLocaleString("toolbar","refresh","headerText")),$("#"+this._id+"_toolbar_li_stop").attr("data-content",this._getLocaleString("toolbar","stop","headerText")),$("#"+this._id+"_toolbar_li_documentmap").attr("data-content",this._getLocaleString("toolbar","documentMap","headerText")),$("#"+this._id+"_toolbar_li_parameter").attr("data-content",this._getLocaleString("toolbar","parameter","headerText"))},_viewpopupBlockNone:function(e){return!ej.isNullOrUndefined(e)&&0!=e.length&&"block"==e.css("display")},_isPageDialogOpened:function(){var e=$("#"+this._id+"_printPageSetup").data("ejDialog");return!(ej.isNullOrUndefined(e)||!e.isOpen())},_beforeTooltipPopup:function(e){var t,i,s,a,o,r,n,l,d;this.model.toolbarSettings.showTooltip&&!this._isDevice?(s=!0,(t=$(e.event.target).closest("li")).hasClass("e-reportviewer-toolbarli")&&(a=t.children("span")),(this._viewpopupBlockNone($("#"+this._id+"_toolbar_fittoPagePopup"))||this._viewpopupBlockNone($("#"+this._id+"_toolbar_exportListTip"))||this._isPageDialogOpened())&&(s=!1),a&&(a.hasClass("e-customoption")?(o=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],r=a.attr("value"),ej.isNullOrUndefined(o.toolbar[r])?(n=a.attr("header"),l=a.attr("content"),(n||l)&&(i={header:n,content:l})):i={header:o.toolbar[r].headerText,content:o.toolbar[r].contentText}):a.hasClass("e-reportviewer-print")?i=this._getTootipText("print"):a.hasClass("e-reportviewer-export")?i=this._getTootipText("export"):a.hasClass("e-reportviewer-exportsetup")?i=this._getTootipText("exportsetup"):a.hasClass("e-reportviewer-preview")?i=this._getTootipText("preview"):a.hasClass("e-reportviewer-pagesetup")?i=this._getTootipText("pagesetup"):a.hasClass("e-reportviewer-gotofirst")?i=this._getTootipText("first"):a.hasClass("e-reportviewer-gotolast")?i=this._getTootipText("last"):a.hasClass("e-reportviewer-gotonext")?i=this._getTootipText("next"):a.hasClass("e-reportviewer-gotoprevious")?i=this._getTootipText("previous"):a.hasClass("e-reportviewer-gotoparent")?i=this._getTootipText("back"):a.hasClass("e-reportviewer-tbpage")||a.hasClass("e-reportviewer-pagenumber")||a.hasClass("e-reportviewer-labelpageno")?i=this._getTootipText("pageIndex"):a.hasClass("e-reportviewer-documentmap")?i=this._getTootipText("documentmap"):a.hasClass("e-reportviewer-zoomin")?i=this._getTootipText("zoomin"):a.hasClass("e-reportviewer-zoomout")?i=this._getTootipText("zoomout"):a.hasClass("e-reportviewer-refresh")?i=this._getTootipText("refresh"):a.hasClass("e-reportviewer-stop")?i=this._getTootipText("stop"):a.hasClass("e-reportviewer-parameter")?i=this._getTootipText("parameter"):t.hasClass("e-reportviewer-ejdropdownlist")&&a.find(".e-reportviewer-zoomlist").length>0?i=this._getTootipText("zoom"):a.hasClass("e-reportviewer-pagefit")&&(i=this._getTootipText("fittopage"))),i&&s?(d=this._getTooltipTemplate(i),$(e.event.target).closest("li").data("ejTooltip").setModel({content:d})):e.cancel=!0):e.cancel=!0},_getTooltipTemplate:function(e){var t;return ej.isNullOrUndefined(e.header)||ej.isNullOrUndefined(e.content)?ej.isNullOrUndefined(e.header)?ej.isNullOrUndefined(e.content)||(t="<div class='e-reportviewer-contentspan'>"+e.content+"</div>"):t="<div class='e-reportviewer-headerspan'>"+e.header+"</div>":t="<div class='e-reportviewer-headerspan'>"+e.header+"</div><div class='e-reportviewer-contentspan'>"+e.content+"</div>",t},_getTootipText:function(e){var t=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],i="",s="";switch(e){case"print":i=t.toolbar.print.headerText,s=t.toolbar.print.contentText;break;case"export":i=t.toolbar.exportformat.headerText,s=t.toolbar.exportformat.contentText;break;case"first":i=t.toolbar.first.headerText,s=t.toolbar.first.contentText;break;case"previous":i=t.toolbar.previous.headerText,s=t.toolbar.previous.contentText;break;case"next":i=t.toolbar.next.headerText,s=t.toolbar.next.contentText;break;case"last":i=t.toolbar.last.headerText,s=t.toolbar.last.contentText;break;case"zoomin":i=t.toolbar.zoomIn.headerText,s=t.toolbar.zoomIn.contentText;break;case"zoomout":i=t.toolbar.zoomOut.headerText,s=t.toolbar.zoomOut.contentText;break;case"preview":i=t.toolbar.printLayout.headerText,s=t.toolbar.printLayout.contentText;break;case"documentmap":i=t.toolbar.documentMap.headerText,s=t.toolbar.documentMap.contentText;break;case"refresh":i=t.toolbar.refresh.headerText,s=t.toolbar.refresh.contentText;break;case"stop":i=t.toolbar.stop.headerText,s=t.toolbar.stop.contentText;break;case"parameter":i=t.toolbar.parameter.headerText,s=t.toolbar.parameter.contentText;break;case"back":i=t.toolbar.back.headerText,s=t.toolbar.back.contentText;break;case"pageIndex":i=t.toolbar.pageIndex.headerText,s=t.toolbar.pageIndex.contentText;break;case"zoom":i=t.toolbar.zoom.headerText,s=t.toolbar.zoom.contentText;break;case"fittopage":i=t.toolbar.fittopage.headerText,s=t.toolbar.fittopage.contentText;break;case"pagesetup":i=t.toolbar.pagesetup.headerText,s=t.toolbar.pagesetup.contentText;break;case"exportsetup":i=t.toolbar.exportsetup.headerText,s=t.toolbar.exportsetup.contentText}return{header:i,content:s}},_drillAction:function(){$._data($(".txtToggle_"+this._id).get(0),"events")==undefined&&this._on($(".txtToggle_"+this._id),"click",this._drillClick)},_drillClick:function(e){var t=$(e.currentTarget).attr("drillObj");t&&(this._currentTogglePosition=0,this.model.sizeToReportContent&&(this._currentTogglePosition=$(e.currentTarget).offset().top-$(e.currentTarget).parent().outerHeight()/2),_serverActionInfo=t,this._ajaxCallMethod(this._reportAction.drillDown,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_sortingAction:function(){$._data($(".txtSorting_"+this._id).get(0),"events")==undefined&&this._on($(".txtSorting_"+this._id),"click",this._sortingClick)},_sortingClick:function(e){var t=$(e.currentTarget).attr("sortingObj");t&&(_serverActionInfo=t,this._ajaxCallMethod(this._reportAction.sorting,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_showDocumentMap:function(e){e?$("#"+this._id+"_toolbar_li_documentmap").css("display","block"):$("#"+this._id+"_toolbar_li_documentmap").css("display","none")},_appendDocumentMapDiv:function(){if(this._isDevice){var e=$("#"+this._id+"_documentmapContainer");0==e.length&&(e=ej.buildTag("div.e-reportviewer-documentmappopup","",{display:"none"},{id:this._id+"_documentmapContainer"}),$("body").append(e))}},_selectDocMapToolItem:function(e){if(!this.model.toolbarSettings.templateId){var t=$("#"+this._id+"_toolbarContainer").data("ejToolbar");e?t.selectItemByID(this._id+"_toolbar_li_documentmap"):t.deselectItemByID(this._id+"_toolbar_li_documentmap")}this._onElementsRendered({action:"DocumentMap selected"})},_documentMapClick:function(){var e,t;this._isDevice?"block"==(t=$("#"+this._id+"_documentmapContainer")).css("display")?(this._pageDocMapFlag=!0,t.css("display","none"),this._selectDocMapToolItem(!1)):(this._pageDocMapFlag=!1,t.css("display","block"),this._selectDocMapToolItem(!0)):(e=$("#"+this._id+"_reportviewerContainer").data("ejSplitter"))&&($(e.panes[0]).hasClass("collapsed")?(this._pageDocMapFlag=!0,e.model.properties[0].paneSize="0%",e.model.properties[1].paneSize="100%",e.refresh(),e.expand(0),this._selectDocMapToolItem(!0)):(this._pageDocMapFlag=!1,e.model.properties[0].paneSize="20%",e.model.properties[1].paneSize="80%",e.refresh(),e.collapse(0),this._selectDocMapToolItem(!1))),this._onElementsRendered({action:"DocumentMap clicked"})},_showDocumentMapContainer:function(e){if(this._isDevice)e?$("#"+this._id+"_documentmapContainer").css("display","block"):$("#"+this._id+"_documentmapContainer").css("display","none");else{var t=$("#"+this._id+"_reportviewerContainer").data("ejSplitter");t&&($(t.panes[0]).hasClass("collapsed")?(this._pageDocMapFlag=!0,t.model.properties[0].paneSize="0%",t.model.properties[1].paneSize="100%",t.refresh(),t.expand(0),this._printMode||this._showDocumentMap(!0)):(this._pageDocMapFlag=!1,t.model.properties[0].paneSize="20%",t.model.properties[1].paneSize="80%",t.refresh(),t.collapse(0),this._selectDocMapToolItem(!1),this._printMode&&this._showDocumentMap(!1)))}},_destroyDocumentMapTree:function(){var e,t;$("#"+this._id+"_documentmapContainer").length>0&&$("#"+this._id+"_ejtreeView").length>0&&($("#"+this._id+"_documentmapContainer").css("display","none"),(e=$("#"+this._id+"_ejtreeView").data("ejTreeView"))&&e.destroy&&e.destroy(),$("#"+this._id+"_ejtreeView").css("display","none"),(t=$("#"+this._id+"_reportviewerContainer").data("ejSplitter")).collapse(),t.refresh(),$(".e-split-divider").css("display","none"),$("#"+this._id+"_viewerContainer").css("width","100%"))},_documentMapAction:function(){this._ajaxCallMethod(this._reportAction.documentMap,"_documentMapModel",!1)},_containerSplit:function(e){var t,i;$("#"+this._id+"_documentmapContainer").css("display","block"),t=$("#"+this._id+"_viewerContainer"),this._appendDocumentMapDiv(),i=ej.buildTag("div.e-reportviewer-documentmappopup","",{},{id:this._id+"_ejtreeView"}),$("#"+this._id+"_documentmapContainer").css("height","100%"),$("#"+this._id+"_documentmapContainer").html(i),$("#"+this._id+"_ejtreeView").css("display","none"),$("#"+this._id+"_ejtreeView").ejTreeView({height:"99.6%",nodeSelect:this._docMapNodeSelected,fields:{id:"NodeId",parentId:"ParentNodeId",text:"NodeLabel",dataSource:e,expanded:"Expanded"},isResponsive:!0}),this._isDevice?$("#"+this._id+"_documentmapContainer").css({position:"absolute",left:t.offset().left,top:t.offset().top,height:t.height(),width:t.width()/6}):$("#"+this._id+"_reportviewerContainer").ejSplitter({height:t.height()+1,orientation:ej.Orientation.Horizontal,beforeExpandCollapse:this._documentMapExpandClick,properties:[{paneSize:"20%",expandable:!1},{paneSize:"80%",collapsible:!1}],isResponsive:!0}),$("#"+this._id+"_ejtreeView").css("display","block"),this._selectDocMapToolItem(!0),this._onElementsRendered({action:"DocumentMap loaded"})},_docMapNodeSelected:function(e){try{var t=e.model.fields.dataSource[e.selectedNodes[0]],i=this._id.replace("_ejtreeView",""),s=$("#"+i).data("boldReportViewer");s._isDevice&&($("#"+i+"_documentmapContainer").css("display","none"),this._selectDocMapToolItem(!1)),s._currnetDocMapNodeId=t.NodeId,s._gotoPageNo(t.PageNo)}catch(a){}},_documentMapExpandClick:function(e){var t=this._id.substr(0,this._id.lastIndexOf("_reportviewerContainer")),i=$("#"+t).data("boldReportViewer");i._printMode&&"beforeExpand"==e.action?(e.cancel=!0,i._showDocumentMap(!1)):i._printMode||"beforeExpand"!=e.action?i._printMode||"beforeCollapse"!=e.action||i._selectDocMapToolItem(!1):i._selectDocMapToolItem(!0)},_scrollDocMapItemView:function(){var e,t=$("#"+this._id).find("div[id*="+this._currnetDocMapNodeId+"]");t&&t.length>0?(this._scrollToDiv(t[0]),this._onElementsRendered({action:"DocumentMap node selected"})):(e=document.getElementById(this._id+"_"+this._currnetDocMapNodeId))&&(this._scrollToDiv(e),this._onElementsRendered({action:"DocumentMap node selected"})),this._currnetDocMapNodeId=null},_scrollToBookmark:function(){var e,t,i;if(this._currentBookmarkInfo.IsTablixChild){for(t=$("#"+this._id).find("div[id*="+this._currentBookmarkInfo.ItemName+"]"),i=0;i<t.length;i++)if(t[i].id.includes("tablixRow"+this._currentBookmarkInfo.RowNo+"xCol"+this._currentBookmarkInfo.ColumnNo)){e=t[i];break}}else e=document.getElementById(this._id+"_"+this._currentBookmarkInfo.ItemName);e&&this._scrollToDiv(e),this._currentBookmarkInfo=null},_scrollToDiv:function(e){var t=$("#"+this._id+"_viewerContainer"),i=$("#"+this._id+"_toolbarContainer").height(),s=$("#"+this._id+"_viewBlockContainer").height(),a=$("#"+e.id).offset(),o=i+s;t.scrollLeft(a.left),t.scrollTop(a.top-o)},_showDrillThrough:function(e){e?$("#"+this._id+"_toolbar_li_gotoparent").css("display","block"):$("#"+this._id+"_toolbar_li_gotoparent").css("display","none")},_drillThroughAction:function(){$._data($(".drillAction_"+this._id).get(0),"events")==undefined&&this._on($(".drillAction_"+this._id),"click",this._drillThroughClick)},_drillThroughClick:function(event){var drillActionInfo=null,proxy=null,chartActionInfo,actionInfo,isCancel,isDrill,_actionInfo;if("ejChart"==this.pluginName){if(proxy=$("#"+event.model.ejreportid).data("boldReportViewer"),$("#"+this._id+"_svg_TrackToolTip").css("display","none"),chartActionInfo=$("#"+this._id).attr(this._id+"actionObj_Series"+event.data.region.SeriesIndex),chartActionInfo=JSON.parse(chartActionInfo),ej.isNullOrUndefined(chartActionInfo))return!1;drillActionInfo=chartActionInfo[event.data.region.Region.PointIndex]}else proxy=this,$(event.currentTarget).data("actionObj")!=undefined?drillActionInfo=$(event.currentTarget).data("actionObj"):(drillActionInfo=$(event.currentTarget).attr("actionObj"),drillActionInfo&&(drillActionInfo=JSON.parse(drillActionInfo)));drillActionInfo&&(actionInfo={actionInfo:$.extend(!0,{},drillActionInfo)},proxy&&(drillActionInfo.Hyperlink?(isCancel=proxy._onHyperlink(actionInfo),isCancel||(-1!==drillActionInfo.Hyperlink.toLowerCase().indexOf("javascript:")?eval(drillActionInfo.Hyperlink):window.open(drillActionInfo.Hyperlink))):drillActionInfo.ReportName?(isDrill=proxy._onDrillThrough(actionInfo),isDrill||(_actionInfo=actionInfo.actionInfo,proxy._isDrillThroughReport=!0,proxy._childReportToken=proxy._getAuthenticationToken(),proxy._showloadingIndicator(!0),proxy.doAjaxPost("POST",proxy._actionUrl,JSON.stringify({reportAction:proxy._reportAction.drillThrough,controlId:proxy._id,reportName:_actionInfo.ReportName,parameters:_actionInfo.Parameters,authKey:proxy._childReportToken}),"_drillThroughModel"))):drillActionInfo.BookmarkInfo&&(proxy._currentBookmarkInfo=drillActionInfo.BookmarkInfo,proxy._currentPage===drillActionInfo.BookmarkInfo.PageNo?proxy._scrollToBookmark():proxy._gotoPageNo(drillActionInfo.BookmarkInfo.PageNo))))},_gotoParentReport:function(){this._ajaxCallMethod(this._reportAction.clearCache,"_gotoParentReportModel",!1)},_setInitialization:function(){this._dataSources=null,this._reportViewerToken=null,this._childReportToken=null,this._refresh=!1,this._isToolbarClick=!1,this._pageModel=null,this._currnetDocMapNodeId=null,this._currentBookmarkInfo=null,this._currentPage=1,this._reportParameters=null,this._paramInfo=null,this._reportDataSources=null,this._reporDataSets=null,this._zoomLevel=2,this._isDocumentMap=!1,this._reportParametersModel=[]},_cloneReportViewerProperties:function(){var e={};return e.model=this.model,e._dataSources=$.extend(!0,[],this._dataSources),e._reportViewerToken=this._reportViewerToken,e._childReportToken=this._childReportToken,e._refresh=this._refresh,e._isToolbarClick=this._isToolbarClick,e._currnetDocMapNodeId=this._currnetDocMapNodeId,e._currentBookmarkInfo=this._currentBookmarkInfo,e._pageModel=$.extend(!0,{},this._pageModel),e._currentPage=this._currentPage,e._reportParameters=$.extend(!0,[],this._reportParameters),e._paramInfo=this._paramInfo,e._reportParametersModel=$.extend(!0,[],this._reportParametersModel),e._customParameters=$.extend(!0,[],this._customParameters),e._reportDataSources=$.extend(!0,[],this._reportDataSources),e._reporDataSets=$.extend(!0,[],this._reporDataSets),e._preZoomVal=this._preZoomVal,e._isDevice=this._isDevice,e._originX=this._originX,e._originY=this._originY,e._printMode=this._printMode,e._pageSetup=this._pageSetup,e._isDocumentMap=this._isDocumentMap,e},_setParentReportViewerProperties:function(){var e=this._parents[this._parents.length-1],t=e.parentPro;this.model=t.model,this._dataSources=t._dataSources,this._reportViewerToken=t._reportViewerToken,this._childReportToken=t._childReportToken,this._refresh=t._refresh,this._isToolbarClick=t._isToolbarClick,this._pageModel=t._pageModel,this._currentPage=t._currentPage,this._reportParameters=t._reportParameters,this._paramInfo=t._paramInfo,this._reportParametersModel=t._reportParametersModel,this._customParameters=t._customParameters,this._reportDataSources=t._reportDataSources,this._reporDataSets=t._reporDataSets,this._isDocumentMap=t._isDocumentMap,this._preZoomVal=t._preZoomVal,this.model.printMode=t._printMode=this._printMode,this._originX=t._originX,this._originY=t._originY,this._parentPageXY=e.pagePos,this._parents.pop()},_printlayout:function(){this._updatePreviewLayout(!this._printMode,this._pageSetup)},_selectPreviewToolItem:function(e){if(!this.model.toolbarSettings.templateId){var t=$("#"+this._id+"_toolbarContainer").data("ejToolbar");e?t.selectItemByID(this._id+"_toolbar_li_preview"):t.deselectItemByID(this._id+"_toolbar_li_preview")}},_updatePreviewLayout:function(e,t){if(this._printMode=e,this._isSelectedPage=!1,this._printMode?(this._currentPage=1,this._pageLayoutPage=this._currentPage):this._currentPage=this._pageLayoutPage,$("#"+this._id+"_toolbarContainer").ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_preview")),this._selectPreviewToolItem(this._printMode),this._showDocumentMapContainer(!(!this._isPageDocMap||this._isDocumentMap)&&!this._printMode&&this._pageDocMapFlag),this.model.printMode=this._printMode,t){var i=$("#"+this._id+"_PaperSize").data("ejDropDownList"),s=this._getPaperSize(i.model.value);$("#"+this._id+"_landscape").data("ejRadioButton"),$("#"+this._id+"_portrait").data("ejRadioButton"),"Custom"==i.model.value?"Portrait"==this._paperOrientation&&s.height>s.width||"Landscape"==this._paperOrientation&&s.height<s.width?(this._paperSetup.paperHeight=s.height,this._paperSetup.paperWidth=s.width):(this._paperSetup.paperHeight=s.width,this._paperSetup.paperWidth=s.height):"Landscape"==this._paperOrientation?(this._paperSetup.paperHeight=s.height<s.width?s.height:s.width,this._paperSetup.paperWidth=s.height<s.width?s.width:s.height):(this._paperSetup.paperHeight=s.height,this._paperSetup.paperWidth=s.width),this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!0)}else this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)},_showPreviewButton:function(e){e?$("#"+this._id+"_toolbar_li_preview").css("display","block"):$("#"+this._id+"_toolbar_li_preview").css("display","none")},_getLocaleString:function(e,t,i){try{var s;return this._localeObj||(this._localeObj=this.model&&this.model.locale&&ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]),e&&t&&i?(s=this._localeObj[e][t][i])||(s=this._localeObj[e][t]):s=e&&t?this._localeObj[e][t]:this._localeObj[e],s}catch(a){return""}},_setCultureInfo:function(){var e,t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f;for(this._localeObj=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],e=this._getLocaleString("toolbar","exportformat","headerText"),p=0;p<this.model.exportSettings.customItems.length;p++)i=this._getLocaleString("toolbar","exportformat",t=this.model.exportSettings.customItems[p].value),ej.isNullOrUndefined(i)?$("#"+this._id+"_toolbar_li_customexport_"+p).html(t).attr("aria-label",t+" "+e):$("#"+this._id+"_toolbar_li_customexport_"+p).html(i).attr("aria-label",i+" "+e);this._isDesign&&this._setTooltip();var b=$("#"+this._id+"_toolbar_fittopagewidth"),v=$("#"+this._id+"_toolbar_fittowholepage"),x=$("#"+this._id+"_toolbar_li_fittopagewidth"),y=$("#"+this._id+"_toolbar_li_fittowholepage");if($("#"+this._id+"_viewReportClick").val(this._getLocaleString("viewButton")),$("#"+this._id+"_toolbar_li_pdf").html(this._getLocaleString("toolbar","exportformat","Pdf")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Pdf")+" "+e),$("#"+this._id+"_toolbar_li_xls").html(this._getLocaleString("toolbar","exportformat","Excel")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Excel")+" "+e),$("#"+this._id+"_toolbar_li_word").html(this._getLocaleString("toolbar","exportformat","Word")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Word")+" "+e),$("#"+this._id+"_toolbar_li_html").html(this._getLocaleString("toolbar","exportformat","Html")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Html")+" "+e),$("#"+this._id+"_toolbar_li_ppt").html(this._getLocaleString("toolbar","exportformat","PPT")).attr("aria-label",this._getLocaleString("toolbar","exportformat","PPT")+" "+e),$("#"+this._id+"_toolbar_li_csv").html(this._getLocaleString("toolbar","exportformat","CSV")).attr("aria-label",this._getLocaleString("toolbar","exportformat","CSV")+" "+e),$("#"+this._id+"_toolbar_li_xml").html(this._getLocaleString("toolbar","exportformat","XML")).attr("aria-label",this._getLocaleString("toolbar","exportformat","XML")+" "+e),$("#"+this._id+"_toolbar_li_print").attr("aria-label",this._getLocaleString("toolbar","print","headerText")),$("#"+this._id+"_toolbar_li_export").attr("aria-label",e),$("#"+this._id+"_toolbar_li_pagesetup").attr("aria-label",this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_toolbar_li_gotofirst").attr("aria-label",this._getLocaleString("toolbar","first","headerText")),$("#"+this._id+"_toolbar_li_gotolast").attr("aria-label",this._getLocaleString("toolbar","last","headerText")),$("#"+this._id+"_toolbar_li_gotonext").attr("aria-label",this._getLocaleString("toolbar","next","headerText")),$("#"+this._id+"_toolbar_li_gotoprevious").attr("aria-label",this._getLocaleString("toolbar","previous","headerText")),$("#"+this._id+"_toolbar_li_gotoparent").attr("aria-label",this._getLocaleString("toolbar","back","headerText")),$("#"+this._id+"_toolbar_li_gotopage").attr("aria-label",this._getLocaleString("toolbar","pageIndex","headerText")),$("#"+this._id+"_toolbar_gotopage").attr("aria-label",this._getLocaleString("toolbar","pageIndex","headerText")),$("#"+this._id+"_toolbar_li_zoomin").attr("aria-label",this._getLocaleString("toolbar","zoomIn","headerText")),$("#"+this._id+"_toolbar_li_zoomout").attr("aria-label",this._getLocaleString("toolbar","zoomOut","headerText")),$("#"+this._id+"_toolbar_li_pagefit").attr("aria-label",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_li_preview").attr("aria-label",this._getLocaleString("toolbar","printLayout","headerText")),$("#"+this._id+"_toolbar_li_refresh").attr("aria-label",this._getLocaleString("toolbar","refresh","headerText")),$("#"+this._id+"_toolbar_li_stop").attr("aria-label",this._getLocaleString("toolbar","stop","headerText")),$("#"+this._id+"_toolbar_li_documentmap").attr("aria-label",this._getLocaleString("toolbar","documentMap","headerText")),$("#"+this._id+"_toolbar_li_parameter").attr("aria-label",this._getLocaleString("toolbar","parameter","headerText")),$("#"+this._id+"_toolbar_li_fittopage").attr("aria-label",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").setModel({htmlAttributes:{"aria-label":this._getLocaleString("toolbar","zoom","headerText")}}),(s=$("#"+this._id+"_exportSetup").data("ejDialog"))&&(s.setTitle(this._getLocaleString("toolbar","exportsetup","headerText")),$("#"+this._id+"_exportSetup_closebutton").attr("title",this._getLocaleString("exportsetupDialog","close")),$("#"+this._id+"_Submit").val(this._getLocaleString("exportsetupDialog","doneButton")).attr("aria-label",this._getLocaleString("exportsetupDialog","doneButton")),$("#"+this._id+"_Cancel").val(this._getLocaleString("exportsetupDialog","cancelButton")).attr("aria-label",this._getLocaleString("exportsetupDialog","cancelButton")),$("#"+this._id+"_excelFormatLabel").html(this._getLocaleString("exportsetupDialog","excel")+"&nbsp;"),$("#"+this._id+"_wordFormatLabel").html(this._getLocaleString("exportsetupDialog","word")+"&nbsp;"),$("#"+this._id+"_pptFormatLabel").html(this._getLocaleString("exportsetupDialog","ppt")+"&nbsp;"),$("#"+this._id+"_imageQuality").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":this.model.exportSettings.imageQuality+" "+this._getLocaleString("exportsetupDialog","imageQuality")}})),a=$("#"+this._id+"_printPageSetup").data("ejDialog")){for(a.setTitle(this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_printPageSetup_closebutton").attr("title",this._getLocaleString("pagesetupDialog","close")),$("#"+this._id+"_Submit").val(this._getLocaleString("pagesetupDialog","doneButton")).attr("aria-label",this._getLocaleString("pagesetupDialog","doneButton")),$("#"+this._id+"_Cancel").val(this._getLocaleString("pagesetupDialog","cancelButton")).attr("aria-label",this._getLocaleString("pagesetupDialog","cancelButton")),$("#"+this._id+"_heightLabel").html(this._getLocaleString("pagesetupDialog","height")+"&nbsp;"),$("#"+this._id+"_widthLabel").html(this._getLocaleString("pagesetupDialog","width")+"&nbsp;"),$("#"+this._id+"_topLabel").html(this._getLocaleString("pagesetupDialog","top")+"&nbsp;"),$("#"+this._id+"_bottomLabel").html(this._getLocaleString("pagesetupDialog","bottom")+"&nbsp;"),$("#"+this._id+"_rightLabel").html(this._getLocaleString("pagesetupDialog","right")+"&nbsp;"),$("#"+this._id+"_leftLabel").html(this._getLocaleString("pagesetupDialog","left")+"&nbsp;"),o=this._getLocaleString("pagesetupDialog","unit")+"&nbsp;",$("#"+this._id+"_heightUnitLabel").html(o),$("#"+this._id+"_widthUnitLabel").html(o),$("#"+this._id+"_topUnitLabel").html(o),$("#"+this._id+"_rightUnitLabel").html(o),$("#"+this._id+"_bottomUnitLabel").html(o),$("#"+this._id+"_leftUnitLabel").html(o),$("#"+this._id+"_portraitLabel").html("&nbsp;"+this._getLocaleString("pagesetupDialog","portrait")),$("#"+this._id+"_landscapeLabel").html("&nbsp;"+this._getLocaleString("pagesetupDialog","landscape")),r=this._getLocaleString("pagesetupDialog","paperSize"),$("#"+this._id+"_paperSizeLabel").html(r),$("#"+this._id+"_marginheader").html(this._getLocaleString("pagesetupDialog","margins")),$("#"+this._id+"_orientationLabel").html(this._getLocaleString("pagesetupDialog","orientation")),n=$("#"+this._id+"_printPageSetup").find(".e-rptviewer-pagesetup"),p=0;p<n.length;p++)n.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectOption"),htmlAttributes:{"aria-label":r}});$("#"+this._id+"_paperHeight").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","height")}}),$("#"+this._id+"_paperWidth").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","width")}}),$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","top")}}),$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","right")}}),$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","bottom")}}),$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":r+" "+this._getLocaleString("pagesetupDialog","left")}}),$("#"+this._id+"_portrait").data("ejRadioButton").setModel({htmlAttributes:{"aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","portrait")}}),$("#"+this._id+"_landscape").data("ejRadioButton").setModel({htmlAttributes:{"aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","landscape")}})}var w=this._getLocaleString("toolbar","fittopage","headerText"),S=this._getLocaleString("toolbar","fittopage","pageWidth"),C=this._getLocaleString("toolbar","fittopage","pageHeight");if(x.empty(),y.empty(),x.html(b).attr("aria-label",w+" "+S),x.append(S),y.html(v).attr("aria-label",w+" "+C),y.append(C),$("#"+this._id+"_credential_block_table").length>0&&($("#"+this._id+"_username_label").text(this._getLocaleString("credential","userName")),$("#"+this._id+"_password_label").text(this._getLocaleString("credential","password"))),this.element.length>0){for(l=this.element.find(".e-rptviewer-multivalue"),p=0;p<l.length;p++)l.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectOption")}),d=l.eq(p).attr("id"),$("#"+d+"_check").length>0?$("#"+d+"_check").data("ejCheckBox").setModel({text:this._getLocaleString("selectAll")}):$("#"+d+"_selectall").length>0&&(h=$("#"+d+"_check0wrap"),(c=$("#"+d+"_selectall")).empty(),c.html(h),c.append(this._getLocaleString("selectAll")));for(u=this.element.find(".e-rptviewer-comboBox"),p=0;p<u.length;p++)u.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectValue")})}if($("#"+this._id+"_errormsg")&&($("#"+this._id+"_prefix_errormsg").text(this._getLocaleString("errorMessage","startMessage")),$("#"+this._id+"_errormsg a").text(this._getLocaleString("errorMessage","middleMessage")),$("#"+this._id+"_suffix_errormsg").text(this._getLocaleString("errorMessage","endMessage")),$("#"+this._id+"_closebutton").attr("title",this._getLocaleString("errorMessage","closeMessage"))),(m=$("#"+this._id+"_viewer_alert_dialog")).length>0&&((g=m.data("ejDialog"))&&g.setModel({title:this._getLocaleString("alertMessage","title")}),$("#"+this._id+"_viewer_alert_dialog_closebutton").attr("title",this._getLocaleString("alertMessage","close")),$("#"+this._id+"_alert_footer_ok").text(this._getLocaleString("alertMessage","done"))),(_=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").find(".e-reportviewer-DateTime"))&&_.length>0)for(f=0;f<_.length;f++)this._isDateTimePicker($(_[f]).attr("id"))?$("#"+$(_[f]).attr("id")).data("ejDateTimePicker").setModel({locale:this.model.locale}):$("#"+$(_[f]).attr("id")).data("ejDatePicker").setModel({locale:this.model.locale})},_renderPages:function(){var e,t,i;if(this.model.enablePageVirtualization||this.model.enablePageCache){if((e=this._printMode?this._printPageCache:this._pageCache).length-1<this._pageModel.TotalPages)for(i=this._currentPage+1;i<=this._pageModel.TotalPages;i++)e[i]=null;if(_pageNos=[],t=this._isForwardDirection?this._currentPage+1:this._currentPage-1,this._isSelectedPage)for(i=t;i<=this._pageModel.TotalPages;this._isForwardDirection?i++:i--)if(null==e[i]&&void 0!==e[i]){if(_pageNos.push(i),2==_pageNos.length&&(i=i>this._currentPage?i:this._currentPage,this._isForwardDirection=!0),4==_pageNos.length)break}else void 0===e[i]&&(i=this._currentPage,this._isForwardDirection=!0);else for(i=t;i<=this._pageModel.TotalPages&&i>1&&(null!=e[i]||(void 0!==e[i]&&_pageNos.push(i),3!=_pageNos.length));this._isForwardDirection?i++:i--);this._ajaxCallMethod(this._reportAction.getPageModel,"_getRenderedPages",!1)}},_getRenderedPages:function(e){if(e.pgmodel&&e.pgmodel.length>0)for(var t=0;t<e.pgmodel.length;t++)e.pgmodel[t]&&e.pgmodel[t].Value.PageData&&(this._pageModel=e.pgmodel[t].Value,this._storePageCache(e.pgmodel[t].Key))},_storePageCache:function(e){this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0&&(this._pageContains(e)||(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._printMode?this._printPageCache[e]=this._pageModel:this._pageCache[e]=this._pageModel))},_retrievePageCache:function(e){return this._printMode?this._printPageCache[e]:this._pageCache[e]},_pageContains:function(e){return!ej.isNullOrUndefined(this._printMode?this._printPageCache[e]:this._pageCache[e])},_clearPageCache:function(){this._pageCache=[],this._printPageCache=[]},_itemfadeToggle:function(e){e.fadeToggle()},_popupClick:function(){var e=$("#"+this._id+"_pageInfoPopup");e.fadeIn(),e.finish()},_containerScrollStop:function(){var e=$("#"+this._id+"_pageInfoPopup");e.finish().fadeIn(),e.finish().fadeOut(3e3)},_viewerClick:function(){$("#"+this._id+"_toolbar_exportListTip").css("display","none")},_pinchAndSwipe:function(e){switch(e.type){case"pinchin":this._zoomOut();break;case"pinchout":this._zoomIn();break;case"swipeleft":this._gotoNextPage(),this._isDevice&&this._updatePageNo();break;case"swiperight":this._gotoPreviousPage(),this._isDevice&&this._updatePageNo()}},_touchMove:function(e){this._isPinchZoom=!1,(void 0!==e.touches&&2===e.touches.length||void 0!==e.originalEvent.touches&&2===e.originalEvent.touches.length)&&(this._isPinchZoom=!0)},_touchStart:function(e){void 0!==e.targetTouches?this._touchScreen.startPoint=e.targetTouches[0].screenY:void 0!==e.originalEvent.targetTouches&&(this._touchScreen.startPoint=e.originalEvent.targetTouches[0].screenY)},_touchEnd:function(e){void 0!==e.changedTouches?this._touchScreen.endPoint=e.changedTouches[0].screenY:void 0!==e.originalEvent.changedTouches&&(this._touchScreen.endPoint=e.originalEvent.changedTouches[0].screenY),this._isPinchZoom||0!==window.visualViewport.pageLeft||0!==window.visualViewport.pageTop||this._scrollPageNavigation()},_scrollPageNavigation:function(){var e,t;if(Math.abs(this._touchScreen.startPoint-this._touchScreen.endPoint)>75)if((t=(e=$("#"+this._id+"_viewerContainer")).scrollTop())+e.innerHeight()>=e[0].scrollHeight){if(!this._pageModel||this._currentPage==this._pageModel.TotalPages)return;this._gotoNextPage(),this._updatePageNo(),e.scrollTop(2)}else if(0==t){if(!this._pageModel||1==this._currentPage)return;this._gotoPreviousPage(),this._updatePageNo(),e.scrollTop(2)}},_scrollPage:function(e){var t,i=this,s=$(e.target),a=this._orginY=s.scrollTop(),o=$("#"+this._id+"_viewerContainer_WaitingPopup");a>0?(this._scrollHeight=s[0].clientHeight+a,o.css("height",this._scrollHeight)):o.css("height",s[0].clientHeight),this._orginX=s.scrollLeft(),t=$("#"+this._id+"_reportviewerContainer").offset().top,$(".fixed-data").each((function(){var e=$(this).offset().top,s=$(this).position().top;if(e<=t){var a=(s+(t-e))/[.5,.75,1,1.25,1.5,2,4][i._zoomLevel];$(this).next("div").css({top:a,visibility:"visible"})}else $(this).next("div").css({top:s,visibility:"collapse"})}))},_showViewerBlock:function(e){if(e){$("#"+this._id+"_viewBlockContainer").css("display","block");var t=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").find("table");this._selectparamToolItem(t.is("[data-isviewclick]"))}else $("#"+this._id+"_viewBlockContainer").css("display","none");this._isDevice&&$("#"+this._id+"_viewBlockContainer.e-reportviewer-blockstyle").css("z-index",e?"10":"0")},_showNavigationIndicator:function(e){var t=$("#"+this._id+"_loadingIndicator"),i=$("#"+this._id+"_viewerContainer"),s=$($("#"+this._id+"_toolbar_zoom_popup li")[this._zoomLevel])[0].innerText;e&&"block"!=t.css("display")?i.data("ejWaitingPopup").show():i.data("ejWaitingPopup").hide(),$("#"+this._id+"_viewerContainer_WaitingPopup").css({left:"0px",width:s}).addClass("e-reportviewer-waitingpopup"),this._scrollHeight>0&&$("#"+this._id+"_viewerContainer_WaitingPopup").css("height",this._scrollHeight)},_showPrintExportProgressIndicator:function(e,t){var i,s=$($("#"+this._id+"_toolbar_zoom_popup li")[this._zoomLevel])[0].innerText;e?($("#"+this._id+"_viewerContainer").ejWaitingPopup({showOnInit:!0,cssClass:"e-reportviewer-printExportLoading",text:t+'<a href="javascript:;" id = "'+this._id+'_loadingindicator_cancelPrintExport">'+this._getLocaleString("progressMessage","cancelText")+"</a>"}),this._on($("#"+this._id+"_loadingindicator_cancelPrintExport"),"click",(function(){this._cancelPrintExport=!0,this._showPrintExportProgressIndicator(!1)})),$("#"+this._id+"_pageviewOuterContainer").addClass("e-reportviewer-hide-scroller"),i="#"+this._id+"_viewerContainer",$("#"+this._id+"_toolbarContainer").addClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_viewerContainer_WaitingPopup").css({left:"0px",width:s}),$("#"+this._id+"_viewerContainer_WaitingPopup .e-text").addClass("e-reportviewer-contentspan e-tooltip-wrap").css({display:"inline",left:"450px",padding:"0px 4px 4px 4px"})):(i=$("#"+this._id+"_viewerContainer").data("ejWaitingPopup"),ej.isNullOrUndefined(i)||(i.setModel({text:""}),i.hide(),i.setModel({template:this.model.waitingPopupTemplate})),$("#"+this._id+"_toolbarContainer").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),$("#"+this._id+"_pageviewOuterContainer").removeClass("e-reportviewer-hide-scroller")),this._scrollHeight>0&&$("#"+this._id+"_viewerContainer_WaitingPopup").css("height",this._scrollHeight)},_showloadingIndicator:function(e){var t=$("#"+this._id+"_loadingIndicator");e?($("#"+this._id+"_pageviewOuterContainer").css("display","none"),t.css("display","block").data("ejWaitingPopup").show()):($("#"+this._id+"_pageviewOuterContainer").css("display","block"),t.css("display","none").data("ejWaitingPopup").hide()),$("#"+this._id+"_loadingIndicator_WaitingPopup").css({left:"0px",width:"100%"}).addClass("e-reportviewer-waitingpopup")},_showparameterLoadingIndicator:function(e,t,i,s,a){var o,r,n,l,d={state:e?"updateStart":"updateEnd",handled:!1,name:i,prompt:s,controlId:a,containerId:this._id+"_viewerBlockCellContent",progressText:t};if(e)this._onParameterUpdateStateChange(d),d.handled||(o=$("#"+this._id+"_viewer_paramblock").data("ejScroller"),ej.isNullOrUndefined(o)||!o.isHScroll()&&!o.isVScroll()?$("#"+d.controlId+"_div").ejWaitingPopup({showOnInit:!0,showImage:!0,text:t}):(o.setModel({thumbMove:this._onParameterScrollMove(d.controlId),wheelMove:this._onParameterScrollMove(d.controlId)}),$("#"+this._id+"_viewer_paramblock").css({position:"relative"}),$("#"+d.controlId+"_div").ejWaitingPopup({showOnInit:!0,showImage:!0,text:t,appendTo:"#"+o._id})),$("#"+d.controlId+"_div").css({opacity:"0"}),$("#"+d.controlId+"_div_WaitingPopup").css({opacity:"95%",position:"absolute"}),$("#"+d.controlId+"_div_WaitingPopup .e-text").css({"text-align":"center",top:"8px",margin:"0px",position:"absolute",left:"25px","font-size":"10px","background-size":"contain"}),$("#"+d.controlId+"_div_WaitingPopup .e-image").css({margin:"0",top:"4px",height:"20px",width:"20px","box-shadow":"0 0 black","background-color":"transparent","background-size":"contain",left:"3px",right:"76px"}));else if(this._onParameterUpdateStateChange(d),!d.handled&&(r=$("div#"+this._id+"_viewer_paramblock .e-waitingpopup"),!ej.isNullOrUndefined(r)&&r.length>0))for(n=0;n<r.length;n++)r[n].id.includes("_Param_")&&($("#"+(l=r[n].id)).css({opacity:"1"}),$("#"+l).ejWaitingPopup({showOnInit:!1,showImage:!1,text:""}),$("#"+l+"_WaitingPopup").empty())},_onParameterScrollMove:function(e){var t=$("#"+e+"_div").data("ejWaitingPopup");ej.isNullOrUndefined(t)||t.refresh()},_isMobileDevice:function(){return/windows phone|android|iphone/i.test(navigator.userAgent.toLowerCase())},_getAuthenticationToken:function(){return function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()).toUpperCase()}()+"@"+this._id},_updateToolbarmodel:function(){this._showToolbar(this.model.toolbarSettings.showToolbar),this._showPrintButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Print),this._showRefreshButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Refresh),this._showStopButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop),this._showZoomControl(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Zoom),this._showFittoPage(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.FittoPage),this._showExportControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Export),this._showExportControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.ExportSetup),this._showExportList(),this._showPageNavigationControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PageNavigation),this._showParameterBlock(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Parameters),this._showPreviewButton(model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PrintLayout),this._showPrintPageSetupButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PageSetup)},_viewerResize:function(){var e=this;this.model.isResponsive&&(this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout((function(){var t,i,s,a,o=e._isWidth?e.element[0].parentElement.style.width:e.element[0].style.width,r=e._isHeight?e.element[0].parentElement.style.height:e.element[0].style.height,n=$(e.element).height(),l=$(e.element).width();-1!=r.indexOf("%")?(e._isPercentHeight=parseInt(r),t=e._isHeight?$(e.element).parent().height():n,n=e._isHeight?t:t/100*e._isPercentHeight):0!=e.element[0].parentElement.clientHeight&&-1!=e._isPercentHeight?n=e._isHeight?e.element[0].parentElement.clientHeight:e.element[0].parentElement.clientHeight/100*e._isPercentHeight:(e._isHeight&&0!=e.element[0].parentElement.clientHeight||"msie"==e._browserInfo.name&&8==e._browserInfo.version&&0!=e.element[0].parentElement.clientHeight)&&(n=e.element[0].parentElement.clientHeight),e.element.height(n),-1!=o.indexOf("%")?(e._isPercentWidth=parseInt(o),i=e._isWidth?$(e.element).parent().width():l,l=e._isWidth?i:i/100*e._isPercentWidth):0!=e.element[0].parentElement.clientWidth&&-1!=e._isPercentWidth?l=e._isWidth?e.element[0].parentElement.clientWidth:e.element[0].parentElement.clientWidth/100*e._isPercentWidth:(e._isWidth&&0!=e.element[0].parentElement.clientWidth||"msie"==e._browserInfo.name&&8==e._browserInfo.version&&0!=e.element[0].parentElement.clientWidth)&&(l=e.element[0].parentElement.clientWidth),e.element.width(l),(s=$("#"+e._id+"_toolbarContainer").data("ejToolbar"))._activeItem=undefined,s._reSizeHandler(),e._refreshScroller(),e._setContainerSize(),e._refreshIndicator(),(a=$("#"+e._id+"_reportviewerContainer").data("ejSplitter"))&&a.refresh()}),200))},_showViewerPage:function(e){e?$("#"+this._id+"_pageviewOuterline").css("display","block"):$("#"+this._id+"_pageviewOuterline").css("display","none"),this._isDevice&&$("#"+this._id+"_pageviewOuterline").css("z-index",e?"10":"0")},_updatePageNo:function(){$("#"+this._id+"_popupPageNo").val(this._currentPage),$("#"+this._id+"_pageInfoPopup .e-reportviewer-popuptotalpage").html(" / "+this._pageModel.TotalPages)},_reportReload:function(){this._refresh=!0,this._unwireEvents(),this._initViewer(),this._ajaxCallMethod(this._reportAction.reportLoad,"_reportLoaded",!1)},getDataSetNames:function(){return $.extend(!0,[],this._reporDataSets)},getParameters:function(){return $.extend(!0,[],this._reportParameters)},gotoPageIndex:function(e){this._gotoPageNo(e)},gotoLastPage:function(){this._gotoLastPage()},gotoFirstPage:function(){this._gotoFirstPage()},gotoNextPage:function(){this._gotoNextPage()},gotoPreviousPage:function(){this._gotoPreviousPage()},print:function(){this._print()},clearReportCache:function(){this._ajaxCallMethod("ClearCache","_clearCurrentServerCache",!1)},printLayout:function(){this._printlayout()},setParameterBlockVisibility:function(e){this._setParameterBlockVisibile(e)},exportReport:function(e){this._processExport(e,"")},refresh:function(){this._refreshReport()},cancelRendering:function(){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._cancelProcessing=!0},reload:function(){this._ajaxCallMethod(this._reportAction.clearCache,"_reportReload",!1)},fitToPage:function(){this._fitToPage("fitToPage")},fitToPageWidth:function(){this._fitToPage("fitToWidth")},fitToPageHeight:function(){this._fitToPage("wholepage")},updateParameter:function(e){this._updateParameter(e)},_onReportLoaded:function(){this._trigger("reportLoaded")},_onRenderingBegin:function(e){return this._trigger("renderingBegin",e)},_onToolbarRendering:function(e){this._trigger("toolbarRendering",e)},_onBeforeParameterAdd:function(e){this._trigger("beforeParameterAdd",e)},_onAjaxRequest:function(e){$("#"+this._id+"_toolbar_li_stop").removeClass("e-disable"),this._trigger("ajaxBeforeLoad",e)},_onAjaxSuccess:function(e){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._trigger("ajaxSuccess",e)},_onAjaxFailure:function(e){this._trigger("ajaxError",e)},_onRenderingComplete:function(e){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._trigger("renderingComplete",e),this._licenseMessage&&this._licenseMessage.length>0&&(this._showLicenseMsg(this._licenseMessage),this._licenseMessage=null)},_onReportError:function(e){return this._trigger("reportError",e)},_onShowError:function(e){return this._trigger("showError",e)},_onViewReportClick:function(e){this._trigger("viewReportClick",e)},_onDrillThrough:function(e){return this._trigger("drillThrough",e)},_onHyperlink:function(e){return this._trigger("hyperlink",e)},_onExportProgressChanged:function(e){this._trigger("exportProgressChanged",e)},_onExportItemClick:function(e){return this._trigger("exportItemClick",e)},_onPrintProgressChanged:function(e){this._trigger("printProgressChanged",e)},_onReportExport:function(e){return this._trigger("reportExport",e)},_onToolbarClick:function(e){return this._trigger("toolBarItemClick",e)},_onReportPrint:function(e){return this._trigger("reportPrint",e),{cancel:e.cancel,isStyleLoad:e.isStyleLoad}},_onParameterUpdateStateChange:function(e){this._trigger("parameterUpdateStateChange",e)},_onElementsRendered:function(e){this._trigger("_elementsRendered",e)}}),ej.ReportViewer.InputElement={Default:"Default",Button:"Button",Textbox:"Textbox",Dropdown:"Dropdown"},ej.ReportViewer.ExportOptions={Excel:1,Html:2,Pdf:4,Word:8,PPT:16,CSV:32,XML:64,CustomItems:128,All:255},ej.ReportViewer.ExcelFormats={Excel97to2003:"excel97to2003",Excel2007:"excel2007",Excel2010:"excel2010",Excel2013:"excel2013"},ej.ReportViewer.PPTFormats={PowerPoint97to2003:"powerpoint97to2003",PowerPoint2007:"powerpoint2007",PowerPoint2010:"powerpoint2010",PowerPoint2013:"powerpoint2013"},ej.ReportViewer.WordFormats={Doc:"doc",Dot:"dot",Docx:"docx",Word2007:"word2007",Word2010:"word2010",Word2013:"word2013",Word2007Dotx:"word2007dotx",Word2010Dotx:"word2010dotx",Word2013Dotx:"word2013dotx",Word2007Docm:"word2007docm",Word2010Docm:"word2010docm",Word2013Docm:"word2013docm",Word2007Dotm:"word2007dotm",Word2010Dotm:"word2010dotm",Word2013Dotm:"word2013dotm",Rtf:"rtf",Txt:"txt",EPub:"epub",Html:"html",Xml:"xml"},ej.ReportViewer.ProcessingMode={Remote:"remote",Local:"local"},ej.ReportViewer.Orientation={Portrait:"Portrait",Landscape:"Landscape"},ej.ReportViewer.PaperSize={A3:"A3",A4:"A4",B4_JIS:"B4(JIS)",B5_JIS:"B5(JIS)",Envelope_10:"Envelope #10",Envelope_Monarch:"Envelope Monarch",Executive:"Executive",Legal:"Legal",Letter:"Letter",Tabloid:"Tabloid",Custom:"Custom"},ej.ReportViewer.ToolbarItems={Export:1,Zoom:2,PageNavigation:4,Refresh:8,Print:16,DocumentMap:32,Parameters:64,PrintLayout:128,FittoPage:256,PageSetup:512,Stop:1024,ExportSetup:2048,All:4095},ej.ReportViewer.RenderMode={Default:3,Mobile:1,Desktop:2},ej.ReportViewer.PrintOptions={Default:"Default",NewTab:"NewTab",None:"None"},ej.ReportViewer.DateTimePickerType={Default:"Default",DateTime:"DateTime"},ej.ReportViewer.Locale={},ej.ReportViewer.Locale["en-US"]={toolbar:{print:{headerText:"Print",contentText:"Print the report."},exportformat:{headerText:"Export",contentText:"Select the exported file format.",Pdf:"PDF",Excel:"Excel",Word:"Word",Html:"HTML",PPT:"PowerPoint",CSV:"CSV",XML:"XML"},first:{headerText:"First",contentText:"Go to the first page of the report."},previous:{headerText:"Previous",contentText:"Go to the previous page of the report."},next:{headerText:"Next",contentText:"Go to the next page of the report."},last:{headerText:"Last",contentText:"Go to the last page of the report."},documentMap:{headerText:"Document Map",contentText:"Show or hide the document map."},parameter:{headerText:"Parameter",contentText:"Show or hide the parameters pane."},zoomIn:{headerText:"Zoom-In",contentText:"Zoom in to the report."},zoomOut:{headerText:"Zoom-Out",contentText:"Zoom out of the report."},refresh:{headerText:"Refresh",contentText:"Refresh the report."},stop:{headerText:"Stop",contentText:"Stop processing the report"},printLayout:{headerText:"Print Layout",contentText:"Change between print layout and normal modes."},pageIndex:{headerText:"Page Number",contentText:"Current page number to view."},zoom:{headerText:"Zoom",contentText:"Zoom in or out on the report."},back:{headerText:"Back",contentText:"Go back to the parent report."},fittopage:{headerText:"Fit to Page",contentText:"Fit the report page to the container.",pageWidth:"Page Width",pageHeight:"Whole Page"},pagesetup:{headerText:"Page Setup",contentText:"Choose page setup option to change paper size, orientation and margins."},exportsetup:{headerText:"Export Setup",contentText:"Choose export setup option to set the image quality, save type of word, and excel document."}},pagesetupDialog:{close:"Close",paperSize:"Paper Size",height:"Height",width:"Width",margins:"Margins",top:"Top",bottom:"Bottom",right:"Right",left:"Left",unit:"in",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",doneButton:"OK",cancelButton:"Cancel"},exportsetupDialog:{close:"Close",excel:"Excel",word:"Word",imageQuality:"Image Quality",exportFormat:"Export Format",dpi:"dpi",doneButton:"OK",cancelButton:"Cancel"},credential:{userName:"Username",password:"Password"},waterMark:{selectOption:"Select Option",selectValue:"Select a value"},errorMessage:{startMessage:"Report Viewer encountered some issues loading this report. Please",middleMessage:" Click here",endMessage:"to see the error details",closeMessage:"Close this message",exportAjaxFailureMsg:"Unable to export the document due to failure of connecting Report Service.",printAjaxFailureMsg:"Unable to print the document due to failure of connecting Report Service.",reportLoadAjaxFailureMsg:"Unable to progress the Report action due to failure of connecting Report Service.",cancelReportProcessMsg:"Report processing was cancelled."},progressMessage:{exportLoadingMessage:"Preparing exporting document... Please wait...",printLoadingMessage:"Preparing print data... Please wait...",printPreparationMessage:"Preparing print data... {0}% completed... Please wait...",exportPreparationMessage:"Preparing exporting document... {0}% completed... Please wait...",cancelText:"Cancel"},alertMessage:{close:"Close",title:"ReportViewer",done:"OK",showDetails:"Show details",hideDetails:"Hide Details",reportLoad:"Report Loaded:",RVERR0001:"ReportViewer failed to load the Report",RVERR0002:"ReportViewer failed to render the Report",RVERR0003:"An error occurred in ajax postback",RVERR0004:"Please select a value for the parameter",RVERR0005:"The {parametername} parameter is missing a value",RVERR0006:"Please give the float data type input",RVERR0007:"Please give the integer data type input",RVERR0008:"ReportViewer failed to validate the Datasource credentials",RVERR0009:"The margins are overlapped or they are off the paper. Enter a different margin size.",RVERR0010:"Please enter a value for the parameter",RVERR0011:"The parameter cannot be blank",RVERR0012:"The value provided for the report parameter {parameterprompt} is not valid for its type."},reportItemLabel:{Tablix:"Tablix report item",Textbox:"Textbox report item",Chart:"Chart report item",Image:"Image report item",Custom:"Custom report item",Rectangle:"Rectangle report item",Map:"Map report item",Gauge:"Gauge report item",Indicator:"Indicator report item",Line:"Line report item",Subreport:"Sub report item"},selectAll:"Select All",viewButton:"View Report",parameterBlock:"Parameter Block",parameterProcessingMessage:"Loading parameter values..."}})(jQuery,Syncfusion)},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("I2GY")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=n)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},0:function(e,t,i){e.exports=i("zUnb")},"06PS":function(e,t,i){var s,a,o;a=[i("wGFc")],void 0===(o="function"==typeof(s=function(){var e,t,i;e=jQuery,(t=Syncfusion).widget("ejBulletGraph","ej.datavisualization.BulletGraph",{element:null,model:null,validTags:["div"],_tags:[{tag:"qualitativeRanges",attr:["rangeEnd","rangeStroke","rangeOpacity"]},{tag:"quantitativeScaleSettings.featureMeasures",attr:["value","comparativeMeasureValue"]}],defaults:{locale:null,enableGroupSeparator:!1,value:0,comparativeMeasureValue:0,width:null,height:null,theme:"flatlight",orientation:"horizontal",flowDirection:"forward",qualitativeRangeSize:32,quantitativeScaleLength:475,tooltipSettings:{enableCaptionTooltip:!1,captionTemplate:null,visible:!0,template:null},quantitativeScaleSettings:{location:{x:10,y:10},minimum:0,maximum:10,interval:1,minorTicksPerInterval:4,majorTickSettings:{size:13,stroke:null,width:2},minorTickSettings:{size:7,stroke:null,width:2},tickPosition:"far",tickPlacement:"outside",labelSettings:{labelPlacement:"outside",labelPrefix:"",labelSuffix:"",stroke:null,size:12,offset:15,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"regular",opacity:1},position:"below"},featuredMeasureSettings:{stroke:null,width:6},comparativeMeasureSettings:{stroke:null,width:5},featureMeasures:[{value:null,comparativeMeasureValue:null,category:null}]},fields:{dataSource:null,query:null,tableName:null,category:null,featureMeasures:null,comparativeMeasure:null},enableAnimation:!0,enableResizing:!0,isResponsive:!0,applyRangeStrokeToTicks:!1,applyRangeStrokeToLabels:!1,qualitativeRanges:[{rangeEnd:4.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:7.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:10,rangeStroke:null,rangeOpacity:1}],captionSettings:{enableTrim:!0,textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,location:{x:17,y:30},text:"",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"regular",opacity:1},subTitle:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,text:"",location:{x:10,y:45},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}},indicator:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,visible:!1,textAngle:0,textSpacing:3,text:"",symbol:{border:{color:null,width:1},color:null,shape:"",imageURL:"",size:{width:10,height:10},opacity:1},location:{x:10,y:60},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}}},load:"",click:"",doubleClick:"",rightClick:"",drawTicks:null,drawLabels:null,drawCaption:null,drawIndicator:null,drawQualitativeRanges:null,drawFeatureMeasureBar:null,drawCategory:null,drawComparativeMeasureSymbol:null},observables:["value","comparativeMeasureValue"],value:t.util.valueFunction("value"),comparativeMeasureValue:t.util.valueFunction("comparativeMeasureValue"),dataTypes:{quantitativeScaleSettings:{labelSettings:"data",featureMeasures:"array"},fields:{dataSource:"data",query:"data"},qualitativeRanges:"array",captionSettings:"data",isResponsive:"boolean"},_init:function(){this._renderBulletGraph()},_destroy:function(){e(this.element).removeClass("e-datavisualization-bulletgraph e-js").find("#"+this.svgObject.id).remove()},_isSVG:function(){return!!window.SVGSVGElement},_value:t.util.valueFunction("value"),_comparativeMeasureValue:t.util.valueFunction("comparativeMeasureValue"),_qualitativeRanges:function(){this.redraw(),this._trigger("refresh")},_quantitativeScaleSettings_featureMeasures:function(){this.redraw(),this._trigger("refresh")},_renderBulletGraph:function(){var e=this.model.theme.toLowerCase();this._isSVG()&&(this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this._trigger("load"),this._setSvgSize(this),this._setTheme(t.datavisualization.BulletGraph.Themes,e),this.bindEvents(),this._renderBulletElements(),this.model.enableAnimation&&this._animateMeasures())},_animateMeasures:function(){this._doAnimation(),this._doLineAnimation()},_setSvgSize:function(i){var s=i,a=e(s.element).height(),o=90,r=t.isTouchDevice()?250:595,n=e(s.element).width();s.model.width?r=parseInt(s.model.width):n>0&&n<595?r=n:n>595&&(r=595),e(s.svgObject).width(r),s.model.height?o=parseInt(s.model.height):a>0?o=a:e(s.svgObject).css("display","block"),e(s.svgObject).height(o),s.svgObject.setAttribute("width",r),s.svgObject.setAttribute("height",o)},_renderBulletElements:function(){var t;this.svgObject.setAttribute("viewBox","0 0 "+(this.model.width?this.model.width:595)+" "+(this.model.height?this.model.height:90)),this.svgObject.setAttribute("preserveAspectRatio","xMinYMin"),this.svgWidth=e(this.svgObject).width(),this.svgHeight=e(this.svgObject).height();var i=this.svgRenderer.createGroup({id:this.svgObject.id+"_captionGroup"}),s=this.svgRenderer.createGroup({id:this.svgObject.id+"_scaleGroup"}),a=this.svgRenderer.createGroup({id:this.svgObject.id+"_outerWrap"});this._initializeValues(),t=this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/this._scale.interval),this._drawCaption(),this._drawIndicator(),this._drawCaptionGroup(i),this._scaleGroup=s,this._drawScale(i,s),this._drawQualitativeRanges(s),this._drawMajorTicks(t,s),this._drawMinorTicks(t,s),this._drawLabels(t,s),this._bindData(),e(s).appendTo(a),e(i).appendTo(a),this._changeOrientation(s),e(a).appendTo(this.svgObject),e(this.svgObject).appendTo(this.element),this._bindHighlightRemoving()},_bindHighlightRemoving:function(){var t;t=this.model.browserInfo.isMSPointerEnabled?this.model.browserInfo.pointerEnabled?"pointerout":"MSPointerOut":"touchout mouseout",this._on(e("[id*="+this.svgObject.id+"_FeatureMeasure_]"),t,(function(t){this.isTouch(t)||e(t.target).attr("opacity",1)}))},_drawCaptionGroup:function(e){var s,a,o,r,n,l=this.model.captionSettings,d=l.subTitle,h=this._indicator?this._indicator.settings:l.indicator;l._location=d._location=h._location=x;var c="float"!=l.textPosition.toLowerCase()&&""!=l.text,u="float"!=d.textPosition.toLowerCase()&&""!=d.text,p=h.visible&&"float"!=h.textPosition.toLowerCase();if(c||u||p){s=t.EjSvgRender.utils._measureText(l.text,null,l.font),a=t.EjSvgRender.utils._measureText(d.text,null,d.font),h.visible&&(r={x:0,y:0,width:(n={width:h.symbol.size.width+(o=this._indicator.bounds).width+h.textSpacing,height:Math.max(h.symbol.size.height,o.height)}).width,height:n.height,padding:h.padding,anchor:h.textAnchor.toLowerCase(),alignment:h.textAlignment.toLowerCase()});var m={x:0,y:0,width:s.width,height:parseFloat(l.font.size),padding:l.padding,anchor:l.textAnchor.toLowerCase(),alignment:l.textAlignment.toLowerCase()},g={x:0,y:0,width:a.width,height:parseFloat(d.font.size),padding:d.padding,anchor:d.textAnchor.toLowerCase(),alignment:d.textAlignment.toLowerCase()},_=[c?l:null,u?d:null,p?h:null];this._positionTextGroup(_,[m,g,r],{x:this._scale.location.x,y:this._scale.location.y,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize}),this._locateTextGroup(_,[m,g,r])}var f=l._location==i?l.location:l._location,b=d._location==i?d.location:d._location,v=h._location==i?h.location:h._location;if(l.displayText=l.text,1==l.enableTrim&&(f.x=f.x<0?0:f.x,f.y=f.y<0?0:f.y,l.displayText=this._displayText(l,f)),""!=d.text&&(d.displayText=d.text,1==l.enableTrim&&(b.x=b.x<0?0:b.x,b.y=b.y<0?0:b.y,d.displayText=this._displayText(d,b))),h.visible){h.displayText=h.text,1==this.model.captionSettings.enableTrim&&(v.x=v.x<0?0:v.x,v.y=v.y<0?0:v.y);var x,y={x:(x=h._location?h._location:h.location).x+h.symbol.size.width/2,y:x.y-h.symbol.size.height/2,width:h.symbol.size.width,height:h.symbol.size.height},w=this._indicatorTextOptions(h,y,this._indicator.bounds,this.svgObject.id+"_Indicator"),S=this._indicatorSymbolOptions(e,h);this._drawBulletSymbol(this._indicator.settings.symbol.shape,y,S,e),1==this.model.captionSettings.enableTrim&&(h.displayText=this._displayText(h,y))}l.displayText="float"!=l.textPosition.toLowerCase()?this._captionOverlap(this.model.captionSettings):l.displayText,this.svgRenderer.drawText(this._textOptions(l,this.svgObject.id+"_Caption"),l.displayText,e),""!=d.text&&(d.displayText="float"!=d.textPosition.toLowerCase()?this._subOverlap(this.model.captionSettings.subTitle):d.displayText,this.svgRenderer.drawText(this._textOptions(d,this.svgObject.id+"_SubTitle"),d.displayText,e)),h.visible&&(h.displayText="float"!=h.textPosition.toLowerCase()?this._indOverlap(h,y):h.displayText,this.svgRenderer.drawText(w,h.displayText,e))},_captionOverlap:function(e){var t;return e.textPosition==e.subTitle.textPosition&&e.textAlignment==e.subTitle.textAlignment&&e.textAngle>0&&e.textAngle<120?t=e.subTitle._location.y-e._location.y:e.textPosition==e.indicator.textPosition&&e.textAlignment==e.indicator.textAlignment&&e.textAngle>0&&e.textAngle<120?t=e.indicator._location.y-e._location.y:e.textPosition==e.subTitle.textPosition&&e._location.y<e.subTitle._location.y&&e.textAngle>0&&e.textAngle<180?t=e.subTitle._location.y-e._location.y:e.textPosition==e.subTitle.textPosition&&e._location.y>e.subTitle._location.y&&e.textAngle>190&&e.textAngle<360?t=e._location.y-e.subTitle._location.y:e.textPosition==e.indicator.textPosition&&e._location.y<e.indicator._location.y&&e.textAngle>0&&e.textAngle<180?t=e.indicator._location.y-e._location.y:e.textPosition==e.indicator.textPosition&&e._location.y>e.indicator._location.y&&e.textAngle>190&&e.textAngle<360&&(t=e._location.y-e.indicator._location.y),this._trim(e.displayText,e,t,!0)},_indOverlap:function(e,t){var i,s,a;return a=this.model.captionSettings,e.textPosition==(s=this.model.captionSettings.subTitle).textPosition&&e.textAlignment==s.textAlignment&&e.textAngle>190&&e.textAngle<360?i=t.y-s._location.y:e.textPosition==a.textPosition&&e.textAlignment==a.textAlignment&&e.textAngle>190&&e.textAngle<360?i=t.y-a._location.y:e.textPosition==s.textPosition&&e._location.y<s._location.y&&e.textAngle>0&&e.textAngle<180?i=s._location.y-e._location.y:e.textPosition==s.textPosition&&e._location.y>s._location.y&&e.textAngle>190&&e.textAngle<360?i=e._location.y-s._location.y:e.textPosition==a.textPosition&&e._location.y<a._location.y&&e.textAngle>0&&e.textAngle<180?i=a._location.y-e._location.y:e.textPosition==a.textPosition&&e._location.y>a._location.y&&e.textAngle>190&&e.textAngle<360&&(i=e._location.y-a._location.y),this._trim(e.displayText,e,i,!0)},_subOverlap:function(e){var t,i,s;return s=this.model.captionSettings,e.textPosition==(i=this.model.captionSettings.indicator).textPosition&&e.textAlignment==i.textAlignment&&e.textAngle>0&&e.textAngle<180?t=i._location.y-e._location.y:e.textPosition==s.textPosition&&e.textAlignment==s.textAlignment&&e.textAngle>190&&e.textAngle<360?t=e._location.y-s._location.y:e.textPosition==i.textPosition&&e._location.y<i._location.y&&e.textAngle>0&&e.textAngle<180?t=i._location.y-e._location.y:e.textPosition==i.textPosition&&e._location.y>i._location.y&&e.textAngle>190&&e.textAngle<360?t=e._location.y-i._location.y:e.textPosition==s.textPosition&&e._location.y<s._location.y&&e.textAngle>0&&e.textAngle<180?t=s._location.y-e._location.y:e.textPosition==s.textPosition&&e._location.y>s._location.y&&e.textAngle>190&&e.textAngle<360&&(t=e._location.y-s._location.y),this._trim(e.displayText,e,t,!0)},rotatedLabel:function(e,i,s,a){var o=i.svgRenderer.createText({"font-size":e.size,transform:"rotate("+s+",0,0)","font-family":e.fontFamily,"font-style":e.fontStyle,rotateAngle:"rotate("+s+"deg)","text-anchor":"middle"},a);return Math.ceil(t.EjSvgRender.utils._measureBounds(o,i).width)},calcGap:function(e,t,i,s,a,o,r){var n;return e>=0&&e<=90?s+t.y>=r&&e>0?(n=r-t.y,a=!0):s+t.y<=r&&i+t.x>=o&&e>0?n=o-t.x:s+t.y<=r&&e>0?(n=r-t.y,a=!0):n=o-t.x:e>90&&e<180?s+t.y>=r?(n=r-t.y,a=!0):s+t.y<=r&&i+t.x>=o||i+t.x<=o?n=t.x:(n=r-t.y,a=!0):e>=180&&e<270?t.x-i>=0?(n=t.y,a=!0):t.y-s<=0&&t.x-i<=0?n=t.x:t.y-s<=0?(n=r-t.y,a=!0):n=t.x:i+t.x<=o?(n=t.y,a=!0):t.y-s>=0&&i+t.x>=o||i+t.x>=o?n=o-t.x:(n=t.y,a=!0),{trimSize:n,rotate:a}},_scaleLoc:function(){var e,i,s,a=this._scale,o=a.labelSettings.offset,r=a.majorTickSettings.size,n=this._scale.labelSettings,l=t.EjSvgRender.utils._measureText(n.labelPrefix+a.maximum+n.labelSuffix,null,n),d=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?l.height:l.width;switch(e=a.location.y,s=this.model.qualitativeRangeSize,"center"==this._tickPosition&&(r=r>s&&(r-s)/2),this._tickPosition+this._tickPlacement+this._labelPosition+this._labelPlacement){case"faroutsidebelowoutside":i=e+d+s+o+(r>o&&r-o);break;case"faroutsidebelowinside":i=e+r+s,e-=o+d>s&&o+d-s;break;case"faroutsideaboveoutside":i=e+r+s,e-=o+d;break;case"faroutsideaboveinside":i=e+r+s+(o+d>s+r?o+d-(s+r):0);break;case"farinsidebelowoutside":i=e+d+s+o,e-=r>s&&r-s;break;case"farinsidebelowinside":i=e+s,e=e-(r>s&&r-s)-(o+d>s+r&&o+d-r);break;case"farinsideaboveoutside":i=e+s,e=e-(o+d)-(r>o+d+s&&r-(o+d+s));break;case"farinsideaboveinside":i=e+s+(o+d>s&&d+o-s),e-=r>s&&r-s;break;case"nearoutsidebelowoutside":i=e+s+o+d,e-=r;break;case"nearoutsidebelowinside":i=e+s,e=e-r-(o+d>s+r&&o+d-(s+r));break;case"nearoutsideaboveoutside":i=e+s,e=e-r-(r<o+d&&o+d-r);break;case"nearoutsideaboveinside":i=e+s+(o+d>s&&o+d-s),e-=r;break;case"nearinsidebelowoutside":i=e+s+(r>o+d+s?r-s:o+d);break;case"nearinsidebelowinside":i=e+s+(r>s&&r-s),e-=o+d>s&&o+d-s;break;case"nearinsideaboveoutside":i=e+(r>s?r:s),e=e-o-d;break;case"nearinsideaboveinside":i=e+s+(r>d+o?r-s:d+o-s);break;case"centeroutsidebelowoutside":i=e+s+(r>o+d?r:o+d),e-=r;break;case"centeroutsidebelowinside":i=e+s+r,e=e-r-(o+d>s+r&&o+d-(s+r));break;case"centeroutsideaboveoutside":i=e+s+r,e=e-r-(r<o+d&&o+d-r);break;case"centeroutsideaboveinside":i=e+s+(o+d>s+r?o+d-s-r:r),e-=r;break;case"centerinsidebelowoutside":i=e+s+(r>o+d?r:o+d),e-=r;break;case"centerinsidebelowinside":i=e+s+r,e-=o+d-s>r?o+d-s:r;break;case"centerinsideaboveoutside":i=e+s+r,e=e-r-(r<o+d&&o+d-r);break;case"centerinsideaboveinside":i=e+s+(r>d+o?r:d+o-s),e-=r}return{x:a.location.x,y:e,height:i}},_displayText:function(i,s){var a,o,r=e.extend(!0,s),n=i.textAngle%360,l=i.text,d=i.font,h=this._scale,c=this._scale.labelSettings,u=t.EjSvgRender.utils._measureText(c.labelPrefix+h.minimum+c.labelSuffix,null,c).width,p=(t.EjSvgRender.utils._measureText(l,null,d),t.EjSvgRender.utils.rotatedLabel(i,this,n,i.text)),m=this.rotatedLabel(d,this,n,i.text),g=this.svgHeight,_=this.svgWidth,f=!1,b=this._scaleLoc();return i.textSpacing&&(m+=i.textSpacing),this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?(r.x<=b.x&&b.y<=r.y&&r.y<=b.height?_=h.location.x-u/2:r.x<=b.x&&r.y<=b.y&&n<90||r.x>=b.x&&r.x<=b.x+this.model.quantitativeScaleLength&&r.y<=b.y||r.y<=b.y&&r.x>=b.x+this.model.quantitativeScaleLength&&n>=90?g=b.y:r.x>=b.x+this.model.quantitativeScaleLength&&b.y<=r.y&&r.y<=b.height&&n<270?(_-=b.x+this.model.quantitativeScaleLength,r.x=r.x-(b.x+this.model.quantitativeScaleLength)):(r.x<=b.x&&r.y>=b.height&&n>270||r.x>=b.x&&r.x<=b.x+this.model.quantitativeScaleLength&&r.y>=b.height||r.x>=b.x+this.model.quantitativeScaleLength&&r.y>=b.height&&n>=180&&n<270)&&(r.y=r.y-b.height),f=(a=this.calcGap(n,r,m,p,f,_,g)).rotate,a=a.trimSize):(o=b.height-b.y,b.y=this.svgHeight-h.location.y-this.model.quantitativeScaleLength,b.height=b.y+this.model.quantitativeScaleLength,r.x<=b.x&&b.y<=r.y&&r.y<=b.height?_=h.location.x-u/2:r.x<=b.x&&r.y<=b.y&&n<90||r.x>=b.x&&r.x<=b.x+o&&r.y<=b.y||r.y<=b.y&&r.x>=b.x+o&&n>=90?g=b.y:r.x>=b.x+o&&b.y<=r.y&&r.y<=b.height&&n<=260?(_-=b.x+o,r.x=r.x-(b.x+o)):(r.x<=b.x&&r.y>=b.height&&n>=280||r.x>=b.x&&r.x<=b.x+o&&r.y>=b.height||r.x>=b.x+o&&r.y>=b.height&&n>=180&&n<=260)&&(r.y=r.y-b.height),f=(a=this.calcGap(n,r,m,p,f,_,g)).rotate,a=a.trimSize),this._trim(l,i,a,f)},_trim:function(e,i,s,a){var o,r,n=e,l=(this.rotatedLabel(i.font,this,i.textAngle,e),t.EjSvgRender.utils._measureText(e,null,i.font).width);if(i.textSpacing&&(l+=i.textSpacing),l>s&&""!=e){for(r=1;r<=e.toString().length;r++)if(e=n.toString().substring(0,r)+"... ",o=1==a?t.EjSvgRender.utils.rotatedLabel(i,this,i.textAngle,e):t.EjSvgRender.utils._measureText(e,null,i.font).width,i.textSpacing&&(o+=i.textSpacing),o>=s){n=e=e.toString().substring(0,r-1)+"... ";break}n.toString(0,e.toString.lenght-4)!=n&&(n=e)}return n},_getVerticalScaleLocation:function(e){return{x:this._scale.location.y,y:this.svgHeight-this._scale.location.x-e}},_horizontalTextPositioning:function(e,i,s,a,o){var r=e.textPosition.toLowerCase(),n=i.alignment,l=(s=this._scaleLoc(),this._scale.labelSettings),d=t.EjSvgRender.utils._measureText(l.labelPrefix+this._scale.maximum+l.labelSuffix,null,l).width;switch(r){case"left":i.x=s.x-i.width-i.padding-d/2,i.y=s.y+("center"==n?a.height/2+i.height/3:"far"==n?a.height:i.height),o[0].push(i);break;case"right":i.x=s.x+a.width+i.padding+d/2,i.y=s.y+("center"==n?a.height/2+i.height/3:"far"==n?a.height:i.height),o[1].push(i);break;case"top":i.x="center"==n?a.x+a.width/2-i.width/2:"near"==n?a.x:a.x+a.width-i.width,i.y=s.y-i.padding,o[2].push(i);break;case"bottom":i.x="center"==n?a.x+a.width/2-i.width/2:"near"==n?a.x:a.x+a.width-i.width,i.y=s.height+i.height/2+i.padding,o[3].push(i)}},_VerticalTextPositioning:function(e,t,i,s,a){var o=e.textPosition.toLowerCase(),r=t.alignment,n=this._scaleLoc();switch(o){case"left":t.x=n.y-t.width-t.padding,t.y=i.y+("center"==r?s.height/2+t.height/3:"far"==r?s.height:t.height),"near"==this._tickPosition&&"inside"==this._tickPlacement&&"above"==this._labelPosition&&"inside"==this._labelPlacement&&(t.x+=this._scale.majorTickSettings.size),a[0].push(t);break;case"right":t.x=n.height+t.padding,t.y=i.y+("center"==r?s.height/2+t.height/3:"far"==r?s.height:t.height),a[1].push(t);break;case"top":t.x=s.x-t.width/2+("center"==r?s.width/2:"far"==r&&s.width),t.y=s.y-t.padding,a[2].push(t);break;case"bottom":t.x=s.x-t.width/2+("center"==r?s.width/2:"far"==r&&s.width),t.y=s.y+s.height+t.height+t.padding-t.height/3+this._scale.labelSettings.size/2,a[3].push(t)}},_positionTextGroup:function(e,t,i){for(var s=[[],[],[],[]],a="horizontal"==this._orientation,o=a?this._scaleLocation:this._getVerticalScaleLocation(i.width),r=a?i:{x:o.x,y:o.y,width:i.height,height:i.width},n=0;n<e.length;n++)e[n]&&(a?this._horizontalTextPositioning(e[n],t[n],o,r,s):this._VerticalTextPositioning(e[n],t[n],o,r,s));this._avoidElementsOverlapping(s)},_avoidElementsOverlapping:function(e){for(var t,i,s,a,o=0;o<e.length;o++){t=e[o],i=!1;do{for(s=0;s<t.length;s++)for(a=s-1;a>=0;a--){if(this._isOverlapping(t[s],t[a])){switch(o){case 0:case 1:t[a].y>t[s].y?t[a].y=t[s].y+t[a].height+(t[a].padding>1?t[a].padding:1):t[s].y=t[a].y+t[s].height+(t[s].padding>1?t[s].padding:1);break;case 2:t[a].y=t[s].y-t[s].height-(t[a].padding>1?t[a].padding:1);break;default:t[s].y=t[a].y+t[a].height+(t[a].padding>1?t[a].padding:1)}i=!0;break}i=!1}}while(i)}this._applyLeftRightAnchor([e[0],e[1]]),this._applyTopBottomAnchor([e[2],e[3]])},_locateTextGroup:function(e,t){for(var i=0;i<e.length;i++)e[i]&&(e[i]._location={x:0,y:0},e[i]._location.x=t[i].x,e[i]._location.y=t[i].y)},_applyLeftRightAnchor:function(e){for(var t,i,s,a,o=0;o<e.length;o++){for(t=e[o],i=0,s=0;s<t.length;s++)i=Math.max(i,t[s].width);for(s=0;s<t.length;s++)t[s].x+="start"==(a=t[s].anchor)?0==o&&t[s].width-i:"middle"==a?0==o?(t[s].width-i)/2:(i-t[s].width)/2:0!=o&&i-t[s].width}},_applyTopBottomAnchor:function(e){for(var t,i=0;i<e.length;i++){var s=[],a=[],o=[],r=e[i];for(t=0;t<r.length;t++)"near"==r[t].alignment?s.push(r[t]):"far"==r[t].alignment?a.push(r[t]):o.push(r[t]);this._applyNearAnchor(s),this._applyCenterAnchor(o),this._applyFarAnchor(a)}},_applyNearAnchor:function(e){var t,i;if(e.length>1){for(t=0,i=0;i<e.length;i++)t=Math.max(t,e[i].width);for(i=0;i<e.length;i++)e[i].x+="start"==e[i].anchor?"vertical"==this._orientation&&(e[i].width-t)/2:"middle"==e[i].anchor?"horizontal"==this._orientation&&(t-e[i].width)/2:"horizontal"==this._orientation?t-e[i].width:(t-e[i].width)/2}},_applyCenterAnchor:function(e){var t,i;if(e.length>1){for(t=0,i=0;i<e.length;i++)t=Math.max(t,e[i].width);for(i=0;i<e.length;i++)"start"==e[i].anchor?e[i].x+=(e[i].width-t)/2:"end"==e[i].anchor&&(e[i].x+=(t-e[i].width)/2)}},_applyFarAnchor:function(e){var t,i;if(e.length>1){for(t=0,i=0;i<e.length;i++)t=Math.max(t,e[i].width);for(i=0;i<e.length;i++)"start"==e[i].anchor?e[i].x+="horizontal"==this._orientation?e[i].width-t:(e[i].width-t)/2:"middle"==e[i].anchor?e[i].x+="horizontal"==this._orientation&&(e[i].width-t)/2:"end"==e[i].anchor&&(e[i].x+="vertical"==this._orientation&&(t-e[i].width)/2)}},_isOverlapping:function(e,t){return!(e.x+e.width<t.x||e.x>t.x+t.width||e.y-e.height>t.y||e.y<t.y-t.height)},_initializeValues:function(){this._scale=this.model.quantitativeScaleSettings,this._labelPosition=this._scale.labelSettings.position.toLowerCase(),this._tickPosition=this._scale.tickPosition.toLowerCase(),this._flowDirection=this.model.flowDirection.toLowerCase(),this._orientation=this.model.orientation.toLowerCase(),this._tickPlacement=this._scale.tickPlacement.toLowerCase(),this._labelPlacement=this._scale.labelSettings.labelPlacement.toLowerCase()},_changeOrientation:function(e){this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&e.setAttribute("transform","translate(0,"+this.svgHeight+")rotate(-90)")},_setModel:function(i){var s,a,o=!0;for(s in i)switch(this.model.enableAnimation=!1,s){case"height":this.model.height=i[s];break;case"width":this.model.width=i[s];break;case"theme":this.model.theme=i[s],this._setTheme(t.datavisualization.BulletGraph.Themes,this.model.theme);break;case"orientation":this.model.orientation=i[s];break;case"flowDirection":this.model.flowDirection=i[s];break;case"qualitativeRangeSize":this.model.qualitativeRangeSize=i[s];break;case"quantitativeScaleLength":this.model.quantitativeScaleLength=i[s];break;case"quantitativeScaleSettings":e.extend(!0,this.model.quantitativeScaleSettings,{},i[s]);break;case"applyRangeStrokeToTicks":this.model.applyRangeStrokeToTicks=i[s];break;case"applyRangeStrokeToLabels":this.model.applyRangeStrokeToLabels=i[s];break;case"qualitativeRanges":e.extend(!0,this.model.qualitativeRanges,{},i[s]);break;case"captionSettings":e.extend(!0,this.model.captionSettings,{},i[s]);break;case"dataSource":e.extend(!0,this.model.fields,{},i[s]);break;case"value":for(a=0;null!=this.model.quantitativeScaleSettings.featureMeasures[a];a++)this.model.quantitativeScaleSettings.featureMeasures[a].value=parseFloat(this.value());break;case"comparativeMeasureValue":for(a=0;null!=this.model.quantitativeScaleSettings.featureMeasures[a];a++)this.model.quantitativeScaleSettings.featureMeasures[a].comparativeMeasureValue=parseFloat(this.comparativeMeasureValue());break;case"enableAnimation":this.model.enableAnimation=i[s],this.model.enableAnimation&&(e(this.svgObject).empty(),this._renderBulletElements(),this._animateMeasures()),o=!1}o&&(e(this.svgObject).empty(),this._renderBulletElements())},_bindData:function(){t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?(this._dataCount=this._scale.featureMeasures.length,this._drawMeasures()):this.model.fields.dataSource instanceof t.DataManager?this._initDataSource():(this._dataCount=this.model.fields.dataSource.length,this._drawMeasures())},_drawMeasures:function(){this._drawFeatureMeasureBar(),this._drawComparativeMeasureSymbol()},_initDataSource:function(){var e=this._columnToSelect(this.model.fields),t=this;this.model.fields.dataSource.executeQuery(e).done((function(e){t.model.fields.dataSource=e.result,t._dataCount=e.result.length,t._drawFeatureMeasureBar(),t._drawComparativeMeasureSymbol(),t._bindHighlightRemoving()}))},_columnToSelect:function(e){var i,s=[],a=t.Query();if(t.isNullOrUndefined(e.query)){for(i in e)"tableName"!==i&&"query"!==i&&"dataSource"!==i&&s.push(e[i]);s.length>0&&a.select(s),this.model.fields.dataSource.dataSource.url.match(e.tableName+"$")||t.isNullOrUndefined(e.tableName)||a.from(e.tableName)}else a=e.query;return a},_drawCaption:function(){if(this.model.drawCaption){var t={font:this.model.captionSettings.font,location:this.model.captionSettings.location,subTitle:this.model.captionSettings.subTitle,text:this.model.captionSettings.text,textAngle:this.model.captionSettings.textAngle};this._trigger("drawCaption",t),this.model.captionSettings=e.extend(this.model.captionSettings,t)}},_drawBulletSymbol:function(e,i,s,a){var o,r="M "+(i.x-i.width/2+i.width)+" "+(i.y+i.height/4)+" L "+(i.x-i.width/2+i.width)+" "+(i.y+-i.height/4)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+-i.height/4)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x-i.width/2)+" "+i.y+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+i.height/4)+" L "+(i.x-i.width/2+i.width)+" "+(i.y+i.height/4);switch(e.toLowerCase()){case"circle":n=Math.min(i.height,i.width)/2,s.cx=i.x,s.cy=i.y,s.r=n,this.svgRenderer.drawCircle(s,a);break;case"leftarrow":s.d=r,this.svgRenderer.drawPath(s,a);break;case"rightarrow":s.d=r,s.transform="rotate(180,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"uparrow":s.d=r,s.transform="rotate(90,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"downarrow":s.d=r,s.transform="rotate(-90,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"cross":s.d="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+i.y+" M "+i.x+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2),s.stroke=s.stroke?s.stroke:s.fill,this.svgRenderer.drawPath(s,a);break;case"horizontalline":s.d="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+i.y,s.stroke=s.stroke?s.stroke:s.fill,this.svgRenderer.drawPath(s,a);break;case"verticalline":s.d="M "+i.x+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2),s.stroke=s.stroke?s.stroke:s.fill,this.svgRenderer.drawPath(s,a);break;case"triangle":s.d="M "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" Z",this.svgRenderer.drawPath(s,a);break;case"invertedtriangle":s.d="M "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" Z",s.transform="rotate(180,"+i.x+","+i.y+")",this.svgRenderer.drawPath(s,a);break;case"hexagon":s.d="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+-i.width/4)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/4)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+i.y+" L "+(i.x+i.width/4)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/4)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y,this.svgRenderer.drawPath(s,a);break;case"wedge":s.d="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/4)+" "+i.y+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y,this.svgRenderer.drawPath(s,a);break;case"pentagon":var n=Math.sqrt(i.height*i.height+i.width*i.width)/2,l=t.EjSvgRender.utils._getStringBuilder();for(o=0;o<=5;o++){var d=Math.PI/180*(72*o),h=n*Math.cos(d),c=n*Math.sin(d);l.append(0==o?"M "+(i.x+h)+" "+(i.y+c)+" ":"L "+(i.x+h)+" "+(i.y+c)+" ")}s.d=l.toString(),this.svgRenderer.drawPath(s,a);break;case"star":s.d="M "+(i.x+i.width/3)+" "+(i.y+-i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/6)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/6)+" L "+(i.x+-i.width/3)+" "+(i.y+-i.height/2)+" L "+i.x+" "+(i.y+i.height/2)+" L "+(i.x+i.width/3)+" "+(i.y+-i.height/2),this.svgRenderer.drawPath(s,a);break;case"rectangle":s.d="M "+(i.x+-i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+-i.height/2),this.svgRenderer.drawPath(s,a);break;case"trapezoid":s.d="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+-i.width/2)+" "+(i.y+-i.height/4)+" L "+(i.x+-i.width/2+i.width)+" "+(i.y+-i.height/2)+" L "+(i.x+-i.width/2+i.width)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/4)+" L "+(i.x+-i.width/2)+" "+i.y,this.svgRenderer.drawPath(s,a);break;case"diamond":s.d="M "+(i.x+-i.width/2)+" "+i.y+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+i.y+" L "+i.x+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y,this.svgRenderer.drawPath(s,a);break;case"ellipse":s.cx=i.x,s.cy=i.y,s.rx=i.width/2,s.ry=i.height/2,this.svgRenderer.drawEllipse(s,a);break;case"image":s.x=i.x-i.width/2,s.y=i.y-i.height/2,s.width=i.width,s.height=i.height,s.href=this.model.captionSettings.indicator.symbol.imageURL,s.visibility="visible",this.svgRenderer.drawImage(s,a)}},_drawIndicator:function(){var i,s,a;this.model.captionSettings.indicator.visible&&(i=this.model.captionSettings.indicator,s=e.extend({},{indicatorSettings:this.model.captionSettings.indicator}),this.model.drawIndicator&&(this._trigger("drawIndicator",s),0==s.cancel&&(this.model.captionSettings.indicator=i=s.indicatorSettings)),a=t.EjSvgRender.utils._measureText(i.text,null,i.font),this._indicator={bounds:a,settings:i})},_indicatorTextOptions:function(e,t,i,s){var a=e._location?e._location:e.location;return{class:s,x:a.x+t.width+e.textSpacing,y:a.y-t.height/2+parseFloat(e.font.size)/3,fill:e.font.color,"font-size":e.font.size,"font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,"text-anchor":"start",opacity:e.font.opacity,transform:"rotate("+e.textAngle+","+t.x+","+t.y+")"}},_indicatorSymbolOptions:function(e,t){return{id:e.id+"_indicatorSymbol",stroke:t.symbol.border.color,fill:t.symbol.color,"stroke-width":t.symbol.border.width,opacity:t.symbol.opacity}},_textOptions:function(e,t){var i=e._location?e._location:e.location;return{class:t,x:i.x,y:i.y,fill:e.font.color,"font-size":e.font.size,"font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,"text-anchor":"start",opacity:e.font.opacity,cursor:"default",transform:"rotate("+e.textAngle+","+i.x+","+i.y+")"}},_drawScale:function(e,i){var s=this._scale._location?this._scale._location:this._scale.location;this.svgRenderer.drawRect({id:this.svgObject.id+"_SvgScale",x:this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?s.x:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?s.x-this._scale.labelSettings.offset:s.x,y:this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Far||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Center?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?s.y:s.y+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?s.y+this._scale.majorTickSettings.size:s.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.majorTickSettings.size,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize,fill:"transparent","stroke-width":0},i)},_drawMajorTicks:function(e,i){var s,a,o,r,n,l,d,h=this._scale.location,c="inside"==this._tickPlacement,u=this._scale.location.x,p=this.model.quantitativeScaleLength,m=this.model.qualitativeRangeSize,g=this._scale.majorTickSettings.width,_=this._scale.majorTickSettings.size,f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,b=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward;s=b?f?u+g/2:u+p+g/2:f?u+p-g/2:u+g/2,a="far"==this._tickPosition?h.y+m+(c?-_:0):"near"==this._tickPosition?h.y+(c?0:-_):h.y+m/2-_/2;var v=this._scale.minimum,x=this._scale.maximum,y=this._scale.interval;for(o=v;o<=x;o+=y)o>=x&&(f&&!b?s+=g:s-=g),!f&&b&&(s=o>=x?s+g:o==v?s-g:s),this.model.applyRangeStrokeToTicks&&(r=this._bindingRangeStrokes(s-g/2)),n=this._majorTickLines(this._scale,s,a,r),!f&&b&&o==v&&(s+=g),this.model.drawTicks&&(this._trigger("drawTicks",l={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:x,minimum:v,interval:y}),n=this._majorTickLines(l,s,a,r)),d=this.svgRenderer.createLine(n),s=!b&&f||b&&!f?s-e:s+e,i.appendChild(d)},_majorTickLines:function(e,t,i,s){return{x1:t,y1:i,x2:t,y2:i+e.majorTickSettings.size,"stroke-width":e.majorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&s?s:e.majorTickSettings.stroke}},_forwardStrokeBinding:function(e){if(e>=this._scale.location.x&&e<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke;for(var t=0;t<=this._rangeCollection.length-1;t++)if(e>=this._rangeCollection[t]+this._scale.location.x&&e<=this._rangeCollection[t+1]+this._scale.location.x)return this.model.qualitativeRanges[t+1].rangeStroke},_backwardStrokeBinding:function(t){var i,s;if(t>=this._rangeCollection[this._rangeCollection.length-1])return this.model.qualitativeRanges[0].rangeStroke;for(i=0;i<=this._rangeCollection.length-1;i++)if(t>=this._rangeCollection[i]&&t<this._rangeCollection[i+1])return s=e.inArray(this._rangeCollection[i],this._rangeCollection),this.model.qualitativeRanges[this._rangeCollection.length-1-s].rangeStroke},_bindingRangeStrokes:function(e){return 1!=this._rangeCollection.length?this.model.orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward||this.model.orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward?this._forwardStrokeBinding(e):this._backwardStrokeBinding(e):e>=this._scale.location.x&&e<=this._rangeCollection[0]+this._scale.location.x?this.model.qualitativeRanges[0].rangeStroke:void 0},_drawMinorTicks:function(i,s){var a,o,r,n,l,d,h,c,u,p,m,g=0,_=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,b="inside"==this._tickPlacement,v=this._scale.location.x,x=this.model.qualitativeRangeSize,y=this._scale.minorTickSettings.size,w=this._scale.minorTickSettings.width,S=this.model.quantitativeScaleLength;switch(a=_?f?v:v+S:f?v+S-w/2:v,this._tickPosition){case"far":n=(r=this._scale.location.y+x)+(b?-y:y);break;case"near":r=this._scale.location.y+(b?y:-y),n=this._scale.location.y;break;default:n=(r=this._scale.location.y+x/2-y/2)+y}var C=this._scale.maximum,T=this._scale.minimum,L=this._scale.interval,k=this._scale.minorTicksPerInterval;for(d=T;d<=C;d+=L){for(o=i/k,h=1;h<=k;h++)g++,l=!f&&_||f&&!_?a-o+o/(k+1):a+o-o/(k+1),!_&&f&&g>=(C-T)*k&&(l+=w/2),this.model.applyRangeStrokeToTicks&&(c=this._bindingRangeStrokes(l)),u=this._minorTickLines(this._scale,l,r,n,c),this.model.drawTicks&&(this._trigger("drawTicks",p={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:this._scale.maximum,minimum:this._scale.minimum,interval:this._scale.interval}),this._scale=e.extend(this._scale,p),u=this._minorTickLines(p,l,r,n,c)),!_&&f?l<=S+v+1&&l>=v+1&&(m=this.svgRenderer.createLine(u),s.appendChild(m)):_&&!f?l>=v+1&&(m=this.svgRenderer.createLine(u),s.appendChild(m)):l<=S+v+1&&(m=this.svgRenderer.createLine(u),s.appendChild(m)),o=i/k*(h+1);a=!_&&f||_&&!f?a-i:a+i}},_minorTickLines:function(e,t,i,s,a){return{x1:t,y1:i,x2:t,y2:s,"stroke-width":e.minorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&a?a:e.minorTickSettings.stroke}},_drawLabels:function(e,i){var s,a,o,r,n,l,d,h,c,u,p=this.model.locale,m=p&&this.model.enableGroupSeparator,g=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,_=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,f=this._scale.location.x,b=this._scale.labelSettings.offset,v=this.model.quantitativeScaleLength;s=g?_?f:f+v:_?f+v:f;var x=this._tickPosition+this._labelPlacement,y=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below,w=this.model.qualitativeRangeSize,S=this._scale.labelSettings.size;switch(x){case"faroutside":case"centeroutside":a=y?this._scale.location.y+w+b+S:this._scale.location.y-b;break;case"farinside":case"centerinside":a=y?this._scale.location.y+w-b:this._scale.location.y+b+(_?S:0);break;case"nearoutside":a=y?this._scale.location.y+w+b+S:this._scale.location.y-b;break;case"nearinside":a=y?this._scale.location.y+w-b:this._scale.location.y+b+S}var C=this._scale.maximum,T=this._scale.interval;for(l=this._scale.minimum;l<=C;l+=T){var L=a,k=s,P=this._scale.labelSettings.font;if(P.size=S,_)r="rotate(0,"+k+","+L+")";else{switch(d=this._scale.labelSettings.labelPrefix+l+this._scale.labelSettings.labelSuffix,x){case"faroutside":case"centeroutside":L-=y?S:t.EjSvgRender.utils._measureText(d,null,P).width;break;case"farinside":case"centerinside":y&&(L-=t.EjSvgRender.utils._measureText(d,null,P).width);break;case"nearoutside":L-=y?S:t.EjSvgRender.utils._measureText(d,null,P).width;break;case"nearinside":L-=y?t.EjSvgRender.utils._measureText(d,null,P).width:S}r="rotate(90,"+(k-=S/3)+","+L+")"}this.model.applyRangeStrokeToLabels&&(h=this._bindingRangeStrokes(s)),c=this._labelOptions(this.model.quantitativeScaleSettings.labelSettings,k,L,r,h),this.model.drawLabels&&(this._trigger("drawLabels",u={font:this._scale.labelSettings.font,labelPrefix:this._scale.labelSettings.labelPrefix,labelSuffix:this._scale.labelSettings.labelSuffix,offset:b,size:S,stroke:this._scale.labelSettings.stroke}),c=this._labelOptions(u,k,L,r,h)),s=g?_?s+e:s-e:_?s-e:s+e,n=o=m?l.toLocaleString(p):l,t.util.isNullOrUndefined(c.labelPrefix)||(n=c.labelPrefix+o),t.util.isNullOrUndefined(c.labelSuffix)||(n+=c.labelSuffix),this.svgRenderer.drawText(c,n,i)}},_labelOptions:function(e,i,s,a,o){var r={x:i,y:s,"text-anchor":this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?"middle":"start",fill:this.model.applyRangeStrokeToLabels&&o?o:e.stroke,"font-size":e.size+"px","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,opacity:e.font.opacity,transform:a};return""!=e.labelPrefix&&(r.labelPrefix=e.labelPrefix),""!=e.labelSuffix&&(r.labelSuffix=e.labelSuffix),r},_drawQualitativeRanges:function(e){var i,s,a,o,r,n=this._scale.location.x,l=this._scale.location.y,d=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,h=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal;this._rangeCollection=[];var c=this._scale.location.x,u=this._scale.minimum,p=this._scale.maximum,m=this.model.quantitativeScaleLength;for(s=this.model.qualitativeRanges.length-1;s>=0;s--)a={object:this,rangeIndex:s,rangeOptions:this.model.qualitativeRanges[s],rangeEndValue:this.model.qualitativeRanges[s].rangeEnd},this.model.drawQualitativeRanges&&this._trigger("drawQualitativeRanges",a),o=(o=a.rangeEndValue)>p?p:o,d?(n=h?c:c+(m-m/((p-u)/(p-u-(p-o)))),i=m/((p-u)/(p-u-(p-o)))):(n=h?c+(m-m/((p-u)/(p-u-(p-o)))):c,i=m/((p-u)/(p-u-(p-o)))),r={x:n,y:l,height:this.model.qualitativeRangeSize,width:i>0?i<m?i:m:0,fill:a.rangeOptions.rangeStroke,opacity:a.rangeOptions.rangeOpacity},this._rangeCollection.push(h&&d||!h&&!d?i:n),this.svgRenderer.drawRect(r,e);this._rangeCollection.sort(this._sortRangeCollection)},_sortRangeCollection:function(e,t){return e-t},_calculateFeatureMeasureBounds:function(e,i){var s,a,o=this._scale.minimum;if((e=e<o&&o<0?o:e)>=o){var r,n,l,d=this._scale.location.x,h=this.model.quantitativeScaleLength,c=this._scale.maximum-this._scale.minimum,u=this._scale.maximum-e,p=this._flowDirection.toLowerCase()+this._orientation.toLowerCase();switch(i=null==i?"":i,(s=this._scale.labelSettings.font).size=this._scale.labelSettings.size,a=t.EjSvgRender.utils._measureText(i.toString(),null,s).width,p){case"forwardhorizontal":case"backwardvertical":r=d+(o>0?0:h/c*Math.abs(o)),l=h/(c/(o>0?c-u:e)),e<0&&(r-=l=Math.abs(l)),l=r+l<d+h?l:d+h-r,n=d-("forwardhorizontal"==p?a/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset);break;default:r=d+(h-h/(c/(c-u))),l=o>0?h/(c/(c-u)):h/(c/e),e<0&&(r-=l=Math.abs(l)),r<d&&(l=r+l-d,r=d),n=d+h+("backwardhorizontal"==p?a/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset)}return{pointX:r,Width:l,lPointX:n}}return!1},_drawFeatureMeasureBar:function(){var e,i,s,a,o,r,n,l,d,h,c=1,u=this.model.locale,p=u&&this.model.enableGroupSeparator,m=!t.isNullOrUndefined(this.model.fields)&&null!=this.model.fields.dataSource,g=this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical,_="function"==typeof this.model.value?this._value():this.model.value;if(this._dataCount>0)for(r=this._dataCount-1;r>=0;r--)e=m?this.model.fields.dataSource[r][this.model.fields.featureMeasures]:t.isNullOrUndefined(this._scale.featureMeasures[r].value)?_:this._scale.featureMeasures[r].value,a=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*c/2-this._scale.featuredMeasureSettings.width/2,o=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*c/2+this._scale.featuredMeasureSettings.width/2-1,(n=this._calculateFeatureMeasureBounds(e,i=m?this.model.fields.dataSource[r][this.model.fields.category]:this._scale.featureMeasures[r].category))&&(l=this._featureBar(this._scale,n.pointX,a,n.Width,r),this.model.drawFeatureMeasureBar&&(this._trigger("drawFeatureMeasureBar",h={featuredMeasureSettings:this._scale.featuredMeasureSettings}),l=this._featureBar(h,n.pointX,a,n.Width,r)),this.svgRenderer.drawRect(l,this._scaleGroup),d=this._drawcategory(this.model.quantitativeScaleSettings.labelSettings,n.lPointX,o,s=g?"rotate(90,"+n.lPointX+","+(o-4)+")":"rotate(0,"+n.lPointX+","+o+")"),this.model.drawCategory&&(this._trigger("drawCategory",h={size:this.model.quantitativeScaleSettings.labelSettings.size,stroke:this.model.quantitativeScaleSettings.labelSettings.stroke,font:this.model.quantitativeScaleSettings.labelSettings.font,categoryValue:i}),d=this._drawcategory(h,n.lPointX,o,s),i=h.categoryValue),t.isNullOrUndefined(i)||this.svgRenderer.drawText(d,p?i.toLocaleString(u):i,this._scaleGroup),c+=2,this.value(e))},_drawcategory:function(e,t,i,s){return{x:t,y:i+this._scale.featuredMeasureSettings.width/2,"text-anchor":"middle",fill:e.stroke,"font-size":e.size+"px","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,"font-weight":e.font.fontWeight,opacity:e.font.opacity,transform:s}},_featureBar:function(e,t,i,s,a){return{class:this.svgObject.id+"_FeatureMeasure",id:this.svgObject.id+"_FeatureMeasure_"+a,x:t,y:i,height:e.featuredMeasureSettings.width,width:s,fill:e.featuredMeasureSettings.stroke}},_drawComparativeMeasureSymbol:function(){var e,i,s,a,o,r,n,l=1,d=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,h=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,c="function"==typeof this.model.comparativeMeasureValue?this._comparativeMeasureValue():this.model.comparativeMeasureValue;if(this._dataCount>0)for(o=this._dataCount-1;o>=0;o--)(e=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[o].comparativeMeasureValue)?c:this._scale.featureMeasures[o].comparativeMeasureValue:this.model.fields.dataSource[o][this.model.fields.comparativeMeasure])>=this._scale.minimum&&e<=this._scale.maximum&&(r=this._compareMeasure(this._scale,a=d?h?this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e))):this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e)))):h?this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e)))):this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-e))),i=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*l/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width,s=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*l/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width,o,e),this.model.drawComparativeMeasureSymbol&&(this._trigger("drawComparativeMeasureSymbol",n={comparativeMeasureSettings:this._scale.comparativeMeasureSettings}),r=this._compareMeasure(n,a,i,s,o,e)),this.svgRenderer.drawLine(r,this._scaleGroup),l+=2,this.comparativeMeasureValue(e))},_compareMeasure:function(e,t,i,s,a,o){return{class:this.svgObject.id+"_ComparativeMeasure",id:this.svgObject.id+"_ComparativeMeasure_"+a,x1:o==this._scale.maximum?t-e.comparativeMeasureSettings.width/2:o==this._scale.minimum?t+e.comparativeMeasureSettings.width/2:t,y1:i,x2:o==this._scale.maximum?t-e.comparativeMeasureSettings.width/2:o==this._scale.minimum?t+e.comparativeMeasureSettings.width/2:t,y2:s,"stroke-width":e.comparativeMeasureSettings.width,stroke:e.comparativeMeasureSettings.stroke}},_setTheme:function(e,i){var s,a,o,r=[];for(s in this._scale=this.model.quantitativeScaleSettings,e)r.push(s);for(a=0;a<r.length;a++)for(this._scale.majorTickSettings.stroke=this._scale.majorTickSettings.stroke&&this._scale.majorTickSettings.stroke!=e[r[a]].quantitativeScaleSettings.majorTickSettings.stroke?this._scale.majorTickSettings.stroke:e[i].quantitativeScaleSettings.majorTickSettings.stroke,this._scale.minorTickSettings.stroke=this._scale.minorTickSettings.stroke&&this._scale.minorTickSettings.stroke!=e[r[a]].quantitativeScaleSettings.minorTickSettings.stroke?this._scale.minorTickSettings.stroke:e[i].quantitativeScaleSettings.minorTickSettings.stroke,this._scale.labelSettings.stroke=this._scale.labelSettings.stroke&&this._scale.labelSettings.stroke!=e[r[a]].quantitativeScaleSettings.labelSettings.stroke?this._scale.labelSettings.stroke:e[i].quantitativeScaleSettings.labelSettings.stroke,this._scale.featuredMeasureSettings.stroke=this._scale.featuredMeasureSettings.stroke&&this._scale.featuredMeasureSettings.stroke!=e[r[a]].quantitativeScaleSettings.featuredMeasureSettings.stroke?this._scale.featuredMeasureSettings.stroke:e[i].quantitativeScaleSettings.featuredMeasureSettings.stroke,this._scale.comparativeMeasureSettings.stroke=this._scale.comparativeMeasureSettings.stroke&&this._scale.comparativeMeasureSettings.stroke!=e[r[a]].quantitativeScaleSettings.comparativeMeasureSettings.stroke?this._scale.comparativeMeasureSettings.stroke:e[i].quantitativeScaleSettings.comparativeMeasureSettings.stroke,this.model.captionSettings.font.color=this.model.captionSettings.font.color&&this.model.captionSettings.font.color!=e[r[a]].captionSettings.font.color?this.model.captionSettings.font.color:e[i].captionSettings.font.color,this.model.captionSettings.subTitle.font.color=this.model.captionSettings.subTitle.font.color&&this.model.captionSettings.subTitle.font.color!=e[r[a]].captionSettings.subTitle.font.color?this.model.captionSettings.subTitle.font.color:e[i].captionSettings.subTitle.font.color,this.model.captionSettings.indicator.font.color=this.model.captionSettings.indicator.font.color&&this.model.captionSettings.indicator.font.color!=e[r[a]].captionSettings.indicator.font.color?this.model.captionSettings.indicator.font.color:e[i].captionSettings.indicator.font.color,this.model.captionSettings.indicator.symbol.color=this.model.captionSettings.indicator.symbol.color&&this.model.captionSettings.indicator.symbol.color!=e[r[a]].captionSettings.indicator.symbol.color?this.model.captionSettings.indicator.symbol.color:e[i].captionSettings.indicator.symbol.color,o=0;o<this.model.qualitativeRanges.length;o++)this.model.qualitativeRanges[o].rangeStroke=this.model.qualitativeRanges[o].rangeStroke?this.model.qualitativeRanges[o].rangeStroke:t.isNullOrUndefined(e[i].qualitativeRanges[o])?e[i].qualitativeRanges[0].rangeStroke:e[i].qualitativeRanges[o].rangeStroke},_onDrawQualitativeRanges:function(e,t,i){this._trigger("drawQualitativeRanges",{object:this,scaleElement:this.model.quantitativeScaleSettings,rangeIndex:i,rangeElement:e,rangeEndValue:t})},_doAnimation:function(){for(var t=e("."+this.svgObject.id+"_FeatureMeasure"),i=t.length-1;i>=0;i--)this._animateFeatureBar(t[i])},_doLineAnimation:function(){for(var t,i=e("."+this.svgObject.id+"_ComparativeMeasure"),s=2e3/i.length,a=i.length-1;a>=0;a--)e(t=i[a]).attr("transform","scale(0)"),this._doLineSymbol(t,s,a)},_animateFeatureBar:function(i){var s,a,o=i.getBBox();this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward||this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?(s=o.x+o.width,a=o.y+o.height):(s=o.x,a=o.y),e(i).animate({scale:1},{duration:1e3,step:function(t){e(i).attr("transform","translate("+s+" "+a+") scale("+t+",1) translate("+-s+" "+-a+")")}})},_doLineSymbol:function(t,i,s){var a=parseInt(s*i),o=t.getBBox(),r=o.x+o.width/2,n=o.y+o.height/2;e(t).delay(a).animate({scale:1},{duration:200,step:function(i){e(t).attr("transform","translate("+r+" "+n+") scale("+i+") translate("+-r+" "+-n+")")}})},bindEvents:function(){var i=t.EjSvgRender.utils.browserInfo(),s=i.isMSPointerEnabled,a=i.pointerEnabled,o=s?a?"pointerdown":"MSPointerDown":"touchstart mousedown",r=s?a?"pointerup":"MSPointerUp":"touchend mouseup",n=s?a?"pointermove":"MSPointerMove":"touchmove mousemove",l=s?a?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=i,this._on(e(this.svgObject),n,this._bulletMouseMove),this._on(e(this.svgObject),l,this._bulletMouseLeave),this._on(e(this.svgObject),o,this._bulletMouseDown),this._on(e(this.svgObject),r,this._bulletMouseUp),this._on(e(this.svgObject),"contextmenu",this._bulletRightClick),this._on(e(this.svgObject),"click",this._bulletClick),(this.model.enableResizing||this.model.isResponsive)&&(t.isTouchDevice()?this._on(e(window),"orientationchange",this._bulletResize):this._on(e(window),"resize",this._bulletResize))},_unwireEvents:function(){this._off(e(this.svgObject),"contextmenu",this._bulletRightClick),this._off(e(this.svgObject),"click",this._bulletClick)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bulletResize:function(){var i,s=this,a=this.model.height,o=this.model.width,r=e(s.svgObject),n=(a=90,o=t.isTouchDevice()?250:595,e(s.element).width());s.model.width?o=parseInt(s.model.width):n>0&&n<595?o=n:n>595&&(o=595),s.model.height&&(a=parseInt(s.model.height)),i=e(s.element).height()>a?a:e(s.element).height(),this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout((function(){o<e(s.element).width()?r.width(o):r.width(e(s.element).width()),r.height(i),s.redraw()}),500)},_bulletMouseLeave:function(t){this.isTouch(t)||(e("#tooltip").remove(),e(".tooltipDiv"+this._id).remove())},isTouch:function(e){var t=e.originalEvent?e.originalEvent:e;return"touch"==t.pointerType||2==t.pointerType||t.type.indexOf("touch")>-1},_bulletMouseMove:function(t){var i,s;i=e(t.target).attr("id"),s=e(t.target).attr("class"),this.isTouch(t)||(e("#tooltip").remove(),e(".tooltipDiv"+this._id).remove(),this._elementTooltip(t,s,i),this._displayTooltip(t,s,i))},_bulletMouseDown:function(i){if(this.isTouch(i)){e("#tooltip").remove(),e(".tooltipDiv"+this._id).remove();var s=e(i.target).attr("id"),a=e(i.target).attr("class");this._elementTooltip(i,a,s),this._displayTooltip(i,a,s)}t.isTouchDevice()&&""!=this.model.rightClick&&(this._longPressTimer=new Date)},_bulletMouseUp:function(i){if(this.isTouch(i)){var s,a=this;window.clearTimeout(a.model.timer),1==e(".tooltipDiv"+this._id).length&&(s=e(".tooltipDiv"+this._id)),s&&(a.model.trackerElement=s,a.model.timer=setTimeout((function(){a.model.trackerElement&&e(".tooltipDiv"+a._id).fadeOut(500,(function(){e(".tooltipDiv"+a._id).remove(),e("[id*="+a.svgObject.id+"_FeatureMeasure_]").attr("opacity","1")}))}),1200))}t.isTouchDevice()&&""!=this.model.rightClick&&new Date-this.model._longPressTimer>1500&&this._bulletRightClick(i)},_bulletClick:function(e){var t=new Date;""!=this.model.click&&this._trigger("click",{data:{event:e}}),null!=this._doubleTapTimer&&t-this._doubleTapTimer<300&&this._bulletDoubleClick(e),this._doubleTapTimer=t},_bulletDoubleClick:function(e){""!=this.model.doubleClick&&this._trigger("doubleClick",{data:{event:e}})},_bulletRightClick:function(e){""!=this.model.rightClick&&this._trigger("rightClick",{data:{event:e}})},_elementTooltip:function(t,s){var a,o,r,n=this.model.captionSettings,l=e("<div></div>").attr({id:"tooltip",class:"tooltipDiv"+this._id}),d=this.mousePosition(t),h="";if(e(l).css({left:d.pageX+10,top:d.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"}),s==this.svgObject.id+"_Caption"?h=t.target.textContent==n.text?"":n.text:s==this.svgObject.id+"_SubTitle"?h=t.target.textContent==n.subTitle.text?"":n.subTitle.text:s==this.svgObject.id+"_Indicator"&&(h=t.target.textContent==n.indicator.text?"":n.indicator.text),""!=h)e(l).html("&nbsp"+h+"&nbsp"),e(document.body).append(l);else if(this.model.tooltipSettings.enableCaptionTooltip&&(s==this.svgObject.id+"_Caption"||s==this.svgObject.id+"_SubTitle"||s==this.svgObject.id+"_Indicator")){var c=e("."+s).text(),u={Text:c},p=this.model.tooltipSettings.captionTemplate;0==e(".tooltipDiv"+this._id).length&&(l=e("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),e(document.body).append(l)),""!=p&&null!=p?(a=(a=document.getElementById(p))?e(a).clone():e(p),e(a).css("display","block").appendTo(l),e(l).html(e(a).render(u))):e(l).html(c),e(l).css("font-size","12px"),o=d.clientX+e(document).scrollLeft()+10,r=d.clientY+e(document).scrollTop()+10,o=o+e(l).width()<e(window).width()?o:o-e(l).width(),r=r+e(l).height()<e(window).height()?r:r-e(l).height(),(o===i||null===o)&&(o=d.clientX+e(document).scrollLeft()+10),(r===i||null===r)&&(r=d.clientY+e(document).scrollTop()+10),e(l).css({left:o,top:r,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"})}},mousePosition:function(e){return!t.util.isNullOrUndefined(e.pageX)&&e.pageX>0?e:e.originalEvent&&!t.util.isNullOrUndefined(e.originalEvent.pageX)&&e.originalEvent.pageX>0?e.originalEvent:e.originalEvent&&e.originalEvent.changedTouches!=i&&!t.util.isNullOrUndefined(e.originalEvent.changedTouches[0].pageX)&&e.originalEvent.changedTouches[0].pageX>0?e.originalEvent.changedTouches[0]:e},_displayTooltip:function(s,a,o){var r,n,l,d;if("undefined"!=a&&(a==this.svgObject.id+"_FeatureMeasure"||a==this.svgObject.id+"_ComparativeMeasure")){var h,c,u,p,m,g,_=this.model.locale,f=_&&this.model.enableGroupSeparator,b="function"==typeof this.model.value?this._value():this.model.value,v="function"==typeof this.model.comparativeMeasureValue?this._comparativeMeasureValue():this.model.comparativeMeasureValue,x=this.mousePosition(s);c=o.substring(o.lastIndexOf("_")+1),u=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[c].value)?b:this._scale.featureMeasures[c].value:this.model.fields.dataSource[c][this.model.fields.featureMeasures],p=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[c].comparativeMeasureValue)?v:this._scale.featureMeasures[c].comparativeMeasureValue:this.model.fields.dataSource[c][this.model.fields.comparativeMeasure],m=t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?t.isNullOrUndefined(this._scale.featureMeasures[c].category)?null:this._scale.featureMeasures[c].category:t.isNullOrUndefined(this.model.fields.dataSource[c][this.model.fields.category])?null:this.model.fields.dataSource[c][this.model.fields.category],h=f?{currentValue:u.toLocaleString(_),targetValue:p.toLocaleString(_),category:t.util.isNullOrUndefined(m)?m:m.toLocaleString(_)}:{currentValue:u,targetValue:p,category:m},0==e(".tooltipDiv"+this._id).length&&(g=e("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),e(document.body).append(g)),""!=this.model.tooltipSettings.template&&null!=this.model.tooltipSettings.template?(r=e("#"+this.model.tooltipSettings.template).clone(),e(r).css("display","block").appendTo(g),e(g).html(e(r).render(h))):(n=t.isNullOrUndefined(h.category)?"":"<br/> Category : "+h.category,e(g).html("Current : "+h.currentValue+"<br/> Target : "+h.targetValue+n)),e(g).css("font-size","12px"),l=x.clientX+e(document).scrollLeft()+10,d=x.clientY+e(document).scrollTop()+10,l=l+e(g).width()<e(window).width()?l:l-e(g).width(),d=d+e(g).height()<e(window).height()?d:d-e(g).height(),(l===i||null===l)&&(l=x.clientX+e(document).scrollLeft()+10),(d===i||null===d)&&(d=x.clientY+e(document).scrollTop()+10),e(g).css({left:l,top:d,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",color:"black",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"}),a==this.svgObject.id+"_FeatureMeasure"&&e("#"+o).attr("opacity","0.7")}},redraw:function(){e(this.svgObject).empty(),this._renderBulletElements()},destroy:function(){this._unwireEvents(),e(this.element).removeClass("e-bulletgraph e-js").find("#"+this.svgObject.id).remove()},setFeatureMeasureBarValue:function(e,i){this._scale=this.model.quantitativeScaleSettings,e<(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures.length:this.model.fields.dataSource.length)&&null!=i&&(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures[e].value=i:this.model.fields.dataSource[e][this.model.fields.featureMeasures]=i,this.redraw(),this.model.enableAnimation&&this._doAnimation())},setComparativeMeasureSymbol:function(e,i){this._scale=this.model.quantitativeScaleSettings,e<(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures.length:this.model.fields.dataSource.length)&&null!=i&&(t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures[e].comparativeMeasureValue=i:this.model.fields.dataSource[e][this.model.fields.comparativeMeasure]=i,this.redraw(),this.model.enableAnimation&&this._doLineAnimation())}}),t.datavisualization.BulletGraph.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.datavisualization.BulletGraph.TickPlacement={Inside:"inside",Outside:"outside"},t.datavisualization.BulletGraph.LabelPlacement={Inside:"inside",Outside:"outside"},t.datavisualization.BulletGraph.Shape={Circle:"circle",Cross:"cross",Diamond:"diamond",DownArrow:"downarrow",Ellipse:"ellipse",HorizontalLine:"horizontalLine",Image:"image",InvertedTriangle:"invertedtriangle",LeftArrow:"leftarrow",Pentagon:"pentagon",Rectangle:"Rectangle",RightArrow:"rightarrow",Star:"star",Trapezoid:"trapezoid",Triangle:"triangle",UpArrow:"uparrow",VerticalLine:"verticalline",Wedge:"wedge"},t.datavisualization.BulletGraph.TickPosition={Far:"far",Near:"near",Center:"center"},t.datavisualization.BulletGraph.LabelPosition={Below:"below",Above:"above"},t.datavisualization.BulletGraph.FlowDirection={Forward:"forward",Backward:"backward"},t.datavisualization.BulletGraph.FontStyle={Normal:"Normal",Italic:"Italic",Oblique:"Oblique"},t.datavisualization.BulletGraph.FontWeight={Normal:"Normal",Bold:"Bold",Bolder:"Bolder",Lighter:"Lighter"},t.datavisualization.BulletGraph.Themes={flatlight:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#191919"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#191919"},featuredMeasureSettings:{stroke:"#191919"},comparativeMeasureSettings:{stroke:"#191919"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#191919"},subTitle:{font:{color:"#191919"}},indicator:{font:{color:"#191919"},symbol:{color:"#191919"}}}},material:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#333333"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#333333"},featuredMeasureSettings:{stroke:"#333333"},comparativeMeasureSettings:{stroke:"#333333"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}},indicator:{font:{color:"#333333"},symbol:{color:"#333333"}}}},flatdark:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#ffffff"},minorTickSettings:{stroke:"#ffffff"},labelSettings:{stroke:"#ffffff"},featuredMeasureSettings:{stroke:"#ffffff"},comparativeMeasureSettings:{stroke:"#ffffff"}},qualitativeRanges:[{rangeStroke:"#b3b3b3"},{rangeStroke:"#999999"},{rangeStroke:"#4d4d4d"}],captionSettings:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}},indicator:{font:{color:"#ffffff"},symbol:{color:"#ffffff"}}}}},ej.EjSvgRender=function(e){var t,i;if(this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),t=this._rootId+"_svg",$(document).find("#"+t).length>0){i=0;do{i++}while($(document).find("#"+this._rootId+"_svg"+i).length>0);t=this._rootId+"_svg"+i}this.svgObj.setAttribute("id",t)},function(e){function t(e,t,i,s){var a=s*Math.PI/180;return[e+i*Math.cos(a),t+i*Math.sin(a)]}ej.EjSvgRender.prototype={drawPath:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"path");e(s).attr(t).appendTo(i)}},createLegendSvg:function(e){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polyline");e(s).attr(t).appendTo(i)}},drawLine:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"line");e(s).attr(t),e(s).appendTo(i)}},drawPolygon:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polygon");e(s).attr(t),e(s).appendTo(i)}},drawCircle:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"circle");e(s).attr(t).appendTo(i)}},drawEllipse:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"ellipse");e(s).attr(t).appendTo(i)}},drawRect:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"rect");e(s).attr(t).appendTo(i)}},drawCylinder:function(t,i,s){var a,o,r;if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var n=t.x,l=t.y,d=t.id,h=t.fill,c=h;this.checkColorFormat(h)||(h=ej.datavisualization.Chart.prototype.colorNameToHex(h));var u,p,m,g,_,f,b,v,x,y,w,S=2,C=0,T=0,L={svgRenderer:this};if(1==s.isColumn){var k=t.height;_=x=n,y=f=(P=(j=t.width/2)/4)<l?l-P:s.stacking?l+P:l-P,u=2*j,p=0,m=0,g=P<l||k<2*P?k:s.stacking?k-2*P:k,b=_,v=P<l?f+k:k<f?k+f:s.stacking?k+(l-P):k+f,C=100,(s.stacking=!0)&&(s.isLastSeries||(f=y=l+P,g=k<j/2?k:k-j/2))}else{var P,j;u=0,p=2*(P=t.height/2),m=k=t.width,g=0,b=(_=x=n+(j=P/4))+k,v=f=y=l,T=100,(s.stacking=!0)&&(s.isLastSeries||(b=_+k-2*j,m=k-2*j))}for(delete t.x,delete t.y,delete t.width,delete t.height,delete t.isColumn;S--;)w="M"+_.toString()+","+f.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,0 "+(-1*u).toString()+","+(-1*p).toString(),t.d=w,t.id=d+"_Region_"+S,t.fill=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(h,L),this.drawPath(t,i),_=b,f=v;w="M"+x.toString()+","+y.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="l"+m.toString()+" "+g.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,1 "+(-1*u).toString()+","+(-1*p).toString()+" z",t.d=w,t.id=d+"_Region_2",-1==c.indexOf("url")&&(0==e("#"+(a=d)).length&&(o={id:a,x1:"0%",y1:"0%",x2:C.toString()+"%",y2:T.toString()+"%"},(r=[])[0]={colorStop:"0%",color:h},r[1]={colorStop:"30%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[2]={colorStop:"70%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[3]={colorStop:"100%",color:h},this.drawGradient(o,r,i)),t.fill="url(#"+a+")"),this.drawPath(t,i)}},createGradientElement:function(e,t,i,s,a,o,r){var n;return"[object Array]"==Object.prototype.toString.call(t)?(this.drawGradient({id:this.svgObj.id+"_"+e+"Gradient",x1:i+"%",y1:s+"%",x2:a+"%",y2:o+"%"},t,r),n="url(#"+this.svgObj.id+"_"+e+"Gradient)"):n=t,n},drawGradient:function(t,i,s){var a,o,r=this.createDefs(),n=document.createElementNS(this.svgLink,"linearGradient");for(e(n).attr(t),a=0;a<i.length;a++)o=document.createElementNS(this.svgLink,"stop"),e(o).attr({offset:i[a].colorStop,"stop-color":i[a].color,"stop-opacity":1}),e(o).appendTo(n);e(n).appendTo(r),e(r).appendTo(s)},drawText:function(t,i,s,a){var o,r,n,l,d,h;if(e("#"+t.id).length>0)this._textAttrReplace(t,i,a);else{if(o=document.createElementNS(this.svgLink,"text"),r=e(o),"array"==jQuery.type(i))for(n=0,r.attr(t),l=0;l<i.length;l++)(d=document.createElementNS(this.svgLink,"tspan")).textContent=i[l],e(d).attr({x:t.x,dy:n}),e(d).appendTo(o),a=this.enable3D?a.font:a,h=ej.EjSvgRender.utils._measureText(i[l],null,a),n=t.isTrackball?h.height+2:h.height;else o.textContent=i,r.attr(t);r.appendTo(s)}},_textAttrReplace:function(t,i,s){var a,o,r,n;if(e("#"+t.id).attr(t),"array"==jQuery.type(i))if(o=0,(a=e("#"+t.id).children("tspan")).length>0&&a.length==i.length)for(r=0;r<a.length;r++)e(n=a[r]).attr({x:t.x,dy:o}),n.textContent=i[r],o=ej.EjSvgRender.utils._measureText(i[r],null,s).height+2;else e("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,s);else e("#"+t.id).text(i)},drawImage:function(t,i){var s=document.createElementNS(this.svgLink,"image");s.setAttributeNS(null,"height",t.height),s.setAttributeNS(null,"width",t.width),s.setAttributeNS("http://www.w3.org/1999/xlink","href",t.href),s.setAttributeNS(null,"x",t.x),s.setAttributeNS(null,"y",t.y),s.setAttributeNS(null,"id",t.id),s.setAttributeNS(null,"visibility",t.visibility),ej.util.isNullOrUndefined(t.clippath)&&ej.util.isNullOrUndefined(t.preserveAspectRatio)||(s.setAttributeNS(null,"clip-path",t.clippath),s.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio)),e(s).appendTo(i)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(t){var i=document.createElementNS(this.svgLink,"clipPath");return e(i).attr(t),i},createForeignObject:function(t){var i=document.createElementNS(this.svgLink,"foreignObject");return e(i).attr(t),i},createGroup:function(t){var i=document.createElementNS(this.svgLink,"g");return e(i).attr(t),i},createPattern:function(e,t){var i=document.createElementNS(this.svgLink,t);for(var s in e)e.hasOwnProperty(s)&&i.setAttribute(s,e[s]);return i},createText:function(t,i){var s=document.createElementNS(this.svgLink,"text");return e(s).attr(t),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},createPath:function(t){var i=document.createElementNS(this.svgLink,"path");return e(i).attr(t),i},createCircle:function(t){var i=document.createElementNS(this.svgLink,"circle");return e(i).attr(t),i},createLine:function(t){var i=document.createElementNS(this.svgLink,"line");return e(i).attr(t),i},_getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},hexFromRGB:function(t){var i,s=t.R,a=t.G,o=t.B;return t.A?"rgba("+s.toString()+","+a.toString()+","+o.toString()+","+t.A+")":(i=[s.toString(16),a.toString(16),o.toString(16)],e.each(i,(function(e,t){1===t.length&&(i[e]="0"+t)})),"#"+i.join("").toUpperCase())},checkColorFormat:function(e){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(e)},hexToRGB:function(e){var t;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(e)?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(e))?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},createDelegate:function(e,t){return function(i){t.apply(e,[i,this])}},drawClipPath:function(t,i){if(e(i).find("#"+t.id).length>0)e(i).find("#"+t.id).attr(t);else{var s=this.createDefs(),a=this.createClipPath({id:t.id});t.id=t.id+"_Rect",this.drawRect(t,a),this.append(a,s),this.append(s,i)}},drawCircularClipPath:function(e,t){var i=this.createDefs(),s=this.createClipPath({id:e.id});this.drawCircle(e,s),this.append(s,i),this.append(i,t)},append:function(t,i){e(t).appendTo(i)},_setAttr:function(t,i){e(t).attr(i)}},ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null},ej.EjSvgRender.utils={_decimalPlaces:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_getLabelContent:function(e,t,i){switch(t._categoryValueType){case"number":var s=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}");return ej.util.isNullOrUndefined(t.labelFormat)?t.labels[Math.floor(e)]:null!=s?t.labelFormat.replace("{value}",t.labels[Math.floor(e)]):ej.format(t.labels[Math.floor(e)],t.labelFormat,i);case"date":return ej.format(new Date(t.labels[Math.floor(e)]),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,i);case"string":return t.labels[Math.floor(e)];default:return""}},_getSeriesTemplateSize:function(t,i,s,a,o){var r,n,l,d,h,c=o.model.AreaType,u=o._id,p=e.inArray(s,o.model._visibleSeries);(r=0!=e("#template_group_"+u).length?e("#template_group_"+u):e("<div></div>").attr("id","template_group_"+u)).css("position","relative").css("z-index",1e3),n=e("#"+s.marker.dataLabel.template).clone(),e(n).attr("id",s.marker.dataLabel.template+"_"+p+"_"+i+"_"+u),(l=e(n)).css("position","absolute"),t.count=1,d={series:s,point:t},l.html(l.html().parseTemplate(d)),h="cartesianaxes"!=c&&s.enableAnimation&&"pyramid"!=s.type.toLowerCase()&&"funnel"!=s.type.toLowerCase()?"none":"block",l.css("display",h).appendTo(e(r)),e(r).appendTo("#"+u),t.size={height:l.height(),width:l.width()},a?((ej.util.isNullOrUndefined(s.LeftLabelMaxHeight)||s.LeftLabelMaxHeight<t.size.height)&&(s.LeftLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.LeftLabelMaxWidth)||s.LeftLabelMaxWidth<t.size.width)&&(s.LeftLabelMaxWidth=t.size.width)):((ej.util.isNullOrUndefined(s.RightLabelMaxHeight)||s.RightLabelMaxHeight<t.size.height)&&(s.RightLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.RightLabelMaxWidth)||s.RightLabelMaxWidth<t.size.width)&&(s.RightLabelMaxWidth=t.size.width))},getMinPointsDelta:function(t,i,s){var a=i,o=Number.MAX_VALUE;return e.each(a.model._visibleSeries,(function(i,r){var n,l,d;"visible"==r.visibility.toLowerCase()&&t.name==r._xAxisName&&(1!=(n=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal()).length||a.currentSeries&&a.currentSeries._yAxisName.toLowerCase()!=r._yAxisName.toLowerCase()?e.each(n,(function(e,t){if(e>0&&t.xValue){var i=t.xValue-n[e-1].xValue;0!=i&&(o=Math.min(o,i))}})):(l=ej.util.isNullOrUndefined(s)?r.xAxis.visibleRange.min:s,0!=(d=n[0].xValue-l)&&(o=Math.min(o,d))))})),o==Number.MAX_VALUE&&(o=1),o},_getSeriesMaxLabel:function(t){var i,s,a,o,r={width:0,height:0},n=e(this.svgObject).width(),l=[];if(t.labels.length>0){for(o=0;o<t.labels.length;o++)s=this._measureText(t.visibleLabels[o],n,t.marker.dataLabel.font),r.width<s.width&&(r.width=s.width),r.height<s.height&&(r.height=s.height);t.LabelMaxHeight=r.height,t.LabelMaxWidth=r.width}else for(l.push(t.rightsidePoints),l.push(t.leftsidePoints),a=0;a<l.length;a++){for(o=0;o<l[a].length;o++)s=this._measureText((i=l[a][o]).text?i.text:i.y,n,t.marker.dataLabel.font),r.width<s.width&&(r.width=s.width),r.height<s.height&&(r.height=s.height);0==a?(t.RightLabelMaxHeight=r.height,t.RightLabelMaxWidth=r.width):(t.LeftLabelMaxHeight=r.height,t.LeftLabelMaxWidth=r.width)}},_getHighestLabel:function(t,i,s){var a,o,r,n,l,d,h,c,u=0,p=[],m=0;if(ej.isNullOrUndefined(s))for(l=0==t.labels.length?t.visibleLabels:t.labels,d=0;d<l.length;d++){for(m=0,-1!=(h=0==t.labels.length?l[d].Text:l[d]).indexOf("<br>")?p=h.split("<br>"):p.push(h),c=0;c<p.length;c++)m<(r=this._measureText(o=p[c],e(i.svgObject).width(),t.font).width)&&(m=r,a=o);u<m&&(u=m,n=a)}else if(s&&("string"==typeof s&&-1!=s.indexOf("<br>")||"object"==typeof s))for(m=0,p="object"==typeof s?s:s.split("<br>"),c=0;c<p.length;c++)m<(r=this._measureText(o="object"==typeof p[c]?p[c].Text:p[c],i,t.font).width)&&(m=r,a=o),n=a;return n},_getMaxLabelWidth:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T;this.chartObj=i;var L,k,P,j,D={width:0,height:0,maxHeight:0,maxWidth:0},A="",O=i.svgRenderer.vmlNamespace,I=t.visibleRange,R=t.labelIntersectAction?t.labelIntersectAction.toLowerCase():"",M=t.labelPlacement,E=t.opposedPosition,V=t.orientation.toLowerCase(),N=i.model.requireInvertedAxes?"vertical"==V:"horizontal"==V,F=t.roundingPlaces,B=t.labelRotation,z=(V=t.orientation,0),Y=t.visibleLabels,X=Y.length;if(t.visible){for(s=0;s<X;s++)t.visibleLabels[s].y=0,"string"==typeof t.visibleLabels[s].Text&&-1!=t.visibleLabels[s].Text.indexOf("<br>")&&"vertical"==t.orientation?(L=t.visibleLabels[s].Text.split("<br>"),k=this._getHighestLabel(t,e(this.svgObject).width(),L),re=this._measureText(k,e(this.svgObject).width(),t.font,t.labelRotation)):re=this._measureText(t.visibleLabels[s].Text,e(this.svgObject).width(),t.font,t.labelRotation),D.width<re.width&&(D.width=re.width,A=t.visibleLabels[s].Text),D.height<re.height&&(D.height=re.height);if((t.enableTrim||"trim"==R&&"vertical"!=t.orientation)&&(D.width=D.width>(a=t.maximumLabelWidth)?a:D.width),D.rows=1,D.maxWidth=D.width,D.maxHeight=D.height,!O&&(B||R)&&(o=0,"rotate45"==R?o=45:"rotate90"==R&&(o=90),t.rotationValue=B=null!=B||"vertical"==V?B:o,B)){if(A=ej.isNullOrUndefined(A)?"":A,r=this._measureText(A,e(this.svgObject).width(),t.font,t.labelRotation),(t.enableTrim||"trim"==R)&&r.width>a&&""!=A)for(pe=A,h=1;h<pe.toString().length;h++)if(pe=pe.toString().substring(0,h)+"... ",(fe=this._measureText(pe,e(i.svgObject).width(),t.font)).width>=a){A=pe=pe.toString().substring(0,h-1)+"... ";break}A=(R||t.enableTrim)&&B?"string"==typeof A&&-1!=A.indexOf("<br>")?this._getHighestLabel(t,i,null):A:this._getHighestLabel(t,i,null),u=this.rotatedLabel(t,i,B,A),t.labelIntersectAction&&"multiplerows"==t.labelIntersectAction.toLowerCase()&&(z=D.height+u.height),D.height=t.rowsCount&&t.rowsCount>1&&90!=B&&t.enableTrim?t.rowsCount*D.height:u.height,D.width=u.width}if(t.labelIntersectAction)if(!t.rowsCount||"none"!=R&&"trim"!=R&&"hide"!=R&&0!=B||"wrap"==R&&!t.enableTrim||"wrapbyword"==R&&!t.enableTrim||"multiplerows"==R&&!t.enableTrim){if("wrap"==R||"wrapbyword"==R){if("betweenticks"==(M=M||ej.datavisualization.Chart.LabelPlacement.BetweenTicks).toLowerCase()?(l=1+(t.labels.length>1?-.5:0),l=F?parseFloat(l.toFixed(F)):parseFloat(l.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(I.interval)?1:ej.EjSvgRender.utils._decimalPlaces(I.interval))),n=Math.ceil((l-I.min)/(I.max-I.min)*t.length)):n=Math.ceil(t.length/Y.length),"horizontal"==t.orientation){var H=0,W=0,U=t.labels.length>0&&"datetimecategory"!=t.valueType?t.labels:t.visibleLabels,$=t.width?t.width/U.length:(t.length-(i.svgWidth-t.length)-20)/U.length;for(t.labelsCollection=[],y=0;y<U.length;y++){var G=0,q=[],Z=[],Q="object"==typeof U[y]?U[y].Text:U[y];for("string"==typeof Q&&-1!=Q.indexOf("<br>")?Z=Q.split("<br>"):Z.push(Q),w=0;w<Z.length;w++)for(G=(d=ej.EjAxisRenderer.prototype.rowscalculation(Z[w],i.model.m_AreaBounds,t,$,null)).length+G,h=0;h<d.length;h++)q.push(d[h]);B&&(A=this._getHighestLabel(t,i,q),W<(c=this._measureText(A,e(i.svgObject).width(),t.font).width)&&(W=c,de=A)),H=Math.max(G,H),t.labelsCollection[y]=q}u=this.rotatedLabel(t,i,B,de)}n=n<0?Math.ceil(t.length/Y.length):n,ue=Math.round(D.width/n),D.rows=B?ue-1:ue+1,D.rows<0&&(D.rows=0),p=H&&!B?H:D.rows,H>ue&&!B&&(p-=1),D.height=B?u.height+p*u.height:D.height+p*D.height}else if("multiplerows"==R){var K=i._getLegendSpace(),J=i.model.border.width,ee=e(i.svgObject).width()-i.model.margin.left-i.model.margin.right,te=""!=(j=(P=t.title).text)&&t.visible?this._measureText(j,ee,P.font).height+2*i.model.elementSpacing:0,ie=i.model.elementSpacing+te+t.majorTickLines.size+t.axisLine.width,se=i._getYValues(i.model._visibleSeries[0].points),ae=Math.max.apply(Math,se),oe=i.model._axes[1],re=this._measureText(ae,e(this.svgObject).width(),oe.font,oe.labelRotation),ne=K.rightLegendWidth+ie+re.width+i.model.margin.right+i.model.margin.left+2*J,le=e(i.svgObject).width()-ne;if(N){var de,he=0,ce=[],ue=0;for(W=0,s=0;s<Y.length;s++){g=[],"string"==typeof(m=Y[s]).Text&&-1!=m.Text.indexOf("<br>")?g=m.Text.split("<br>"):g.push(m),_=g.length,f=!1,z=Math.max(z,he),he=m.y=D.height;var pe,me=(pe=this._measureText(m.Text,e(this.svgObject).width(),t.font)).height,ge=Math.abs(Math.floor((m.Value-I.min)/I.delta*le));if(ce.length>0)for(b=ce,v=!0,x=0;x<b.length&&v;x++){G=0;var _e=b[x];for(y=0;_e&&y<_e.length;y++)for(w=0;w<_;w++){var fe=ej.EjSvgRender.utils._measureText(1==_?g[w].Text:g[w],e(this.svgObject).width(),t.font).width,be=(me=ej.EjSvgRender.utils._measureText(g[w],e(this.svgObject).width(),t.font).height,y==_e.length?_e[y-1]:_e[y]),ve=Math.abs(Math.floor((be.Value-I.min)/I.delta*le)),xe=ej.EjSvgRender.utils._measureText(be.Text,e(this.svgObject).width(),t.font).width;if(ve+(t.isInversed?-xe/2:xe/2)>=ge-(fe/=2))he=m.y+me,m.y+=me,G++,x+1==b.length&&(v=!1);else if(y+1==_e.length){v=w!=_-1;break}}}if(m.y=he,null==ce[ue=he/me-1]&&(ce[ue]=[]),1==_)ce[ue].push(m);else for(w=0;w<_;w++)null==ce[ue]&&(ce[ue]=[]),ce[ue].push({Text:g[w],Value:m.Value}),w!=_-1&&(ue+=1,he=m.y+me)}D.height=D.height>(z=ce.length*me)?D.height:z,me>0&&(D.rows=E?Math.round((z+me)/me):Math.round(z/me)),D.rows=B?D.rows-1:D.rows,D.rows<1&&(D.rows=1)}if(!N){for(S=0,s=0;s<t.visibleLabels.length;s++){for(fe=(pe=this._measureText((m=t.visibleLabels[s]).Text,e(this.svgObject).width(),t.font)).width,me=pe.height,ge=Math.abs(Math.floor((m.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),C=0;C<s;C++)_e=t.visibleLabels[C],Math.abs(Math.floor((_e.Value-t.visibleRange.min)/t.visibleRange.delta*t.length))+this._measureText(_e.Text,e(this.svgObject).width(),t.font).height/2>ge-me/2&&t.visibleLabels[C].y==m.y&&(m.y=S=m.y+fe,f=!0);T=S}D.width=D.width+T+(f?5:0)}}}else 0==B&&(D.rows=t.rowsCount,D.height=t.rowsCount*D.height)}return D},rotatedLabel:function(e,t,i,s,a){var o=(t=a?this.chartObj:t||this.chartObj).svgRenderer.createText({"font-size":e.font.size,transform:"rotate("+i+",0,0)","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,rotateAngle:"rotate("+i+"deg)","text-anchor":"middle"},s);return{height:Math.ceil(this._measureBounds(o,t).height),width:Math.ceil(this._measureBounds(o,t).width)}},_getTransform:function(e,t,i){var s,a,o,r;return i?(s=t.x,a=e.y,o=t.width,r=e.height):(s=e.x,a=t.y,o=e.width,r=t.height),{x:s,y:a,width:o,height:r}},_calculateroundedCorner:function(e,t,i,s,a,o){var r,n,l,d,h,c=t.x,u=t.y,p=this.chartObj.model.enableCanvasRendering&&!o?5/4:0,m=t.width,g=t.height;return"object"!=typeof e||ej.util.isNullOrUndefined(e)?r=n=l=d=e:(r=e.topLeft,n=e.bottomLeft,l=e.topRight,d=e.bottomRight),r=ej.util.isNullOrUndefined(t.rx)?r:t.rx,n=ej.util.isNullOrUndefined(t.rx)?n:t.rx,h="M "+c+" "+(r+u)+" Q "+c+" "+u+" "+(c+r)+" "+u+" ",i&&"top"==s&&(h+="L "+(c+m/2-2.5+p)+" "+u+" L "+(c+m/2+p-a)+" "+(u-5)+" L "+(c+m/2+2.5+p)+" "+u+" "),h+="L "+(c+m-(l=ej.util.isNullOrUndefined(t.ry)?l:t.ry))+" "+u+" Q "+(c+m)+" "+u+" "+(c+m)+" "+(u+l)+" ",i&&"right"==s&&(h+="L "+(c+m)+" "+(u+g/2-2.5+p)+" L "+(c+m+5)+" "+(u+g/2+p-a)+" L "+(c+m)+" "+(u+g/2+2.5+p)+" "),h+="L "+(c+m)+" "+(u+g-(d=ej.util.isNullOrUndefined(t.ry)?d:t.ry))+" Q "+(c+m)+" "+(u+g)+" "+(c+m-d)+" "+(u+g)+" ",i&&"bottom"==s&&(h+="L "+(c+m/2-2.5+p)+" "+(u+g)+" L "+(c+m/2+p-a)+" "+(u+g+5)+" L "+(c+m/2+2.5+p)+" "+(u+g)+" "),h+="L "+(c+n)+" "+(u+g)+" Q "+c+" "+(u+g)+" "+c+" "+(u+g-n)+" ",i&&"left"==s&&(h+="L "+c+" "+(u+g/2-2.5+p)+" L "+(c-5)+" "+(u+g/2+p-a)+" L "+c+" "+(u+g/2+2.5+p)+" "),h+"L "+c+" "+(r+u)+" z"},browserInfo:function(){var e={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var s in i)if(i.hasOwnProperty(s)&&(t=navigator.userAgent.match(i[s]))){e.name=t[1].toLowerCase(),e.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(e.name="msie");break}return e.isMSPointerEnabled="msie"==e.name&&e.version>9&&window.navigator.msPointerEnabled,e.pointerEnabled=window.navigator.pointerEnabled,e},_measureText:function(t,i,s){var a,o,r,n,l,d=e(document).find("#measureTex");e("#measureTex").css("display","block"),0==d.length?(a=document.createElement("text"),e(a).attr({id:"measureTex"}),document.body.appendChild(a)):a=d[0];var h=null,c=null,u=null,p=null;if("string"==typeof t&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(o=t.split(" "),r=0;r<o.length;r++)-1==o[r].indexOf("<br/>")&&(o[r]=o[r].replace(/[<>]/g,"&"));t=o.join(" ")}return/<\/?[a-z][\s\S]*>/.test(t)?e(a).html(t):a.textContent=t,null!=s&&null==s.size&&(h=(n=(n=s).split(" "))[0],c=n[1],u=n[2],p=n[3]),null!=s&&(a.style.fontSize=s.size>0?s.size+"px":s.size?s.size:c,a.style.fontStyle&&(a.style.fontStyle=s.fontStyle?s.fontStyle:h),a.style.fontFamily=s.fontFamily?s.fontFamily:u,-1==window.navigator.userAgent.indexOf("MSIE 8.0")&&(a.style.fontWeight=s.fontWeight?s.fontWeight:p)),a.style.backgroundColor="white",a.style.position="absolute",a.style.top=-100,a.style.left=0,a.style.visibility="hidden",a.style.whiteSpace="nowrap",i&&(a.style.maxwidth=i+"px"),l={width:a.offsetWidth,height:a.offsetHeight},e("#measureTex").css("display","none"),l},_trimText:function(e,t,i){var s,a,o;for(a=(s=e.toString()).length,o=1;o<a;o++)if(s=e.substring(0,o)+"...",ej.EjSvgRender.utils._measureText(s,null,i).width>=t)return s.substring(0,o-1)+"... ";return e},_measureBounds:function(t,i){i.model.enableCanvasRendering?e(document.body).append(t):(i.svgRenderer.append(t,i.svgObject),i.svgRenderer.append(i.svgObject,i.element));var s=t.getBoundingClientRect(),a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,width:s.right-s.left,height:s.bottom-s.top};return e(t).remove(),a},_drawAxesBoundsClipPath:function(t,i,s){var a,o=e(t),r=this._getTransform(i.xAxis,i.yAxis,s.model.requireInvertedAxes),n="polaraxes"==s.model.AreaType?e(s.svgObject).width():r.width,l="polaraxes"==s.model.AreaType?e(s.svgObject).height():r.height,d=s.model.requireInvertedAxes?i.yAxis.plotOffset:i.xAxis.plotOffset,h=s.model.requireInvertedAxes?i.xAxis.plotOffset:i.yAxis.plotOffset;"polaraxes"==s.model.AreaType?s.svgRenderer.drawCircularClipPath(a={id:t?t.id+"_ClipRect":"",cx:s.model.centerX,cy:s.model.centerY,r:s.model.Radius,fill:"white","stroke-width":1,stroke:"transparent"},t):s.svgRenderer.drawClipPath(a={id:t?t.id+"_ClipRect":"",x:0-d,y:0-h,width:n+2*d,height:l+2*h,fill:"white","stroke-width":1,stroke:"transparent"},t),a.id.indexOf("_Rect")&&(a.id=a.id.replace("_Rect","")),o.attr("clip-path","url(#"+a.id+")")},_getStringBuilder:function(){var e=[],t=0;return{append:function(i){return e[t++]=i,this},remove:function(t,i){return e.splice(t,i||1),this},insert:function(t,i){return e.splice(t,0,i),this},toString:function(t){return e.join(t||"")}}},_addRegion:function(t,i,s,a,o){var r=s.type,n=e.inArray(s,t.model._visibleSeries);n>=0&&t.model.chartRegions.push({SeriesIndex:n,Region:{PointIndex:o,Bounds:i},type:r})},AddRegion:function(e,t,i){i&&e.model.chartRegions.push({isStripLine:i,Region:{Bounds:t}})},_getSvgXY:function(e,t,i,s){var a,o;return s.model.requireInvertedAxes?(a=e+i.yAxis.x,o=t+i.xAxis.y):(a=e+i.xAxis.x,o=t+i.yAxis.y),{X:a,Y:o}},_getPoint:function(e,t){var i,s,a,o=e.xValue,r="boxandwhisker"==t.type?e.YValues:e.YValues[0],n=t._isTransposed?t.xAxis.height:t.xAxis.width,l=t._isTransposed?t.yAxis.width:t.yAxis.height;return e.location={},t._hiloTypes&&(i=e.YValues[1],i="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==i?1:i,t.xAxis.logBase):i,i=this._getPointXY(i,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.low=(t._isTransposed?i:1-i)*l),s="logarithmic"==t.xAxis._valueType?ej.EjSvgRender.utils._logBase(0==o?1:o,t.xAxis.logBase):o,a="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==r?1:r,t.xAxis.logBase):r,s=this._getPointXY(s,t.xAxis.visibleRange,t.xAxis.isInversed),a=this._getPointXY(a,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.X=t._isTransposed?a*l:s*n,e.location.Y=t._isTransposed?(1-s)*n:(1-a)*l,e.location},_getPointXY:function(e,t,i){var s=0;return s=(e-t.min)/t.delta,s=isNaN(s)?0:s,i?1-s:s},_dateTimeLabelFormat:function(e,t){switch(e.toLowerCase()){case"years":return t._labelFormat="MMM, yyyy";case"months":case"weeks":return t._labelFormat="dd, MMM";case"days":return t._labelFormat="dd/MM/yyyy";case"hours":return t._labelFormat="dd, hh:mm";case"minutes":return t._labelFormat="hh:mm";case"seconds":return t._labelFormat="mm:ss";case"milliseconds":return t._labelFormat="ss:fff";default:return t._labelFormat="dd/MM/yyyy"}},_getFontString:function(e){return null==e&&(e={}),e.FontFamily||(e.FontFamily="Arial"),e.FontStyle||(e.FontStyle="Normal"),e.Size||(e.Size="12px"),e.FontStyle+" "+e.Size+" "+e.FontFamily},_valueToVector:function(e,t){return this._coefficientToVector(this._valueToPolarCoefficient(e,t))},TransformToVisible:function(e,t,i,s){t="logarithmic"==e.xAxis._valueType&&t>0?Math.log(t,e.xAxis.logBase):t,i="logarithmic"==e.xAxis._valueType&&i>0?Math.log(i,e.yAxis.logBase):i;var a=s.model.Radius*this._valueToCoefficient(e.yAxis,i),o=this._valueToVector(e.xAxis,t);return{X:s.model.centerX+a*o.X,Y:s.model.centerY+a*o.Y}},Transform3DToVisible:function(e,t,i,s){if(null!=e.xAxis&&null!=e.yAxis){if(t=t="logarithmic"==e.xAxis._valueType.toLowerCase()&&t>0?math.log(t,void 0):t,i=i,s.model.requireInvertedAxes){var a=s.model.m_AreaBounds.Y;return{X:s.model.m_AreaBounds.X+e.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s),Y:a+e.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s))}}return a=e.yAxis.y,{X:t=e.xAxis.x+Math.round(e.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s)),Y:i=a+Math.round(e.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s)))}}return new(void 0)(0,0)},_valueToPolarCoefficient:function(e,t){var i,s,a;return"category"!=e._valueType?(i=e.visibleRange.max-e.visibleRange.interval-e.visibleRange.min,s=e.visibleLabels.length-1):(i=e.visibleRange.delta,s=e.visibleLabels.length),a=(t-e.visibleRange.min)/i,a*=1-1/s,a=isNaN(a)?0:a,e.isInversed?a:1-a},_coefficientToVector:function(e){var t=Math.PI*(1.5-2*e);return{X:Math.cos(t),Y:Math.sin(t)}},_valueToCoefficient:function(e,t,i){var s;return s=((s=i&&"polaraxes"==i.model.AreaType?t:e._valueType&&"logarithmic"==e._valueType.toLowerCase()?ej.EjSvgRender.utils._logBase(0==t?1:t,e.logBase):t)-e.visibleRange.min)/e.visibleRange.delta,e.isInversed?1-s:s},_getBoundingClientRect:function(t,i,s,a){var o,r,n=t.getBoundingClientRect(),l=e("#"+i.svgObject.id)[0].getBoundingClientRect();return a?(o=this._getTransform(s.xAxis,s.yAxis,!0).x,r=this._getTransform(s.xAxis,s.yAxis,!0).y):(o=this._getTransform(s.xAxis,s.yAxis,!1).x,r=this._getTransform(s.xAxis,s.yAxis,!1).y),{x:n.left-(o+l.left),y:n.top-(r+l.top),width:n.right-n.left,height:n.bottom-n.top}},_minMax:function(e,t,i){return e>i?i:e<t?t:e},_inside:function(e,t){return""!==e&&e<=t.max&&e>=t.min},_logBase:function(e,t){return Math.log(e)/Math.log(t)},_correctRect:function(e,t,i,s){return{X:Math.min(e,i),Y:Math.min(t,s),Width:Math.abs(i-e),Height:Math.abs(s-t)}},_getValuebyPoint:function(e,t,i,s){var a=s?i.xAxis.height:i.xAxis.width,o=s?i.yAxis.width:i.yAxis.height,r=i.xAxis.isInversed?1-e/a:e/a,n=i.yAxis.isInversed?1-t/o:t/o;return r=r*i.xAxis.visibleRange.delta+i.xAxis.visibleRange.min,n=n*i.yAxis.visibleRange.delta+i.yAxis.visibleRange.min,{PointX:r="logarithmic"==i.xAxis._valueType?Math.pow(i.xAxis.logBase,r):r,PointY:n="logarithmic"==i.yAxis._valueType?Math.pow(i.yAxis.logBase,n):n}}},ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(e){return this.vector||(this.vector=new((new ej.Ej3DRender).vector3D),this.matrixobj=new((new ej.Ej3DRender).matrix3D),this.bsptreeobj=new((new ej.Ej3DRender).BSPTreeBuilder),this.polygon=new((new ej.Ej3DRender).polygon3D)),{mViewport:e,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity(),Depth:0}},transform:function(e){this.setCenter(this.vector.vector3D(e.mViewport.Width/2,e.mViewport.Height/2,e.Depth/2),e),this.setViewMatrix(this.matrixobj.transform(0,0,e.Depth),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.turn(-this.ToRadial*e.Rotation)),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.tilt(-this.ToRadial*e.Tilt)),e),this.updatePerspective(e.PerspectiveAngle,e),e.needUpdate=!0},updatePerspective:function(e,t){var i=(t.mViewport.Width+t.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(e%181))/2))+t.Depth/1;t.Perspective[0][0]=i,t.Perspective[1][1]=i,t.Perspective[2][3]=1,t.Perspective[3][3]=i},degreeToRadianConverter:function(e){return e*Math.PI/180},toScreen:function(e,t,i,s){return i=i||this.result,s?(this.matrixobj=s,e=s.getMatrixVectorMutiple(i(t,s),e)):(t.chartObj=this.matrixobj,e=this.matrixobj.getMatrixVectorMutiple(i(t),e)),{x:e.x,y:e.y}},setViewMatrix:function(e,t){t.viewMatrix!=e&&(t.viewMatrix=e,t.needUpdate=!0)},setCenteredMatrix:function(e,t){t.viewMatrix!=e&&(t.centeredMatrix=e,t.needUpdate=!0)},result:function(e,t){var i=e.chartObj?e.chartObj:this.matrixobj;return i||(i=t),e.needUpdate?(e.resultMatrix=i.getMatrixMultiplication((this.matrixobj?this.matrixobj:t).getInvertal(e.centeredMatrix),e.Perspective),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.viewMatrix),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.centeredMatrix),e.needUpdate=!1,e.resultMatrix):e.resultMatrix},setCenter:function(e,t){t.centeredMatrix=this.matrixobj.transform(-e.x,-e.y,-e.z),t.needUpdate=!0},toPlane:function(e,t,i){var s=this.vector.vector3D(e.x,e.y,0),a=this.vector.vector3DPlus(s,this.vector.vector3D(0,0,1));return s=this.vector.vector3DMultiply(i.centeredMatrix,s),a=this.vector.vector3DMultiply(i.centeredMatrix,a),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),s),a=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),a),s=this.polygon.getPoint(s,this.vector.vector3DMinus(a-s)),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.viewMatrix),s),this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.centeredMatrix),s)}},ej.EjSvgRender.chartSymbol={_drawSeriesType:function(e,t,i){var s=i.model.series[t.SeriesIndex].type.toLowerCase(),a=i.legendItem.drawType;switch(s=ej.util.isNullOrUndefined(a)?s:a){case ej.datavisualization.Chart.Type.Line:return ej.util.isNullOrUndefined(a)?this._drawLine(e,t,i,i.gLegendItemEle):this._drawStraightLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepLine:return this._drawStepLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.StackingArea100:case ej.datavisualization.Chart.Type.Area:case ej.datavisualization.Chart.Type.RangeArea:return this._drawArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepArea:return this._drawStepArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar100:case ej.datavisualization.Chart.Type.StackingBar:return this._drawBar(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pie:return this._drawPie(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Doughnut:return this._drawDoughnut(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Hilo:return this._drawHilo(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.HiloOpenClose:return this._drawHiloOpenClose(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Candle:return this._drawCandle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pyramid:return this._drawPyramid(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Funnel:return this._drawFunnel(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Spline:return this._drawSpline(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.SplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea100:return this._drawSplineArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.RangeColumn:return this._drawRangeColumn(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:return this._drawCircle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:case ej.datavisualization.Chart.Type.StackingColumn100:case ej.datavisualization.Chart.Type.Waterfall:return this._drawColumn(e,t,i,i.gLegendItemEle);default:return this._drawRectangle(e,t,i,i.gLegendItemEle)}},_drawCircle:function(e,t,i,s){var a=i.svgRenderer,o=t.ShapeSize,r=Math.sqrt(o.height*o.height+o.width*o.width)/2,n=t.Style;return a.drawCircle({id:t.ID,cx:e.startX,cy:e.startY,r:r,fill:n.Color,"stroke-width":n.BorderWidth,stroke:n.BorderColor,opacity:n.Opacity,visibility:n.Visibility,lgndCtx:t.context},s),e.startX-r},_drawLeftArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2+a.width)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2+a.width)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX-a.width/2)+" "+e.startY+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2+a.width)+" "+(e.startY+a.height/4)+" z"},s)},_drawRightArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX-a.width/2+a.width)+" "+e.startY+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2)+" "+(e.startY+a.height/4)+" z"},s)},_drawUpArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX-a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+e.startX+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2+a.height)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height)+" z"},s)},_drawDownArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+e.startX+" "+(e.startY-a.height/2+a.height)+" L "+(e.startX-a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2)+" z"},s)},_drawCross:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+a.width/2)+" "+e.startY+" M "+e.startX+" "+(e.startY+a.height/2)+" L "+e.startX+" "+(e.startY+-a.height/2)},s)},_drawHorizLine:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+a.width/2)+" "+e.startY},s)},_drawVertLine:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+e.startX+" "+(e.startY+a.height/2)+" L "+e.startX+" "+(e.startY+-a.height/2)},s)},_drawTriangle:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+(e.startY+a.height/2)+" L "+e.startX+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/2)+" z"},s)},_drawInvertedTriangle:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+a.width/2)+" "+(e.startY-a.height/2)+" L "+e.startX+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width/2)+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY-a.height/2)+" z"},s)},_drawHexagon:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+-a.width/4)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/4)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+e.startY+" L "+(e.startX+a.width/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+e.startY+" z"},s)},_drawWedge:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({"stroke-linecap":"miter","stroke-miterlimit":a.width/4,id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width)+" "+e.startY+" L "+(e.startX+a.width)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/4*3)+" "+e.startY+" L "+(e.startX+a.width)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width)+" "+e.startY+" z"},s)},_drawPentagon:function(e,t,i,s){for(var a,o=i.svgRenderer,r=t.ShapeSize,n=Math.sqrt(r.height*r.height+r.width*r.width)/2,l=ej.EjSvgRender.utils._getStringBuilder(),d=0;d<=5;d++){var h=Math.PI/180*(72*d),c=n*Math.cos(h),u=n*Math.sin(h);l.append(0==d?"M "+(e.startX+c)+" "+(e.startY+u)+" ":"L "+(e.startX+c)+" "+(e.startY+u)+" ")}l.append("z"),a=l.toString(),o.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},s)},_drawStar:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+a.width/3)+" "+(e.startY+-a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/6)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/6)+" L "+(e.startX+-a.width/3)+" "+(e.startY+-a.height/2)+" L "+e.startX+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/3)+" "+(e.startY+-a.height/2)+" z"},s)},_drawRectangle:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/2)+" z"},s)},_drawTrapezoid:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX+-a.width/2+a.width)+" "+(e.startY+-a.height/2)+" L "+(e.startX+-a.width/2+a.width)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX+-a.width/2)+" "+e.startY+" z"},s)},_drawDiamond:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+e.startY+" z"},s)},_drawEllipse:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawEllipse({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,cx:e.startX,cy:e.startY,rx:a.width,ry:a.height/2},s)},_drawImage:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawImage({id:i.svgObject.id+"_image"+t.PointIndex,height:a.height,width:a.width,href:t.Imageurl,x:e.startX+-a.width/2,y:e.startY+-a.width/2,visibility:"visible",lgndCtx:t.context},s)},_drawStraightLine:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+a.height/10)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/10),lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawLine:function(e,t,i,s){var a,o=i.svgRenderer,r=t.ShapeSize,n=t.ElementSpace;if(!0===i.model.enableCanvasRendering){a="M "+(e.startX+-r.width/2+-n/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+n/4)+" "+(e.startY+r.height/10);var l={id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},d="M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",h={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:d,lgndCtx:!0};o.drawPath(l,s),o.drawPath(h,s)}else a="M "+(e.startX+-r.width/2+-n/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+n/4)+" "+(e.startY+r.height/10)+" M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",o.drawPath(l={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},s);return e.startX+-r.width/2+-n/4},_drawColumn:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/5*3)+" "+(e.startY-a.height/5)+" L "+(e.startX+-a.width/10*3)+" "+(e.startY-a.height/5)+" L "+(e.startX+-a.width/10*3)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.height/5*3)+" "+(e.startY+a.height/2)+" Z M "+(e.startX+-a.width/10-a.width/20)+" "+(e.startY-a.height/4-o/2)+" L "+(e.startX+a.width/10+a.width/20)+" "+(e.startY-a.height/4-o/2)+" L "+(e.startX+a.width/10+a.width/20)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/10-a.width/20)+" "+(e.startY+a.height/2)+" Z M "+(e.startX+a.width/10*3)+" "+e.startY+" L "+(e.startX+a.width/5*3)+" "+e.startY+" L "+(e.startX+a.width/5*3)+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/10*3)+" "+(e.startY+a.height/2)+" Z",lgndCtx:!0},s),e.startX-a.width/5*3},_drawRangeColumn:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/5)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+-a.width/5)+" "+(e.startY-a.height/2-o/4)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2+-o/4)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2+o/4)+" Z",lgndCtx:!0},s),e.startX+-a.width/5},_drawBar:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY-a.height/5*3)+" L "+(e.startX+a.width/10*3)+" "+(e.startY-a.height/5*3)+" L "+(e.startX+a.width/10*3)+" "+(e.startY-a.height/10*3)+" L "+(e.startX-a.width/2+-o/4)+" "+(e.startY-a.height/10*3)+" Z M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY-a.height/5+o/20)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY-a.height/5+o/20)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/10+o/20)+" L "+(e.startX-a.width/2+-o/4)+" "+(e.startY+a.height/10+o/20)+" Z M "+(e.startX-a.width/2+-o/4)+" "+(e.startY+a.height/5+o/10)+" L "+(e.startX+-a.width/4)+" "+(e.startY+a.height/5+o/10)+" L "+(e.startX+-a.width/4)+" "+(e.startY+a.height/2+o/10)+" L "+(e.startX-a.width/2+-o/4)+" "+(e.startY+a.height/2+o/10)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawStepLine:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2-o/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2+a.width/10)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2+a.width/10)+" "+e.startY+" L "+(e.startX+-a.width/10)+" "+e.startY+" L "+(e.startX+-a.width/10)+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/5)+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/5)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2)+"L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" L"+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/2),lgndCtx:!0},s),e.startX+-a.width/2-o/4},_drawSpline:function(e,t,i,s){var a=t.ShapeSize;return i.svgRenderer.drawPath({id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/2)+" "+(e.startY+a.height/5)+" Q "+e.startX+" "+(e.startY-a.height)+" "+e.startX+" "+(e.startY+a.height/5)+" M "+e.startX+" "+(e.startY+a.height/5)+" Q "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" "+(e.startX+a.width/2)+" "+(e.startY-a.height/2),lgndCtx:!0},s),e.startX-a.width/2},_drawSplineArea:function(e,t,i,s){var a=t.ShapeSize;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/2)+" "+(e.startY+a.height/5)+" Q "+e.startX+" "+(e.startY-a.height)+" "+e.startX+" "+(e.startY+a.height/5)+" Z M "+e.startX+" "+(e.startY+a.height/5)+" Q "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" "+(e.startX+a.width/2)+" "+(e.startY-a.height/2)+"  Z",lgndCtx:!0},s),e.startX-a.width/2},_drawArea:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/2-o/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/4+-o/8)+" "+(e.startY-a.height/2)+" L "+e.startX+" "+(e.startY+a.height/4)+" L "+(e.startX+a.width/4+o/8)+" "+(e.startY+-a.height/2+a.height/4)+" L "+(e.startX+a.height/2+o/4)+" "+(e.startY+a.height/2)+" Z",lgndCtx:!0},s),e.startX-a.width/2-o/4},_drawStepArea:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+-a.height/2)+" L "+(e.startX-a.width/4)+" "+(e.startY-a.height/2)+" L "+(e.startX-a.width/4)+" "+(e.startY-a.height/4)+" L "+(e.startX+a.width/4)+" "+(e.startY-a.height/4)+" L "+(e.startX+a.width/4)+" "+e.startX+" L "+(e.startX+a.width/2+o/4)+" "+e.startY+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/2)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawPyramid:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+a.height/2+o/8)+" L "+e.startX+" "+(e.startY+-a.height/2+-o/8)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/2+o/8)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawFunnel:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/5)+" "+(e.startY+-a.height/2+-o/4)+" L "+(e.startX+-a.width/5)+" "+(e.startY+a.height/4)+" L "+(e.startX+-a.width/5)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+a.width/5)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+a.width/5)+" "+(e.startY+a.height/4)+" L "+(e.startX+a.width/2+o/5)+" "+(e.startY+-a.height/2+-o/4)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/5},_drawCandle:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2)+" "+(e.startY+a.height/4+o/8)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/4+o/8)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2+o/8)+" L "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/2+o/8)+" Z M "+e.startX+" "+(e.startY+-a.height/2+o/8)+" L "+e.startX+" "+(e.startY+-a.height/2+-o/4)+" M "+e.startX+" "+(e.startY+a.height/4+o/8)+" L "+e.startX+" "+(e.startY+a.height/4+o/2),lgndCtx:!0},s),e.startX+-a.width/2},_drawHilo:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+a.width/2)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2+-o/4),lgndCtx:!0},s),e.startX+a.width/2},_drawHiloOpenClose:function(e,i,s,a){var o=s.svgRenderer,r=i.ShapeSize,n=(t(18,12,4.0710678118654755,270),i.ElementSpace);return o.drawPath({id:i.ID,fill:"transparent","stroke-width":i.Style.BorderWidth,stroke:i.Style.Color,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:"M "+e.startX+" "+(e.startY-r.height/10*3)+" L "+(e.startX-r.width/2-n/4)+" "+(e.startY-r.height/10*3)+" M "+e.startX+" "+(e.startY-r.height/2-n/4)+" L "+e.startX+" "+(e.startY+r.height/2+n/4)+" M "+e.startX+" "+(e.startY+r.height/10*3)+" L "+(e.startX+r.width/2+n/4)+" "+(e.startY+r.height/10*3),lgndCtx:!0},a),e.startX-r.width/2},_drawDoughnut:function(e,i,s,a){var o=s.svgRenderer,r=i.ShapeSize,n=i.ElementSpace,l=Math.sqrt(r.height*r.width)/2,d=t(e.startX,e.startY,l+=n/5,270),h=t(e.startX+r.width/10,e.startY,l,270),c=(n=i.ElementSpace,{id:i.ID,cx:e.startX,cy:e.startY,r:l/2,lgndCtx:!0,fill:"white","stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility});return o.drawPath({id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:"M "+e.startX+" "+e.startY+" L "+(e.startX+l)+" "+e.startY+" A "+l+" "+l+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+l)+" "+(e.startY-r.height/10)+" A "+l+" "+l+" 0 0 0 "+h[0]+" "+h[1]+" Z",lgndCtx:!0},a),o.drawCircle(c,a),e.startX-l},_drawPie:function(e,i,s,a){var o=s.svgRenderer,r=i.ShapeSize,n=i.ElementSpace,l=Math.sqrt(r.height*r.width)/2,d=t(e.startX,e.startY,l+=n/5,270),h=t(e.startX+r.width/10,e.startY,l,270);return n=i.ElementSpace,o.drawPath({id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:"M "+e.startX+" "+e.startY+" L "+(e.startX+l)+" "+e.startY+" A "+l+" "+l+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+l)+" "+(e.startY-r.height/10)+" A "+l+" "+l+" 0 0 0 "+h[0]+" "+h[1]+" Z",lgndCtx:!0},a),e.startX-l}},ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultHighContrast:["#F93A00","#44E2D6","#DDD10D","#0AA368","#0556CB","#AB40B2","#5F930A","#D12E41","#E0670E","#008FFF"],defaultOffice:["#005277","#8BC652","#6A4B82","#E94649","#6FAAB0","#F7B74F","#C4C24A","#EF863F","#69D2E7","#FFD13E"],defaultMaterial:["#663AB6","#EB3F79","#F8AB1D","#B82E3D","#049CB1","#F2424F","#C2C924","#3DA046","#074D67","#02A8F4"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},ej.EjSvgRender.themes={flatlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},highcontrast01:{highlightColor:"white",background:"#111111",legend:{font:{color:"#ffffff"},title:{font:{color:"#ffffff"}}},title:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#ffffff"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultHighContrast,colors:ej.EjSvgRender.seriesPalette.defaultHighContrast},material:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMaterial,colors:ej.EjSvgRender.seriesPalette.defaultMaterial},office365:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultOffice,colors:ej.EjSvgRender.seriesPalette.defaultOffice}},e.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery)})?s.apply(t,a):s)||(e.exports=o)},EVdn:function(e,t,i){var s;!function(t,i){"use strict";"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,(function(i,a){"use strict";var o=[],r=Object.getPrototypeOf,n=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},d=o.push,h=o.indexOf,c={},u=c.toString,p=c.hasOwnProperty,m=p.toString,g=m.call(Object),_={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},v=i.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,i){var s,a,o=(i=i||v).createElement("script");if(o.text=e,t)for(s in x)(a=t[s]||t.getAttribute&&t.getAttribute(s))&&o.setAttribute(s,a);i.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var S="3.6.0",C=function(e,t){return new C.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,i=w(e);return!f(e)&&!b(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:S,constructor:C,length:0,toArray:function(){return n.call(this)},get:function(e){return null==e?n.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var e,t,i,s,a,o,r=arguments[0]||{},n=1,l=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[n]||{},n++),"object"==typeof r||f(r)||(r={}),n===l&&(r=this,n--);n<l;n++)if(null!=(e=arguments[n]))for(t in e)s=e[t],"__proto__"!==t&&r!==s&&(d&&s&&(C.isPlainObject(s)||(a=Array.isArray(s)))?(i=r[t],o=a&&!Array.isArray(i)?[]:a||C.isPlainObject(i)?i:{},a=!1,r[t]=C.extend(d,o,s)):void 0!==s&&(r[t]=s));return r},C.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==u.call(e)||(t=r(e))&&("function"!=typeof(i=p.call(t,"constructor")&&t.constructor)||m.call(i)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){y(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,s=0;if(T(e))for(i=e.length;s<i&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(T(Object(e))?C.merge(i,"string"==typeof e?[e]:e):d.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:h.call(t,e,i)},merge:function(e,t){for(var i=+t.length,s=0,a=e.length;s<i;s++)e[a++]=t[s];return e.length=a,e},grep:function(e,t,i){for(var s=[],a=0,o=e.length,r=!i;a<o;a++)!t(e[a],a)!==r&&s.push(e[a]);return s},map:function(e,t,i){var s,a,o=0,r=[];if(T(e))for(s=e.length;o<s;o++)null!=(a=t(e[o],o,i))&&r.push(a);else for(o in e)null!=(a=t(e[o],o,i))&&r.push(a);return l(r)},guid:1,support:_}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var L=function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x="sizzle"+1*new Date,y=e.document,w=0,S=0,C=le(),T=le(),L=le(),k=le(),P=function(e,t){return e===t&&(c=!0),0},j={}.hasOwnProperty,D=[],A=D.pop,O=D.push,I=D.push,R=D.slice,M=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},E="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\[[\\x20\\t\\r\\n\\f]*("+N+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+V+"*\\]",B=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",z=new RegExp(V+"+","g"),Y=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),X=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp(V+"|>"),U=new RegExp(B),$=new RegExp("^"+N+"$"),G={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+E+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ie=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){u()},re=xe((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{I.apply(D=R.call(y.childNodes),y.childNodes)}catch(Te){I={apply:D.length?function(e,t){O.apply(e,R.call(t))}:function(e,t){for(var i=e.length,s=0;e[i++]=t[s++];);e.length=i-1}}}function ne(e,t,s,a){var o,n,d,h,c,m,f,b=t&&t.ownerDocument,y=t?t.nodeType:9;if(s=s||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return s;if(!a&&(u(t),t=t||p,g)){if(11!==y&&(c=J.exec(e)))if(o=c[1]){if(9===y){if(!(d=t.getElementById(o)))return s;if(d.id===o)return s.push(d),s}else if(b&&(d=b.getElementById(o))&&v(t,d)&&d.id===o)return s.push(d),s}else{if(c[2])return I.apply(s,t.getElementsByTagName(e)),s;if((o=c[3])&&i.getElementsByClassName&&t.getElementsByClassName)return I.apply(s,t.getElementsByClassName(o)),s}if(i.qsa&&!k[e+" "]&&(!_||!_.test(e))&&(1!==y||"object"!==t.nodeName.toLowerCase())){if(f=e,b=t,1===y&&(W.test(e)||H.test(e))){for((b=ee.test(e)&&fe(t.parentNode)||t)===t&&i.scope||((h=t.getAttribute("id"))?h=h.replace(se,ae):t.setAttribute("id",h=x)),n=(m=r(e)).length;n--;)m[n]=(h?"#"+h:":scope")+" "+ve(m[n]);f=m.join(",")}try{return I.apply(s,b.querySelectorAll(f)),s}catch(w){k(e,!0)}finally{h===x&&t.removeAttribute("id")}}}return l(e.replace(Y,"$1"),t,s,a)}function le(){var e=[];return function t(i,a){return e.push(i+" ")>s.cacheLength&&delete t[e.shift()],t[i+" "]=a}}function de(e){return e[x]=!0,e}function he(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Te){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var i=e.split("|"),a=i.length;a--;)s.attrHandle[i[a]]=t}function ue(e,t){var i=t&&e,s=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(s)return s;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function me(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function _e(e){return de((function(t){return t=+t,de((function(i,s){for(var a,o=e([],i.length,t),r=o.length;r--;)i[a=o[r]]&&(i[a]=!(s[a]=i[a]))}))}))}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=ne.support={},o=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!q.test(e&&e.namespaceURI||t&&t.nodeName||"HTML")},u=ne.setDocument=function(e){var t,a,r=e?e.ownerDocument||e:y;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,g=!o(p),y!=p&&(a=p.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",oe,!1):a.attachEvent&&a.attachEvent("onunload",oe)),i.scope=he((function(e){return m.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),i.attributes=he((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=he((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=he((function(e){return m.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length})),i.getById?(s.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute("id")===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i=t.getElementById(e);return i?[i]:[]}}):(s.filter.ID=function(e){var t=e.replace(te,ie);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i,s,a,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(a=t.getElementsByName(e),s=0;o=a[s++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),s.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,s=[],a=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[a++];)1===i.nodeType&&s.push(i);return s}return o},s.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},f=[],_=[],(i.qsa=K.test(p.querySelectorAll))&&(he((function(e){var t;m.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+E+")"),e.querySelectorAll("[id~="+x+"-]").length||_.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||_.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||_.push(".#.+[+~]"),e.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")})),he((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")}))),(i.matchesSelector=K.test(b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&he((function(e){i.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),f.push("!=",B)})),_=_.length&&new RegExp(_.join("|")),f=f.length&&new RegExp(f.join("|")),t=K.test(m.compareDocumentPosition),v=t||K.test(m.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=t?function(e,t){if(e===t)return c=!0,0;var s=!e.compareDocumentPosition-!t.compareDocumentPosition;return s||(1&(s=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===s?e==p||e.ownerDocument==y&&v(y,e)?-1:t==p||t.ownerDocument==y&&v(y,t)?1:h?M(h,e)-M(h,t):0:4&s?-1:1)}:function(e,t){if(e===t)return c=!0,0;var i,s=0,a=e.parentNode,o=t.parentNode,r=[e],n=[t];if(!a||!o)return e==p?-1:t==p?1:a?-1:o?1:h?M(h,e)-M(h,t):0;if(a===o)return ue(e,t);for(i=e;i=i.parentNode;)r.unshift(i);for(i=t;i=i.parentNode;)n.unshift(i);for(;r[s]===n[s];)s++;return s?ue(r[s],n[s]):r[s]==y?-1:n[s]==y?1:0},p):p},ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){if(u(e),i.matchesSelector&&g&&!k[t+" "]&&(!f||!f.test(t))&&(!_||!_.test(t)))try{var s=b.call(e,t);if(s||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(Te){k(t,!0)}return ne(t,p,null,[e]).length>0},ne.contains=function(e,t){return(e.ownerDocument||e)!=p&&u(e),v(e,t)},ne.attr=function(e,t){(e.ownerDocument||e)!=p&&u(e);var a=s.attrHandle[t.toLowerCase()],o=a&&j.call(s.attrHandle,t.toLowerCase())?a(e,t,!g):void 0;return void 0!==o?o:i.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ne.escape=function(e){return(e+"").replace(se,ae)},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ne.uniqueSort=function(e){var t,s=[],a=0,o=0;if(c=!i.detectDuplicates,h=!i.sortStable&&e.slice(0),e.sort(P),c){for(;t=e[o++];)t===e[o]&&(a=s.push(o));for(;a--;)e.splice(s[a],1)}return h=null,e},a=ne.getText=function(e){var t,i="",s=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[s++];)i+=a(t);return i},(s=ne.selectors={cacheLength:50,createPseudo:de,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ne.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ne.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&U.test(i)&&(t=r(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+V+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(s){var a=ne.attr(s,e);return null==a?"!="===t:!t||(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.slice(-i.length)===i:"~="===t?(" "+a.replace(z," ")+" ").indexOf(i)>-1:"|="===t&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,s,a){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),n="of-type"===t;return 1===s&&0===a?function(e){return!!e.parentNode}:function(t,i,l){var d,h,c,u,p,m,g=o!==r?"nextSibling":"previousSibling",_=t.parentNode,f=n&&t.nodeName.toLowerCase(),b=!l&&!n,v=!1;if(_){if(o){for(;g;){for(u=t;u=u[g];)if(n?u.nodeName.toLowerCase()===f:1===u.nodeType)return!1;m=g="only"===e&&!m&&"nextSibling"}return!0}if(m=[r?_.firstChild:_.lastChild],r&&b){for(v=(p=(d=(h=(c=(u=_)[x]||(u[x]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]||[])[0]===w&&d[1])&&d[2],u=p&&_.childNodes[p];u=++p&&u&&u[g]||(v=p=0)||m.pop();)if(1===u.nodeType&&++v&&u===t){h[e]=[w,p,v];break}}else if(b&&(v=p=(d=(h=(c=(u=t)[x]||(u[x]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]||[])[0]===w&&d[1]),!1===v)for(;(u=++p&&u&&u[g]||(v=p=0)||m.pop())&&((n?u.nodeName.toLowerCase()!==f:1!==u.nodeType)||!++v||(b&&((h=(c=u[x]||(u[x]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]=[w,v]),u!==t)););return(v-=a)===s||v%s==0&&v/s>=0}}},PSEUDO:function(e,t){var i,a=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return a[x]?a(t):a.length>1?(i=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?de((function(e,i){for(var s,o=a(e,t),r=o.length;r--;)e[s=M(e,o[r])]=!(i[s]=o[r])})):function(e){return a(e,0,i)}):a}},pseudos:{not:de((function(e){var t=[],i=[],s=n(e.replace(Y,"$1"));return s[x]?de((function(e,t,i,a){for(var o,r=s(e,null,a,[]),n=e.length;n--;)(o=r[n])&&(e[n]=!(t[n]=o))})):function(e,a,o){return t[0]=e,s(t,null,o,i),t[0]=null,!i.pop()}})),has:de((function(e){return function(t){return ne(e,t).length>0}})),contains:de((function(e){return e=e.replace(te,ie),function(t){return(t.textContent||a(t)).indexOf(e)>-1}})),lang:de((function(e){return $.test(e||"")||ne.error("unsupported lang: "+e),e=e.replace(te,ie).toLowerCase(),function(t){var i;do{if(i=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:_e((function(){return[0]})),last:_e((function(e,t){return[t-1]})),eq:_e((function(e,t,i){return[i<0?i+t:i]})),even:_e((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:_e((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:_e((function(e,t,i){for(var s=i<0?i+t:i>t?t:i;--s>=0;)e.push(s);return e})),gt:_e((function(e,t,i){for(var s=i<0?i+t:i;++s<t;)e.push(s);return e}))}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})s.pseudos[t]=me(t);function be(){}function ve(e){for(var t=0,i=e.length,s="";t<i;t++)s+=e[t].value;return s}function xe(e,t,i){var s=t.dir,a=t.next,o=a||s,r=i&&"parentNode"===o,n=S++;return t.first?function(t,i,a){for(;t=t[s];)if(1===t.nodeType||r)return e(t,i,a);return!1}:function(t,i,l){var d,h,c,u=[w,n];if(l){for(;t=t[s];)if((1===t.nodeType||r)&&e(t,i,l))return!0}else for(;t=t[s];)if(1===t.nodeType||r)if(h=(c=t[x]||(t[x]={}))[t.uniqueID]||(c[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[s]||t;else{if((d=h[o])&&d[0]===w&&d[1]===n)return u[2]=d[2];if(h[o]=u,u[2]=e(t,i,l))return!0}return!1}}function ye(e){return e.length>1?function(t,i,s){for(var a=e.length;a--;)if(!e[a](t,i,s))return!1;return!0}:e[0]}function we(e,t,i,s,a){for(var o,r=[],n=0,l=e.length,d=null!=t;n<l;n++)(o=e[n])&&(i&&!i(o,s,a)||(r.push(o),d&&t.push(n)));return r}function Se(e,t,i,s,a,o){return s&&!s[x]&&(s=Se(s)),a&&!a[x]&&(a=Se(a,o)),de((function(o,r,n,l){var d,h,c,u=[],p=[],m=r.length,g=o||function(e,t,i){for(var s=0,a=t.length;s<a;s++)ne(e,t[s],i);return i}(t||"*",n.nodeType?[n]:n,[]),_=!e||!o&&t?g:we(g,u,e,n,l),f=i?a||(o?e:m||s)?[]:r:_;if(i&&i(_,f,n,l),s)for(d=we(f,p),s(d,[],n,l),h=d.length;h--;)(c=d[h])&&(f[p[h]]=!(_[p[h]]=c));if(o){if(a||e){if(a){for(d=[],h=f.length;h--;)(c=f[h])&&d.push(_[h]=c);a(null,f=[],d,l)}for(h=f.length;h--;)(c=f[h])&&(d=a?M(o,c):u[h])>-1&&(o[d]=!(r[d]=c))}}else f=we(f===r?f.splice(m,f.length):f),a?a(null,r,f,l):I.apply(r,f)}))}function Ce(e){for(var t,i,a,o=e.length,r=s.relative[e[0].type],n=r||s.relative[" "],l=r?1:0,h=xe((function(e){return e===t}),n,!0),c=xe((function(e){return M(t,e)>-1}),n,!0),u=[function(e,i,s){var a=!r&&(s||i!==d)||((t=i).nodeType?h(e,i,s):c(e,i,s));return t=null,a}];l<o;l++)if(i=s.relative[e[l].type])u=[xe(ye(u),i)];else{if((i=s.filter[e[l].type].apply(null,e[l].matches))[x]){for(a=++l;a<o&&!s.relative[e[a].type];a++);return Se(l>1&&ye(u),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(Y,"$1"),i,l<a&&Ce(e.slice(l,a)),a<o&&Ce(e=e.slice(a)),a<o&&ve(e))}u.push(i)}return ye(u)}return be.prototype=s.filters=s.pseudos,s.setFilters=new be,r=ne.tokenize=function(e,t){var i,a,o,r,n,l,d,h=T[e+" "];if(h)return t?0:h.slice(0);for(n=e,l=[],d=s.preFilter;n;){for(r in i&&!(a=X.exec(n))||(a&&(n=n.slice(a[0].length)||n),l.push(o=[])),i=!1,(a=H.exec(n))&&(i=a.shift(),o.push({value:i,type:a[0].replace(Y," ")}),n=n.slice(i.length)),s.filter)!(a=G[r].exec(n))||d[r]&&!(a=d[r](a))||(i=a.shift(),o.push({value:i,type:r,matches:a}),n=n.slice(i.length));if(!i)break}return t?n.length:n?ne.error(e):T(e,l).slice(0)},n=ne.compile=function(e,t){var i,a=[],o=[],n=L[e+" "];if(!n){for(t||(t=r(e)),i=t.length;i--;)(n=Ce(t[i]))[x]?a.push(n):o.push(n);(n=L(e,function(e,t){var i=t.length>0,a=e.length>0,o=function(o,r,n,l,h){var c,m,_,f=0,b="0",v=o&&[],x=[],y=d,S=o||a&&s.find.TAG("*",h),C=w+=null==y?1:Math.random()||.1,T=S.length;for(h&&(d=r==p||r||h);b!==T&&null!=(c=S[b]);b++){if(a&&c){for(m=0,r||c.ownerDocument==p||(u(c),n=!g);_=e[m++];)if(_(c,r||p,n)){l.push(c);break}h&&(w=C)}i&&((c=!_&&c)&&f--,o&&v.push(c))}if(f+=b,i&&b!==f){for(m=0;_=t[m++];)_(v,x,r,n);if(o){if(f>0)for(;b--;)v[b]||x[b]||(x[b]=A.call(l));x=we(x)}I.apply(l,x),h&&!o&&x.length>0&&f+t.length>1&&ne.uniqueSort(l)}return h&&(w=C,d=y),v};return i?de(o):o}(o,a))).selector=e}return n},l=ne.select=function(e,t,i,a){var o,l,d,h,c,u="function"==typeof e&&e,p=!a&&r(e=u.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(d=l[0]).type&&9===t.nodeType&&g&&s.relative[l[1].type]){if(!(t=(s.find.ID(d.matches[0].replace(te,ie),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=G.needsContext.test(e)?0:l.length;o--&&!s.relative[h=(d=l[o]).type];)if((c=s.find[h])&&(a=c(d.matches[0].replace(te,ie),ee.test(l[0].type)&&fe(t.parentNode)||t))){if(l.splice(o,1),!(e=a.length&&ve(l)))return I.apply(i,a),i;break}}return(u||n(e,p))(a,t,!g,i,!t||ee.test(e)&&fe(t.parentNode)||t),i},i.sortStable=x.split("").sort(P).join("")===x,i.detectDuplicates=!!c,u(),i.sortDetached=he((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),he((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&he((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),he((function(e){return null==e.getAttribute("disabled")}))||ce(E,(function(e,t,i){var s;if(!i)return!0===e[t]?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null})),ne}(i);C.find=L,C.expr=L.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=L.uniqueSort,C.text=L.getText,C.isXMLDoc=L.isXML,C.contains=L.contains,C.escapeSelector=L.escape;var k=function(e,t,i){for(var s=[],a=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&C(e).is(i))break;s.push(e)}return s},P=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},j=C.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,i){return f(t)?C.grep(e,(function(e,s){return!!t.call(e,s,e)!==i})):t.nodeType?C.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?C.grep(e,(function(e){return h.call(t,e)>-1!==i})):C.filter(t,e,i)}C.filter=function(e,t,i){var s=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?C.find.matchesSelector(s,e)?[s]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,i,s=this.length,a=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<s;t++)if(C.contains(a[t],this))return!0})));for(i=this.pushStack([]),t=0;t<s;t++)C.find(e,a[t],i);return s>1?C.uniqueSort(i):i},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&j.test(e)?C(e):e||[],!1).length}});var I,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,i){var s,a;if(!e)return this;if(i=i||I,"string"==typeof e){if(!(s="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!s[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(s[1]){if(C.merge(this,C.parseHTML(s[1],(t=t instanceof C?t[0]:t)&&t.nodeType?t.ownerDocument||t:v,!0)),A.test(s[1])&&C.isPlainObject(t))for(s in t)f(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}return(a=v.getElementById(s[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==i.ready?i.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,I=C(v);var M=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function V(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var i,s=0,a=this.length,o=[],r="string"!=typeof e&&C(e);if(!j.test(e))for(;s<a;s++)for(i=this[s];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&C.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(C(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,i){return k(e,"parentNode",i)},next:function(e){return V(e,"nextSibling")},prev:function(e){return V(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,i){return k(e,"nextSibling",i)},prevUntil:function(e,t,i){return k(e,"previousSibling",i)},siblings:function(e){return P((e.parentNode||{}).firstChild,e)},children:function(e){return P(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(i,s){var a=C.map(this,t,i);return"Until"!==e.slice(-5)&&(s=i),s&&"string"==typeof s&&(a=C.filter(s,a)),this.length>1&&(E[e]||C.uniqueSort(a),M.test(e)&&a.reverse()),this.pushStack(a)}}));var N=/[^\x20\t\r\n\f]+/g;function F(e){return e}function B(e){throw e}function z(e,t,i,s){var a;try{e&&f(a=e.promise)?a.call(e).done(t).fail(i):e&&f(a=e.then)?a.call(e,t,i):t.apply(void 0,[e].slice(s))}catch(e){i.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(N)||[],(function(e,i){t[i]=!0})),t}(e):C.extend({},e);var t,i,s,a,o=[],r=[],n=-1,l=function(){for(a=a||e.once,s=t=!0;r.length;n=-1)for(i=r.shift();++n<o.length;)!1===o[n].apply(i[0],i[1])&&e.stopOnFalse&&(n=o.length,i=!1);e.memory||(i=!1),t=!1,a&&(o=i?[]:"")},d={add:function(){return o&&(i&&!t&&(n=o.length-1,r.push(i)),function t(i){C.each(i,(function(i,s){f(s)?e.unique&&d.has(s)||o.push(s):s&&s.length&&"string"!==w(s)&&t(s)}))}(arguments),i&&!t&&l()),this},remove:function(){return C.each(arguments,(function(e,t){for(var i;(i=C.inArray(t,o,i))>-1;)o.splice(i,1),i<=n&&n--})),this},has:function(e){return e?C.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return a=r=[],o=i="",this},disabled:function(){return!o},lock:function(){return a=r=[],i||t||(o=i=""),this},locked:function(){return!!a},fireWith:function(e,i){return a||(i=[e,(i=i||[]).slice?i.slice():i],r.push(i),t||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],s="pending",a={state:function(){return s},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(i){C.each(t,(function(t,s){var a=f(e[s[4]])&&e[s[4]];o[s[1]]((function(){var e=a&&a.apply(this,arguments);e&&f(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this,a?[e]:arguments)}))})),e=null})).promise()},then:function(e,s,a){var o=0;function r(e,t,s,a){return function(){var n=this,l=arguments,d=function(){var i,d;if(!(e<o)){if((i=s.apply(n,l))===t.promise())throw new TypeError("Thenable self-resolution");f(d=i&&("object"==typeof i||"function"==typeof i)&&i.then)?a?d.call(i,r(o,t,F,a),r(o,t,B,a)):(o++,d.call(i,r(o,t,F,a),r(o,t,B,a),r(o,t,F,t.notifyWith))):(s!==F&&(n=void 0,l=[i]),(a||t.resolveWith)(n,l))}},h=a?d:function(){try{d()}catch(i){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(i,h.stackTrace),e+1>=o&&(s!==B&&(n=void 0,l=[i]),t.rejectWith(n,l))}};e?h():(C.Deferred.getStackHook&&(h.stackTrace=C.Deferred.getStackHook()),i.setTimeout(h))}}return C.Deferred((function(i){t[0][3].add(r(0,i,f(a)?a:F,i.notifyWith)),t[1][3].add(r(0,i,f(e)?e:F)),t[2][3].add(r(0,i,f(s)?s:B))})).promise()},promise:function(e){return null!=e?C.extend(e,a):a}},o={};return C.each(t,(function(e,i){var r=i[2],n=i[5];a[i[1]]=r.add,n&&r.add((function(){s=n}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),r.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=r.fireWith})),a.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,i=t,s=Array(i),a=n.call(arguments),o=C.Deferred(),r=function(e){return function(i){s[e]=this,a[e]=arguments.length>1?n.call(arguments):i,--t||o.resolveWith(s,a)}};if(t<=1&&(z(e,o.done(r(i)).resolve,o.reject,!t),"pending"===o.state()||f(a[i]&&a[i].then)))return o.then();for(;i--;)z(a[i],r(i),o.reject);return o.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Y.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){i.setTimeout((function(){throw e}))};var X=C.Deferred();function H(){v.removeEventListener("DOMContentLoaded",H),i.removeEventListener("load",H),C.ready()}C.fn.ready=function(e){return X.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||X.resolveWith(v,[C]))}}),C.ready.then=X.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?i.setTimeout(C.ready):(v.addEventListener("DOMContentLoaded",H),i.addEventListener("load",H));var W=function(e,t,i,s,a,o,r){var n=0,l=e.length,d=null==i;if("object"===w(i))for(n in a=!0,i)W(e,t,n,i[n],!0,o,r);else if(void 0!==s&&(a=!0,f(s)||(r=!0),d&&(r?(t.call(e,s),t=null):(d=t,t=function(e,t,i){return d.call(C(e),i)})),t))for(;n<l;n++)t(e[n],i,r?s:s.call(e[n],n,t(e[n],i)));return a?e:d?t.call(e):l?t(e[0],i):o},U=/^-ms-/,$=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function q(e){return e.replace(U,"ms-").replace($,G)}var Z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=C.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var s,a=this.cache(e);if("string"==typeof t)a[q(t)]=i;else for(s in t)a[q(s)]=t[s];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,s=e[this.expando];if(void 0!==s){if(void 0!==t){i=(t=Array.isArray(t)?t.map(q):(t=q(t))in s?[t]:t.match(N)||[]).length;for(;i--;)delete s[t[i]]}(void 0===t||C.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var K=new Q,J=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ie(e,t,i){var s;if(void 0===i&&1===e.nodeType)if(s="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(s))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(i)}catch(a){}J.set(e,t,i)}else i=void 0;return i}C.extend({hasData:function(e){return J.hasData(e)||K.hasData(e)},data:function(e,t,i){return J.access(e,t,i)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,i){return K.access(e,t,i)},_removeData:function(e,t){K.remove(e,t)}}),C.fn.extend({data:function(e,t){var i,s,a,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(a=J.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&0===(s=r[i].name).indexOf("data-")&&(s=q(s.slice(5)),ie(o,s,a[s]));K.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each((function(){J.set(this,e)})):W(this,(function(t){var i;if(o&&void 0===t)return void 0!==(i=J.get(o,e))||void 0!==(i=ie(o,e))?i:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),C.extend({queue:function(e,t,i){var s;if(e)return s=K.get(e,t=(t||"fx")+"queue"),i&&(!s||Array.isArray(i)?s=K.access(e,t,C.makeArray(i)):s.push(i)),s||[]},dequeue:function(e,t){var i=C.queue(e,t=t||"fx"),s=i.length,a=i.shift(),o=C._queueHooks(e,t);"inprogress"===a&&(a=i.shift(),s--),a&&("fx"===t&&i.unshift("inprogress"),delete o.stop,a.call(e,(function(){C.dequeue(e,t)}),o)),!s&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return K.get(e,i)||K.access(e,i,{empty:C.Callbacks("once memory").add((function(){K.remove(e,[t+"queue",i])}))})}}),C.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?C.queue(this[0],e):void 0===t?this:this.each((function(){var i=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,s=1,a=C.Deferred(),o=this,r=this.length,n=function(){--s||a.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(i=K.get(o[r],e+"queueHooks"))&&i.empty&&(s++,i.empty.add(n));return n(),a.promise(t)}});var se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=new RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],re=v.documentElement,ne=function(e){return C.contains(e.ownerDocument,e)},le={composed:!0};re.getRootNode&&(ne=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var de=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ne(e)&&"none"===C.css(e,"display")};function he(e,t,i,s){var a,o,r=20,n=s?function(){return s.cur()}:function(){return C.css(e,t,"")},l=n(),d=i&&i[3]||(C.cssNumber[t]?"":"px"),h=e.nodeType&&(C.cssNumber[t]||"px"!==d&&+l)&&ae.exec(C.css(e,t));if(h&&h[3]!==d){for(d=d||h[3],h=+(l/=2)||1;r--;)C.style(e,t,h+d),(1-o)*(1-(o=n()/l||.5))<=0&&(r=0),h/=o;C.style(e,t,(h*=2)+d),i=i||[]}return i&&(h=+h||+l||0,a=i[1]?h+(i[1]+1)*i[2]:+i[2],s&&(s.unit=d,s.start=h,s.end=a)),a}var ce={};function ue(e){var t,i=e.ownerDocument,s=e.nodeName,a=ce[s];return a||(t=i.body.appendChild(i.createElement(s)),a=C.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),ce[s]=a,a)}function pe(e,t){for(var i,s,a=[],o=0,r=e.length;o<r;o++)(s=e[o]).style&&(i=s.style.display,t?("none"===i&&(a[o]=K.get(s,"display")||null,a[o]||(s.style.display="")),""===s.style.display&&de(s)&&(a[o]=ue(s))):"none"!==i&&(a[o]="none",K.set(s,"display",i)));for(o=0;o<r;o++)null!=a[o]&&(e[o].style.display=a[o]);return e}C.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){de(this)?C(this).show():C(this).hide()}))}});var me,ge,_e=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i;me=v.createDocumentFragment().appendChild(v.createElement("div")),(ge=v.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),me.appendChild(ge),_.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue,me.innerHTML="<option></option>",_.option=!!me.lastChild;var ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xe(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?C.merge([e],i):i}function ye(e,t){for(var i=0,s=e.length;i<s;i++)K.set(e[i],"globalEval",!t||K.get(t[i],"globalEval"))}ve.tbody=ve.tfoot=ve.colgroup=ve.caption=ve.thead,ve.th=ve.td,_.option||(ve.optgroup=ve.option=[1,"<select multiple='multiple'>","</select>"]);var we=/<|&#?\w+;/;function Se(e,t,i,s,a){for(var o,r,n,l,d,h,c=t.createDocumentFragment(),u=[],p=0,m=e.length;p<m;p++)if((o=e[p])||0===o)if("object"===w(o))C.merge(u,o.nodeType?[o]:o);else if(we.test(o)){for(r=r||c.appendChild(t.createElement("div")),n=(fe.exec(o)||["",""])[1].toLowerCase(),r.innerHTML=(l=ve[n]||ve._default)[1]+C.htmlPrefilter(o)+l[2],h=l[0];h--;)r=r.lastChild;C.merge(u,r.childNodes),(r=c.firstChild).textContent=""}else u.push(t.createTextNode(o));for(c.textContent="",p=0;o=u[p++];)if(s&&C.inArray(o,s)>-1)a&&a.push(o);else if(d=ne(o),r=xe(c.appendChild(o),"script"),d&&ye(r),i)for(h=0;o=r[h++];)be.test(o.type||"")&&i.push(o);return c}var Ce=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Le(){return!1}function ke(e,t){return e===function(){try{return v.activeElement}catch(e){}}()==("focus"===t)}function Pe(e,t,i,s,a,o){var r,n;if("object"==typeof t){for(n in"string"!=typeof i&&(s=s||i,i=void 0),t)Pe(e,n,i,s,t[n],o);return e}if(null==s&&null==a?(a=i,s=i=void 0):null==a&&("string"==typeof i?(a=s,s=void 0):(a=s,s=i,i=void 0)),!1===a)a=Le;else if(!a)return e;return 1===o&&(r=a,(a=function(e){return C().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),e.each((function(){C.event.add(this,t,a,s,i)}))}function je(e,t,i){i?(K.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var s,a,o=K.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=n.call(arguments),K.set(this,t,o),s=i(this,t),this[t](),o!==(a=K.get(this,t))||s?K.set(this,t,!1):a={},o!==a)return e.stopImmediatePropagation(),e.preventDefault(),a&&a.value}else o.length&&(K.set(this,t,{value:C.event.trigger(C.extend(o[0],C.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,t)&&C.event.add(e,t,Te)}C.event={global:{},add:function(e,t,i,s,a){var o,r,n,l,d,h,c,u,p,m,g,_=K.get(e);if(Z(e))for(i.handler&&(i=(o=i).handler,a=o.selector),a&&C.find.matchesSelector(re,a),i.guid||(i.guid=C.guid++),(l=_.events)||(l=_.events=Object.create(null)),(r=_.handle)||(r=_.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(N)||[""]).length;d--;)p=g=(n=Ce.exec(t[d])||[])[1],m=(n[2]||"").split(".").sort(),p&&(c=C.event.special[p]||{},c=C.event.special[p=(a?c.delegateType:c.bindType)||p]||{},h=C.extend({type:p,origType:g,data:s,handler:i,guid:i.guid,selector:a,needsContext:a&&C.expr.match.needsContext.test(a),namespace:m.join(".")},o),(u=l[p])||((u=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,s,m,r)||e.addEventListener&&e.addEventListener(p,r)),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),a?u.splice(u.delegateCount++,0,h):u.push(h),C.event.global[p]=!0)},remove:function(e,t,i,s,a){var o,r,n,l,d,h,c,u,p,m,g,_=K.hasData(e)&&K.get(e);if(_&&(l=_.events)){for(d=(t=(t||"").match(N)||[""]).length;d--;)if(p=g=(n=Ce.exec(t[d])||[])[1],m=(n[2]||"").split(".").sort(),p){for(c=C.event.special[p]||{},u=l[p=(s?c.delegateType:c.bindType)||p]||[],n=n[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=u.length;o--;)h=u[o],!a&&g!==h.origType||i&&i.guid!==h.guid||n&&!n.test(h.namespace)||s&&s!==h.selector&&("**"!==s||!h.selector)||(u.splice(o,1),h.selector&&u.delegateCount--,c.remove&&c.remove.call(e,h));r&&!u.length&&(c.teardown&&!1!==c.teardown.call(e,m,_.handle)||C.removeEvent(e,p,_.handle),delete l[p])}else for(p in l)C.event.remove(e,p+t[d],i,s,!0);C.isEmptyObject(l)&&K.remove(e,"handle events")}},dispatch:function(e){var t,i,s,a,o,r,n=new Array(arguments.length),l=C.event.fix(e),d=(K.get(this,"events")||Object.create(null))[l.type]||[],h=C.event.special[l.type]||{};for(n[0]=l,t=1;t<arguments.length;t++)n[t]=arguments[t];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(r=C.event.handlers.call(this,l,d),t=0;(a=r[t++])&&!l.isPropagationStopped();)for(l.currentTarget=a.elem,i=0;(o=a.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(s=((C.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,n))&&!1===(l.result=s)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,s,a,o,r,n=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(o=[],r={},i=0;i<l;i++)void 0===r[a=(s=t[i]).selector+" "]&&(r[a]=s.needsContext?C(a,this).index(d)>-1:C.find(a,this,null,[d]).length),r[a]&&o.push(s);o.length&&n.push({elem:d,handlers:o})}return d=this,l<t.length&&n.push({elem:d,handlers:t.slice(l)}),n},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return _e.test(t.type)&&t.click&&D(t,"input")&&je(t,"click",Te),!1},trigger:function(e){var t=this||e;return _e.test(t.type)&&t.click&&D(t,"input")&&je(t,"click"),!0},_default:function(e){var t=e.target;return _e.test(t.type)&&t.click&&D(t,"input")&&K.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return je(this,e,ke),!1},trigger:function(){return je(this,e),!0},_default:function(){return!0},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,a=e.relatedTarget,o=e.handleObj;return a&&(a===s||C.contains(s,a))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}})),C.fn.extend({on:function(e,t,i,s){return Pe(this,e,t,i,s)},one:function(e,t,i,s){return Pe(this,e,t,i,s,1)},off:function(e,t,i){var s,a;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,C(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Le),this.each((function(){C.event.remove(this,e,i,t)}))}});var De=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ee(e,t){var i,s,a,o,r,n;if(1===t.nodeType){if(K.hasData(e)&&(n=K.get(e).events))for(a in K.remove(t,"handle events"),n)for(i=0,s=n[a].length;i<s;i++)C.event.add(t,a,n[a][i]);J.hasData(e)&&(o=J.access(e),r=C.extend({},o),J.set(t,r))}}function Ve(e,t){var i=t.nodeName.toLowerCase();"input"===i&&_e.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Ne(e,t,i,s){t=l(t);var a,o,r,n,d,h,c=0,u=e.length,p=u-1,m=t[0],g=f(m);if(g||u>1&&"string"==typeof m&&!_.checkClone&&Ae.test(m))return e.each((function(a){var o=e.eq(a);g&&(t[0]=m.call(this,a,o.html())),Ne(o,t,i,s)}));if(u&&(o=(a=Se(t,e[0].ownerDocument,!1,e,s)).firstChild,1===a.childNodes.length&&(a=o),o||s)){for(n=(r=C.map(xe(a,"script"),Re)).length;c<u;c++)d=a,c!==p&&(d=C.clone(d,!0,!0),n&&C.merge(r,xe(d,"script"))),i.call(e[c],d,c);if(n)for(h=r[r.length-1].ownerDocument,C.map(r,Me),c=0;c<n;c++)be.test((d=r[c]).type||"")&&!K.access(d,"globalEval")&&C.contains(h,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?C._evalUrl&&!d.noModule&&C._evalUrl(d.src,{nonce:d.nonce||d.getAttribute("nonce")},h):y(d.textContent.replace(Oe,""),d,h))}return e}function Fe(e,t,i){for(var s,a=t?C.filter(t,e):e,o=0;null!=(s=a[o]);o++)i||1!==s.nodeType||C.cleanData(xe(s)),s.parentNode&&(i&&ne(s)&&ye(xe(s,"script")),s.parentNode.removeChild(s));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var s,a,o,r,n=e.cloneNode(!0),l=ne(e);if(!(_.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(r=xe(n),s=0,a=(o=xe(e)).length;s<a;s++)Ve(o[s],r[s]);if(t)if(i)for(o=o||xe(e),r=r||xe(n),s=0,a=o.length;s<a;s++)Ee(o[s],r[s]);else Ee(e,n);return(r=xe(n,"script")).length>0&&ye(r,!l&&xe(e,"script")),n},cleanData:function(e){for(var t,i,s,a=C.event.special,o=0;void 0!==(i=e[o]);o++)if(Z(i)){if(t=i[K.expando]){if(t.events)for(s in t.events)a[s]?C.event.remove(i,s):C.removeEvent(i,s,t.handle);i[K.expando]=void 0}i[J.expando]&&(i[J.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return W(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ne(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)}))},prepend:function(){return Ne(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ne(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ne(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(xe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},i=0,s=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!ve[(fe.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;i<s;i++)1===(t=this[i]||{}).nodeType&&(C.cleanData(xe(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ne(this,arguments,(function(t){var i=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(xe(this)),i&&i.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var i,s=[],a=C(e),o=a.length-1,r=0;r<=o;r++)i=r===o?this:this.clone(!0),C(a[r])[t](i),d.apply(s,i.get());return this.pushStack(s)}}));var Be=new RegExp("^("+se+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ye=function(e,t,i){var s,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in s=i.call(e),t)e.style[a]=o[a];return s},Xe=new RegExp(oe.join("|"),"i");function He(e,t,i){var s,a,o,r,n=e.style;return(i=i||ze(e))&&(""!==(r=i.getPropertyValue(t)||i[t])||ne(e)||(r=C.style(e,t)),!_.pixelBoxStyles()&&Be.test(r)&&Xe.test(t)&&(s=n.width,a=n.minWidth,o=n.maxWidth,n.minWidth=n.maxWidth=n.width=r,r=i.width,n.width=s,n.minWidth=a,n.maxWidth=o)),void 0!==r?r+"":r}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){d.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(d).appendChild(h);var e=i.getComputedStyle(h);s="1%"!==e.top,l=12===t(e.marginLeft),h.style.right="60%",r=36===t(e.right),a=36===t(e.width),h.style.position="absolute",o=12===t(h.offsetWidth/3),re.removeChild(d),h=null}}function t(e){return Math.round(parseFloat(e))}var s,a,o,r,n,l,d=v.createElement("div"),h=v.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===h.style.backgroundClip,C.extend(_,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),s},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,s,a;return null==n&&(e=v.createElement("table"),t=v.createElement("tr"),s=v.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",s.style.height="9px",s.style.display="block",re.appendChild(e).appendChild(t).appendChild(s),a=i.getComputedStyle(t),n=parseInt(a.height,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),n}}))}();var Ue=["Webkit","Moz","ms"],$e=v.createElement("div").style,Ge={};function qe(e){return C.cssProps[e]||Ge[e]||(e in $e?e:Ge[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=Ue.length;i--;)if((e=Ue[i]+t)in $e)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"};function et(e,t,i){var s=ae.exec(t);return s?Math.max(0,s[2]-(i||0))+(s[3]||"px"):t}function tt(e,t,i,s,a,o){var r="width"===t?1:0,n=0,l=0;if(i===(s?"border":"content"))return 0;for(;r<4;r+=2)"margin"===i&&(l+=C.css(e,i+oe[r],!0,a)),s?("content"===i&&(l-=C.css(e,"padding"+oe[r],!0,a)),"margin"!==i&&(l-=C.css(e,"border"+oe[r]+"Width",!0,a))):(l+=C.css(e,"padding"+oe[r],!0,a),"padding"!==i?l+=C.css(e,"border"+oe[r]+"Width",!0,a):n+=C.css(e,"border"+oe[r]+"Width",!0,a));return!s&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-n-.5))||0),l}function it(e,t,i){var s=ze(e),a=(!_.boxSizingReliable()||i)&&"border-box"===C.css(e,"boxSizing",!1,s),o=a,r=He(e,t,s),n="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(r)){if(!i)return r;r="auto"}return(!_.boxSizingReliable()&&a||!_.reliableTrDimensions()&&D(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===C.css(e,"display",!1,s))&&e.getClientRects().length&&(a="border-box"===C.css(e,"boxSizing",!1,s),(o=n in e)&&(r=e[n])),(r=parseFloat(r)||0)+tt(e,t,i||(a?"border":"content"),o,s,r)+"px"}function st(e,t,i,s,a){return new st.prototype.init(e,t,i,s,a)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=He(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,r,n=q(t),l=Qe.test(t),d=e.style;if(l||(t=qe(n)),r=C.cssHooks[t]||C.cssHooks[n],void 0===i)return r&&"get"in r&&void 0!==(a=r.get(e,!1,s))?a:d[t];"string"==(o=typeof i)&&(a=ae.exec(i))&&a[1]&&(i=he(e,t,a),o="number"),null!=i&&i==i&&("number"!==o||l||(i+=a&&a[3]||(C.cssNumber[n]?"":"px")),_.clearCloneStyle||""!==i||0!==t.indexOf("background")||(d[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,s))||(l?d.setProperty(t,i):d[t]=i))}},css:function(e,t,i,s){var a,o,r,n=q(t);return Qe.test(t)||(t=qe(n)),(r=C.cssHooks[t]||C.cssHooks[n])&&"get"in r&&(a=r.get(e,!0,i)),void 0===a&&(a=He(e,t,s)),"normal"===a&&t in Je&&(a=Je[t]),""===i||i?(o=parseFloat(a),!0===i||isFinite(o)?o||0:a):a}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,i,s){if(i)return!Ze.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,s):Ye(e,Ke,(function(){return it(e,t,s)}))},set:function(e,i,s){var a,o=ze(e),r=!_.scrollboxSize()&&"absolute"===o.position,n=(r||s)&&"border-box"===C.css(e,"boxSizing",!1,o),l=s?tt(e,t,s,n,o):0;return n&&r&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),l&&(a=ae.exec(i))&&"px"!==(a[3]||"px")&&(e.style[t]=i,i=C.css(e,t)),et(0,i,l)}}})),C.cssHooks.marginLeft=We(_.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(i){for(var s=0,a={},o="string"==typeof i?i.split(" "):[i];s<4;s++)a[e+oe[s]+t]=o[s]||o[s-2]||o[0];return a}},"margin"!==e&&(C.cssHooks[e+t].set=et)})),C.fn.extend({css:function(e,t){return W(this,(function(e,t,i){var s,a,o={},r=0;if(Array.isArray(t)){for(s=ze(e),a=t.length;r<a;r++)o[t[r]]=C.css(e,t[r],!1,s);return o}return void 0!==i?C.style(e,t,i):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=st,(st.prototype={constructor:st,init:function(e,t,i,s,a,o){this.elem=e,this.prop=i,this.easing=a||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=o||(C.cssNumber[i]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,i=st.propHooks[this.prop];return this.pos=t=this.options.duration?C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):st.propHooks._default.set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[qe(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=st.prototype.init,C.fx.step={};var at,ot,rt=/^(?:toggle|show|hide)$/,nt=/queueHooks$/;function lt(){ot&&(!1===v.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(lt):i.setTimeout(lt,C.fx.interval),C.fx.tick())}function dt(){return i.setTimeout((function(){at=void 0})),at=Date.now()}function ht(e,t){var i,s=0,a={height:e};for(t=t?1:0;s<4;s+=2-t)a["margin"+(i=oe[s])]=a["padding"+i]=e;return t&&(a.opacity=a.width=e),a}function ct(e,t,i){for(var s,a=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,r=a.length;o<r;o++)if(s=a[o].call(i,t,e))return s}function ut(e,t,i){var s,a,o=0,r=ut.prefilters.length,n=C.Deferred().always((function(){delete l.elem})),l=function(){if(a)return!1;for(var t=at||dt(),i=Math.max(0,d.startTime+d.duration-t),s=1-(i/d.duration||0),o=0,r=d.tweens.length;o<r;o++)d.tweens[o].run(s);return n.notifyWith(e,[d,s,i]),s<1&&r?i:(r||n.notifyWith(e,[d,1,0]),n.resolveWith(e,[d]),!1)},d=n.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},i),originalProperties:t,originalOptions:i,startTime:at||dt(),duration:i.duration,tweens:[],createTween:function(t,i){var s=C.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(s),s},stop:function(t){var i=0,s=t?d.tweens.length:0;if(a)return this;for(a=!0;i<s;i++)d.tweens[i].run(1);return t?(n.notifyWith(e,[d,1,0]),n.resolveWith(e,[d,t])):n.rejectWith(e,[d,t]),this}}),h=d.props;for(function(e,t){var i,s,a,o,r;for(i in e)if(a=t[s=q(i)],o=e[i],Array.isArray(o)&&(a=o[1],o=e[i]=o[0]),i!==s&&(e[s]=o,delete e[i]),(r=C.cssHooks[s])&&"expand"in r)for(i in o=r.expand(o),delete e[s],o)i in e||(e[i]=o[i],t[i]=a);else t[s]=a}(h,d.opts.specialEasing);o<r;o++)if(s=ut.prefilters[o].call(d,e,h,d.opts))return f(s.stop)&&(C._queueHooks(d.elem,d.opts.queue).stop=s.stop.bind(s)),s;return C.map(h,ct,d),f(d.opts.start)&&d.opts.start.call(e,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),C.fx.timer(C.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d}C.Animation=C.extend(ut,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return he(i.elem,e,ae.exec(t),i),i}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(N);for(var i,s=0,a=e.length;s<a;s++)(ut.tweeners[i=e[s]]=ut.tweeners[i]||[]).unshift(t)},prefilters:[function(e,t,i){var s,a,o,r,n,l,d,h,c="width"in t||"height"in t,u=this,p={},m=e.style,g=e.nodeType&&de(e),_=K.get(e,"fxshow");for(s in i.queue||(null==(r=C._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,n=r.empty.fire,r.empty.fire=function(){r.unqueued||n()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,C.queue(e,"fx").length||r.empty.fire()}))}))),t)if(rt.test(a=t[s])){if(delete t[s],o=o||"toggle"===a,a===(g?"hide":"show")){if("show"!==a||!_||void 0===_[s])continue;g=!0}p[s]=_&&_[s]||C.style(e,s)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(s in c&&1===e.nodeType&&(i.overflow=[m.overflow,m.overflowX,m.overflowY],null==(d=_&&_.display)&&(d=K.get(e,"display")),"none"===(h=C.css(e,"display"))&&(d?h=d:(pe([e],!0),d=e.style.display||d,h=C.css(e,"display"),pe([e]))),("inline"===h||"inline-block"===h&&null!=d)&&"none"===C.css(e,"float")&&(l||(u.done((function(){m.display=d})),null==d&&(d="none"===(h=m.display)?"":h)),m.display="inline-block")),i.overflow&&(m.overflow="hidden",u.always((function(){m.overflow=i.overflow[0],m.overflowX=i.overflow[1],m.overflowY=i.overflow[2]}))),l=!1,p)l||(_?"hidden"in _&&(g=_.hidden):_=K.access(e,"fxshow",{display:d}),o&&(_.hidden=!g),g&&pe([e],!0),u.done((function(){for(s in g||pe([e]),K.remove(e,"fxshow"),p)C.style(e,s,p[s])}))),l=ct(g?_[s]:0,s,u),s in _||(_[s]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),C.speed=function(e,t,i){var s=e&&"object"==typeof e?C.extend({},e):{complete:i||!i&&t||f(e)&&e,duration:e,easing:i&&t||t&&!f(t)&&t};return C.fx.off?s.duration=0:"number"!=typeof s.duration&&(s.duration=s.duration in C.fx.speeds?C.fx.speeds[s.duration]:C.fx.speeds._default),null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){f(s.old)&&s.old.call(this),s.queue&&C.dequeue(this,s.queue)},s},C.fn.extend({fadeTo:function(e,t,i,s){return this.filter(de).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var a=C.isEmptyObject(e),o=C.speed(t,i,s),r=function(){var t=ut(this,C.extend({},e),o);(a||K.get(this,"finish"))&&t.stop(!0)};return r.finish=r,a||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(e,t,i){var s=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,a=null!=e&&e+"queueHooks",o=C.timers,r=K.get(this);if(a)r[a]&&r[a].stop&&s(r[a]);else for(a in r)r[a]&&r[a].stop&&nt.test(a)&&s(r[a]);for(a=o.length;a--;)o[a].elem!==this||null!=e&&o[a].queue!==e||(o[a].anim.stop(i),t=!1,o.splice(a,1));!t&&i||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=K.get(this),s=i[e+"queue"],a=i[e+"queueHooks"],o=C.timers,r=s?s.length:0;for(i.finish=!0,C.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete i.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var i=C.fn[t];C.fn[t]=function(e,s,a){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ht(t,!0),e,s,a)}})),C.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}})),C.timers=[],C.fx.tick=function(){var e,t=0,i=C.timers;for(at=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||C.fx.stop(),at=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ot||(ot=!0,lt())},C.fx.stop=function(){ot=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,this.queue(t=t||"fx",(function(t,s){var a=i.setTimeout(t,e);s.stop=function(){i.clearTimeout(a)}}))},function(){var e=v.createElement("input"),t=v.createElement("select").appendChild(v.createElement("option"));e.type="checkbox",_.checkOn=""!==e.value,_.optSelected=t.selected,(e=v.createElement("input")).value="t",e.type="radio",_.radioValue="t"===e.value}();var pt,mt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return W(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,i){var s,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,i):(1===o&&C.isXMLDoc(e)||(a=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?pt:void 0)),void 0!==i?null===i?void C.removeAttr(e,t):a&&"set"in a&&void 0!==(s=a.set(e,i,t))?s:(e.setAttribute(t,i+""),i):a&&"get"in a&&null!==(s=a.get(e,t))?s:null==(s=C.find.attr(e,t))?void 0:s)},attrHooks:{type:{set:function(e,t){if(!_.radioValue&&"radio"===t&&D(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,s=0,a=t&&t.match(N);if(a&&1===e.nodeType)for(;i=a[s++];)e.removeAttribute(i)}}),pt={set:function(e,t,i){return!1===t?C.removeAttr(e,i):e.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=mt[t]||C.find.attr;mt[t]=function(e,t,s){var a,o,r=t.toLowerCase();return s||(o=mt[r],mt[r]=a,a=null!=i(e,t,s)?r:null,mt[r]=o),a}}));var gt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function ft(e){return(e.match(N)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}C.fn.extend({prop:function(e,t){return W(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,i){var s,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(a=C.propHooks[t=C.propFix[t]||t]),void 0!==i?a&&"set"in a&&void 0!==(s=a.set(e,i,t))?s:e[t]=i:a&&"get"in a&&null!==(s=a.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(C.propHooks.selected={get:function(e){return null},set:function(e){}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,i,s,a,o,r,n,l=0;if(f(e))return this.each((function(t){C(this).addClass(e.call(this,t,bt(this)))}));if((t=vt(e)).length)for(;i=this[l++];)if(a=bt(i),s=1===i.nodeType&&" "+ft(a)+" "){for(r=0;o=t[r++];)s.indexOf(" "+o+" ")<0&&(s+=o+" ");a!==(n=ft(s))&&i.setAttribute("class",n)}return this},removeClass:function(e){var t,i,s,a,o,r,n,l=0;if(f(e))return this.each((function(t){C(this).removeClass(e.call(this,t,bt(this)))}));if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;i=this[l++];)if(a=bt(i),s=1===i.nodeType&&" "+ft(a)+" "){for(r=0;o=t[r++];)for(;s.indexOf(" "+o+" ")>-1;)s=s.replace(" "+o+" "," ");a!==(n=ft(s))&&i.setAttribute("class",n)}return this},toggleClass:function(e,t){var i=typeof e,s="string"===i||Array.isArray(e);return"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):f(e)?this.each((function(i){C(this).toggleClass(e.call(this,i,bt(this),t),t)})):this.each((function(){var t,a,o,r;if(s)for(a=0,o=C(this),r=vt(e);t=r[a++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||((t=bt(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))}))},hasClass:function(e){var t,i,s=0;for(t=" "+e+" ";i=this[s++];)if(1===i.nodeType&&(" "+ft(bt(i))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;C.fn.extend({val:function(e){var t,i,s,a=this[0];return arguments.length?(s=f(e),this.each((function(i){var a;1===this.nodeType&&(null==(a=s?e.call(this,i,C(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=C.map(a,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))}))):a?(t=C.valHooks[a.type]||C.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(a,"value"))?i:"string"==typeof(i=a.value)?i.replace(xt,""):null==i?"":i:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:ft(C.text(e))}},select:{get:function(e){var t,i,s,a=e.options,o=e.selectedIndex,r="select-one"===e.type,n=r?null:[],l=r?o+1:a.length;for(s=o<0?l:r?o:0;s<l;s++)if(((i=a[s]).selected||s===o)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,"optgroup"))){if(t=C(i).val(),r)return t;n.push(t)}return n},set:function(e,t){for(var i,s,a=e.options,o=C.makeArray(t),r=a.length;r--;)((s=a[r]).selected=C.inArray(C.valHooks.option.get(s),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},_.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),_.focusin="onfocusin"in i;var yt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,s,a){var o,r,n,l,d,h,c,u,m=[s||v],g=p.call(e,"type")?e.type:e,_=p.call(e,"namespace")?e.namespace.split("."):[];if(r=u=n=s=s||v,3!==s.nodeType&&8!==s.nodeType&&!yt.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(_=g.split("."),g=_.shift(),_.sort()),d=g.indexOf(":")<0&&"on"+g,(e=e[C.expando]?e:new C.Event(g,"object"==typeof e&&e)).isTrigger=a?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=s),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[g]||{},a||!c.trigger||!1!==c.trigger.apply(s,t))){if(!a&&!c.noBubble&&!b(s)){for(yt.test((l=c.delegateType||g)+g)||(r=r.parentNode);r;r=r.parentNode)m.push(r),n=r;n===(s.ownerDocument||v)&&m.push(n.defaultView||n.parentWindow||i)}for(o=0;(r=m[o++])&&!e.isPropagationStopped();)u=r,e.type=o>1?l:c.bindType||g,(h=(K.get(r,"events")||Object.create(null))[e.type]&&K.get(r,"handle"))&&h.apply(r,t),(h=d&&r[d])&&h.apply&&Z(r)&&(e.result=h.apply(r,t),!1===e.result&&e.preventDefault());return e.type=g,a||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(m.pop(),t)||!Z(s)||d&&f(s[g])&&!b(s)&&((n=s[d])&&(s[d]=null),C.event.triggered=g,e.isPropagationStopped()&&u.addEventListener(g,wt),s[g](),e.isPropagationStopped()&&u.removeEventListener(g,wt),C.event.triggered=void 0,n&&(s[d]=n)),e.result}},simulate:function(e,t,i){var s=C.extend(new C.Event,i,{type:e,isSimulated:!0});C.event.trigger(s,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return C.event.trigger(e,t,i,!0)}}),_.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var s=this.ownerDocument||this.document||this,a=K.access(s,t);a||s.addEventListener(e,i,!0),K.access(s,t,(a||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,a=K.access(s,t)-1;a?K.access(s,t,a):(s.removeEventListener(e,i,!0),K.remove(s,t))}}}));var St=i.location,Ct={guid:Date.now()},Tt=/\?/;C.parseXML=function(e){var t,s;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(a){}return s=t&&t.getElementsByTagName("parsererror")[0],t&&!s||C.error("Invalid XML: "+(s?C.map(s.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Lt=/\[\]$/,kt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,i,s){var a;if(Array.isArray(t))C.each(t,(function(t,a){i||Lt.test(e)?s(e,a):Dt(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,i,s)}));else if(i||"object"!==w(t))s(e,t);else for(a in t)Dt(e+"["+a+"]",t[a],i,s)}C.param=function(e,t){var i,s=[],a=function(e,t){var i=f(t)?t():t;s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){a(this.name,this.value)}));else for(i in e)Dt(i,e[i],t,a);return s.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&jt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!_e.test(e))})).map((function(e,t){var i=C(this).val();return null==i?null:Array.isArray(i)?C.map(i,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:i.replace(kt,"\r\n")}})).get()}});var At=/%20/g,Ot=/#.*$/,It=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Et=/^\/\//,Vt={},Nt={},Ft="*/".concat("*"),Bt=v.createElement("a");function zt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var s,a=0,o=t.toLowerCase().match(N)||[];if(f(i))for(;s=o[a++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(i)):(e[s]=e[s]||[]).push(i)}}function Yt(e,t,i,s){var a={},o=e===Nt;function r(n){var l;return a[n]=!0,C.each(e[n]||[],(function(e,n){var d=n(t,i,s);return"string"!=typeof d||o||a[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),r(d),!1)})),l}return r(t.dataTypes[0])||!a["*"]&&r("*")}function Xt(e,t){var i,s,a=C.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:s||(s={}))[i]=t[i]);return s&&C.extend(!0,e,s),e}Bt.href=St.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,C.ajaxSettings),t):Xt(C.ajaxSettings,e)},ajaxPrefilter:zt(Vt),ajaxTransport:zt(Nt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var s,a,o,r,n,l,d,h,c,u,p=C.ajaxSetup({},t=t||{}),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?C(m):C.event,_=C.Deferred(),f=C.Callbacks("once memory"),b=p.statusCode||{},x={},y={},w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(d){if(!r)for(r={};t=Rt.exec(o);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?o:null},setRequestHeader:function(e,t){return null==d&&(e=y[e.toLowerCase()]=y[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==d&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||w;return s&&s.abort(t),T(0,t),this}};if(_.promise(S),p.url=((e||p.url||St.href)+"").replace(Et,St.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=v.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(L){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Yt(Vt,p,t,S),d)return S;for(c in(h=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Mt.test(p.type),a=p.url.replace(Ot,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(At,"+")):(u=p.url.slice(a.length),p.data&&(p.processData||"string"==typeof p.data)&&(a+=(Tt.test(a)?"&":"?")+p.data,delete p.data),!1===p.cache&&(a=a.replace(It,"$1"),u=(Tt.test(a)?"&":"?")+"_="+Ct.guid+++u),p.url=a+u),p.ifModified&&(C.lastModified[a]&&S.setRequestHeader("If-Modified-Since",C.lastModified[a]),C.etag[a]&&S.setRequestHeader("If-None-Match",C.etag[a])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ft+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(!1===p.beforeSend.call(m,S,p)||d))return S.abort();if(w="abort",f.add(p.complete),S.done(p.success),S.fail(p.error),s=Yt(Nt,p,t,S)){if(S.readyState=1,h&&g.trigger("ajaxSend",[S,p]),d)return S;p.async&&p.timeout>0&&(n=i.setTimeout((function(){S.abort("timeout")}),p.timeout));try{d=!1,s.send(x,T)}catch(L){if(d)throw L;T(-1,L)}}else T(-1,"No Transport");function T(e,t,r,l){var c,u,v,x,y,w=t;d||(d=!0,n&&i.clearTimeout(n),s=void 0,o=l||"",S.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(x=function(e,t,i){for(var s,a,o,r,n=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(a in n)if(n[a]&&n[a].test(s)){l.unshift(a);break}if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,S,r)),!c&&C.inArray("script",p.dataTypes)>-1&&C.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),x=function(e,t,i,s){var a,o,r,n,l,d={},h=e.dataTypes.slice();if(h[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(o=h.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=d[l+" "+o]||d["* "+o]))for(a in d)if((n=a.split(" "))[1]===o&&(r=d[l+" "+n[0]]||d["* "+n[0]])){!0===r?r=d[a]:!0!==d[a]&&(o=n[0],h.unshift(n[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(L){return{state:"parsererror",error:r?L:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,x,S,c),c?(p.ifModified&&((y=S.getResponseHeader("Last-Modified"))&&(C.lastModified[a]=y),(y=S.getResponseHeader("etag"))&&(C.etag[a]=y)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=x.state,u=x.data,c=!(v=x.error))):(v=w,!e&&w||(w="error",e<0&&(e=0))),S.status=e,S.statusText=(t||w)+"",c?_.resolveWith(m,[u,w,S]):_.rejectWith(m,[S,w,v]),S.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?u:v]),f.fireWith(m,[S,w]),h&&(g.trigger("ajaxComplete",[S,p]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return C.get(e,t,i,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,i,s,a){return f(i)&&(a=a||s,s=i,i=void 0),C.ajax(C.extend({url:e,type:t,dataType:a,data:i,success:s},C.isPlainObject(e)&&e))}})),C.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),C._evalUrl=function(e,t,i){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,i)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(i){C(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Wt=C.ajaxSettings.xhr();_.cors=!!Wt&&"withCredentials"in Wt,_.ajax=Wt=!!Wt,C.ajaxTransport((function(e){var t,s;if(_.cors||Wt&&!e.crossDomain)return{send:function(a,o){var r,n=e.xhr();if(n.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)n[r]=e.xhrFields[r];for(r in e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)n.setRequestHeader(r,a[r]);t=function(e){return function(){t&&(t=s=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?o(0,"error"):o(n.status,n.statusText):o(Ht[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=t(),s=n.onerror=n.ontimeout=t("error"),void 0!==n.onabort?n.onabort=s:n.onreadystatechange=function(){4===n.readyState&&i.setTimeout((function(){t&&s()}))},t=t("abort");try{n.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(s,a){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&a("error"===e.type?404:200,e.type)}),v.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Ut,$t=[],Gt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||C.expando+"_"+Ct.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,s){var a,o,r,n=!1!==e.jsonp&&(Gt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(e.data)&&"data");if(n||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=f(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,n?e[n]=e[n].replace(Gt,"$1"+a):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return r||C.error(a+" was not called"),r[0]},e.dataTypes[0]="json",o=i[a],i[a]=function(){r=arguments},s.always((function(){void 0===o?C(i).removeProp(a):i[a]=o,e[a]&&(e.jsonpCallback=t.jsonpCallback,$t.push(a)),r&&f(o)&&o(r[0]),r=o=void 0})),"script"})),_.createHTMLDocument=((Ut=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),C.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(_.createHTMLDocument?((s=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(s)):t=v),o=!i&&[],(a=A.exec(e))?[t.createElement(a[1])]:(a=Se([e],t,o),o&&o.length&&C(o).remove(),C.merge([],a.childNodes)));var s,a,o},C.fn.load=function(e,t,i){var s,a,o,r=this,n=e.indexOf(" ");return n>-1&&(s=ft(e.slice(n)),e=e.slice(0,n)),f(t)?(i=t,t=void 0):t&&"object"==typeof t&&(a="POST"),r.length>0&&C.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done((function(e){o=arguments,r.html(s?C("<div>").append(C.parseHTML(e)).find(s):e)})).always(i&&function(e,t){r.each((function(){i.apply(this,o||[e.responseText,t,e])}))}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,i){var s,a,o,r,n,l,d=C.css(e,"position"),h=C(e),c={};"static"===d&&(e.style.position="relative"),n=h.offset(),o=C.css(e,"top"),l=C.css(e,"left"),("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1?(r=(s=h.position()).top,a=s.left):(r=parseFloat(o)||0,a=parseFloat(l)||0),f(t)&&(t=t.call(e,i,C.extend({},n))),null!=t.top&&(c.top=t.top-n.top+r),null!=t.left&&(c.left=t.left-n.left+a),"using"in t?t.using.call(e,c):h.css(c)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,i,s=this[0];return s?s.getClientRects().length?{top:(t=s.getBoundingClientRect()).top+(i=s.ownerDocument.defaultView).pageYOffset,left:t.left+i.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,s=this[0],a={top:0,left:0};if("fixed"===C.css(s,"position"))t=s.getBoundingClientRect();else{for(t=this.offset(),i=s.ownerDocument,e=s.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==s&&1===e.nodeType&&((a=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),a.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-C.css(s,"marginTop",!0),left:t.left-a.left-C.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||re}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;C.fn[e]=function(s){return W(this,(function(e,s,a){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===a)return o?o[t]:e[s];o?o.scrollTo(i?o.pageXOffset:a,i?a:o.pageYOffset):e[s]=a}),e,s,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=We(_.pixelPosition,(function(e,i){if(i)return i=He(e,t),Be.test(i)?C(e).position()[t]+"px":i}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,s){C.fn[s]=function(a,o){var r=arguments.length&&(i||"boolean"!=typeof a),n=i||(!0===a||!0===o?"margin":"border");return W(this,(function(t,i,a){var o;return b(t)?0===s.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===a?C.css(t,i,n):C.style(t,i,a,n)}),t,r?a:void 0,r)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var i,s,a;if("string"==typeof t&&(i=e[t],t=e,e=i),f(e))return s=n.call(arguments,2),(a=function(){return e.apply(t||this,s.concat(n.call(arguments)))}).guid=e.guid=e.guid||C.guid++,a},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=D,C.isFunction=f,C.isWindow=b,C.camelCase=q,C.type=w,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(qt,"")},void 0===(s=(function(){return C}).apply(t,[]))||(e.exports=s);var Zt=i.jQuery,Qt=i.$;return C.noConflict=function(e){return i.$===C&&(i.$=Qt),e&&i.jQuery===C&&(i.jQuery=Zt),C},void 0===a&&(i.jQuery=i.$=C),C}))},I2GY:function(e,t,i){var s,a,o;a=[i("wGFc")],void 0===(o="function"==typeof(s=function(){(function(e,t,i){t.widget({ejNumericTextbox:["ej.NumericTextbox","e-numerictextbox"],ejPercentageTextbox:["ej.PercentageTextbox","e-percentagetextbox"],ejCurrencyTextbox:["ej.CurrencyTextbox","e-currencytextbox"]},{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0,requireParser:!0},defaults:{width:"",height:"",value:null,name:null,htmlAttributes:{},minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,incrementStep:1,decimalPlaces:0,validateOnType:!1,cssClass:"",enablePersistence:!1,showSpinButton:!0,locale:"en-US",enableStrictMode:!1,showRoundedCorner:!1,readOnly:!1,enabled:!0,enableRTL:!1,watermarkText:"Enter value",validationRules:null,validationMessage:null,groupSeparator:null,groupSize:null,positivePattern:null,currencySymbol:null,negativePattern:null,change:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{minValue:"number",maxValue:"number",incrementStep:"number",decimalPlaces:"number",showSpinButton:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",locale:"string",watermarkText:"string",cssClass:"string",readOnly:"boolean",enabled:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",validateOnType:"boolean",groupSeparator:"string"},observables:["value"],_setModel:function(e){var i=!1;for(var s in e)switch(s){case"value":t.isNullOrUndefined(e.minValue)&&t.isNullOrUndefined(e.maxValue)?(this._setValue(e[s],!0),e[s]=this.model.value):(this.model.value=this._checkNumValue(e[s]),this._localizedFormat(),this._raiseChangeEvent(!0),i=!0);break;case"enableRTL":this._enableRTL(e[s]);break;case"width":this._setWidth(e[s]);break;case"height":this._setHeight(e[s]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[s],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"minValue":if(isNaN(e[s]))return;this.model.minValue=-1==this.model.decimalPlaces?e[s]:parseFloat(e[s].toFixed(this.model.decimalPlaces)),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value),i=!0;break;case"maxValue":if(isNaN(e[s]))return;this.model.maxValue=-1==this.model.decimalPlaces?e[s]:parseFloat(e[s].toFixed(this.model.decimalPlaces)),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value),i=!0;break;case"incrementStep":if(isNaN(e[s]))return;this.model.incrementStep=-1==this.model.decimalPlaces?e[s]:parseFloat(e[s].toFixed(this.model.decimalPlaces));break;case"enableStrictMode":this.model.enableStrictMode=e[s],i=!0;break;case"showSpinButton":this._showSpin(e[s]);break;case"showRoundedCorner":this._roundedCorner(e[s]);break;case"locale":this.model.decimalPlaces=t.isNullOrUndefined(this._options.decimalPlaces)&&this.model.decimalPlaces===this.culture.numberFormat.decimals||-1===this._options.decimalPlaces?-1:this.model.decimalPlaces,this._setLocalize(e[s]),this._options.decimalPlaces=this.model.decimalPlaces,e[s]=this.model.locale;break;case"decimalPlaces":this._setDecimal(e[s]),t.isNullOrUndefined(this._options)&&(this._options={}),this._options.decimalPlaces=e[s];break;case"cssClass":this._setSkin(e[s]);break;case"readOnly":this._setReadOnly(e[s]);break;case"enabled":e[s]?this.enable():this.disable();break;case"watermarkText":t.isNullOrUndefined(this._options)||(this._options=[]),this._options.watermarkText=this.model.watermarkText=e[s],this._localizedLabels.watermarkText=this.model.watermarkText,this._changeWatermark(e[s]);break;case"htmlAttributes":this._addAttr(e[s]);break;case"groupSeparator":this._checkSeparator(e[s]),e[s]=this.model.groupSeparator;break;case"positivePattern":case"negativePattern":case"groupSize":case"currencySymbol":this.model[s]=e[s],this._options[s]=e[s],this._initCustomValue(),e[s]=this.model[s],this._setValue(this.model.value,!0)}i&&(this._validateMinMaxValue(!0,!0),e.value=this.model.value,e.maxValue=this.model.maxValue,e.minValue=this.model.minValue,this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value)),this._checkSeparator(this.model.groupSeparator),this.element.val(this._removeSeparator(this.model.value)),this._updateSeparator(),this._checkErrorClass()},_destroy:function(){this.wrapper&&(this.element.insertBefore(this.wrapper),this.wrapper.remove()),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.val("").removeClass("e-input e-disable e-no-spin").empty(),this.element.removeAttr("disabled aria-disabled"),this.wrapper.removeAttr("aria-valuemin aria-valuemax aria-valuenow aria-live"),this._cloneElement.attr("role")||this.element.removeAttr("role"),this.element.css("display","block")},_init:function(e){if(this._cloneElement=this.element.clone(),this._options=t.isNullOrUndefined(e)?{}:e,!this.element.is("input")||!this.element.is("input[type=text]")&&!this.element.is("input[type=number]")&&this.element.attr("type"))return this._destroy(),!1;this.model.decimalPlaces>0&&(this.element[0].type=this.element.is("input[type=number]")?"tel":"text"),this.element.is("input[type=number]")&&this.element.addClass("e-no-spin"),this._isWatermark="placeholder"in document.createElement("input"),this.model.locale="en"==t.preferredCulture(this.model.locale).name?"en-US":t.preferredCulture(this.model.locale).name,this._localizedLabels=this._getLocalizedLabels(),this.culture=t.preferredCulture(this.model.locale),this._browsername=t.browserInfo().name,this._initCustomValue(),this._prevSeparator=null,this._checkSeparator(this.model.groupSeparator),this._checkAttribute(),this._renderControl(),this._setValues(),this._wireEvents(),this._initObjects(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._updateSeparator(),e&&e.value!=i&&this._trigger("_change",{value:this.model.value})},_checkAttribute:function(){for(var e,i,s=["min","max","step","readonly","disabled","placeholder"],a=["minValue","maxValue","incrementStep","readOnly","enabled","watermarkText"],o=0;o<s.length;o++)e=this.element.attr(s[o]),i=a[o],t.isNullOrUndefined(e)||t.isNullOrUndefined(this._options)||!t.isNullOrUndefined(this._options[i])||("watermarkText"==i?this._options[i]=e:this.model[i]="disabled"!=i&&"readOnly"!=i?t.parseFloat(e,this.model.locale):"readOnly"==i?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"accesskey"==a?s._hiddenInput.attr(i,e):"disabled"==a&&"disabled"==e?s.disable():"readonly"==a&&"readOnly"==e?s._setReadOnly(!0):"tabindex"==a?(s._hiddenInput.attr(i,e),s.element.attr(i,e)):"style"==a||"id"==a?s.wrapper.attr(i,e):"aria-label"==a||t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_setValues:function(){var e;this._id=this.element[0].id,this._textBox=this._hiddenInput[0],this._error=!1,this._timeout=null,this.isValidState=!0,this._allowkeyboard=!0,this._validateOnType=!1,this._focused=!1,this._startValue=0,"ej.CurrencyTextbox"===this.sfType&&this.model.minValue==-Number.MAX_VALUE&&(this.model.minValue=0),t.isNullOrUndefined(this.model.decimalPlaces)&&(this.model.decimalPlaces="ej.CurrencyTextbox"===this.sfType?t.preferredCulture(this.model.locale).numberFormat.currency.decimals:t.preferredCulture(this.model.locale).numberFormat.decimals),this.model.decimalPlaces>=0&&(this.model.minValue=parseFloat(this.model.minValue.toFixed(this.model.decimalPlaces)),this.model.maxValue=parseFloat(this.model.maxValue.toFixed(this.model.decimalPlaces))),this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this._localizedFormat(),this._validateMinMaxValue(!0),this._updateSymbol(this.model.locale),t.isNullOrUndefined(this.model.value)?(e=this.model.value,this.wrapper.removeClass("e-valid")):(e=-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.wrapper.addClass("e-valid")),this.element.val(e)},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r,n=this.model.validationRules;for(a in this.element.rules("add",n),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},n)if(o=null,!t.isNullOrUndefined(n[a])){if(t.isNullOrUndefined(n.messages&&n.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessage)a==r&&(o=this.model.validationMessage[a]);else o=n.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_updateValueAttributes:function(e,t,i){e&&e!=-Number.MAX_VALUE&&this.wrapper.attr({"aria-valuemin":e}),t&&t!=Number.MAX_VALUE&&this.wrapper.attr({"aria-valuemax":t}),i&&this.wrapper.attr({"aria-valuenow":i})},_renderControl:function(){this.wrapper=t.buildTag("span.e-widget e-pinch"),this.innerWrap=t.buildTag("span.e-in-wrap e-box "),this.wrapper.attr("style",this.element.attr("style")),"ej.NumericTextbox"===this.sfType?this.wrapper.addClass("e-numeric"):"ej.PercentageTextbox"===this.sfType?this.wrapper.addClass("e-percent"):"ej.CurrencyTextbox"===this.sfType&&this.wrapper.addClass("e-currency"),this.wrapper.append(this.innerWrap).insertAfter(this.element),this.innerWrap.append(this.element),this._hiddenInput=t.buildTag("input","",{},{type:"text"}).insertBefore(this.element),this._hiddenInput.attr("data-role","none"),this._hiddenInput[0].tabIndex=this.element[0].tabIndex,this._hiddenInput.attr("accesskey",this.element[0].accessKey),this.element[0].accessKey="",this._hiddenInput.css("display","block"),this.element.css("display","none"),this._isWatermark||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this._localizedLabels.watermarkText),this._hiddenSpan.css("display","none"),this._on(this._hiddenSpan,"mousedown",this._focusIn),this._on(this._hiddenSpan,"mousewheel",this._mouseWheel),this._on(this._hiddenSpan,"DOMMouseScroll",this._mouseWheel)),this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null==this.element.attr("name")&&this.element.attr("name",this.model.name),this.element.addClass("e-input"),t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value?("."==t.preferredCulture(this.model.locale).numberFormat[","]&&(this.element[0].value=this.element[0].value.replace(".",",")),this.model.value=this._checkNumValue(this.element[0].value)):("string"==typeof this.model.value&&"."==t.preferredCulture(this.model.locale).numberFormat[","]&&(this.model.value=this.model.value.replace(".",",")),this.model.value=this._checkNumValue(this.model.value)),this._hiddenInput.attr({value:this.model.value}).addClass("e-input"),this.wrapper.attr({role:"spinbutton"}),this._updateValueAttributes(this._options.minValue,this._options.maxVal,this.model.value),this.element.attr({"aria-live":"assertive",value:this.model.value});var i=e('<span class="e-select"><span class="e-spin e-spin-up " role="button" aria-label="Increase Value" unselectable="on"></span><span class="e-spin e-spin-down" role="button" aria-label="Decrease Value" unselectable="on"></span></span>');i.find(".e-spin-up").append(t.buildTag("span.e-icon e-arrow e-arrow-sans-up").attr({role:"presentation",unselectable:"on"})),i.find(".e-spin-down").append(t.buildTag("span.e-icon e-arrow e-arrow-sans-down").attr({role:"presentation",unselectable:"on"})),this.innerWrap.append(i),this.spin=this.wrapper.find(".e-select"),this.spinUp=this.wrapper.find(".e-spin-up"),this.spinDown=this.wrapper.find(".e-spin-down"),this._setWidth(this.model.width),this._setHeight(this.model.height),""!=this.model.cssClass&&this._setSkin(this.model.cssClass),this._showSpin(this.model.showSpinButton),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._enableRTL(this.model.enableRTL),this.model.readOnly&&this._setReadOnly(this.model.readOnly),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this.enable():this.disable()},_initObjects:function(){this._preVal=this.model.value,null===this.model.value?(this.isValidState=!0,this._hiddenInput.val(null)):(this.model.value<this.model.minValue||this.model.value>this.model.maxValue)&&(this.isValidState=!1),this._checkErrorClass(),this._setWaterMark()},_showSpin:function(e){e?(this.spin&&(this.spin.show(),this.innerWrap.addClass("e-padding")),this._spinEvents("_on")):(this.spin&&(this.spin.hide(),this.innerWrap.removeClass("e-padding")),this._spinEvents("_off"))},_roundedCorner:function(e){e&&!this.innerWrap.hasClass("e-corner")?this.innerWrap.addClass("e-corner"):this.innerWrap.hasClass("e-corner")&&this.innerWrap.removeClass("e-corner")},_enableRTL:function(e){e?this.spin?this.wrapper.addClass("e-rtl"):this.element.addClass("e-rtl"):this.spin?this.wrapper.removeClass("e-rtl"):this.element.removeClass("e-rtl")},_setWidth:function(e){""!=e?this.wrapper.width(e):this.model.width=this.wrapper.outerWidth()},_setHeight:function(e){""!=e?this.wrapper.height(e):this.model.height=this.wrapper.outerHeight()},_setSkin:function(e){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)},_setValue:function(e,t){this._isWatermark||this._hiddenSpan.css("display","none"),this.model.value=this._checkNumValue(e),this._validateMinMaxValue(!1),this._checkErrorClass(),this._localizedFormat(),this._raiseChangeEvent(t),this._setWaterMark()},_setLocalize:function(e){var i,s=t.preferredCulture(this.model.locale).numberFormat[","];this.model.locale="en"==t.preferredCulture(e).name?"en-US":t.preferredCulture(e).name,this.model.groupSeparator=t.isNullOrUndefined(this._options.groupSeparator)&&s===this.model.groupSeparator?t.preferredCulture(this.model.locale).numberFormat[","]:this.model.groupSeparator,this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this.culture=t.preferredCulture(this.model.locale),this._initCustomValue(),this._updateSymbol(this.model.locale),this._localizedFormat(),this._changeWatermark(this.model.watermarkText),i=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(i)},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText},_updateSymbol:function(e){this._percentSymbol=t.preferredCulture(e).numberFormat.percent.symbol,this._currencySymbol=t.preferredCulture(e).numberFormat.currency.symbol},_setDecimal:function(e){this.model.decimalPlaces=e,this._localizedFormat()},_validateMinMaxValue:function(e,i){var s,a=!1;this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue),!t.isNullOrUndefined(this.model.value)&&this.model.minValue>this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this._startValue=this.model.value=this.model.minValue):this.isValidState=!1,a=!0):!t.isNullOrUndefined(this.model.value)&&this.model.maxValue<this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this.model.value=this.model.maxValue):this.isValidState=!1,a=!0):this.isValidState=!0,this.model.minValue==this.model.maxValue&&(this._startValue=this.model.minValue),a&&e&&(s=this._formatValue(this.model.value,"n",!0),this._hiddenInput.val(s),s=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(s),this._localizedFormat(),this._raiseChangeEvent(i))},_convertToExponetial:function(e){var i,s,a,o,r,n,l,d="",h=e<0;for(e=e.toString(),s=t.preferredCulture(this.model.locale).numberFormat,a=e=e.replace(".",s["."]),"ej.NumericTextbox"===this.sfType?(i=h?s.pattern[0]:t.isNullOrUndefined(s.pattern[1])?"n":s.pattern[1],e=h?e.replace("-",""):e,o=""):"ej.PercentageTextbox"===this.sfType?(i=h?s.percent.pattern[0]:s.percent.pattern[1],e=h?e.replace("-",""):e,o=s.percent.symbol):"ej.CurrencyTextbox"===this.sfType&&(i=h?s.currency.pattern[0]:s.currency.pattern[1],e=h?e.replace("-",""):e,o=s.currency.symbol),r=0,n=i.length;r<n;r++)d+="n"===(l=i.charAt(r))?e:"$"===l||"%"===l?o:l;return{formattedValue:d,unformattedValue:a}},_localizedFormat:function(){var e,i,s,a;this.culture=t.preferredCulture(this.model.locale),this._decimalSep=t.preferredCulture(this.model.locale).numberFormat["."],t.isNullOrUndefined(this.model.value)?this._textBox.value="":-1==this.model.value.toString().indexOf("e")?(this._textBox.value=this._removeSeparator(this.model.value),this._focused||""==this._textBox.value?(a=this._convertToExponetial(this.model.value),this._textBox.value=a.unformattedValue,this._focused||""==this._textBox.value||(this._textBox.value=a.formattedValue)):(this._textBox.value=this._formatValue(this.model.value,"n",!0),"ej.PercentageTextbox"===this.sfType?this._appendPercentSymbol(this._textBox.value):"ej.CurrencyTextbox"===this.sfType&&this._appendCurrencySymbol(this._textBox.value),e="ej.CurrencyTextbox"===this.sfType?this._textBox.value.indexOf(this._currencySymbol):"ej.PercentageTextbox"===this.sfType?this._textBox.value.indexOf(this._percentSymbol):-1,-1==this.model.decimalPlaces&&0!=this._afterDec&&(this._textBox.value=this._textBox.value.substr(0,this._textBox.value.lastIndexOf(this._decimalSep)),e>1&&(t.isNullOrUndefined(this._afterDec)||""==this._afterDec)&&("ej.CurrencyTextbox"===this.sfType&&(this._textBox.value=this._textBox.value+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(this._textBox.value=this._textBox.value+" "+this._percentSymbol)),-1!=this.model.decimalPlaces||t.isNullOrUndefined(this._afterDec)||""==this._afterDec||((i=this._textBox.value.lastIndexOf(this._decimalSep))>=0&&(this._textBox.value=this._textBox.value.substr(0,i)),s=this._afterDec,e>1&&("ej.CurrencyTextbox"===this.sfType&&(s=s+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(s=s+" "+this._percentSymbol)),this._textBox.value=this._textBox.value+this._decimalSep+s)))):this._textBox.value=this.model.value.toString()},_checkNumValue:function(e){return"string"==typeof e&&(e=this._changeSeparator?this._replaceSeparator(e,this.model.groupSeparator,t.preferredCulture(this.model.locale).numberFormat[","]):e),"string"!=typeof e||isNaN(this._parseValue(e))?"number"!=typeof e||isNaN(e)?null:e:(e=this._parseValue(e),parseFloat(e))},_setReadOnly:function(e){this.model.readOnly=e,e?(this.element.attr("readonly",!0),this._hiddenInput.attr("readonly",!0)):(this.element.prop("readonly",!1),this._hiddenInput.prop("readonly",!1))},_setWaterMark:function(){null!=this._localizedLabels.watermarkText&&""===this._textBox.value&&""===e.trim(this._hiddenInput.val())&&(this._isWatermark?(this._hiddenInput.attr("placeholder",this._localizedLabels.watermarkText),this.element.attr("placeholder",this._localizedLabels.watermarkText)):this._hiddenSpan.css("display","block").text(this._localizedLabels.watermarkText))},_changeWatermark:function(e){if(!this.model.enabled)return!1;this._isWatermark?(this._hiddenInput.attr("placeholder",e),this.element.attr("placeholder",e)):this._hiddenSpan.text(e)},_setSelectionRange:function(e,t){function i(i){i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}var s,a=this._textBox;try{a.setSelectionRange?"edge"==this._browsername?setTimeout((function(){a.setSelectionRange(e,t)})):a.setSelectionRange(e,t):a.createTextRange&&i(a.createTextRange())}catch(o){s=this,window.setTimeout((function(){document.body.focus(),s._textBox.select(),document.selection&&i(document.selection.createRange())}),1)}},_getSelection:function(e){if("number"!=this._textBox.type){var t=null;return document.selection?""===(t=document.selection.createRange()).text?t.text:this._removeFormats(t.text):null==e?this.model.value:this._removeFormats(e.substring(this._textBox.selectionStart,this._textBox.selectionEnd))}},_caretPosition:function(){var e,t=this._textBox,i=0;if("number"!=t.type)return document.selection?(t.focus(),(e=document.selection.createRange()).moveStart("character",-t.value.length),i=e.text.length):(t.selectionStart||"0"==t.selectionStart)&&(i=t.selectionEnd),i},_appendPercentSymbol:function(e){this._percentSymbol&&(e=e.replace(this._percentSymbol,"")),e.indexOf(t.preferredCulture(this.model.locale).numberFormat.percent.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e)/100,"p",!0)),this._percentSymbol=t.preferredCulture(this.model.locale).numberFormat.percent.symbol},_appendCurrencySymbol:function(e){this._currencySymbol&&(e=e.replace(this._currencySymbol,"")),e.indexOf(t.preferredCulture(this.model.locale).numberFormat.currency.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e),"c",!0)),this._currencySymbol=t.preferredCulture(this.model.locale).numberFormat.currency.symbol},_removeFormats:function(e){var i=t.preferredCulture(this.model.locale).numberFormat[","];return null!=e?"."==i?e.toString().replace(/["."]/g,""):e.toString().match(new RegExp(i,"g"))?e.toString().replace(new RegExp(i,"g"),""):e:null},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},enable:function(){this.model.enabled=!0,this.element[0].disabled=!1,this.element.prop("disabled",!1),this._hiddenInput.prop("disabled",!1),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this._hiddenInput.removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select span.e-icon.e-arrow").removeClass("e-disable"),this.wrapper.removeClass("e-disable-wrap")},disable:function(){this.model.enabled=!1,this.element[0].disabled=!0,this.element.attr("disabled","disabled"),this._hiddenInput.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this._hiddenInput.addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select span.e-icon.e-arrow").addClass("e-disable"),this.wrapper.addClass("e-disable-wrap")},getValue:function(){return this.model.value},_wireEvents:function(){this._on(this._hiddenInput,"focus",this._focusIn),this._on(this.element,"paste",this._paste),this._on(this.element,"blur",this._focusOut),this._on(this.element,"keydown",this._keyDown),this._on(this.element,"keypress",this._keyPress),this._on(this.element,"mousewheel",this._mouseWheel),this._on(this.element,"DOMMouseScroll",this._mouseWheel)},_spinEvents:function(e){this[e](this.spinUp,"mousedown mouseup touchstart touchend",this._spinUpClick),this[e](this.spinDown,"mousedown mouseup touchstart touchend",this._spinDownClick)},_isIE8:function(){var e=!1,i=t.browserInfo();return"msie"==i.name&&"8.0"==i.version&&(e=!0),e},_spinUpClick:function(t){var i,s=!1;t.button?s=this._isIE8()?1!=t.button:0!=t.button:t.which&&(s=3==t.which),s||(i=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this.wrapper.find(".e-animate").removeClass("e-animate"),this.spinUp.addClass("e-animate"),this._on(this.spinUp,"mouseleave",this._mouseUpClick),this.spinUp.addClass("e-active"),i=this,"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("increment"),this.spinUp.removeClass("e-active"),this._off(e(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval((function(){i._updateInputField("increment")}),150),this._on(e(document),"mouseup",this._mouseUpClick))))},_spinDownClick:function(t){var i,s=!1;t.button?s=this._isIE8()?1!=t.button:0!=t.button:t.which&&(s=3==t.which),s||(i=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this.wrapper.find(".e-animate").removeClass("e-animate"),this.spinDown.addClass("e-animate"),this._on(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.addClass("e-active"),"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("decrement"),this.spinDown.removeClass("e-active"),this._off(e(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval((function(){i._updateInputField("decrement")}),150),this._on(e(document),"mouseup",this._mouseUpClick))))},_mouseUpClick:function(e){e.stopPropagation(),clearTimeout(this._timeout),this._off(this.spinUp,"mouseleave",this._mouseUpClick),this._off(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.removeClass("e-active"),this.spinUp.removeClass("e-active")},_mouseWheel:function(e){if(e.preventDefault(),this._focused||this.element[0].focus(),this.model.enabled&&!this.model.readOnly){var t,i=e.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._updateInputField("increment"):t<0&&this._updateInputField("decrement"),this._cancelEvent(e)}},_numberValue:function(){var e=this._textBox.value;return"ej.NumericTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"n",!0)),("ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType)&&(e=this._formatValue(this.model.value,"n",!0)),"string"!=typeof e||isNaN(this._parseValue(e))?"":e},_formatValue:function(e,i,s){return s&&this._updateCultureInfo(),e=t.format(e,-1!=this.model.decimalPlaces||-1==this.model.decimalPlaces&&null==this.model.value?i+this.model.decimalPlaces:i+this._afterDec.length,this.model.locale),s&&this._restCultureInfo(),e},_parseValue:function(e){return this._updateCultureInfo(),e=t.parseFloat(e,this.model.locale),this._restCultureInfo(),e},_initCustomValue:function(){var e,i="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";switch(i){case"percent":case"currency":e=this.culture.numberFormat[i],t.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),t.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=e.pattern[1]),t.isNullOrUndefined(this._options.currencySymbol)&&"currency"==i&&(this.model.currencySymbol=e.symbol),t.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0]);break;case"numeric":e=this.culture.numberFormat,t.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),t.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=t.isNullOrUndefined(e.pattern[1])?"n":e.pattern[1]),t.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0])}},_updateCultureInfo:function(){var e,t="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";this._oldNegativePattern=(e="numeric"==t?this.culture.numberFormat:this.culture.numberFormat[t]).pattern[0],this._oldGroupSize=e.groupSizes[0],e.pattern[0]=this.model.negativePattern,e.groupSizes[0]=this.model.groupSize,this._oldPositivePattern=e.pattern[1],e.pattern[1]=this.model.positivePattern,"currency"==t&&(this._oldcurrencySymbol=e.symbol,e.symbol=this.model.currencySymbol)},_restCultureInfo:function(){var e,t="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";(e="numeric"==t?this.culture.numberFormat:this.culture.numberFormat[t]).pattern[0]=this._oldNegativePattern,e.groupSizes[0]=this._oldGroupSize,e.pattern[1]=this._oldPositivePattern,"currency"==t&&(e.symbol=this._oldcurrencySymbol)},_toggleTextbox:function(e){this._hiddenInput.toggle(e),this.element.toggle(!e)},_paste:function(e){var i,s;window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),s=t.parseFloat(i,this.model.locale),isNaN(s)&&i&&this._cancelEvent(e)},_focusIn:function(){if(!this.model.readOnly){if(this._focused=!0,t.isNullOrUndefined(this.model.value)||this.element.val(this._removeSeparator(this.model.value)),this._toggleTextbox(!1),this._textBox=this.element[0],this.element[0].focus(),this._preVal=this.model.value,this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),!this._error){if(""!=this._textBox.value){var e=this._formatValue(this._textBox.value,"n",!0);-1==this.model.decimalPlaces&&(this._separateValue(this._textBox.value.toString(),!0,!0),t.isNullOrUndefined(this._afterDec)||""==this._afterDec||(e=this._beforeDec+this._decimalSep+this._afterDec)),this._textBox.value=e,this._hiddenInput.val(e)}this._setSelectionRange(0,this._textBox.value.length)}this._trigger("focusIn",{value:this.model.value})}},_separateValue:function(e,t,i){var s=e.lastIndexOf(t?this._decimalSep:".");this._beforeDec=s>=0?e.substr(0,s):e,!t&&i&&(this._afterDec=s>=0?e.substr(s+1):"")},_focusOut:function(){var e;this._focused=!1,this.wrapper.removeClass("e-focus"),this._separateValue(this._textBox.value,!1,!0),this._error||(""!=this._textBox.value?((e=t.parseFloat(this._textBox.value,this.model.locale))<this.model.minValue?this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.minValue,"n",!1):e>this.model.maxValue&&(this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.maxValue,"n",!1)),this.model.value=-1!=this.model.decimalPlaces||t.isNullOrUndefined(this._afterDec)||-1!=this._textBox.value.lastIndexOf(this._decimalSep)||-1!=e.toString().indexOf("e")?t.parseFloat(this._textBox.value,this.model.locale):t.parseFloat(this._textBox.value+this._decimalSep+this._afterDec,this.model.locale),isNaN(this.model.value)&&!this.model.value&&(this.model.value=null,this.isValidState=!1),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0],this._localizedFormat(),this._checkErrorClass()):(this.model.value=e=""==this._textBox.value?null:this._textBox.value,this._hiddenInput.val(e),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0]),null===this.model.value||this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue?this.isValidState=!0:this.model.enableStrictMode&&(this.isValidState=!1),this._raiseChangeEvent(),this._setWaterMark(),e=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(e),this._updateSeparator(),this._trigger("focusOut",{value:this.model.value})),this._checkErrorClass(),this._afterDec=""},_cancelEvent:function(e){return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation(),e.preventDefault(),!1},_updateInputField:function(s){var a,o,r;this.isValidState=!0,this._focused||e(this._hiddenInput[0]).focus(),a=this.model.incrementStep,""===this._textBox.value?(this._textBox.value=this._formatValue(this._startValue,"n",!0),a=0):this._textBox.value.indexOf(" ")>=0&&(this._textBox.value=this._textBox.value.replace(" ","")),"ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType?(r=o=this._textBox.value,o.indexOf(t.preferredCulture(this.model.locale).numberFormat.percent.symbol)>-1&&(r=o.substring(0,o.length-1)),this.model.value=this._parseValue(r)):"ej.NumericTextbox"==this.sfType&&(this.model.value=t.parseFloat(this._textBox.value,this.model.locale)),isNaN(this.model.value)&&!this.model.value&&(this.model.value=this._startValue),this.model.value>=this.model.minValue&&this.model.value>this.model.maxValue?(this.model.value=this.model.maxValue,this._setValue(this.model.value)):this.model.value<this.model.minValue&&this.model.value<=this.model.maxValue?(this.model.value=this.model.minValue,this._setValue(this.model.value)):this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(r="increment"==s?this.model.value+a:this.model.value-a,-1==this.model.decimalPlaces&&(this.value==i&&this._setValue(this.model.value),r=-1==this.model.value.toString().indexOf("e")?parseFloat(r.toFixed(this._afterDec.length)):parseFloat(r)),r>=this.model.minValue&&r<=this.model.maxValue&&this._setValue(r)),this._checkErrorClass()},_validateDecimal:function(e){var i=String.fromCharCode(e.keyCode);return i=188==e.keyCode?",":190==e.keyCode?".":110==e.keyCode?t.preferredCulture(this.model.locale).numberFormat["."]:i,t.preferredCulture(this.model.locale).numberFormat["."].charCodeAt(0)==i.charCodeAt(0)},_allowKeyCodes:function(e){for(var t=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110,173,86,88,67],i=0;i<t.length;i++)if(e.keyCode==t[i]||this._validateDecimal(e)&&0!=this.model.decimalPlaces)return!0;return!1},_raiseChangeEvent:function(e){var i,s=this.model.value;this._checkNumValue(this._preVal)!==this._checkNumValue(s)&&(this._preVal=s,this.model.value=-1!=this.model.decimalPlaces||t.isNullOrUndefined(this.model.value)?this._checkNumValue(this._formatValue(this._preVal,"n",!1)):parseFloat(this.model.value),this._updateHiddenField(),t.isNullOrUndefined(this.model.value)?(i=this.model.value,this.wrapper.removeClass("e-valid")):(i=-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,-1==this.model.decimalPlaces&&(this._separateValue(this.model.value.toString(),!1,!0),t.isNullOrUndefined(this._afterDec)||""==this._afterDec||(i=this._beforeDec+this._decimalSep+this._afterDec)),this.wrapper.addClass("e-valid")),this.element.val(i),this.wrapper.attr("aria-valuenow",i),this._updateSeparator(),this.element.trigger("change"),this._trigger("_change",{value:this.model.value,isInteraction:!e}),this._trigger("change",{value:this.model.value,isInteraction:!e}))},_updateHiddenField:function(){var e=this._textBox;this._textBox=this._hiddenInput[0],this._localizedFormat(),this._textBox=e},_removeSeparator:function(e){var i,s;if(!t.isNullOrUndefined(e))return-1==this.model.decimalPlaces&&this._separateValue(e.toString(),!1,!0),-1==e.toString().indexOf("e")&&(e=this._checkNumValue(this._formatValue(e,"n",!1))),i=e.toString(),s=t.preferredCulture(this.model.locale).numberFormat,i.replace(".",s["."])},_updateSeparator:function(){var e,i,s,a,o;this._changeSeparator&&this.model.value&&("ej.NumericTextbox"===this.sfType?e=this._formatValue(this.model.value,"n",!0):"ej.PercentageTextbox"===this.sfType?e=this._formatValue(this.model.value/100,"p",!0):"ej.CurrencyTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"c",!0)),-1==this.model.decimalPlaces&&(i=e.lastIndexOf(this._decimalSep),s=e.substr(i+1),this._separateValue(e,!0,!1),a="ej.CurrencyTextbox"===this.sfType?e.indexOf(this._currencySymbol):"ej.PercentageTextbox"===this.sfType?this._textBox.value.indexOf(this._percentSymbol):-1,o=this._afterDec,a>1&&("ej.CurrencyTextbox"===this.sfType&&(o=o+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(o=o+" "+this._percentSymbol)),t.isNullOrUndefined(this._afterDec)||""==this._afterDec||(e=this._beforeDec+this._decimalSep+o),t.isNullOrUndefined(this._afterDec)||""!=this._afterDec||(e=this._beforeDec+this._decimalSep+s)),this._hiddenInput.val(this._replaceSeparator(e,t.preferredCulture(this.model.locale).numberFormat[","],this.model.groupSeparator)))},_replaceSeparator:function(e,i,s){var a,o,r,n;return this._decimalSep=t.preferredCulture(this.model.locale).numberFormat["."],a=""===i?new RegExp("\\s","g"):new RegExp("\\"+i,"g"),this.model.groupSeparator==t.preferredCulture(this.model.locale).numberFormat["."]?(o=this.model.decimalPlaces,-1==this.model.decimalPlaces&&(r=e.lastIndexOf(this._decimalSep),o=e.substr(r+1).length),e.substring(0,n=e.length-o-1).replace(a,s)+e.substring(n,e.length)):e.replace(a,s)},_checkSeparator:function(e){this.model.groupSeparator=null!=e?this._validateSeparator(e):t.preferredCulture(this.model.locale).numberFormat[","],this._changeSeparator=t.preferredCulture(this.model.locale).numberFormat[","]!=this.model.groupSeparator,this._prevSeparator=this.model.groupSeparator},_validateSeparator:function(e){var i=e.toString();return new RegExp("[a-zA-Z0-9]").test(i=i.length>1?i[0]:i)?null!=this._prevSeparator?this._prevSeparator:t.preferredCulture(this.model.locale).numberFormat[","]:i},_keyPress:function(e){var i,s,a,o,r,n;if(0!==e.which&&!e.metaKey&&!e.ctrlKey&&8!==e.keyCode&&13!==e.keyCode)return s=this._caretPosition(),a=this._textBox.value.toString().substring(0,s),o=this._textBox.value.toString().substring(s),r=t.preferredCulture(this.model.locale).numberFormat,n=a+String.fromCharCode(e.which)+o,i="."===(i=r["."])?"\\"+i:i,!!(0===this.model.decimalPlaces?new RegExp("^((-)?(\\d*)(-)?)?$"):new RegExp("^(-)?(((\\d+("+i+"\\d*)?)|("+i+"\\d*)))?((-)?)$")).test(n)&&void 0},_validateDecimalOnType:function(e){var i,s,a,o,r,n;return i=this._caretPosition(),this._textBox.value.toString().substring(0,i),this._textBox.value.toString().substring(i),a=this._getSelection(this._textBox.value),r=t.preferredCulture(this.model.locale).numberFormat["."],o=t.isNullOrUndefined(this.model.value)?"":this.model.value.toString(),0!=this.model.decimalPlaces?(n=this._textBox.value.split(r)[1],s=o.indexOf(r)>0&&o.substring(o.indexOf(r)+1,o.length).length>this.model.decimalPlaces||!!(0==a.length&&i>this._textBox.value.indexOf(r)&&n&&n.length>=this.model.decimalPlaces)):s=!1,s?(this._keypressFlag=!1,this._cancelEvent(e),!1):void 0},_keyDown:function(s){var a,o,r,n,l,d;if(!this.model.readOnly)if(this._CurrentCultureInfo=JSON.parse(JSON.stringify(t.preferredCulture())),s.keyCode>=48&&s.keyCode<=57||s.keyCode>=96&&s.keyCode<=105||this._allowKeyCodes(s)){if(s.shiftKey&&(35==s.keyCode||36==s.keyCode||37==s.keyCode||39==s.keyCode||46==s.keyCode||127==s.keyCode)||s.ctrlKey&&(86==s.keyCode||118==s.keyCode||67==s.keyCode||88==s.keyCode))return!0;if(1==s.ctrlKey&&9!=s.keyCode&&17!=s.keyCode&&86!=s.keyCode&&67!=s.keyCode||67==s.keyCode||86==s.keyCode||88==s.keyCode)return this._keypressFlag=!1,this._cancelEvent(s),!1;if((s.keyCode>=48&&s.keyCode<=57||s.keyCode>=96&&s.keyCode<=105||110==s.keyCode)&&(a=this._caretPosition(),this._textBox.value.toString().substring(0,a),this._textBox.value.toString().substring(a),r=this._getSelection(this._textBox.value),s.keyCode>=96&&s.keyCode<=105&&(s.keyCode-=48),this.model.validateOnType&&-1!=this.model.decimalPlaces&&this._validateDecimalOnType(s),this._validateOnType)){var h=t.preferredCulture(this.model.locale).numberFormat["."],c=this.model.value.toString(),u=c.indexOf(h),p=this.model.value,m=-1==this.model.decimalPlaces?this.model.minValue:this.model.minValue.toFixed(this.model.decimalPlaces),g=-1==this.model.decimalPlaces?this.model.maxValue:this.model.maxValue.toFixed(this.model.decimalPlaces),_=!1;if((m.toString().indexOf("e")>0||g.toString().indexOf("e")>0)&&(_=!0),_)0!=this.model.decimalPlaces?(n=this._textBox.value.split(".")[1],o=(c.indexOf(h)>0||Number(c)<Number(m)||Number(c)>Number(g))&&c.substring(c.indexOf(h)+1,c.length).length>this.model.decimalPlaces||!!(0==r.length&&a>this._textBox.value.indexOf(h)&&n&&n.length>=this.model.decimalPlaces)):o=!1;else if("."!=h&&(c=this._textBox.value.toString(),this.model.minValue.toString().match(new RegExp(".","g"))&&(m=this.model.minValue.toString().replace(/["."]/g,h)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(g=this.model.maxValue.toString().replace(/["."]/g,h))),x=m.toString().indexOf(h)>0?Number(m.toString().substring(0,m.toString().indexOf(h))):this.model.minValue,y=g.toString().indexOf(h)>0?Number(g.toString().toString().substring(0,g.toString().indexOf(h))):this.model.maxValue,u>0){p=Number(c.substring(c.indexOf(h)+1,c.toString().length)),x=m.toString().indexOf(h)>0?Number(m.toString().substring(m.toString().indexOf(h)+1,m.toString().length)):0,y=g.toString().indexOf(h)>0?Number(g.toString().substring(g.toString().indexOf(h)+1,g.toString().length)):0;var f=Number(c.substring(0,c.indexOf(h))),b=Number(m.toString().substring(0,m.toString().indexOf(h))),v=Number(g.toString().substring(0,g.toString().indexOf(h)));o=!this._validateValue(p,x,y,!0,f,b,v)}else o=!this._validateValue(p,x,y,!1);if(o)return this._keypressFlag=!1,this._cancelEvent(s),!1}if(38==s.keyCode&&this._allowkeyboard&&(this._updateInputField("increment"),this._cancelEvent(s)),40==s.keyCode&&this._allowkeyboard&&(this._updateInputField("decrement"),this._cancelEvent(s)),8==s.keyCode&&(a=this._caretPosition(),this._textBox.value.substring(0,a),this._textBox.value.substring(a),r=this._getSelection(this._textBox.value)),(46==s.keyCode||127==s.keyCode)&&(a=this._caretPosition(),this._textBox.value.substring(0,a),this._textBox.value.substring(a),r=this._getSelection(this._textBox.value)),this._validateDecimal(s)&&0!=this.model.decimalPlaces&&46!=s.keyCode){var x,y,w=t.preferredCulture(this.model.locale).numberFormat["."],S=this._textBox.value.split(w),C=this._caretPosition();if(this._textBox.selectionEnd-this._textBox.selectionStart==this._textBox.value.length)return this._textBox.value=w,this._setSelectionRange(C+1,C+1),this._keypressFlag=!1,this._cancelEvent(s),!1;if(S[1]==i){if(l=S[0].substring(0,C),d=S[0].substring(C),(this.model.minValue.toString().indexOf("e")>0||this.model.maxValue.toString().indexOf("e")>0)&&(_=!0),-1!=this.model.decimalPlaces&&d.length>this.model.decimalPlaces&&1==this.model.validateOnType)return this._keypressFlag=!1,this._cancelEvent(s),!1;if(this._validateOnType&&!_){if(this.model.minValue.toString().match(new RegExp(".","g"))&&(x=this.model.minValue.toString().replace(/["."]/g,w)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(y=this.model.maxValue.toString().replace(/["."]/g,w)),x=x.indexOf(w)>0?Number(x.substring(0,x.indexOf(w))):Number(x),y=y.indexOf(w)>0?Number(y.substring(0,y.indexOf(w))):Number(y),!this._validateValue(this.model.value,x,y,"DecimalKeyPressed"))return this._keypressFlag=!1,this._cancelEvent(s),!1;this._textBox.value=l+w+d}else this._textBox.value=l+w+d;this._setSelectionRange(C+1,C+1)}this._cancelEvent(s)}else(190==s.keyCode||110==s.keyCode)&&this._cancelEvent(s);(109==s.keyCode||189==s.keyCode||173==s.keyCode)&&((this.model.value===this._preVal||null===this.model.value)&&(this.model.value=this._textBox.value),0!=this._caretPosition()&&this._getSelection(this._removeFormats(this._textBox.value))!=this.model.value||this.model.minValue>=0&&!this.model.enableStrictMode||this._textBox.value.toString().match(new RegExp("-","g"))&&""===this._getSelection(this._textBox.value)?(this._preVal=this.model.value,this.model.value=this._textBox.value,this._cancelEvent(s)):this._getSelection()==this.model.value&&(this._preVal=this.model.value,this.model.value=null)),13==s.keyCode&&this._checkNumValue(this._preVal)!==this._checkNumValue(this._textBox.value)&&this._setValue(this._textBox.value)}else(27!=s.keyCode&&!s.ctrlKey||s.ctrlKey&&90==s.keyCode&&""===e.trim(this._textBox.value))&&(this._keypressFlag=!1,this._cancelEvent(s))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}}),t.NumericTextbox.Locale=t.NumericTextbox.Locale||{},t.NumericTextbox.Locale.default=t.NumericTextbox.Locale["en-US"]={watermarkText:"Enter value"},t.PercentageTextbox.Locale=t.PercentageTextbox.Locale||{},t.PercentageTextbox.Locale.default=t.PercentageTextbox.Locale["en-US"]={watermarkText:"Enter value"},t.CurrencyTextbox.Locale=t.CurrencyTextbox.Locale||{},t.CurrencyTextbox.Locale.default=t.CurrencyTextbox.Locale["en-US"]={watermarkText:"Enter value"}})(jQuery,Syncfusion),function(e,t){t.widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()}))},_destroy:function(){this._off(this.element,"blur",this._btnBlur),this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-txt e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),!this._cloneElement.attr("type")&&this.element.attr("type")&&this.element.removeAttr("type"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this.element.is("input")||this._setMajorIcon(e[t]);break;case"suffixIcon":this.element.is("input")||this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):this.model.contentType==t.ContentType.TextOnly?this.element.html(e):this.textspan.html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this.element.is("input")||this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==t.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this.element.is("input")||this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){t.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.element[0].id&&this.element.attr("aria-describedby",this.element[0].id)},_renderButtonNormal:function(){if((null==this.model.text||""==this.model.text)&&(this.model.text=this.element.html()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=t.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=t.buildTag("span").addClass("e-btn-span")),this.model.contentType==t.ContentType.TextAndImage){switch(this.model.imagePosition){case t.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case t.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==t.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(e(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(e(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent),this._on(this.element,"blur",this._btnBlur)},_btnBlur:function(){this.element.removeClass("e-animate")},_btnMouseClickEvent:function(e){var t,i=this;if(this.element.addClass("e-animate"),!i.model.enabled)return!1;i.element.hasClass("e-disable")||(i._trigger("_click",t={target:e.currentTarget,e:e,status:i.model.enabled}),i._trigger("click",t))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(0==e.button||1==e.which)&&(t._timeout=setInterval((function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})}),this.model.timeInterval))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t=this;t.element.hasClass("e-disable")||(32==e.keyCode||13==e.keyCode)&&t._trigger("click",{status:t.model.enabled})},_btnRepatKeyUpEvent:function(e){(32==e.keyCode||13==e.keyCode)&&clearTimeout(this._timeout)}}),t.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},t.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},t.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},t.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejCheckBox","ej.CheckBox",{_rootCSS:"e-checkbox",element:null,model:null,validTags:["input"],_addToPersist:["checked","checkState"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,htmlAttributes:{},checked:!1,enabled:!0,enableTriState:!1,showRoundedCorner:!1,enablePersistence:!1,cssClass:"",text:"",enableRTL:!1,idPrefix:"ej",size:"small",checkState:"uncheck",validationRules:null,validationMessage:null,validationMessages:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",enablePersistence:"boolean",enableTriState:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data"},observables:["checked","checkState"],checked:t.util.valueFunction("checked"),checkState:t.util.valueFunction("checkState"),_init:function(e){this._cloneElement=this.element.clone();var i=t.browserInfo();this._isIE8="msie"==i.name&&"8.0"==i.version,this._isIE9="msie"==i.name&&"9.0"==i.version,this._isDevice=this._checkDevice(),this._setValue(),this._renderControl(),this.model.enableRTL&&this._setRTL(),this.model.enabled&&this._wireEvents(),this._setEnabled(this.model.enabled),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._addAttr(this.model.htmlAttributes),(this._isIE9||this._isIE8)&&this.wrapper.addClass("e-tb-cell")},_checkDevice:function(){return t.isDevice()&&t.isTouchDevice()},_setRTL:function(){e(this.maindiv).addClass("e-rtl")},_initValidator:function(){this.wrapper.closest("form").data("validator")||this.wrapper.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;for(a in this.wrapper.find("input").rules("add",this.model.validationRules),i=(i=this.wrapper.closest("form").data("validator"))||this.wrapper.closest("form").validate(),s=this.wrapper.find("input").attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.wrapper.addClass(e):"name"==t||"required"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._setEnabled(!1):"checked"==t&&"checked"==e?i.checked()instanceof Array?i._updateCheckedItem():i._checked(!0):i.wrapper.attr(t,e)}))},_triggerBeforeChange:function(){if(1==this._trigger("beforeChange",{isChecked:this._isChecked,isInteraction:!1}))return!1},_triggerChange:function(){var e={isChecked:this._isChecked,checkState:this.checkState(),isInteraction:!1};this._trigger("change",e)},_setModel:function(i){var s,a;for(s in i)switch(s){case"checked":e(this.maindiv).removeClass("e-material-animate"),this.model.beforeChange&&this._triggerBeforeChange(),this.checked()instanceof Array?(a=t.util.getVal(i[s]),this.model.value==a[a.length-1]&&(this._isChecked=!0)):(this._isChecked=t.util.getVal(i[s]),this.checked(this._isChecked)),this._isChecked?this._checked():this._unChecked(),this.model.change&&this._triggerChange();break;case"enableTriState":i[s]&&(this.model.enableTriState=i[s],this._indeterminateState=i[s]);break;case"checkState":this.model.enableTriState&&(this.model.beforeChange&&this._triggerBeforeChange(),this._isChecked=t.util.getVal(i[s]),this.checkState(this._isChecked),this._changeState(this._isChecked),this._setCheckBoxState(),this.checked(this._isChecked),"indeterminate"==this.model.checkState&&this._setIndeterminate(this._indeterminateState),this.checked()instanceof Array?this._updateCheckedItem():"check"==i[s]?this._hiddenInput.removeAttribute("name"):this._hiddenInput.setAttribute("name",this.model.name),this.model.change&&(this.checked()instanceof Array||(this._isChecked="uncheck"!=this.checkState()),this._triggerChange()));break;case"cssClass":this._changeSkin(i[s]);break;case"enableRTL":i[s]?this._setRTL():e(this.maindiv).removeClass("e-rtl");break;case"text":this._setText(i[s]);break;case"validationRules":null!=this.model.validationRules&&(this.wrapper.find("input").rules("remove"),this.model.validationMessages=null),this.model.validationRules=i[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=i[s],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"id":this._setIdAttr(i[s]);break;case"name":this.element.attr("name",i[s]),(!this._isChecked||this.spanImg.hasClass("e-chk-indeter"))&&this._hiddenInput.setAttribute("name",i[s]),this.model.name=i[s];break;case"value":this.element.attr("value",i[s]);break;case"size":this._setSize(i[s]);break;case"showRoundedCorner":this._setRoundedCorner(i[s]);break;case"enabled":this._setEnabled(i[s]);break;case"htmlAttributes":this._addAttr(i[s])}},_destroy:function(){this.element.removeClass("e-checkbox e-input"),!this._cloneElement.attr("name")&&this.element.attr("name")&&this.element.removeAttr("name"),!this._cloneElement.attr("value")&&this.element.attr("value")&&this.element.removeAttr("value"),this.element.insertBefore(this.wrapper),this.wrapper.remove()},_changeSkin:function(t){this.model.cssClass!=t&&(this.wrapper.removeClass(this.model.cssClass).addClass(t),e("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this._indeterminateState=!1,this._isChecked=!1;var e=this.element[0].getAttribute("id"),i=this.element[0].getAttribute("name"),s=this.element[0].getAttribute("value");t.isNullOrUndefined(e)||(this.model.id=e),t.isNullOrUndefined(i)||(this.model.name=i),t.isNullOrUndefined(s)||""==s||(this.model.value=s),this.checked()||t.isNullOrUndefined(this.element.attr("checked"))||(this._isChecked=!0),t.isNullOrUndefined(this.model.name)&&(this.model.name=this.model.id),this.model.enabled=this.model.enabled&&!this.element.attr("disabled")},_setSize:function(i){i==t.CheckboxSize.Medium?(e(this.innerdiv).removeClass("e-chkbox-small").addClass("e-chkbox-medium"),e(this.maindiv).removeClass("e-check-small").addClass("e-check-medium")):(e(this.innerdiv).removeClass("e-chkbox-medium").addClass("e-chkbox-small"),e(this.maindiv).removeClass("e-check-medium").addClass("e-check-small"))},_setRoundedCorner:function(e){e?this.span.addClass("e-corner"):this.span.removeClass("e-corner")},_setEnabled:function(e){e?this.enable():this.disable()},_setCheckBoxState:function(){this.model.enableTriState?"indeterminate"==this.checkState()?this._indeterminateState=!0:"check"==this.checkState()?this._isChecked=!0:"uncheck"==this.checkState()&&(this._isChecked=!1):"indeterminate"==this.checkState()&&this.checkState("uncheck")},_createElement:function(e,t){var i=document.createElement(e);return this._setAttributes(i,t),i},_setAttributes:function(e,t){for(var i in t)e.setAttribute(i,t[i])},_renderControl:function(){this._setCheckBoxState(),this.maindiv=this._createElement("span",{class:"e-chkbox-wrap e-widget "+this.model.cssClass,role:"checkbox",tabindex:0}),this._isValid(this.model.id)&&(this.maindiv.setAttribute("id",this.model.idPrefix+this.model.id),this.element[0].setAttribute("id",this.model.id)),this.innerdiv=document.createElement("div"),this._setSize(this.model.size),this.span=document.createElement("span"),this.span=e(this.span),this.spanImg=this._createElement("span",{class:"e-chk-image e-icon",role:"presentation"}),this.spanImg=e(this.spanImg),this.element.addClass("e-input"),this.model.name=t.isNullOrUndefined(this.model.name)?this.model.id:this.model.name,this.model.value=!!t.isNullOrUndefined(this.model.value)||this.model.value,this._setAttributes(this.element[0],{name:this.model.name,value:this.model.value});var i=e("#"+this._id+"_hidden");this._hiddenInput=i.length?i[0]:this._createElement("input",{type:"checkbox",value:!1,style:"display:none"}),"hidden"==this.element.attr("data-type")&&this._hiddenInput.setAttribute("type","hidden"),this._isValid(this.model.name)&&this._hiddenInput.setAttribute("id",this.model.name+"_hidden"),this._setRoundedCorner(this.model.showRoundedCorner),this.checked()&&this._setCheckedItem(this.checked()),this._isChecked?(this.spanImg.addClass("e-checkmark"),this.span.addClass("e-chk-act"),this.maindiv.setAttribute("aria-checked",!0),this.element.attr("checked","checked")):(this.span.addClass("e-chk-inact"),this.maindiv.setAttribute("aria-checked",!1),this._hiddenInput.setAttribute("name",this.model.name)),this.checked()instanceof Array||this.checked(this._isChecked),this.span[0].appendChild(this.spanImg[0]),this.innerdiv.appendChild(this.span[0]),this.element[0].parentNode&&this.element[0].parentNode.insertBefore(this.maindiv,this.element[0]),this.maindiv.appendChild(this.element[0]),this.maindiv.appendChild(this._hiddenInput),this.maindiv.appendChild(this.innerdiv),this.wrapper=e(this.maindiv),this._setTextWrapper(this.model.text),this.chkbx=this.element,1==this.model.enableTriState&&1==this._indeterminateState&&this._setIndeterminate(this._indeterminateState),this.checked()instanceof Array&&this._updateCheckedItem()},_changeState:function(e){"indeterminate"==e?(this.spanImg.removeClass("e-checkmark").addClass("e-stop"),this.span.removeClass("e-chk-act e-chk-inact").addClass("e-chk-indeter"),this.wrapper[0].setAttribute("aria-checked","mixed"),this.wrapper.find("input").prop("enableTriState",!0),this.checked()instanceof Array||this.checked(null)):"check"==e?(this.spanImg.removeClass("e-stop").addClass("e-checkmark"),this.span.removeClass("e-chk-act e-chk-inact e-chk-indeter").addClass("e-chk-act"),this.wrapper[0].setAttribute("aria-checked",!0)):"uncheck"==e&&(this.spanImg.removeClass("e-checkmark e-stop"),this.span.removeClass("e-chk-act e-chk-indeter").addClass("e-chk-inact"),this.wrapper[0].setAttribute("aria-checked",!1))},_setIndeterminate:function(e){e?(this.spanImg.removeClass("e-checkmark").addClass("e-stop"),this.span.removeClass("e-chk-act e-chk-inact").addClass("e-chk-indeter"),this.wrapper[0].setAttribute("aria-checked","mixed"),this.wrapper.find("input").prop("enableTriState",!0),this.checkState("indeterminate"),this.checked()instanceof Array||this.checked(null),this._hiddenInput.setAttribute("name",this.model.name)):(this.span.removeClass("e-chk-indeter"),this.spanImg.removeClass("e-stop"),this.wrapper.find("input").removeAttr("enableTriState"),this.wrapper.find("input").prop("enableTriState",!1),this.checked()?this._checked():this._unChecked())},_setTextWrapper:function(e){""!=e&&(this.txtSpan=t.buildTag("div.e-text",e),this.wrapper.append(this.txtSpan),this.model.enableRTL&&this._setRTL())},_setText:function(e){""==this.model.text&&""!=e?this._setTextWrapper(e):this.txtSpan.html(e)},_setIdAttr:function(t){e("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper"),this.element[0].setAttribute("id",t)},_isValid:function(e){return!t.isNullOrUndefined(e)&&""!=e},_wireEvents:function(){this._on(this.wrapper,"click",this._checkedHandler),this._isIE8&&this._isValid(this.model.id)&&this._on(e("label[for="+this.model.id+"]"),"click",(function(){this.wrapper.click()})),this._on(this.wrapper,"focus",this._focusIn),this._on(this.wrapper,"focusout",this._focusOut)},_unWireEvents:function(){this._off(this.wrapper,this._isDevice&&e.isFunction(e.fn.tap)?"tap":"click"),this._isIE8&&this._isValid(this.model.id)&&this._off(e("label[for="+this.model.id+"]"),"click"),this._off(this.wrapper,"focus"),this._off(this.wrapper,"focusout")},_focusIn:function(){e(this.wrapper).addClass("e-focus"),e(this.wrapper).on("keydown",e.proxy(this._checkUnCheck,this))},_focusOut:function(){e(this.wrapper).removeClass("e-focus"),e(this.wrapper).off("keydown",e.proxy(this._checkUnCheck,this))},_checkUnCheck:function(e){32==e.keyCode&&(e.preventDefault(),this._checkedHandler())},_checkedHandler:function(t){var i={isChecked:this._isChecked,isInteraction:!0,event:t};return 1!=this._trigger("beforeChange",i)&&(this.span.hasClass("e-chk-inact")?(this._checked(),this.checked()instanceof Array||this.checked(!0),this.model.enableTriState&&(this._indeterminateState=!0,this.checkState("check"))):this.span.hasClass("e-chk-act")?1==this.model.enableTriState&&"check"==this.model.checkState&&1==this.model.checked?(this._setIndeterminate(!0),this.checked()instanceof Array||(this.checked(!0),this.checkState("indeterminate"))):(this._unChecked(),this.checked()instanceof Array||(this.checked(!1),this.checkState("uncheck"))):this.span.hasClass("e-chk-indeter")&&(this.checked()instanceof Array?this._isChecked=!1:this.checked(!1),this._setIndeterminate(!1),this._indeterminateState=!1),this.checked()instanceof Array?this._updateCheckedItem():this._isChecked=this.checked(),e(this.maindiv).addClass("e-material-animate"),i={isChecked:this._isChecked,checkState:this.checkState(),isInteraction:!0,event:t},this._trigger("change",i),!0)},_checked:function(){this.span.removeClass("e-chk-inact").addClass("e-chk-act"),this.spanImg.removeClass("e-stop").addClass("e-checkmark"),this.wrapper[0].setAttribute("aria-checked",!0),this.wrapper.find("input[type=checkbox]").prop("checked",!0),this.checkState("check"),this._hiddenInput.removeAttribute("name")},_unChecked:function(){this.span.removeClass("e-chk-act e-chk-indeter").addClass("e-chk-inact"),this.wrapper[0].setAttribute("aria-checked",!1),this.spanImg.removeClass("e-checkmark e-stop"),this.wrapper.find("input[type=checkbox]").prop("checked",!1),this.checkState("uncheck"),this._hiddenInput.setAttribute("name",this.model.name)},_setCheckedItem:function(e){if("boolean"!=typeof e||e instanceof Array){if(e instanceof Array&&!t.isNullOrUndefined(this.model.value)&&""!=this.model.value)for(var i=0;i<e.length;i++)e[i]==this.model.value&&(this._isChecked=!0)}else this._isChecked=!0},_updateCheckedItem:function(){var s=this.model.checked.splice===i?this.model.checked():this.model.checked;t.isNullOrUndefined(this.model.value)||""==this.model.value||this.wrapper.find("span:first").hasClass("e-chk-indeter")||(e.inArray(this.model.value,this.checked())<0&&this.wrapper.find("span:first").hasClass("e-chk-act")?(s.push(this.model.value),this._isChecked=!0,this._hiddenInput.removeAttribute("name")):e.inArray(this.model.value,this.checked())>-1&&this.wrapper.find("span:first").hasClass("e-chk-inact")&&(this._isChecked=!1,s.splice(e.inArray(this.model.value,this.model.checked()),1),this._hiddenInput.setAttribute("name",this.model.name)))},disable:function(){this.wrapper.hasClass("e-disable")||(this.wrapper.addClass("e-disable"),this.wrapper[0].setAttribute("aria-disabled",!0),this.element[0].setAttribute("disabled","disabled"),this._isIE8&&this.span.addClass("e-disable"),this._unWireEvents(),this.model.enabled=!1)},enable:function(){this.wrapper.hasClass("e-disable")&&(this.wrapper.removeClass("e-disable"),this.wrapper[0].setAttribute("aria-disabled",!1),this.element.prop("disabled",!1),this._isIE8&&this.span.removeClass("e-disable"),this._wireEvents(),this.model.enabled=!0)},isChecked:function(){if(null!=this._isChecked&&this._isChecked!=i)return this._isChecked}}),t.CheckboxSize={Small:"small",Medium:"medium"},t.CheckState={Check:"check",Uncheck:"uncheck",Indeterminate:"indeterminate"}}(jQuery,Syncfusion),function(e,t){t.widget("ejToolbar","ej.Toolbar",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-toolbar",angular:{terminal:!1},defaults:{height:"",width:"",enabled:!0,hide:!1,disabledItemIndices:[],enabledItemIndices:[],enableSeparator:!1,orientation:"horizontal",enableRTL:!1,isResponsive:!1,showRoundedCorner:!1,htmlAttributes:{},dataSource:null,Items:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:"text",imageAttributes:"imageAttributes",spriteCssClass:"spriteCssClass",htmlAttributes:"htmlAttributes",group:"group",template:"template",overflow:"overflow"},query:null,responsiveType:"popup",fields:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:"text",imageAttributes:"imageAttributes",spriteCssClass:"spriteCssClass",htmlAttributes:"htmlAttributes",group:"group",template:"template",overflow:"overflow"},tooltipSettings:{associate:"mouseenter",showShadow:!0,position:{stem:{horizontal:"left",vertical:"top"}},tip:{size:{width:5,height:5},adjust:{xValue:17,yValue:17}},isBalloon:!1},cssClass:"",targetID:null,create:null,click:null,itemHover:null,itemLeave:null,overflowOpen:null,overflowClose:null,destroy:null},dataTypes:{enabled:"boolean",hide:"boolean",enableSeparator:"boolean",disabledItemIndices:"data",enabledItemIndices:"data",orientation:"enum",enableRTL:"boolean",showRoundedCorner:"boolean",isResponsive:"boolean",dataSource:"data",query:"data",fields:"data",cssClass:"string",htmlAttributes:"data",targetID:"string",responsiveType:"enum"},hide:function(){if(!this.model.enabled&&"none"==this.element.css("display"))return!1;this.element.css("display","none"),this.model.hide=!0},show:function(){if(!this.model.enabled&&"none"!=this.element.css("display"))return!1;this.element.css("display","block"),this.model.hide=!1},_init:function(){null!=this.model.targetID&&this.element.html(e("#"+this.model.targetID).find("ul,ol")),this._cloneElement=e(this.element).clone(),this._localDataSource=null,(null!=this.model.dataSource||null!=this.model.Items)&&this._generateTemplate(),this.model.dataSource instanceof t.DataManager||this._initialize(),this._renderTooltip(this.model.tooltipSettings)},_setModel:function(t){var i,s;for(i in t)switch(i){case"height":this._setHeight(t[i]);break;case"width":this.model.width=t[i],this._setWidth(),this._bindUnbindWidth();break;case"enabled":this._controlStatus(t[i]);break;case"disabledItemIndices":this._disableItemByIndex(t[i]),t[i]=this.model.disabledItemIndices;break;case"enabledItemIndices":this._enableItemByIndex(t[i]);break;case"isResponsive":this.model.isResponsive=t[i],this.model.isResponsive?(this._responsiveLayout(),this._renderTooltip(this.model.tooltipSettings)):this._removeResponsive();break;case"hide":this._controlVisibleOptions(t[i]);break;case"orientation":this._setOrientation(t[i]),this.model.orientation=t[i],this._wireResizing();break;case"tooltipSettings":this.model.tooltipSettings=e.extend(!0,this.model.tooltipSettings,t[i]),this._renderTooltip(this.model.tooltipSettings);break;case"enableRTL":this._enableRTL(t[i]);break;case"showRoundedCorner":this._roundedCorner(t[i]);break;case"cssClass":this._setSkin(t[i]);break;case"htmlAttributes":this._addAttr(t[i]);break;case"enableSeparator":this.model.enableSeparator=t[i],this._renderToolbarSeparator();break;case"fields":e.extend(this.model.fields,t[i]);break;case"query":this.model.query=t[i];break;case"dataSource":for(s in t)"fields"==s&&e.extend(this.model.fields,t[s]),"query"==s&&(this.model.query=t[s]);this._refreshTagItems(i,t[i]);break;case"Items":e.extend(this.model.Items,t[i]),this._refreshTagItems(i,t[i]);break;case"targetID":this.model.targetID=t[i],this._setTargetID()}},_setTargetID:function(){this.element.removeAttr("role tabindex aria-disabled style"),e(this._spantag).remove(),e(this._liTemplte).remove(),this._liTemplte=this._tipRes=null,this.element.removeClass("e-widget e-box e-toolbarspan e-rtl"),this.element.find("ul,ol").removeClass("e-ul e-horizontal e-vertical e-separator e-comnrtl"),this.element.find("li").removeClass("e-tooltxt e-comnrtl"),this.element.find("li").removeAttr("aria-label"),this._init()},_refreshTagItems:function(e,t){this.model[e]=t,this.element.empty(),this._generateTemplate(),this._initialize()},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(){var t,i;if("auto"==this.model.width){var s,a=parseFloat(this.element.css("border-left-width"))+parseFloat(this.element.css("border-right-width")),o=this.element.find("ul").children("li"),r=this.element.find("ul");for(s=this.element.find("inline"==this.model.responsiveType?".e-arrow-sans-down":".e-toolbar-res-arrow"),t=0,i=r.length;t<i;t++)null!=r[t]&&e(r[t]).hasClass("e-separator")&&(a+=parseFloat(r.eq(t).css("border-right-width"))+parseFloat(r.eq(t).css("border-left-width")));for(null!=s[0]&&(a+="inline"==this.model.responsiveType?Math.round(this.element.find(".e-arrow-sans-down").outerWidth())+8:Math.round(this.element.find(".e-toolbar-res-arrow").outerWidth())+8),t=0,i=o.length;t<i;t++)null!=o[t]&&(a+=Math.round(o.eq(t).outerWidth()));this.element.css("width",Math.ceil(a))}else this.element.css("width",this.model.width)},_bindUnbindWidth:function(){"auto"!=this.model.width?this._off(e(window),"resize",this._widthHandler):this._on(e(window),"resize",this._widthHandler)},_widthHandler:function(){this._setWidth(this.model.width)},_setOrientation:function(e){e!=t.Orientation.Vertical?(this.element.removeClass(this.model.cssClass).addClass("e-toolbarspan "+this.model.cssClass),this.itemsContainer.removeClass("e-ul e-vertical").addClass("e-ul e-horizontal")):(this.element.removeClass("e-toolbarspan "+this.model.cssClass).addClass(this.model.cssClass),this.itemsContainer.removeClass("e-ul e-horizontal").addClass("e-ul e-vertical")),this.items.addClass("e-tooltxt")},_reSizeHandler:function(){var t,i,s,a,o,r;for(this._isResized&&this._liTemplte.children().length>0&&(t=this.element.children("ol.e-show, ul.e-show"),i=this._liTemplte.children("ol.e-show, ul.e-show"),t.length>0||i.length>0?e(this._liTemplte.children()).appendTo(this.element):e(this._liTemplte.children()).insertBefore(e(this.element).find("span.e-res-pos")),this._renderToolbarSeparator(),"inline"!=this.model.responsiveType&&this._liTemplte.addClass("e-display-none"),this._contstatus=!1),this._elementWidth="function"==typeof getComputedStyle?parseFloat(window.getComputedStyle(this.element[0]).width):this.element.width()-1,this._liWidth=this._spanWidth,s=this.element.children("ol.e-show:visible, ul.e-show:visible"),a=this.element.children("ol:visible:not(.e-show), ul:visible:not(.e-show)"),this._spantag.removeClass("e-display-block").addClass("e-display-none"),this._ensureOverflow(s),o=0,r=0;r<this.itemsContainer.length;r++)o+=e(this.itemsContainer[r]).outerWidth(!0);o>this.element.width()&&this._ensureOverflow(a),"inline"==this.model.responsiveType&&(this._liTemplte.removeClass("e-normal"),this._liTemplte.css("width",this.element.width())),this._isResized=!0},_ensureOverflow:function(t){for(var i,s=0;s<t.length;s++)this._liWidth+=e(t[s]).outerWidth(!0)+8,this._liWidth>=this.element.width()&&(this._spantag.hasClass("e-display-block")||this._spantag.removeClass("e-display-none").addClass("e-display-block"),this._spantag.addClass("e-res-pos"),this._liTemplte.addClass("e-normal"),this._spantag.outerWidth(!0)!=this._spanOuterWidth&&(i=this._spantag.outerWidth(!0)-this._spantag.outerWidth(),this._liWidth-(e(t[s]).outerWidth(!0)+8)+i>=this._elementWidth&&this._liTemplte.append(t[s-1])),this._liTemplte.append(t[s]))},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popup)},_getOffset:function(e){return t.util.getOffset(e)},_btnMouseClick:function(i){var s,a,o,r,n=this.element.outerWidth(),l=this.element.outerHeight(),d=e(this._liTemplte).outerWidth(),h=e(window).width(),c=e(window).scrollLeft();e(i.currentTarget).hasClass("e-disable")||(r=this._getZindexPartial(),o=(s=this._getOffset(this.element)).top+l-1+2,a=(a=this.model.enableRTL?s.left:s.left+n-d)<c?c+1:a+d>h+c?h-d+c-1:a,this._contstatus?(this._liTemplte.addClass("e-display-none"),"inline"==this.model.responsiveType&&this._spantag.removeClass("e-active"),this._contstatus=!1,this._trigger("overflowClose",{currentTarget:i.currentTarget,clientX:i.clientX,clientY:i.clientY,cancel:i.cancellable})):(this._liTemplte.removeClass("e-display-none"),"inline"!=this.model.responsiveType&&this._liTemplte.css({top:o+"px",left:a+"px","z-index":r}),"inline"==this.model.responsiveType&&this._spantag.addClass("e-active"),this._contstatus=!0,this._trigger("overflowOpen",{currentTarget:i.currentTarget,clientX:i.clientX,clientY:i.clientY,cancel:i.cancellable}),"inline"!=this.model.responsiveType&&this._on(t.getScrollableParents(this.element),"scroll",this._hidecontext),this.element.bind("click",e.proxy(this._hidecontext,this))),this._contstatus&&"inline"!=this.model.responsiveType&&this._on(e(document),"mouseup",this._documentClick),this._contstatus||this._off(e(document),"mouseup",this._documentClick),this._removeListHover())},_hidecontext:function(i){e(i.target).is(e("#"+this.element[0].id+"_target"))||"inline"==this.model.responsiveType||(this._liTemplte.addClass("e-display-none"),this._contstatus=!1,this.element.unbind("click",e.proxy(this._hidecontext,this)),this._off(t.getScrollableParents(this.element),"scroll",this._hidecontext),this._off(e(document),"mouseup",this._documentClick))},_documentClick:function(t){e(t.target).is(e("#"+this.element[0].id+"_target"))||0!=e(t.target).closest("div#"+this.element[0].id+"_hiddenlist").length||e(t.target).parents().hasClass("e-ddl-popup")||(this._liTemplte.addClass("e-display-none"),this._contstatus=!1,this._trigger("overflowClose",{currentTarget:t.currentTarget,clientX:t.clientX,clientY:t.clientY,cancel:t.cancellable}),this._off(e(document),"mouseup",this._documentClick))},_setSkin:function(e){this.element.removeClass(this.model.cssClass).addClass(e),this._subControlsSetModel("cssClass","e-toolbarTooltip "+e)},_subControlsSetModel:function(i,s){t.isNullOrUndefined(this._tipToolbar)||e(this.target).ejTooltip("option",i,s),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("option",i,s)},_destroy:function(){this.element.html(""),t.isNullOrUndefined(this._tipToolbar)||e(this.target).ejTooltip("destroy"),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("destroy"),this._cloneElement.removeClass("e-toolbar e-js"),this.element.replaceWith(this._cloneElement),this._liTemplte&&this._liTemplte.remove(),this._unWireResizing()},_initialize:function(){this.element.attr({role:"toolbar",tabindex:"0"}),this.element.children().find("li"),this._focusEnable=!0,this._renderControl(),this._responsiveLayout(),this._wireEvents()},_responsiveLayout:function(){var i;if(this._roundedCorner(this.model.showRoundedCorner),this.model.isResponsive&&"horizontal"==this.model.orientation){for(t.isNullOrUndefined(this._liTemplte)||(t.isNullOrUndefined(this._tipRes)||this._tipRes.destroy(),e(this._liTemplte).remove()),this._spantag=e("<span id='"+this.element[0].id+"_target' class='e-icon e-toolbar-res-arrow e-rel-position e-display-block' unselectable='on'></span>"),"inline"==this.model.responsiveType&&this._spantag.removeClass("e-toolbar-res-arrow").addClass("e-inlinearrow e-arrow-sans-down"),this.element.children("ol.e-show, ul.e-show").length>0?this.element[0].insertBefore(this._spantag[0],this.element[0].childNodes[0]):this._spantag.appendTo(this.element),this._liTemplte=e("<div id='"+this.element[0].id+"_hiddenlist' class='e-responsive-toolbar e-display-none e-abs-position "+e(this.element)[0].className+"'></div>"),"inline"==this.model.responsiveType&&this._liTemplte.removeClass("e-abs-position").addClass("e-inline"),this._spanWidth=this._spantag.outerWidth(!0)+8,this.model.enableRTL&&this._liTemplte.addClass("e-rtl"),this._isResized=!1,this._elementWidth="function"==typeof getComputedStyle?parseFloat(window.getComputedStyle(this.element[0]).width):this.element.width()-1,this._liWidth=this._spanWidth,i=0;i<this.itemsContainer.length;i++)this._liWidth+=e(this.itemsContainer[i]).outerWidth(!0);this._liWidth>this._elementWidth?this._reSizeHandler():this._spantag.removeClass("e-display-block").addClass("e-display-none"),"inline"==this.model.responsiveType?e(this.element[0]).append(this._liTemplte):e("body").append(this._liTemplte),this._renderTooltip(this.model.tooltipSettings)}this._on(e("#"+this.element[0].id+"_target"),"mousedown",this._btnMouseClick),this._wireResizing(),this._controlVisibleOptions(this.model.hide),this._enableRTL(this.model.enableRTL),this._disabledItems=this.model.disabledItemIndices,this._controlStatus(this.model.enabled),this.model.disabledItemIndices=this._disabledItems,0!=this.model.disabledItemIndices.length&&this._disableItemByIndex(this.model.disabledItemIndices),0!=this.model.enabledItemIndices.length&&this._enableItemByIndex(this.model.enabledItemIndices),this._setWidth()},_removeResponsive:function(){e(this._spantag).remove(),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("destroy");var i=e(this._liTemplte).children("ul");e(this._liTemplte).detach(),e(this.element).append(i),this.itemsContainer=this.element.children("ol,ul"),this.items=this.itemsContainer.children("li"),this._off(this.items,"mouseup"),this._off(this.items,"mousedown"),this._off(this.element,"mousedown"),this._wireEvents(),this._wireResizing(),this._setWidth()},_controlVisibleOptions:function(e){0!=e?this.hide():this.show()},_controlStatus:function(e){1!=e?this.disable():this.enable()},_roundedCorner:function(e){e?(this.element.addClass("e-corner"),this._liTemplte&&this._liTemplte.addClass("e-corner")):(this.element.removeClass("e-corner"),this._liTemplte&&this._liTemplte.removeClass("e-corner")),this._subControlsSetModel("showRoundedCorner",e)},_generateTemplate:function(){var e=this;this.element.css("visibility","hidden"),this.model.dataSource instanceof t.DataManager?this.model.dataSource.executeQuery(this.model.query).done((function(t){e._generateGroup(t.result),e._initialize(),e.element.css("visibility","")})):null!=this.model.dataSource?(e._generateGroup(e.model.dataSource),e.element.css("visibility","")):(e._generateGroup(e.model.Items),e.element.css("visibility",""))},_generateGroup:function(e){var t,i,s,a,o,r=this;for(this._localDataSource=e,t=-1,i=[],s=0;s<e.length;s++)if(this._isNewGroup(e[s][this.model.fields.group],i)){for(i[++t]=e[s][this.model.fields.group],a=-1,r.itemsSource=[],o=s;o<e.length;o++)e[s][this.model.fields.group]==e[o][this.model.fields.group]&&(r.itemsSource[++a]=e[o]);r.element.append(r._generateTagitems())}},_isNewGroup:function(e,t){if(!t)return!0;for(var i=0;i<t.length;i++)if(e==t[i])return!1;return!0},_renderControl:function(){this.element.addClass("e-widget e-box"),this._renderToolbarItems(),this._addAttr(this.model.htmlAttributes),this._setOrientation(this.model.orientation),this._renderToolbarSeparator(),this._setHeight(this.model.height),this._bindUnbindWidth()},_renderToolbarItems:function(){var i;for(this.target=this.element[0],this.itemsContainer=this.element.children("ol,ul"),i=0;i<this.itemsContainer.length;i++)e(this.itemsContainer[i]).attr("role","list");for(this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),i=0;i<this.items.length;i++)e(this.items[i]).attr("tabindex","-1"),e(this.items[i]).attr("role","listitem"),t.isNullOrUndefined(e(this.items[i]).attr("title"))&&t.isNullOrUndefined(e(this.items[i]).attr("aria-label"))&&e(this.items[i]).attr("aria-label",this.items[i].id);this._liCount=this.items.length},_generateTagitems:function(){var e,i;for(e=this.itemsSource,this.ultag=t.buildTag("ul"),this.ultag.attr("role","list"),i=0;i<e.length;i++)"show"==e[i][this.model.fields.overflow]&&this.ultag.addClass("e-show"),this.ultag.append(this._generateLi(e[i]));return this.ultag},_generateLi:function(e){var i,s,a;return i=t.buildTag("li"),e[this.model.fields.id]?i.attr("id",e[this.model.fields.id]):e[this.model.fields.text]&&i.attr("id",e[this.model.fields.text]),e[this.model.fields.tooltipText]&&i.attr("title",e[this.model.fields.tooltipText]),e[this.model.fields.imageUrl]&&""!=e[this.model.fields.imageUrl]&&(s=t.buildTag("img.e-align","",{},{src:e[this.model.fields.imageUrl],alt:e[this.model.fields.text]}),e[this.model.fields.imageAttributes]&&this._setAttributes(e[this.model.fields.imageAttributes],s),i.append(s)),e[this.model.fields.spriteCssClass]&&""!=e[this.model.fields.spriteCssClass]&&(a=t.buildTag("div.e-align "+e[this.model.fields.spriteCssClass]+" e-spriteimg"),i.append(a)),e[this.model.fields.text]&&""!=e[this.model.fields.text]&&i.append(e[this.model.fields.text]),e[this.model.fields.htmlAttributes]&&this._setAttributes(e[this.model.fields.htmlAttributes],i),e[this.model.fields.template]&&(a=t.buildTag("div .e-align",e[this.model.fields.template]),i.append(a)),i},_setAttributes:function(t,i){for(var s in t)e(i).attr(s,t[s])},_renderToolbarSeparator:function(){var t,i;if(this.model.enableSeparator){for(t=0,i=this.itemsContainer.length-1;t<i;t++)e(this.itemsContainer[t]).addClass("e-separator");if(1==this.itemsContainer.length)for(t=0,i=this.itemsContainer[0].children.length;t<i;t++)t==i-1?e(this.itemsContainer[0].children[t]).removeClass("e-separator"):e(this.itemsContainer[0].children[t]).addClass("e-separator")}else this.itemsContainer.removeClass("e-separator").find(".e-separator").removeClass("e-separator");this._setWidth()},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i.disable():i.element.attr(t,e)}))},_enableRTL:function(e){e?(this.element.addClass("e-rtl"),this.items.addClass("e-comnrtl"),this.model.orientation==t.Orientation.Horizontal&&this.itemsContainer.addClass("e-comnrtl"),this._liTemplte&&this._liTemplte.addClass("e-rtl")):(this.element.removeClass("e-rtl"),this.items.removeClass("e-comnrtl"),this.model.orientation==t.Orientation.Horizontal&&this.itemsContainer.removeClass("e-comnrtl"),this._liTemplte&&this._liTemplte.removeClass("e-rtl")),this.model.enableRTL=e,this._subControlsSetModel("enableRTL",e),this._renderToolbarSeparator()},_renderTooltip:function(i){var s=e.extend(!0,{},i);s.cssClass=t.isNullOrUndefined(s.cssClass)?"e-toolbarTooltip "+this.model.cssClass:s.cssClass+" e-toolbarTooltip "+this.model.cssClass,s.enableRTL=this.model.enableRTL,s.showRoundedCorner=this.model.showRoundedCorner,s.target="li[data-content], li[title]",s.beforeOpen=this._showTooltip,this._tipToolbar=e(this.target).ejTooltip(s).data("ejTooltip"),this.model.isResponsive&&!t.isNullOrUndefined(this._liTemplte)&&(this._tipRes=e(this._liTemplte).ejTooltip(s).data("ejTooltip"))},_showTooltip:function(t){e(t.event.currentTarget).hasClass("e-disable")&&(t.cancel=!0)},_hideTooltip:function(){t.isNullOrUndefined(this._tipToolbar)||(this._tipToolbar.hide(),this._tipToolbar._isHidden=!1),t.isNullOrUndefined(this._tipRes)||(this._tipRes.hide(),this._tipRes._isHidden=!1)},_addOverlay:function(i){for(var s,a=0;a<i.length;a++)e(i[a]).hasClass("e-disable")||(e(i[a]).addClass("e-disable"),s=t.buildTag("div.e-item-overlay"),e(i[a]).append(s))},_removeOverlay:function(t){for(var i=0;i<t.length;i++)e(t[i]).children(".e-item-overlay").remove()},disableItem:function(t){var i=e(t);null==i||i.length<=0||(i.hasClass("e-disable")||(i.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(i)),i.removeClass("e-hover e-active").attr("data-aria-selected",!1))},enableItem:function(t){var i=e(t);null==i||i.length<=0||(i.removeClass("e-disable").attr("aria-disabled",!1).removeClass("e-disable"),this._removeOverlay(i))},disableItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.disableItem(t)},enableItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.enableItem(t)},_enableItemByIndex:function(t){var i,s;if(!this.model.enabled)return!1;if(0!=t.length)for(s=0;s<t.length;s++)e.inArray(t[s],this.model.disabledItemIndices)>-1&&(i=e.inArray(t[s],this.model.disabledItemIndices),this.enableItem(this.items[this.model.disabledItemIndices[i]]),this.model.disabledItemIndices.splice(i,1))},_disableItemByIndex:function(t){var i;if(!this.model.enabled)return!1;for(this._disabledItems=this.model.disabledItemIndices,i=0;i<t.length;i++)e.inArray(t[i],this.model.disabledItemIndices)<0&&this._disabledItems.push(parseInt(t[i]));for(i=0;i<this.items.length;i++)e.inArray(i,this.model.disabledItemIndices)>-1&&this.disableItem(this.items[i]);this.model.disabledItemIndices=this._disabledItems},disable:function(){if("true"==this.element.attr("aria-disabled"))return!1;this.element.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(this.items),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.addClass("e-disable"),this.model.enabled=!1,this._subControlsSetModel("enabled",!1)},enable:function(){if(this.model.disabledItemIndices=[],"false"==this.element.attr("aria-disabled"))return!1;this.items.removeClass("e-disable"),this._removeOverlay(this.items),this.element.attr("aria-disabled",!1),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.removeClass("e-disable"),this.model.enabled=!0,this._subControlsSetModel("enabled",!0)},refresh:function(){this._reSizeHandler()},selectItem:function(t){var i=e(t);null==i||i.length<=0||(i.addClass("e-active").attr("data-aria-selected",!0),this._activeItem=e(this.items).index(i))},deselectItem:function(t){var i=e(t);null==i||i.length<=0||i.removeClass("e-active").attr("data-aria-selected",!1)},selectItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.selectItem(t)},deselectItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.deselectItem(t)},removeItem:function(t){var i,s,a;if(this.model.disabledItemIndices=[],s=0,null!=(i=e(t))&&!(i.length<=0))for(i.remove(),this.items=this.itemsContainer.children("li"),a=0;a<this.items.length;a++)e(this.items[a]).hasClass("e-disable")&&(this.model.disabledItemIndices[s++]=a)},removeItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.removeItem(t)},_wireResizing:function(){this.model.isResponsive&&"horizontal"==this.model.orientation?e(window).bind("resize",e.proxy(this._reSizeHandler,this)):this._unWireResizing()},_unWireResizing:function(){e(window).unbind("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this.element,"mousedown",this._clickEventHandler),this._on(this.element,"focus",this._focusElement),this._on(this.element,"blur",this._targetBlur),this._on(this.items,"mouseenter",this._onItemHover),this._on(this.items,"mouseleave",this._onItemLeave),this._on(this.items,"mousedown",this._onItemClick),this._on(this.items,"mouseup",this._onItemClick)},_onItemHover:function(t){var i=e(t.currentTarget),s=t.target;i.hasClass("e-disable")?clearTimeout(this._tipToolbar.mouseTimer):(this.items.removeClass("e-hover"),i.addClass("e-hover").focus(),this._trigger("itemHover",{currentTarget:i,target:s,status:this.model.enabled}))},_onItemClick:function(i){var s,a,o;if(e(i.currentTarget).hasClass("e-disable")||1!=i.which)return!1;s=i.currentTarget,a=i.target,t.isDevice()||this._hideTooltip(),"mousedown"==i.type?(this._focusEnable=!1,e(s).addClass("e-active"),this._focusedItem=this._currentItem=e(s)):"mouseup"==i.type&&e(s).hasClass("e-active")&&(this._removeSelection(),e(s).hasClass("e-disable")||(o={currentTarget:s,text:e(s).attr("data-content"),target:a,status:this.model.enabled,event:i},this._activeItem=this.model.isResponsive&&this._contstatus&&e(s).closest(".e-responsive-toolbar").length>0?this._liTemplte.find(".e-tooltxt").index(s):e(this.items).index(s),this._trigger("click",o)))},_onItemLeave:function(t){var i=e(t.currentTarget),s=t.target;i.hasClass("e-disable")||(this._removeSelection(),i.removeClass("e-hover"),this._trigger("itemLeave",{currentTarget:i,target:s,status:this.model.enabled}))},_onKeyPress:function(i){var s,a,o,r,n;if(s=i.keyCode?i.keyCode:i.which?i.which:i.charCode,this.model.isResponsive&&this._liTemplte.find(".e-tooltxt").length>0?(this._keyPressed=!0,this._items=this._contstatus?this._liTemplte.find(".e-tooltxt"):this.element.find(".e-tooltxt"),a=this._items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")):(this._keyPressed=!1,a=this.items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")),this._focusedItem?(o=this._focusedItem,this._focusedItem=null):o=a.filter(".e-hover"),"keydown"==i.type)9==s&&i.shiftKey&&e(a[a.index(o)-1]).length>0?(i.preventDefault(),r=e(a[a.index(o)-1])):9==s&&e(a[a.index(o)+1]).length>0&&!i.shiftKey?(i.preventDefault(),r=e(a[a.index(o)+1])):(38==s||39==s)&&this.model.orientation!=t.Orientation.Vertical||(39==s||40==s)&&this.model.orientation==t.Orientation.Vertical?(i.preventDefault(),r=e(a[a.index(o)+1]).length>0?e(a[a.index(o)+1]):a.first()):(37==s||40==s)&&this.model.orientation!=t.Orientation.Vertical||(37==s||38==s)&&this.model.orientation==t.Orientation.Vertical?(i.preventDefault(),r=e(a[a.index(o)-1]).length>0?e(a[a.index(o)-1]):a.last()):33==s||36==s?(i.preventDefault(),r=a.first()):(34==s||35==s)&&(i.preventDefault(),r=a.last()),r&&(this._removeListHover(),r[0].focus(),r.addClass("e-hover"));else switch(s){case 13:case 32:if(i.preventDefault(),!o[0])break;n={currentTarget:o[0],target:e(o)[0],status:this.model.enabled,event:i},this._trigger("click",n);break;case 27:i.preventDefault(),this.element.blur()}},_removeListHover:function(){e(this.items).removeClass("e-hover")},_addListHover:function(){var e=this._getActiveItem();e.hasClass("e-disable")||e.addClass("e-hover").focus()},_getActiveItem:function(){return e(this.model.isResponsive&&this._keyPressed?this._items[this._activeItem]:this.items[this._activeItem])},_targetBlur:function(){this.element.focusout().removeClass("e-focus"),this._removeListHover(),this._off(this.element,"keyup",this._onKeyPress)._off(this.element,"keydown",this._onKeyPress),this._trigger("focusOut")},_clickEventHandler:function(){this._clicked=!0},_removeSelection:function(){this._currentItem&&"true"!=this._currentItem.attr("data-aria-selected")&&this._currentItem.removeClass("e-active")},_focusElement:function(){this.element.hasClass("e-focus")||(this.element.addClass("e-focus"),this._on(this.element,"keyup",this._onKeyPress)._on(this.element,"keydown",this._onKeyPress),this._focusEnable)?(this._removeListHover(),this._activeItem=this._clicked?-1:0,(this._getActiveItem().hasClass("e-disable")||this._getActiveItem().is(":hidden"))&&(this._activeItem=e(this.items).filter('li:not([class*="e-disable"])').first().index()),this._addListHover()):this._focusEnable=!0}}),t.Toolbar.ResponsiveType={Popup:"popup",Inline:"inline"}}(jQuery,Syncfusion);var e,t,i=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};e=jQuery,t=function(t){function s(i,s){return t.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover",create:null,click:null,destroy:null,hover:null,tracking:null,beforeOpen:null,beforeClose:null,open:null,close:null},this.dataTypes={enabled:"boolean",closeMode:"enum",autoCloseTimeout:"number",trigger:"enum",position:{stem:"data",target:"data"},associate:"enum",collision:"enum",showShadow:"boolean",animation:{effect:"enum",speed:"number"},isBalloon:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",tip:{size:{width:"number",height:"number"},adjust:{xValue:"number",yValue:"number"}}},this.isTrack=!0,this._isCancel=!1,this._isHidden=!0,this.arrowValue={left:0,top:0,width:0,height:0,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{}),this.tooltipHeader=ej.buildTag("div"," ",{},{}),e(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},i&&(i.jquery||(i=e("#"+i)),i.length)?e(i).ejTooltip(s).data(this.PluginName):void 0}return i(s,t),s.prototype.setModel=function(e,t){this.setModel(e,t)},s.prototype.option=function(e,t){this.option(e,t)},s.prototype.triggerEvents=function(e,t){var i;switch(e){case"click":case"hover":case"tracking":case"beforeOpen":case"open":i=this._trigger(e,t);break;case"beforeClose":case"close":i=this._trigger(e,t)}return i},s.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},s.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},s.prototype.show=function(t,i){if(this.model.enabled){if(ej.isNullOrUndefined(t)){var s=null==this.model.target?this.element:e(this.element).find(this.model.target+":first");this._positionElement(s)}else this._positionElement(t);ej.isNullOrUndefined(i)?this._showTooltip():"string"==typeof i?e(this.tooltip).show(i):"function"==typeof i&&i.call.apply(this.tooltip)}},s.prototype.hide=function(t){this.model.enabled&&(ej.isNullOrUndefined(t)?this._hideTooltip():"string"==typeof t?e(this.tooltip).hide(t):"function"==typeof t&&t.call.apply(this.tooltip))},s.prototype._destroy=function(){this.mouseTimer&&clearTimeout(this.mouseTimer),this.timer&&clearTimeout(this.timer),e(this.tooltip).remove(),this.tooltip=null},s.prototype._setModel=function(t){var i;for(i in t)switch(i){case"height":this._setHeight(t[i]);break;case"width":this._setWidth(t[i]);break;case"enabled":this._enabled(t[i]);break;case"content":this._setContent(t[i]);break;case"title":this.model.title=t[i],null==this.model.title?(e(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():e(this.tooltipTitle).html(this.model.title),this.tooltipPos.height=e(this.tooltip).outerHeight();break;case"associate":this.model.associate=t[i],this._wireMouseEvents(!1),this._wireMouseEvents(!0);break;case"position":this._setPosition(t[i]);break;case"collision":this.model.collision=t[i];break;case"closeMode":void 0!==t[i]&&(this.model.closeMode=t[i],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():(e(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=e(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(t[i]);break;case"showShadow":this._shadowEffect(t[i],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(t[i])||(this.model.isBalloon=t[i],this.model.isBalloon?this._renderArrow():(e(this.tip).remove(),this.tip=null));break;case"animation":this.model.animation=e.extend(!0,this.model.animation,t[i]),this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off(e(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off(e(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on(e(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on(e(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(t[i]);break;case"target":this._wireTriggerEvents(!1),this.model.target=t[i],this._wireTriggerEvents(!0),this._renderTarget();break;case"trigger":this._setTrigger(t[i]);break;case"showRoundedCorner":this.model.showRoundedCorner=t[i],this._roundedCorner(t[i]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=t[i],this.model.allowKeyboardNavigation?this._on(e(window),"keydown",this._keyDown):this._off(e(window),"keydown",this._keyDown)}},s.prototype._enabled=function(e){e?this.enable(e):this.disable(e),this.model.enabled=e},s.prototype._shadowEffect=function(t,i){this.model.showShadow=t;var s=null;if(e(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){if(this.model.isBalloon)switch(i.stem.horizontal){case"center":s="top"==i.stem.vertical?"e-tooltipShadowLeft":"bottom"==i.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":s="center"==i.target.horizontal&&"top"==i.stem.vertical?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":s="center"==i.target.horizontal&&"bottom"==i.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft"}else s="e-tooltipShadowLeft";e(this.tooltip).addClass(s)}},s.prototype._setContent=function(t){this.model.content=t,e(this.tooltipContent).html(this.model.content),this.tooltipPos.height=e(this.tooltip).outerHeight(),this.tooltipPos.width=e(this.tooltip).outerWidth()},s.prototype._setPosition=function(t){this.model.position.stem=e.extend(!0,this.model.position.stem,t.stem),this.model.position.target=e.extend(!0,this.model.position.target,t.target)},s.prototype._setTrigger=function(e){this._wireTriggerEvents(!1),this.model.trigger=e,this._wireTriggerEvents(!0)},s.prototype._init=function(){this.id=this.element[0].id,this.positionTarget=e.extend(!0,{},this.model.position.target),this.positionTooltip=e.extend(!0,{},this.model.position.stem),this.tipSize=e.extend(!0,{},this.model.tip.size),this._initialize(),this._render(),this.enable(this.model.enabled),this._wireEvents(!0)},s.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},s.prototype._wireEvents=function(t){var i=t?"_on":"_off";this._wireTriggerEvents(t),this.model.allowKeyboardNavigation&&this[i](e(window),"keydown",this._keyDown),null!=this.model.target?this[i](this.element,"scroll",this.model.target,this._hideTooltip):this[i](this.element,"scroll",this._hideTooltip),this[i](e(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this[i](e(this.tooltip),"mouseleave",this._onTooltipMouseLeave),this[i](e(window),"resize",this._hideTooltip),this[i](e(window),"touchend",this._docTouchEndHandler)},s.prototype._wireTriggerEvents=function(e){var t,i=e?"_on":"_off";this.model.trigger==ej.Tooltip.Trigger.Focus?null!=this.model.target?this[i](this.element,"blur",this.model.target,this._hideTooltip):this[i](this.element,"blur",this._hideTooltip):null!=this.model.target?this[i](this.element,ej.isDevice()?"touchstart":"mouseleave",this.model.target,this._onMouseOut):this[i](this.element,ej.isDevice()?"touchstart":"mouseleave",this._onMouseOut),this._wireMouseEvents(e),t=this.model.trigger==ej.Tooltip.Trigger.Click?ej.isDevice()?"touchstart":"click":this.model.trigger==ej.Tooltip.Trigger.Focus?ej.isDevice()?"touchstart":"focus":ej.isDevice()?"touchstart":"mouseenter",null!=this.model.target?this[i](this.element,t,this.model.target,this._targetHover):this[i](this.element,t,this._targetHover)},s.prototype._wireMouseEvents=function(e){var t=e?"_on":"_off";(this.model.associate==ej.Tooltip.Associate.MouseEnter||this.model.associate==ej.Tooltip.Associate.MouseFollow)&&(null!=this.model.target?this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this.model.target,this._tooltipMove):this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this._tooltipMove))},s.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"}),this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{}),this.tooltip.append(this.tooltipInter),this.model.isBalloon&&this._renderArrow(),e(this.model.containment).append(this.tooltip),this._setHeight(this.model.height),this._setWidth(this.model.width),this._createHeader(),this._tooltipContent(),this.model.cssClass&&this.tooltip.addClass(this.model.cssClass),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._setRTL(this.model.enableRTL),e(this.tooltip).css({top:"auto",left:"auto"}),this.tooltipPos={width:e(this.tooltip).outerWidth(),height:e(this.tooltip).outerHeight(),left:e(this.tooltip).offset().left,top:e(this.tooltip).offset().top,position:"absolute"},ej.isNullOrUndefined(this.model.target)&&(this._containerCalc(this.element),this._positionElement(this.element))},s.prototype._containerCalc=function(t){ej.isNullOrUndefined(t)&&(t=this.element);var i=e(t).offset();this.containerSize={height:"body"==this.model.containment?e(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:e(this.model.containment).innerHeight(),width:"body"==this.model.containment?e(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:e(this.model.containment).innerWidth()},this.containerSize.left="body"!=this.model.containment&&"static"==e(this.model.containment).css("position")?e(this.model.containment).offset().left-e(this.model.containment).offsetParent().offset().left:0,this.containerSize.top="body"!=this.model.containment&&"static"==e(this.model.containment).css("position")?e(this.model.containment).offset().top-e(this.model.containment).offsetParent().offset().top:0,i.left-="body"!=this.model.containment?"static"==e(this.model.containment).css("position")?e(this.model.containment).offsetParent().offset().left:e(this.model.containment).offset().left:0,i.top-="body"!=this.model.containment?"static"==e(this.model.containment).css("position")?e(this.model.containment).offsetParent().offset().top:e(this.model.containment).offset().top:0,this.targetPos.left=i.left,this.targetPos.top=i.top},s.prototype._setHeight=function(t){this.model.height=t,!isNaN(+t)&&isFinite(t)?e(this.tooltip).css("height",t+"px"):e(this.tooltip).css("height",t),this.tooltipPos.height=e(this.tooltip).outerHeight()},s.prototype._setWidth=function(t){this.model.width=t,"auto"!=this.model.width&&(t=!isNaN(+t)&&isFinite(t)?t+"px":t,e(this.tooltip).css("max-width",t),e(this.tooltip).css("min-width","0px")),e(this.tooltip).css("width",t),this.tooltipPos.height=e(this.tooltip).outerHeight()},s.prototype._setRTL=function(e){this.model.enableRTL=e,e?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},s.prototype._setSkin=function(e){this.model.cssClass!=e&&(this.tooltip.removeClass(this.model.cssClass).addClass(e),this.model.cssClass=e)},s.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},s.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),e(this.tip).append("<div class='e-arrowTipOuter'></div>").append("<div class='e-arrowTipInner'></div>"),e(this.tip).insertBefore(this.tooltipInter))},s.prototype._adjustArrow=function(t){var i,s,a=e(this.tooltip).width(),o=e(this.tooltip).height(),r=t.stem,n=t.target,l={tipHeight:0,tipWidth:0};"right"==n.horizontal||"left"==n.horizontal?(i="left"==r.horizontal?-this.model.tip.size.height:"right"==r.horizontal?a:a/2-this.tipSize.width/2,s="center"!=r.horizontal?"top"==r.vertical?5:"center"==r.vertical?o/2-this.tipSize.width/2:o-5-this.tipSize.width:"top"==r.vertical?-this.tipSize.height:"bottom"==r.vertical?o:this.tooltipPos.height/2-this.tipSize.width/2,l=this._arrowBinding(t,"horizontal")):(s="top"==r.vertical?-this.tipSize.height:"bottom"==r.vertical?o:o/2-this.tipSize.width/2,i="center"==r.vertical?"left"==r.horizontal?-this.model.tip.size.height:a:"left"==r.horizontal?10:"center"==r.horizontal?this.tooltipPos.width/2-this.tipSize.width/2:a-10-this.tipSize.width,l=this._arrowBinding(t,"vertical")),this.arrowValue.left=i,this.arrowValue.top=s,e(this.tip).css({height:l.tipHeight+"px",width:l.tipWidth+"px",left:i+"px",top:s+"px",display:"center"==r.horizontal&&"center"==r.vertical?"none":"block"})},s.prototype._arrowBinding=function(t,i){var s,a,o=t.stem,r="horizontal"==i?"center"!=o.horizontal:"center"==o.vertical,n=e(this.tooltip).css("border-top-color"),l=e(this.tooltip).css("background-color"),d=this.model.tip.size.height,h=this.model.tip.size.height-1,c={"border-top":"none","border-bottom":"none","border-right":"none","border-left":"none"};return r?(s=this.model.tip.size.height,a=this.model.tip.size.width,e(this.tip).find(".e-arrowTipOuter").css(this._arrow(t,d,n,c,"horizontal")),e(this.tip).find(".e-arrowTipInner").css(this._arrow(t,h,l,c,"horizontal"))):(s=this.model.tip.size.width,a=this.model.tip.size.height,e(this.tip).find(".e-arrowTipOuter").css(this._arrow(t,d,n,c,"vertical")),e(this.tip).find(".e-arrowTipInner").css(this._arrow(t,h,l,c,"vertical"))),{tipHeight:a,tipWidth:s}},s.prototype._arrow=function(e,t,i,s,a){var o=e.stem,r="horizontal"==a&&"right"==o.horizontal?"0px":"1px",n="horizontal"==a?"1px":"bottom"==o.vertical?"0px":"1px";return s["border-top"]="horizontal"==a?t+"px solid transparent":"bottom"==o.vertical?t+"px solid "+i:"none",s["border-bottom"]="horizontal"==a?t+"px solid transparent":"top"==o.vertical?t+"px solid "+i:"none",s["border-right"]="horizontal"==a?"left"==o.horizontal?t+"px solid "+i:"none":t+"px solid transparent",s["border-left"]="horizontal"==a?"right"==o.horizontal?t+"px solid "+i:"none":t+"px solid transparent",t==this.model.tip.size.height-1&&(s.left=r,s.top=n),s},s.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||e(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),null!=this.model.title?e(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):e(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on(e(this.tooltipClose),"click",this._hideTooltip))},s.prototype._renderTarget=function(){this.targetElement=e(this.element).find(this.model.target);for(var t=0;t<this.targetElement.length;t++)ej.isNullOrUndefined(e(this.targetElement[t]).attr("title"))||(this.targetElement[t].setAttribute("data-content",this.targetElement[t].title),this.targetElement[t].removeAttribute("title"))},s.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"}),e(this.tooltipContent).html(this.model.content).addClass("e-def"),null!=this.model.title?e(this.tooltipContent).insertAfter(this.tooltipHeader):e(this.tooltipContent).appendTo(this.tooltipInter)},s.prototype._positionElement=function(t){this.tooltipPos.width=e(this.tooltip).outerWidth(),this.tooltipPos.height=e(this.tooltip).outerHeight(),this.targetPos.width=e(t).outerWidth(),this.targetPos.height=e(t).outerHeight(),this._containerCalc(t),this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(this.model.position),this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(this.model.position,t)},s.prototype._browserPosition=function(){if("body"==this.model.containment){this.containerSize={height:e(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight,width:e(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth};var t=e.extend(!0,{},this.model.position),i={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"};ej.isNullOrUndefined(this.tip)||e(this.tip).css({display:"none"}),"right"==this.model.position.target.horizontal?i.right=0:i.left="left"==this.model.position.target.horizontal?0:this.containerSize.width/2-this.tooltipPos.width/2,"top"==this.model.position.target.vertical?i.top=0:"center"==this.model.position.target.vertical?i.top=this.containerSize.height/2-this.tooltipPos.height/2:i.bottom=0,this.model.showShadow&&this._shadowEffect(this.model.showShadow,t),e(this.tooltip).css(i)}},s.prototype._tooltipMove=function(e){if(this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled){var t=this;if(this._isCancel)return;this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(e):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout((function(){t.isTrack&&t._mousePosition(e)}),300))}},s.prototype._mousePosition=function(t){var i,s,a;"touchstart"==t.type?(t.preventDefault(),i=t.touches[0].pageX,s=t.touches[0].pageY):"mousemove"==t.type&&(i=t.pageX,s=t.pageY),this.isCollision=!0,this._containerCalc(t.currentTarget);var o=0,r=0,n=0,l=e.extend(!0,{},this.model.position.stem),d=e.extend(!0,{},this.model.position),h={left:0,top:0},c={left:i,top:s},u={left:i,top:s},p=this.containerSize.left,m=this.containerSize.top,g="body"!=this.model.containment?i-e(this.model.containment).offset().left:i,_="body"!=this.model.containment?s-e(this.model.containment).offset().top:s;for(d.target.horizontal=d.target.vertical="center","body"!=this.model.containment&&(h="static"==e(this.model.containment).css("position")?e(this.model.containment).offsetParent().offset():e(this.model.containment).offset()),u.left-=h.left,u.top-=h.top;this.isCollision;)if(c=e.extend(!0,{},u),a=!this.model.isBalloon||"right"!=l.horizontal&&"left"!=l.horizontal?0:10+this.tipSize.width/2,o=0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:7,r=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:10,n=this.model.isBalloon?"center"!=l.horizontal||"center"!=l.vertical?this.model.tip.size.height:0:2,c.left+="right"==l.horizontal?-this.tooltipPos.width:"left"==l.horizontal?0:-this.tooltipPos.width/2,c.top+="bottom"==l.vertical?-this.tooltipPos.height:"top"==l.vertical?0:-this.tooltipPos.height/2,c.left+="center"!=l.vertical?"right"==l.horizontal?a:"left"==l.horizontal?-a:0:0,c.left+="center"==l.vertical?"right"==l.horizontal?-n:"left"==l.horizontal?+(n+o):0:0,c.top+="top"==l.vertical?+(n+r):"bottom"==l.vertical?-n:0,this.targetElement!=t.currentTarget&&(this.targetElement=t.currentTarget,(c.left<p||c.left+this.tooltipPos.width>p+this.containerSize.width)&&(this.positionTooltip.horizontal=g>=this.tooltipPos.width?"right":this.containerSize.width-g>=this.tooltipPos.width?"left":"center"),(c.top<m||c.top+this.tooltipPos.height>this.containerSize.height+m)&&(this.positionTooltip.vertical=_>=this.tooltipPos.height?"bottom":this.containerSize.height-_>=this.tooltipPos.height?"top":"center")),this.positionTooltip.horizontal!=l.horizontal||this.positionTooltip.vertical!=l.vertical)this.isCollision=!0,l=e.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,e(this.tooltip).css({top:c.top+"px",left:c.left+"px",position:"absolute",right:"auto",bottom:"auto"}),d.stem=e.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,d),this.model.isBalloon&&this._adjustArrow(d),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:t}))return},s.prototype._axisPosition=function(){var t,i,s,a,o=e.extend(!0,{},this.model.position);"number"==typeof this.model.position.target.horizontal&&(t=this.model.position.target.horizontal.toString()),"number"==typeof this.model.position.target.vertical&&(i=this.model.position.target.vertical.toString()),s=parseInt(t),a=parseInt(i),ej.isNullOrUndefined(this.tip)||e(this.tip).css({display:"none"}),this.model.showShadow&&this._shadowEffect(this.model.showShadow,o),this.model.isBalloon&&this._adjustArrow(o),isFinite(s)&&isFinite(a)&&e(this.tooltip).css({top:a,left:s,position:"absolute"})},s.prototype._tooltipPosition=function(t){var i,s=e.extend(!0,{},t.stem),a=e.extend(!0,{},t.target),o=e.extend(!0,{},this.targetPos),r="top"===s.vertical||"bottom"===s.vertical?5+this.tipSize.width/2:0,n="right"===s.horizontal||"left"===s.horizontal?10+this.tipSize.width/2:0,l=(i=!this.model.isBalloon||"center"===s.horizontal&&"center"===s.vertical?0:this.model.tip.size.height,0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:this.model.isBalloon?0:2),d=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:this.model.isBalloon?0:2;o.left+="right"===a.horizontal?this.targetPos.width:"left"===a.horizontal?0:this.targetPos.width/2,o.top+="bottom"===a.vertical?this.targetPos.height:"top"===a.vertical?0:this.targetPos.height/2,o.left+="right"===s.horizontal?-this.tooltipPos.width:"left"===s.horizontal?0:-this.tooltipPos.width/2,o.top+="bottom"===s.vertical?-this.tooltipPos.height:"top"===s.vertical?0:-this.tooltipPos.height/2,o.left+="center"!==a.horizontal||"center"===s.vertical?"right"===s.horizontal?-i:"left"===s.horizontal?i:0:0,o.top+="center"===a.horizontal||"center"===s.horizontal?"bottom"===s.vertical?-i:"top"===s.vertical?i:0:0,o.left+="center"===a.horizontal&&"center"!==s.vertical?"right"===s.horizontal?n:"left"===s.horizontal?-n:0:0,o.top+="center"!==a.horizontal&&"center"!==s.horizontal?"top"===s.vertical?-r:"bottom"===s.vertical?r:0:0,o.left+="center"!==a.horizontal||"center"===s.vertical?"right"===s.horizontal?-l:"left"===s.horizontal?l:0:0,o.top+="center"===a.horizontal||"center"===s.horizontal?"bottom"===s.vertical?-d:"top"===s.vertical?d:0:0,this.tooltipPos.left=o.left,this.tooltipPos.top=o.top,this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(t),this._shadowEffect(this.model.showShadow,t),e(this.tooltip).css({top:o.top+"px",left:o.left+"px",position:"absolute"}))},s.prototype._calcCollision=function(t,i){t=e.extend(!0,{},t);var s=e.extend(!0,{},t),a=this.model.tip.size.height,o=!0,r="body"!=this.model.containment?e(i).offset().left-e(this.model.containment).offset().left:e(i).offset().left,n="body"!=this.model.containment?e(i).offset().top-e(this.model.containment).offset().top:e(i).offset().top,l={topSpace:n,rightSpace:this.containerSize.width-(r+this.targetPos.width),bottomSpace:this.containerSize.height-(n+this.targetPos.height),leftSpace:r,centerRight:this.containerSize.width-(r+this.targetPos.width/2),centerLeft:r+this.targetPos.width/2,centerTop:n+this.targetPos.height/2,centerBottom:this.containerSize.height-(n+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+a,tooltipHeight:this.tooltipPos.height+a};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(t,l);else{for(;o;)(s=this._collisionFlip(s,l)).target.horizontal!=t.target.horizontal||s.target.vertical!=t.target.vertical||s.stem.horizontal!=t.stem.horizontal||s.stem.vertical!=t.stem.vertical?(this._tooltipPosition(s),t=e.extend(!0,{},s)):o=!1;o||(this.model.collision==ej.Tooltip.Collision.FlipFit?this._collisionFit(s,l):(this._adjustArrow(s),this._shadowEffect(this.model.showShadow,s),e(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},s.prototype._collisionFlip=function(t,i){var s=e.extend(!0,{},this.tooltipPos),a=e.extend(!0,{},t),o=e(this.model.containment).scrollLeft(),r=e(this.model.containment).scrollTop(),n=this.containerSize.left,l=this.containerSize.top;return(s.left+s.width>n+this.containerSize.width+o||s.left<n)&&("center"!=t.target.horizontal?a.target.horizontal=i.leftSpace>=i.tooltipWidth?"left":i.rightSpace>=i.tooltipWidth?"right":"center":a.stem.horizontal=i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center"),s.top<l&&(a.target.vertical=i.bottomSpace>=i.tooltipHeight?"bottom":"center"),s.top+s.height>this.containerSize.height+r+l&&(a.target.vertical=i.topSpace>=i.tooltipHeight?"top":"center"),(a.target.horizontal!=t.target.horizontal||a.target.vertical!=t.target.vertical)&&(a.stem.horizontal="center"==a.target.horizontal?i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center":"right"==a.target.horizontal?"left":"right"),(a.target.vertical!=t.target.vertical||a.target.horizontal!=t.target.horizontal)&&(a.stem.vertical="center"==a.target.vertical?i.centerTop>=i.tooltipHeight?"bottom":i.centerBottom>=i.tooltipHeight?"top":i.centerTop>i.centerBottom?"bottom":"top":"top"==a.target.vertical?"bottom":"top"),a},s.prototype._collisionFit=function(t,i){var s,a,o,r,n,l,d=e.extend(!0,{},this.tooltipPos),h=!1,c=!1,u=1,p=1,m=e(this.model.containment).scrollLeft();s="body"==this.model.containment?document.documentElement.scrollTop||document.body.scrollTop:e(this.model.containment).scrollTop(),(d.left<(a=this.containerSize.left)||d.left+d.width>this.containerSize.width+m+a)&&(u=d.left<a?a:d.left+d.width>this.containerSize.width+m+a?d.left-(d.left+d.width-(this.containerSize.width+a)):1,h=!0),(d.top<(o=this.containerSize.top)||d.top+d.height>this.containerSize.height+s+o)&&(p=d.top<o?o:d.top+d.height>this.containerSize.height+s+o?d.top-(d.top+d.height-(this.containerSize.height+o)):1,c=!0),e(this.tooltip).css({top:1!=p?p+"px":d.top+"px",left:1!=u?u+"px":d.left+"px",position:"absolute"}),this._adjustArrow(t),l={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:e(this.tip).css("display")},this.tooltipPos.top=p=1!=p?p:d.top,this.tooltipPos.left=u=1!=u?u:d.left,r=e(this.tooltip).width(),n=e(this.tooltip).height(),(h||c&&"none"!=l.display)&&(this.model.isBalloon&&(h&&(this.arrowValue.left=this._horizontalAdjustment(t,i)),c&&(this.arrowValue.top=this._verticalAdjustment(t,i))),this.arrowValue.left==-this.model.tip.size.height||this.arrowValue.left==r||this.arrowValue.top==-this.model.tip.size.height||this.arrowValue.top==n?e(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):e(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"none"})),this._shadowEffect(this.model.showShadow,t)},s.prototype._horizontalAdjustment=function(t,i){var s,a,o={left:this.arrowValue.left,top:this.arrowValue.top};return e(this.tooltip).css({display:"block"}),s=this.model.tip.size.height,a="center"!=t.target.horizontal&&"left"==t.stem.horizontal?e(this.tip).offset().left:"center"!=t.target.horizontal&&"right"==t.stem.horizontal?e(this.tip).offset().left+s:e(this.tip).offset().left,e(this.tooltip).css({display:"none"}),a>i.leftSpace&&a+s<i.leftSpace+this.targetPos.width||(a>i.leftSpace+this.targetPos.width||a<i.leftSpace)&&(o.left=i.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),o.left},s.prototype._verticalAdjustment=function(t,i){var s,a,o={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display};return e(this.tooltip).css({display:"block"}),s=this.model.tip.size.height,a="center"==t.target.horizontal&&"top"==t.stem.vertical?e(this.tip).offset().top:e(this.tip).offset().top+s,e(this.tooltip).css({display:"none"}),a>i.topSpace&&a<i.topSpace+this.targetPos.height||(a<i.topSpace||a+s>i.topSpace+this.targetPos.height)&&(o.top=i.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),o.top},s.prototype._createHeader=function(){null!=this.model.title&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),ej.isNullOrUndefined(this.tooltipContent)?e(this.tooltipHeader).appendTo(this.tooltipInter).addClass("e-tooltipHeader"):e(this.tooltipHeader).insertBefore(this.tooltipContent).addClass("e-tooltipHeader")),this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},s.prototype._hideTooltip=function(){var t;if(this._isHidden=!0,t=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,1==this.model.enabled&&"block"==e(this.tooltip).css("display")){if(this.triggerEvents("beforeClose",{}))return;if(this.model.animation.effect==ej.Tooltip.Effect.Fade?e(this.tooltip).fadeOut(t):this.model.animation.effect==ej.Tooltip.Effect.Slide?e(this.tooltip).slideUp(t):e(this.tooltip).css({display:"none"}),"none"==e(this.tooltip).css("display")&&e(this.tooltip).attr("aria-hidden","true").removeClass("e-customAnimation"),this.triggerEvents("close",{}))return}},s.prototype._showTooltip=function(){var t,i,s,a,o,r;this._isHidden&&(t=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,this._isHidden=!1,"none"==e(this.tooltip).css("display")&&1==this.model.enabled&&(this.model.animation.effect==ej.Tooltip.Effect.Fade?e(this.tooltip).fadeIn(t):this.model.animation.effect==ej.Tooltip.Effect.Slide?e(this.tooltip).slideDown(t):e(this.tooltip).css({display:"block"}),"block"==e(this.tooltip).css("display")&&(i=e(this.tooltip[0]).parents(),s=e("body").children(),e(s).each((function(e,t){i.push(t)})),a=e(this.model.target).parents(),e(a).each((function(e,t){i.push(t)})),!(o=Math.max.apply(o,e.map(i,(function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1}))))||o<1e4?o=1e4:o+=1,e(this.tooltip).attr("aria-hidden","false").css({zIndex:o}),this.model.animation.effect==ej.Tooltip.Effect.None&&e(this.tooltip).addClass("e-customAnimation"),r=this._getScrollableParents(),this._on(r,"scroll",this._hideTooltip)),this.triggerEvents("open",{})))},s.prototype._getScrollableParents=function(){return e(this.element).parentsUntil("html").filter((function(){return"visible"!=e(this).css("overflow")})).add(e(window))},s.prototype._tooltipAuto=function(){var e=this;this.timer=setTimeout((function(){e._hideTooltip()}),e.model.autoCloseTimeout)},s.prototype._beforeOpenTooltip=function(t){this.positionTooltip=e.extend(!0,{},this.model.position.stem),this.positionTarget=e.extend(!0,{},this.model.position.target),this.targetElement=this.element,ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined(e(t.currentTarget).attr("data-content"))||(this.model.content=e(t.currentTarget).attr("data-content"),this._setContent(this.model.content))},s.prototype._targetHover=function(e){if(this.isTrack=!0,this.model.enabled)if(this._isHidden||("msie"==ej.browserInfo().name||"edge"==ej.browserInfo().name)&&this.model.associate==ej.Tooltip.Associate.MouseFollow){if(this.tooltip.stop(!0,!0),this.triggerEvents("beforeOpen",{event:e}))return void(this._isCancel=!0);this._isCancel=!1,this._beforeOpenTooltip(e),this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(e.currentTarget),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),this.triggerEvents("click"==e.type?"click":"hover",{event:e})):this.isTrack=!0}else ej.isNullOrUndefined(this.model.target)||this._positionElement(e.currentTarget)},s.prototype._onMouseOut=function(){this.model.enabled&&!this._isHidden&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer)),this.isTrack=!1},s.prototype._onTooltipMouseEnter=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&e(this.tooltip).css({display:"block"})},s.prototype._onTooltipMouseLeave=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&this.model.closeMode==ej.Tooltip.CloseMode.None&&e(this.tooltip).css({display:"none"})},s.prototype._docTouchEndHandler=function(t){e(t.target).closest(".e-tooltip").length||this.model.closeMode!=ej.Tooltip.CloseMode.None||this._hideTooltip()},s.prototype._keyDown=function(e){if(this.model.enabled)switch(e.keyCode?e.keyCode:e.which?e.which:e.charCode){case 27:e.preventDefault(),this._hideTooltip()}},s}(ej.WidgetBase),window.ej.widget("ejTooltip","ej.Tooltip",new t),window.ejTooltip=null,ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"},ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"},ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"},ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"},ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"},function(e,t,i){t.widget("ejTreeView","ej.TreeView",{_rootCSS:"e-treeview",element:null,model:null,validTags:["ul","div"],_addToPersist:["expandedNodes","checkedNodes","selectedNodes"],_setFirst:!1,_requiresID:!0,defaults:{allowMultiSelection:!1,showCheckbox:!1,enableAnimation:!0,allowDragAndDrop:!1,htmlAttributes:{},allowDropChild:!0,allowDropSibling:!0,allowDragAndDropAcrossControl:!0,allowEditing:!1,allowKeyboardNavigation:!0,items:null,fields:{dataSource:null,query:null,tableName:null,child:null,id:"id",parentId:"parentId",text:"text",spriteCssClass:"spriteCssClass",expanded:"expanded",hasChild:"hasChild",selected:"selected",linkAttribute:"linkAttribute",imageAttribute:"imageAttribute",htmlAttribute:"htmlAttribute",imageUrl:"imageUrl",isChecked:"isChecked"},autoCheckParentNode:!1,loadOnDemand:!1,cssClass:"",template:null,enableRTL:!1,expandOn:"dblclick",enablePersistence:!1,enabled:!0,expandedNodes:[],checkedNodes:[],selectedNode:-1,selectedNodes:[],width:null,height:null,autoCheck:!0,enableMultipleExpand:!0,fullRowSelect:!1,sortSettings:{allowSorting:!1,sortOrder:"ascending"},nodeClick:null,beforeExpand:null,nodeExpand:null,beforeCollapse:null,nodeCollapse:null,beforeSelect:null,nodeSelect:null,nodeUnselect:null,nodeCheck:null,nodeUncheck:null,inlineEditValidation:null,beforeEdit:null,nodeEdit:null,keyPress:null,nodeDragStart:null,nodeDrag:null,nodeDragStop:null,nodeDropped:null,beforeAdd:null,nodeAdd:null,beforeDelete:null,nodeDelete:null,beforeCut:null,nodeCut:null,beforePaste:null,nodePaste:null,beforeLoad:null,loadSuccess:null,loadError:null,ready:null,create:null,destroy:null},dataTypes:{allowMultiSelection:"boolean",cssClass:"string",showCheckbox:"boolean",enableAnimation:"boolean",allowDragAndDrop:"boolean",allowDropChild:"boolean",allowDragAndDropAcrossControl:"boolean",allowEditing:"boolean",allowKeyboardNavigation:"boolean",autoCheckParentNode:"boolean",loadOnDemand:"boolean",enableRTL:"boolean",expandOn:"string",enablePersistence:"boolean",enableMultipleExpand:"boolean",fullRowSelect:"boolean",items:"data",fields:{dataSource:"data",query:"data",child:"data"},expandedNodes:"array",checkedNodes:"array",selectedNode:"number",selectedNodes:"array",htmlAttributes:"data",sortSettings:{allowSorting:"boolean",sortOrder:"enum"}},observables:["fields.dataSource"],dataSource:t.util.valueFunction("fields.dataSource"),_setModel:function(i){var s,a,o,r,n,l,d,h;for(s in i)switch(s){case"allowMultiSelection":this.model.allowMultiSelection=i[s],this.model.allowMultiSelection||(a=e(this._liList[this.model.selectedNodes[0]]),this._unselectAll(),this._isRender=!1,this._nodeSelectionAction(a),this._isRender=!0);break;case"cssClass":this._changeSkin(i[s]);break;case"fields":if(this._deepWatch&&!t.isNullOrUndefined(i[s].dataSource)&&JSON.stringify(this._oldDataSource)==JSON.stringify("function"==typeof i[s].dataSource?i[s].dataSource():i[s].dataSource))return;this._unWireEvents(),(n=(r=!this.element.hasClass("e-js"))?this.element.children("ul"):this.element).empty(),null==this.model.fields||null==i[s]?this.model.fields=i[s]:this._extendFields(this.model.fields,i[s]),this.model.expandedNodes=[],this.model.checkedNodes=[],this.model.selectedNodes=[],this.model.selectedNode=-1,this._persistValues(this.model.expandedNodes,"expandedNodes"),this._persistValues(this.model.checkedNodes,"checkedNodes"),this._persistValues(this.model.selectedNodes,"selectedNodes"),this._newDataSource=this.dataSource(),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()?this._initialize():this._checkDataBinding(),r&&(o=this.element.children(".e-treeview-ul"),n.append(o.children()),o.remove());break;case"allowDragAndDropAcrossControl":this.model.allowDragAndDropAcrossControl=i[s],this._enableDragDrop();break;case"enabled":this._enabledAction(i[s]);break;case"showCheckbox":i[s]?(this.model.showCheckbox=i[s],this._showCheckBox(),this.model.enabled||this.element.find(".nodecheckbox").ejCheckBox("disable")):(this.element.find(".e-item > div > .e-chkbox-wrap").remove(),this._updateCheckedNodes());break;case"autoCheck":this.model.autoCheck=i[s];break;case"autoCheckParentNode":this.model.autoCheckParentNode=i[s];break;case"expandedNodes":if(h=i[s].length,l=JSON.parse(JSON.stringify(this.model.expandedNodes)),h>0)for(this._expandNodes(i[s]),d=0,h=l.length;d<h;d++)-1==i[s].indexOf(l[d])&&this._collapseNode(e(this._liList[l[d]]));else 0==h&&this._collapseAll();i[s]=this.model.expandedNodes;break;case"checkedNodes":if(this.model.showCheckbox)if(h=i[s].length,l=JSON.parse(JSON.stringify(this.model.checkedNodes)),h>0)for(this._checkedNodes(i[s]),d=0,h=l.length;d<h;d++)-1==i[s].indexOf(l[d])&&this._nodeUncheck(e(this._liList[l[d]]).find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);else 0==h&&this._uncheckAll();i[s]=this.model.checkedNodes;break;case"expandOn":this._off(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:this.model.expandOn,this._expandEventHandler),this._assignTouchExpandOn(i[s]),this._on(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:i[s],this._expandEventHandler);break;case"allowEditing":this._preventEditable(),i[s]&&this._allowEditable();break;case"allowKeyboardNavigation":this[i[s]?"_on":"_off"](this.element,"keydown",this._KeyPress);break;case"allowDragAndDrop":this.model.allowDragAndDrop=i[s],i[s]?this._addDragableClass():this._preventDraggable();break;case"allowDropChild":this.model.allowDropChild=i[s],i[s]?this._addDragableClass():this._preventDropChild();break;case"allowDropSibling":this.model.allowDropSibling=i[s],i[s]?this._addDragableClass():this._preventDropSibling();break;case"enableRTL":this.model.enableRTL=i[s],(this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element)[this.model.enableRTL?"addClass":"removeClass"]("e-rtl");break;case"height":this.element.is("ul")?this.element.parent().height(i[s]):this.element.height(i[s]);break;case"width":this.element.is("ul")?this.element.parent().width(i[s]):this.element.width(i[s]);break;case"selectedNode":case"selectedNodes":this.model.selectedNodes="selectedNode"==s?[i[s]]:i[s],this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active").closest("li").attr("aria-selected",!1),this._doSelectNodes(this.model.selectedNodes,!1),"selectedNode"!=s&&(i[s]=this.model.selectedNodes);break;case"htmlAttributes":this._addAttr(i[s]);break;case"enableMultipleExpand":i[s]||this.collapseAll(),this.model.enableMultipleExpand=i[s];break;case"sortSettings":e.extend(this.model.sortSettings,i[s]),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()||(this.model.expandedNodes=[],this.model.checkedNodes=[],this.model.selectedNodes=[],this._checkDataBinding());break;case"fullRowSelect":this._wholeRowEvents("_off"),this.model.fullRowSelect=i[s],this.model.fullRowSelect?this._addWholeRowWrap():this._removeWholeRowWrap(),this._doWholeRowAction(),this._wholeRowEvents("_on")}},_destroy:function(){this.element.html(""),this._cloneElement.removeClass("e-treeview e-js e-treeview-wrap"),(this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element).replaceWith(this._cloneElement),e("#"+this._id+"_WaitingPopup").remove(),window.localStorage?(window.localStorage.removeItem(this._id+"_childNodes"),window.localStorage.removeItem(this._id+"_persistedValues")):window.cookie&&(document.cookie=this._id+"_childNodes=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie=this._id+"_persistedValues=; expires=Thu, 01 Jan 1970 00:00:00 UTC")},_init:function(){var e,i;this._cloneElement=this.element.clone(),this._dataSource=[],this._fragment=[],this._templateType="",this._indexID=0,this._newDataSource=this.dataSource(),this._id=this.element.prop("id"),this._treeList=[],this._isTextbox=!1,this._isDevice=this._checkDevice(),this._deepWatch=!("true"!==this.element.attr("e-deepwatch")||this.dataSource()instanceof t.DataManager),e=t.browserInfo(),this._isIE8="msie"==e.name&&"8.0"==e.version,this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this.dataSource()))),this._assignTouchExpandOn(this.model.expandOn),this.model.enablePersistence&&(this._getCookies("_persistedValues")||(i=this._updatePersistAttr(i={selectedNodes:[],expandedNodes:[],checkedNodes:[]}),this._setCookies("_persistedValues",JSON.stringify(i)))),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()?(this._initialize(),this._completeRendering()):this._checkDataBinding()},_initialize:function(){this._cutNode=null,this._beforeEditText=null,this._CurrenctSelectedNodes=[],this._isLoaded=!1,this._renderMultiTouchDialog(),this.element.is("ul")?this._createWrapper():(this.element.addClass("e-treeview-wrap e-widget").attr("tabindex",0).children("ul:first").addClass("e-ul e-box").attr("role","tree"),null!=this.model.width&&this.element.width(this.model.width),null!=this.model.height&&this.element.height(this.model.height),this.model.enableRTL&&this.element.addClass("e-rtl"),null!=this.model.cssClass&&this.element.addClass(this.model.cssClass),this._addAttr(this.model.htmlAttributes)),this._elementSettings(),this._beforeBaseClass(),null==this.dataSource()&&(this._addBaseClass(),this._controlRender()),this._addWholeRowWrap(),this._isIE8&&(this.element.is("UL")?this.element.parent(".e-treeview-wrap").addClass("e-ie8"):this.element.addClass("e-ie8")),this._finalize()},_completeRendering:function(){0!=this._treeList.length||this._isLoaded||(this._finalizeNode(),this._enabledAction(this.model.enabled),this._triggerEvent("ready",{element:this.element[0]}),this._isLoaded=!0)},_addWholeRowWrap:function(){this.model.fullRowSelect&&(this.element.is("UL")?this.element.parent(".e-treeview-wrap").addClass("e-fullrow-wrap"):this.element.addClass("e-fullrow-wrap"))},_removeWholeRowWrap:function(){this.element.is("UL")?this.element.parent(".e-treeview-wrap").removeClass("e-fullrow-wrap"):this.element.removeClass("e-fullrow-wrap")},_doWholeRowAction:function(){var t,i,s,a;if(this.model.fullRowSelect)for(t=0,i=this._liList.length;t<i;t++)null!=(s=e(this._liList[t]))[0]&&(a=s.find("> .e-text-wrap"),this._renderWholeRow(s,a));else this.element.find(".e-fullrow").remove()},_renderWholeRow:function(t,i){if(t&&this.model.fullRowSelect){var s=document.createElement("div");s.setAttribute("class","e-fullrow"),i?e(s).insertAfter(i):t[0].appendChild(s)}},_extendFields:function(t,i){if(null==t||null==i)t=i;else if(null==t.child||null==i.child)e.extend(t,i);else{this._extendFields(t.child,i.child);var s=t.child;e.extend(t,i),e.extend(t.child,s)}},_checkDevice:function(){return t.isDevice()&&t.isTouchDevice()},_assignTouchExpandOn:function(e){this._touchExpandOn="dblclick"==e?"doubletap":"click"==e?"tap":e},_renderMultiTouchDialog:function(){var i,s,a;this._customPop=t.buildTag("div.e-fe-popup","",{display:"none"}),i=t.buildTag("div.e-content"),s=t.buildTag("div.e-downtail e-tail"),this.model.allowMultiSelection&&(a=t.buildTag("span.e-rowselect e-icon"),i.append(a)),this._customPop.append(i),this._customPop.append(s),this.element.is("ul")||this.element.append(this._customPop),this._on(i,this._isDevice&&e.isFunction(e.fn.tap)?"touchstart":"mousedown",this._popupClick)},_popupClick:function(){var e=this._customPop.find(".e-rowselect");e.hasClass("e-spanclicked")?this._hidePopup():(this._isPopup=!0,e.addClass("e-spanclicked"))},_hidePopup:function(){null!=this._customPop&&this._customPop.is(":visible")&&(this._customPop.find(".e-rowselect").removeClass("e-spanclicked"),this._customPop.hide(),this._isPopup=!1)},_elementSettings:function(){var e=this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element;this.element.is("ul")&&e.attr("role","tree")},_beforeBaseClass:function(){var t=this.element.is("UL")?this.element.parent(".e-treeview-wrap")[0]:this.element[0];this._ulList=e(t.querySelectorAll("ul")),this._liList=e(t.querySelectorAll("li"))},_createWrapper:function(){var e=this.wrapper=t.buildTag("div.e-treeview-wrap e-widget "+this.model.cssClass,"","",{tabindex:0});null!=this.model.width&&e.width(this.model.width),null!=this.model.height&&e.height(this.model.height),this.model.enableRTL&&e.addClass("e-rtl"),e.insertAfter(this.element),e.append(this.element.addClass("e-ul e-box").attr("tabindex",0)),this.element.is("ul")&&e.append(this._customPop),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i._enabledAction(!1):i.element.attr(t,e)}))},_changeSkin:function(e){if(this.model.cssClass!=e){var t=this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element;t.removeClass(this.model.cssClass).addClass(e),t.find(".e-item > div > .e-chkbox-wrap").removeClass(this.model.cssClass).addClass(e),this._waitingPopup&&this._waitingPopup.option("cssClass",e)}},_enabledAction:function(e){this.model.enabled=e,e?(this.element.removeClass("e-disable"),this._wireEvents()):(this.element.addClass("e-disable"),this._unWireEvents())},_checkDataBinding:function(){this.dataSource()instanceof t.DataManager?this._initDataSource():(this._ensureDataSource(this.dataSource()),this._initialize(),this._completeRendering())},_initDataSource:function(){this.element.ejWaitingPopup({cssClass:this.model.cssClass}),this._waitingPopup=this.element.ejWaitingPopup("instance"),this._waitingPopup.maindiv.addClass("e-tree-popup");var e,t=this;this.element.ejWaitingPopup("refresh"),this.element.ejWaitingPopup("show"),this.dataSource().ready!=i?this.dataSource().ready.done((function(e){t._initAfterDataSource(e)})):(e=this._columnToSelect(this.model.fields),this.dataSource().executeQuery(e).done((function(e){t._initAfterDataSource(e)})))},_initAfterDataSource:function(e){var i=this;i.element.ejWaitingPopup("hide"),i.retriveData=e.xhr&&e.xhr.responseJSON&&e.xhr.responseJSON.d?e.xhr.responseJSON.d:e.result?e.result:[],i._typeOfFieldId=i.retriveData[0]?(typeof t.getObject(i.model.fields.id,i.retriveData[0])).toLowerCase():"",i._ensureDataSource(i.retriveData),i._newDataSource=JSON.parse(JSON.stringify(i.retriveData)),i._initialize(),i.dataSource().dataSource.offline||!i.model.loadOnDemand&&t.isNullOrUndefined(i.model.fields.child)||(i._templateType=2),(i.model.loadOnDemand||t.isNullOrUndefined(i.model.fields.child))&&i._completeRendering()},_columnToSelect:function(e){var i,s=[],a=t.Query();if(e.query||t.isNullOrUndefined(e.tableName))a=e.query?e.query.clone():a;else{for(i in e)"tableName"!==i&&"child"!==i&&"dataSource"!==i&&e[i]&&s.push(e[i]);s.length>0&&a.select(s),this.dataSource().dataSource.url.match(e.tableName+"$")||t.isNullOrUndefined(e.tableName)||a.from(e.tableName)}return a},_ensureDataSource:function(e){e=this._getSortAndFilterList(this.model.fields,e),this.currentSelectedData=e,this._renderTemplate(e),this.element.is("ul")?this.element.html(this._fragment.firstChild.children):this.element.html(this._fragment)},_getTemplateType:function(e,s){for(var a=0,o=e.length;a<o;a++){if(t.getObject(s.parentId,e[a])!==i||t.getObject(s.hasChild,e[a])!==i)return 1;if(e[a].hasOwnProperty("child"))return 2}return 1},_groupingObjects:function(e,t){for(var i,s={},a=[],o=0,r=e.length;o<r;o++)s[i=JSON.stringify(t(e[o]))]=s[i]||[],s[i].push(e[o]);for(o in s)a.push(s[o]);return a},_renderTemplate:function(e){this._onlineData=!1,this._loadOnDemandNodes=!1;var i=this;this._templateType=this._getTemplateType(e,this.model.fields),this._dataSource=1==this._templateType?this._groupingObjects(e,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(i.model.fields.parentId,e)].toString()]})):e,this._templateNodeCreation(e,this.model.fields)},_templateNodeCreation:function(i,s){var a,o,r,n,l;if(this._fragment=document.createDocumentFragment(),a=document.createElement("ul"),this._fragment.appendChild(a),o=this._fragment.firstChild,(this._onlineData||this._loadOnDemandNodes)&&(o.className="e-treeview-ul",o.setAttribute("role","group"),e(o).attr("style","display:none")),null!=this.dataSource()){for(r=0,n=i.length;r<n;r++)i[r]&&(l=t.getObject(this.model.fields.parentId,i[r]),(t.isNullOrUndefined(l)||0==l||this._loadOnDemandNodes)&&o.appendChild(this._genTemplate(i[r],s)));e(o).find(".e-item:first-child:not(:last-child)").addClass("first"),e(o).find(".e-item:last-child").addClass("last")}},_onlineDataSource:function(t,i,s){this._loadOnDemandNodes=!0,this._templateNodeCreation(t,s);var a=this.element.find(".e-item#"+i);null!=a[0]&&(e(a[0]).append(this._fragment),a.children().find("> div:first").addClass("e-icon e-plus"),this._finalizeLoadOnDemand(a)),this._onlineData=!1},_genTemplate:function(i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=document.createDocumentFragment();if(o=document.createElement("li"),C.appendChild(o),(a=C.firstChild).id=t.getObject(s.id,i),a.id&&"undefined"!=a.id||(a.id=""),a.setAttribute("role","treeitem"),(d=t.getObject(s.htmlAttribute,i))&&this._setAttributes(d,a),a.className+=" e-item",n=document.createElement("a"),h=t.getObject(s.imageUrl,i),c=t.getObject(s.spriteCssClass,i),h?((r=document.createElement("img")).className="e-align",r.src=h,(u=t.getObject(s.imageAttribute,i))&&this._setAttributes(u,r)):c&&((r=document.createElement("span")).className=c),this.model.template){if(r&&n.appendChild(r),"function"!=typeof e.fn.render)throw"Error : JsRender dependecy script missing";n.innerHTML+=this._renderEjTemplate(this.model.template,i)}else(p=t.getObject(s.text,i))?e(n).text(p):e(n).text("undefined"),r&&n.insertBefore(r,n.lastChild);if((m=t.getObject(s.linkAttribute,i))&&("object"==typeof m?this._setAttributes(m,n):n.href=m),a.appendChild(n),t.getObject(s.expanded,i)&&(a.className+=" expanded"),t.getObject(s.selected,i)&&(a.className+=" selected"),g=t.getObject(s.isChecked,i),t.isNullOrUndefined(g)||(a.className+=g?" checked":" unchecked"),a.setAttribute("aria-selected",!1),a.setAttribute("aria-expanded",!1),this.dataSource()instanceof t.DataManager)this._updateElement(a,!0),this.model.showCheckbox&&this._checkboxOnTemplate(a.children[0]),this.model.loadOnDemand?(t.getObject(s.hasChild,i)||i.hasOwnProperty("child"))&&(a.children[0].firstChild.className="e-icon e-plus"):!t.isNullOrUndefined(s.child)&&s.child.dataSource instanceof t.DataManager?(_=this,f=s.child.parentId?s.child.parentId:_.model.fields.parentId,b=s.id?s.id:this.model.fields.id,this._treeList.push("false"),v=t.getObject(b,i),this._executeDataQuery(s.child,f,"number"==this._typeOfFieldId?parseInt(v):v).done((function(e){if(_._treeList.pop(),(l=_._getSortAndFilterList(s.child,l=e.xhr&&e.xhr.responseJSON&&e.xhr.responseJSON.d?e.xhr.responseJSON.d:e.result?e.result:[]))&&l.length>0){_._onlineData=!0;var t=l[0][s.child.parentId];_._updateRemoteData(_._newDataSource,t,l,_.model.fields),_._onlineDataSource(l,t,s.child)}0==_._treeList.length&&_._completeRendering()}))):t.isNullOrUndefined(this.model.fields.child)&&this._childNodeCreation(i,a,s);else if(this.model.loadOnDemand){if(this._updateElement(a,!0),(t.getObject(s.hasChild,i)||i.hasOwnProperty("child"))&&(a.children[0].firstChild.className="e-icon e-plus"),this.model.showCheckbox&&this._checkboxOnTemplate(a.children[0]),t.getObject(s.expanded,i)&&this._childNodeCreation(i,a,s),this.model.enablePersistence&&(x=this._getCookies("_childNodes")))for(w=0,S=(y=JSON.parse(x)).length;w<S;w++)if(y[w].toString()==t.getObject(s.id,i).toString()){this._childNodeCreation(i,a,s);break}}else this._onlineData||(this._updateElement(a,!0),this.model.showCheckbox&&this._checkboxOnTemplate(a.children[0]),this._childNodeCreation(i,a,s));return a},_childNodeCreation:function(i,s,a){var o,r,n,l,d,h;if(o=2==this._templateType?!t.isNullOrUndefined(i.child)&&i.child.length>0&&i.child:this._getChildNodes(this._dataSource,{id:t.getObject(a.id,i)}),!t.isNullOrUndefined(o)&&o.length>0){for(s.children[0].firstChild.className="e-icon e-plus",r=document.createDocumentFragment(),n=document.createElement("ul"),r.appendChild(n),(l=r.firstChild).className="e-treeview-ul",l.setAttribute("role","group"),e(l).attr("style","display:none"),d=0,h=o.length;d<h;d++)o[d]&&0!=t.getObject(this.model.fields.parentId,[o[d]])&&l.appendChild(this._genTemplate(o[d],a));s.appendChild(n)}},_checkboxOnTemplate:function(e){""==e.parentElement.id&&(e.parentElement.id=this._id+"_"+this._indexID,this._indexID++);var t=document.createElement("input");t.setAttribute("type","checkbox"),t.setAttribute("class","nodecheckbox"),t.setAttribute("name",this._id+"_Checkbox_"+e.parentElement.id),t.setAttribute("value",e.parentElement.id),e.insertBefore(t,e.children[1])},_updateElement:function(t,s){var a,o,r,n,l,d,h,c,u=t.firstChild;u&&("SPAN"==(l=u.nodeName)||"IMG"==l?(n=u,r=t.lastChild):r=t.lastChild,r&&(h=null!=r.lastChild?r.lastChild.nodeValue:"",d=e.trim(r.innerHTML),c=e(r).clone()[0],e(r).remove(),c.className+=" e-text CanSelect",c.innerHTML=d,t.innerHTML=""),(a=document.createElement("div")).setAttribute("class","e-text-wrap"),a.setAttribute("role","presentation"),s&&((o=document.createElement("div")).setAttribute("role","presentation"),a.appendChild(o)),n&&a.appendChild(n),a.appendChild(c),e(t).prop("name")==i&&e(t).prop("name",e.trim(h)),t.appendChild(a),this._renderWholeRow(e(t)))},_setAttributes:function(t,i){for(var s in t)e(i).attr(s,t[s])},_addDragableClass:function(){this.model.allowDragAndDrop&&(this._anchors=this._liList.map((function(){return e("a.e-text",this)[0]})),this._anchors.addClass("e-draggable e-droppable"),this._enableDragDrop(),this._on(this.element,"mouseup touchstart pointerdown MSPointerDown",this._anchors,this._focusElement),this._on(this.element,"focusout",this._anchors,this._blurElement))},_addBaseClass:function(){this._ulList.addClass("e-treeview-ul").attr("role","group"),this._liList.addClass("e-item").attr("role","treeitem"),this.element.is("ul")||this.element.find("ul:first").removeClass("e-treeview-ul").addClass("e-ul")},_controlRender:function(){var s,a,o,r,n,l,d,h,c,u,p,m=this.element;if(null!=m){for(s=m.find(".e-item"),a=0;a<s.length;a++)(d=(o=e(s[a])).children("ul.e-treeview-ul")[0])&&e(o.children("ul.e-treeview-ul")[0]).remove(),(h=o.children("a")[0])?(l=e.trim(e(h).text()),r=e(h).clone(),e(h).remove(),n=o.clone(),e(r).prepend(n.children()),e(r).addClass("e-text CanSelect"),o.html("")):(l=e.trim(this._getText(o)),n=o.clone(),o.html(""),(r=t.buildTag("a.e-text CanSelect","","","")).append(n.children()),r[0].innerHTML+=l),c=t.buildTag("div","",{},{role:"presentation"}),u=t.buildTag("div.e-text-wrap","",{},{role:"presentation"}),e(u).append(c).append(r),o.prepend(u),this._renderWholeRow(o),d&&o.append(d),o.prop("name")==i&&o.prop("name",l),this.model.showCheckbox&&this._checkboxOnTemplate(s[a].children[0]);this.model.showCheckbox&&m.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})}(p=m.find(".e-item")).find(">ul").hide(),p.find(".e-text"),p.filter(".e-item:last-child").addClass("last"),e(p[0]).addClass("first"),e(p[0]).hasClass("first")&&e(p[0]).hasClass("last")&&e(p[0]).removeClass("first"),e(p.filter(":has(ul)")).each((function(){e(this).attr("aria-expanded",!1).attr("aria-selected",!1);var t=e(this).children("ul:first");e(t).is(":hidden")?e(this).find("> div > div:first").removeClass("e-icon e-minus").addClass("e-icon e-plus"):e(this.childNodes[1]).removeClass("e-icon e-plus").addClass("e-icon e-minus")}))},_getText:function(t){return e(t).clone().children().remove().end().text()},_expandNodes:function(i,s){for(var a=i.length,o=[],r=0;r<a;r++)o=s?this._getNodeByID(i[r]):e(this._liList[i[r]]),t.isNullOrUndefined(o)||!this.model.enableMultipleExpand&&o.siblings().find(">div>.e-minus").closest(".e-item").length>0||this.isExpanded(o)||(!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(o):this._createChildNodesWhenExpand(o))},_checkedNodes:function(t){var i,s,a;for(t.length>0&&this._removeField(this._newDataSource,this.model.fields,"isChecked"),s=0,a=t.length;s<a;s++)null!=(i=e(this._liList[t[s]]))[0]&&this._nodeCheck(i.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},_finalize:function(){this.model.showCheckbox&&this.element.find(".e-item > div .nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this.model.allowEditing&&this._allowEditable()},_finalizeNode:function(){var i,s,a,o,r;this._isRender=!1,this._allowOnDemand=!0;var n,l,d=this.element,h=this._getCookies("_persistedValues"),c=[],u=[];if(!(this.model.expandedNodes instanceof Array&&this.model.expandedNodes.length>0))for(a=(n=d.find("li.expanded")).length,s=0;s<a;s++)i=e(n[s]),!this.model.enableMultipleExpand&&i.siblings().find(">div>.e-minus").closest(".e-item").length>0||this._expandNode(i);if(h&&(c=JSON.parse(h).expandedNodes,u=[]),c&&c.length>0&&!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()){for(s=0,a=c.length;s<a;s++)if(null!=(u=this.element.find(".e-item#"+c[s]))[0]){if(!this.model.enableMultipleExpand&&u.siblings().find(">div>.e-minus").closest(".e-item").length>0)continue;!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(u):this._createChildNodesWhenExpand(u)}}else l=JSON.parse(JSON.stringify(this.model.expandedNodes)),this._expandNodes(l);if(this.model.showCheckbox)if(h&&(c=JSON.parse(h).checkedNodes,u=[]),c&&c.length>0&&!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource())for(this._removeField(this._newDataSource,this.model.fields,"isChecked"),s=0,a=c.length;s<a;s++)null!=(u=this.element.find(".e-item#"+c[s]))[0]&&this._nodeCheck(u.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);else l=JSON.parse(JSON.stringify(this.model.checkedNodes)),this._checkedNodes(l);this.model.checkedNodes instanceof Array&&this.model.checkedNodes.length>0||this.model.showCheckbox&&this._isCheckedAction(),o=!1,h&&(c=JSON.parse(h).selectedNodes,o=!0),(!h||c&&0==c.length)&&(c=this.model.selectedNodes.length>0?this.model.selectedNodes:-1==this.model.selectedNode?[]:[this.model.selectedNode],o=!1),r={ctrlKey:!0},c&&c.length>0?this._doSelectNodes(c,o):this._isSelectedAction(r),this._isRender=!0,this._allowOnDemand=!1,d.find(".e-item.checked, .e-item.expanded, .e-item.selected").removeClass("checked expanded selected")},_doSelectNodes:function(t,i){for(var s,a={ctrlKey:!0},o=0,r=t.length;o<r&&(null!=(s=i?this._getNodeByID(t[o]):e(this._liList[t[o]]))[0]&&this._nodeSelectionAction(s,a),this.model.allowMultiSelection);o++);},_doUnselectNodes:function(e){for(var t,i=0,s=e.length;i<s&&(null!=(t=this._getNodeByID(e[i]))[0]&&this._nodeUnSelectionAction(t),this.model.allowMultiSelection);i++);},_updateSelectedNode:function(){var t,s,a,o=e(this._liList).find(".e-text.e-active").closest(".e-item");if(this.model.selectedNodes=[],this.model.allowMultiSelection||(this.model.selectedNode=null),o[0]==i||o.length<=0)this._persistValues(this.model.selectedNodes,"selectedNodes");else if(this.model.allowMultiSelection){for(t=0,s=o.length;t<s;t++)a=e(this._liList).index(o[t]),this.model.selectedNodes.push(a);this._persistValues(this.model.selectedNodes,"selectedNodes")}else this._isRender=!1,this._nodeSelectionAction(e(o[0])),this._isRender=!0},_setCookies:function(e,i){window.localStorage?window.localStorage.setItem(this._id+e,i):document.cookie&&t.cookie.set(this._id+e,i)},_getCookies:function(e){return window.localStorage?window.localStorage.getItem(this._id+e):window.cookie?t.cookie.get(this._id+e):void 0},_updateCheckedNodes:function(){for(var t=[],i=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox.checked").closest(".e-item"),s=0;s<i.length;s++)t.push(e(this._liList).index(i[s]));(t.length>0||0==i.length)&&(this.model.checkedNodes=t),0==i.length&&this.model.checkedNodes.push(-1),this._persistValues(this.model.checkedNodes,"checkedNodes")},_updateExpandedNodes:function(){var t,i,s,a=[];for(i=0,s=(t=this.element.find(".e-item > div > .e-minus").closest(".e-item").addClass("e-collapse")).length;i<s;i++)a.push(e(this._liList).index(t[i]));(a.length>0||0==t.length)&&(this.model.expandedNodes=a),0==t.length&&this.model.expandedNodes.push(-1),this._persistValues(this.model.expandedNodes,"expandedNodes")},_isCheckedAction:function(){for(var t,i,s,a=this.element.find(".e-item.checked"),o=0;o<a.length;o++)if(t=e(a[o]).find(".e-item"),i=e(a[o]).find(".e-item.unchecked"),0==t.length||!(t.length>0&&i.length==t.length)||!this.model.autoCheck)for(this._nodeCheck(e(a[o]).find("> div > .e-chkbox-wrap > input.nodecheckbox:first")[0]),s=0;s<i.length;s++)this._nodeUncheck(e(i[s]).find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);this.element.find(".e-item.checked, .e-item.unchecked").removeClass("checked unchecked")},_isExpandedAction:function(){for(var t,i=this.element.find("li.expanded"),s=i.length,a=0;a<s;a++)t=e(i[a]),!this.model.enableMultipleExpand&&t.siblings().find(" > div > .e-minus").closest(".e-item").length>0||this._expandNode(t);this.element.find(".e-item.expanded").removeClass("expanded")},_isSelectedAction:function(t){for(var i=this.element.find(".e-item.selected"),s=0,a=i.length;s<a&&(null!=i[s]&&this._nodeSelectionAction(e(i[s]),t),this.model.allowMultiSelection);s++);this.element.find(".e-item.selected").removeClass("selected")},_checkedChange:function(t){t.isInteraction&&this.element.closest(".e-treeview.e-js").data("ejTreeView")[t.isChecked?"_nodeCheck":"_nodeUncheck"](e(this.element)[0],t)},_doClickAnimation:function(t){var s=e(t.target);s!=i&&t.type!=i&&(s.addClass("e-animate"),s.is("A")&&s.hasClass("e-text")&&s.closest(".e-text-wrap").addClass("e-animate"))},_ClickEventHandler:function(i){var s,a,o,r,n,l,d,h=e(i.target),c=h.closest(".e-item").find("> div > div:first");if(this._isPopup=!1,c&&!c.hasClass("e-process")&&!(s=h.closest(".e-item")).hasClass("e-node-disable")){if(this.element.find(".e-animate").removeClass("e-animate"),this._doClickAnimation(i),a=null!=s[0]?s[0].getAttribute("id"):"",this._triggerEvent("nodeClick",{event:i,currentElement:h[0],id:a,parentId:s.closest("ul").closest(".e-item").attr("id")}),!t.isNullOrUndefined(h)&&h.is("DIV"))if(h.hasClass("e-plus")||h.hasClass("e-minus"))if(h.is("SPAN")&&(h=h.parent("div").find("div:first")),s.children("ul:first"),!(n=this.isChildLoaded(s))&&this.model.loadOnDemand){if(h.removeClass("e-plus").addClass("e-load"),this._checkboxChecked=h.parent().find(".nodecheckbox").hasClass("checked"),r=this._getNodeDetails(s),o={currentElement:s,targetElement:h[0],id:r.id,value:r.text,parentId:r.parentId,isChildLoaded:n,hasParent:!0,async:!0},this._isEventTriggered=!0,this._triggerEvent("beforeExpand",o))return!1;this._loadOnDemand(o,h[0])}else h.hasClass("e-plus")?this._expandNode(s):this._collapseNode(s);else this.model.fullRowSelect&&(h.hasClass("e-fullrow")||h.hasClass("e-text-wrap"))&&(h=h.closest(".e-item").find("> .e-text-wrap .e-text"));h.is("A")||h.hasClass("input-text")||(h=h.closest(".e-text")),!t.isNullOrUndefined(h)&&h.is("A")&&h.hasClass("CanSelect")&&(i&&"touch"==i.pointerType&&null!=this._customPop&&this.model.allowMultiSelection?(l=e(i.target),this._customPop.is(":visible")||this._customPop.show(),this._customPop.is(":visible")&&!this._customPop.find(".e-rowselect").hasClass("e-spanclicked")?(d=l.offset(),this._customPop.offset({left:d.left,top:d.top-40})):i.ctrlKey=!0):this._hidePopup(),h.hasClass("e-active")?this.model.allowMultiSelection&&this._nodeUnSelectionAction(h.closest(".e-item"),i):this._nodeSelectionAction(h.closest(".e-item"),i))}i.target&&["INPUT","BUTTON","TEXTAREA","SELECT"].indexOf(i.target.tagName)<0&&this.element.focus()},_getChildTables:function(e,i,s){if(!t.isNullOrUndefined(e.child))return i==s?e.child:this._getChildTables(e.child,i,s+1)},_loadOnDemand:function(i){var s,a,o,r=this;if(this.dataSource()instanceof t.DataManager){if(a=i.currentElement.parents("ul.e-treeview-ul").length,o=this._getChildTables(r.model.fields,a,1),t.isNullOrUndefined(o)&&t.isNullOrUndefined(this.model.fields.child)&&(o=this.model.fields),!o)return void(e(i.targetElement).hasClass("e-load")&&e(i.targetElement).removeClass(e(i.targetElement).hasClass("e-plus")||e(i.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load"));this._executeDataQuery(o,o.parentId,"number"==this._typeOfFieldId?parseInt(i.currentElement[0].id):i.currentElement[0].id).done((function(a){if((s=r._getSortAndFilterList(o,s=a.xhr&&a.xhr.responseJSON&&a.xhr.responseJSON.d?a.xhr.responseJSON.d:a.result?a.result:[])).length>0){r._onlineData=!0;var n=t.getObject(o.parentId,s[0]);r._updateRemoteData(r._newDataSource,n,s,r.model.fields),r._loadChildNodeWhenOnDemand(s,i,o)}else e(i.targetElement).hasClass("e-load")&&e(i.targetElement).removeClass(e(i.targetElement).hasClass("e-plus")||e(i.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load")}))}else s=this._getChildNodes(this._dataSource,i),!t.isNullOrUndefined(s)&&s.length>0?setTimeout((function(){r._createSubNodesWhenLoadOnDemand(s,i.targetElement,r.model.fields)}),400):e(i.targetElement).hasClass("e-load")&&e(i.targetElement).removeClass(e(i.targetElement).hasClass("e-plus")||e(i.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load")},_loadChildNodeWhenOnDemand:function(e,i,s){var a=this;!t.isNullOrUndefined(e)&&e.length>0&&setTimeout((function(){a._createSubNodesWhenLoadOnDemand(e,i.targetElement,s)}),100)},_createSubNodesWhenLoadOnDemand:function(t,i,s){this._loadOnDemandNodes=!0,this._templateNodeCreation(t,s),e(this._fragment.firstChild).attr("style","display:none"),this._fragment.firstChild.className="e-treeview-ul",this._fragment.firstChild.setAttribute("role","group"),i.parentNode.parentNode.appendChild(this._fragment);var a=e(i).closest(".e-item");a.attr({"aria-expanded":!1,"aria-expanded":!0}),e(i).removeClass("e-load").addClass("e-plus"),this._expandNode(a),this._finalizeLoadOnDemand(a)},_finalizeLoadOnDemand:function(e){var i,s,a,o;this._beforeBaseClass(),this._isRender=!1,this.model.showCheckbox&&(e.children("ul").find("li > div > input.nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),i=e.children("ul").find(".e-item"),(s=e.children("ul").find(".e-item.unchecked")).length>=0&&s.length!=i.length&&this._checkboxChecked&&this.model.autoCheck?i.not(".unchecked").addClass("checked"):s.length==i.length&&this.isNodeChecked(e)&&this._nodeUncheck(e.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]),this._isLoaded&&(this._isCheckedAction(),this._updateCheckedNodes())),this._isRender=!0,this._addDragableClass(),this._preventEditable(),this.model.allowEditing&&this._allowEditable(),this._isLoaded&&(this._isSelectedAction(),this._updateSelectedNode(),this._allowOnDemand=!0,this._isExpandedAction(),this._updateExpandedNodes(),this._allowOnDemand=!1),!this.model.loadOnDemand||!this.model.enablePersistence||this.dataSource()instanceof t.DataManager||((o=this._getCookies("_childNodes"))&&(a=JSON.parse(o)),t.isNullOrUndefined(a)||-1!=a.indexOf(e[0].id)?a=[e[0].id]:a.push(e[0].id),this._setCookies("_childNodes",JSON.stringify(a)))},_getChildNodes:function(e,i){var s,a,o,r=[];if(1!=this._templateType){for(a=0,o=e.length;a<o;a++){if(t.getObject(this.model.fields.id,e[a])==i.id&&0!=t.getObject(this.model.fields.parentId,e[a]))return e[a].child;if(e[a].hasOwnProperty("child")&&(r=this._getChildNodes(e[a].child,i),!t.isNullOrUndefined(r)&&r.length>0))break}return r}for(a=0,o=e.length;a<o;a++)if(s=t.getObject(this.model.fields.parentId,e[a][0]),!t.isNullOrUndefined(e[a][0])&&!t.isNullOrUndefined(s)&&0!=s&&s==i.id)return e[a]},_getPath:function(e){for(var t=e.prop("name"),i=e.parents(".e-item:first");null!=i[0]&&i[0].parentNode.id!=this._id;)t=i.prop("name")+"/"+t,i=i.parents(".e-item:first");return this._id+"/"+t},_nodeSelectionAction:function(t,i){var s,a,o,r,n;if(null!=t[0]||0!=t.length){var l=e(t.find("> div > .e-text")[0]),d=!1,h=(this.model.selectedNodes.slice(),this._liList.index(t[0]));if(this._currNode=t,!this._triggerEvent("beforeSelect",{target:t,nodeDetails:this._getNodeDetails(t)})){if(this.model.allowMultiSelection&&i&&(!i||i.ctrlKey)||(this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active"),this.element.find("[aria-selected=true]").attr("aria-selected",!1),this.element.find(".e-li-active").removeClass("e-li-active"),this.model.fullRowSelect&&(this.element.find(".e-li-focus").removeClass("e-li-focus"),this.element.find(".e-node-focus").removeClass("e-node-focus")),this.element.find("#"+this._id+"_active").removeAttr("id"),this.model.selectedNodes=[],this._deepWatch&&this._removeField(this._newDataSource,this.model.fields,"selected")),this.model.allowMultiSelection&&i&&i.shiftKey){this._startNode||(this._startNode=this._currNode);var c=this.getVisibleNodes(),u=c.index(this._startNode),p=c.index(t[0]);for(u>p&&(s=u,u=p,p=s),a=u;a<=p;a++)o=e(c.get(a)),r=this._liList.index(o[0]),-1==e.inArray(r,this.model.selectedNodes)&&(this.model.selectedNodes.push(r),(n=o.find("> div > a.e-text")).removeClass("e-node-focus"),o.attr("aria-selected",!0),o.addClass("e-li-active"),n.addClass("e-active"),d=!0,this._deepWatch&&this._updateField(this._newDataSource,o.attr("id"),this.model.fields,"selected",!0))}else this._startNode=t;this.model.allowMultiSelection||(this.model.selectedNode=h),d||(this.element.find("a.e-text.e-node-focus").removeClass("e-node-focus"),t.attr("aria-selected",!0),t.addClass("e-li-active"),l.addClass("e-active"),this.model.allowMultiSelection||(null!=l.closest(".e-item")[0].id&&""!=l.closest(".e-item")[0].id?this.element.attr("aria-activedescendant",l.closest(".e-item")[0].id):l.closest(".e-item").attr("id",this._id+"_active")),-1==e.inArray(h,this.model.selectedNodes)&&this.model.selectedNodes.push(h),this._deepWatch&&this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"selected",!0)),this.model.enablePersistence&&this._persistValues(this.model.selectedNodes,"selectedNodes"),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerGivenEvent("nodeSelect",t)}}},_nodeUnSelectionAction:function(e,t){this.model.allowMultiSelection&&t&&!t.ctrlKey?this._nodeSelectionAction(e,t):(e.removeClass("e-li-active"),e.attr("aria-selected",!1).find("> div > .e-text").removeClass("e-active").attr("id",""),this._updateUnselectModel(e[0]),this._deepWatch&&(this._updateField(this._newDataSource,e.attr("id"),this.model.fields,"selected",!1),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerGivenEvent("nodeUnselect",e))},_updateUnselectModel:function(t){var i,s=this._liList.index(t),a=this.model.selectedNodes;this.model.allowMultiSelection||(this.model.selectedNode=null),(i=e.inArray(s,a))>-1&&this.model.selectedNodes.splice(i,1),this._persistValues(this.model.selectedNodes,"selectedNodes")},_triggerGivenEvent:function(e,t){if(this._isRender){var i={currentElement:t,value:t.find("> div > a.e-text").eq(0).text(),id:t[0].getAttribute("id"),parentId:t.closest("ul").closest(".e-item").attr("id"),selectedNodes:this.model.selectedNodes};this._triggerEvent(e,i)}},_getNodesIndex:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t.push(this._liList.index(e[i]));return t},_nodeEnableAction:function(e){var t=this.getParent(e);null!=t[0]&&t.hasClass("e-node-disable")||(this.model.showCheckbox&&e.find("div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("enable").prop("disabled",!1),e.find(".e-text").removeClass("e-node-disable").closest(".e-item").removeClass("e-node-disable").removeProp("disabled"))},_nodeDisableAction:function(e){var t,i,s;for(this._collapseNode(e),this.model.showCheckbox&&e.find("div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("disable").prop("disabled",!0),t=e.find(".e-text.e-active").closest(".e-item"),e.find(".e-text").addClass("e-node-disable").removeClass("e-active").attr("id","").closest(".e-item").addClass("e-node-disable").prop("disabled",!0),i=0,s=t.length;i<s;i++)this._updateUnselectModel(t[i])},_getNodeDetails:function(e){var t,i,s;return null!=e[0]&&e.is("LI")&&e.hasClass("e-item")?(t=e[0].getAttribute("id"),i=e.children("div").find(".e-text:first").text(),null!=this.model.template&&(s=this._getNodeObject(t,!0)).length>0&&(i=s[0]),{id:t,text:i,parentId:e.closest("ul").closest(".e-item").attr("id")||"",level:e.parentsUntil(".e-treeview-wrap","ul").length,count:e.find(".e-item").length,expanded:this._isNodeExpanded(e),checked:this._isChecked(e),selected:e.find("> div > .e-text").hasClass("e-active"),index:this._liList.index(e)}):{id:"",text:"",parentId:"",level:"",count:"",expanded:"",checked:"",selected:"",index:""}},_denyMultipleExpand:function(t){for(var i=t.siblings().find(">div>.e-minus").closest(".e-item"),s=0,a=i.length;s<a;s++)this._collapseNode(e(i[s]))},_expandCollapseAction:function(t){var i,s,a,o,r;if(t&&!t.hasClass("e-process")&&(s=t.closest(".e-item"),t.is("SPAN")&&(t=e(t).parent("div").find("div:first")),(i=s.children("ul:first")).find("> .e-item").length>0)){if(this.model.enableAnimation&&t.addClass("e-process"),a=e(t).closest(".e-treeview.e-js").data("ejTreeView")._getNodeDetails(s),r=this.isChildLoaded(s),o={currentElement:s,value:a.text,isChildLoaded:r,id:a.id,parentId:a.parentId,async:!1},!this._isNodeExpanded(s)&&r){if(!this._isEventTriggered&&this._triggerEvent("beforeExpand",o))return!1;this._isEventTriggered=!1,s.attr("aria-expanded",!0),this._addExpandedNodes(this._liList.index(s)),e(t).removeClass("e-icon e-plus").addClass("e-icon e-minus"),s.addClass("e-collapse"),this._deepWatch&&this._updateField(this._newDataSource,a.id,this.model.fields,"expanded",!0),this._doAnimation(i,t,"nodeExpand",o,350)}else{if(this.element.find(".e-material-animate").removeClass("e-material-animate"),s.attr("aria-expanded",!1),!0===this._triggerEvent("beforeCollapse",o))return!1;this._removeExpandedNodes(this._liList.index(o.currentElement)),e(t).removeClass("e-icon e-minus").addClass("e-icon e-plus"),s.removeClass("e-collapse"),this._deepWatch&&this._updateField(this._newDataSource,a.id,this.model.fields,"expanded",!1),this._doAnimation(i,t,"nodeCollapse",o,200)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))}},_doAnimation:function(e,i,s,a,o){var r=this;this.model.enableAnimation?e.animate({height:"toggle"},o,"linear",(function(){t.isNullOrUndefined(r.model)||r._doAnimateAction(i,s,a)})):(e.css("display",200==o?"none":"block"),this._doAnimateAction(i,s,a))},_doAnimateAction:function(e,t,i){e.removeClass("e-process"),this._triggerEvent(t,i)},_isChecked:function(e){return"true"===e.find("> div > .e-chkbox-wrap:first").attr("aria-checked")},_doRecursiveCheck:function(t,i){var s,a,o,r,n,l;s=(r=this._getChildUl(t))?r.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0,n=r?r.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[],(a=t.firstChild.querySelector(".nodecheckbox"))&&"INPUT"==a.nodeName.toUpperCase()&&(l=e(a).data("ejCheckBox"),s==n.length||this.model.autoCheckParentNode?(l.setModel({enableTriState:!1,checked:!0}),a.className+=" checked",o=t.firstChild.getElementsByTagName("a")[0].innerHTML,i.push({id:t.id,text:o}),this._deepWatch&&!this.model.autoCheckParentNode&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(a,o),this._addCheckNodes(this._liList.index(t))):l.setModel({enableTriState:!0,checkState:"indeterminate"}),"LI"==(t=t.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveCheck(t,i))},_nodeCheck:function(t,i){var s,a,o,r,n,l,d,h,c;if(null!=e(t)[0]){if(this._CurrenctSelectedNodes=[],this._checkedArray=[],t.className+=" checked",s=e(t).data("ejCheckBox")){if(s.setModel({enableTriState:!1,checked:!0}),o=(a=t.parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._checkedArray.push({id:a.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,a.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(t,o),this._addCheckNodes(this._liList.index(a)),this.model.autoCheck){for(h=0,c=(n=(d=this._getChildUl(a))?d.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[]).length;h<c;h++)e(n[h]).ejCheckBox({checked:!0,enableTriState:!1})[0].className+=" checked",o=(l=n[h].parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._checkedArray.push({id:l.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,l.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(n[h],o),this._addCheckNodes(this._liList.index(l));"LI"==(r=a.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveCheck(r,this._checkedArray)}i&&(i.checknode=this._checkedArray),this._onChecked(e(t),i)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._persistValues(this.model.checkedNodes,"checkedNodes")}},_addHiddenInputElement:function(e,t){if(null==e.firstChild){var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",this._id+"_Checkbox_"+e.value+"_Text"),i.setAttribute("value",t);try{e.appendChild(i)}catch(s){}}},_doRecursiveUncheck:function(t,i){var s,a,o,r,n,l;s=(r=this._getChildUl(t))?r.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0,n=r?r.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[],(a=t.firstChild.querySelector(".nodecheckbox"))&&"INPUT"==a.nodeName.toUpperCase()&&(l=e(a).data("ejCheckBox"),s<=0&&(l.setModel({enableTriState:!1,checked:!1}),e(a).removeClass("checked").removeClass("checked").children().remove(),o=t.firstChild.getElementsByTagName("a")[0].innerHTML,this._removeCheckNodes(this._liList.index(t)),i.push({id:t.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!1)),s>0&&this.model.autoCheckParentNode?(l.setModel({checked:!0}),a.className+=" checked",o=t.firstChild.getElementsByTagName("a")[0].innerHTML,this._addHiddenInputElement(t,o),this._deepWatch&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!1)):s>0&&!this.model.autoCheckParentNode&&(l.setModel(n.length>1?{enableTriState:!0,checkState:"indeterminate"}:{checked:!1}),e(a).removeClass("checked").removeClass("checked").children().remove(),this._removeCheckNodes(this._liList.index(t)),this._deepWatch&&this._updateField(this._newDataSource,t.id,this.model.fields,"isChecked",!1)),"LI"==(t=t.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveUncheck(t,i))},_nodeUncheck:function(t,i){var s,a,o,r,n,l,d,h,c;if(null!=e(t)[0]){if(this._uncheckedArray=[],e(s=t.parentNode.parentNode.parentNode).find("div > .e-chkbox-wrap > .nodecheckbox").removeClass("checked").children().remove(),a=e(t).data("ejCheckBox"),this._removeCheckNodes(this._liList.index(s)),a){if(a.setModel({enableTriState:!1,checked:!1}),o=s.firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._uncheckedArray.push({id:s.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,s.id,this.model.fields,"isChecked",!1),this.model.autoCheck){for(l=0,d=(n=(r=this._getChildUl(s))?r.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[]).length;l<d;l++)e(n[l]).ejCheckBox({enableTriState:!1,checked:!1}),o=(h=n[l].parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._uncheckedArray.push({id:h.id,text:o}),this._deepWatch&&this._updateField(this._newDataSource,h.id,this.model.fields,"isChecked",!1),this._removeCheckNodes(this._liList.index(h));"LI"==(c=s.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveUncheck(c,this._uncheckedArray)}i&&(i.unchecknode=this._uncheckedArray),this._onUnChecked(e(t),i)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._persistValues(this.model.checkedNodes,"checkedNodes")}},_executeDataQuery:function(i,s,a){var o,r,n;if(o=t.Query(),o=this._columnToSelect(i),!t.isNullOrUndefined(s)&&""!=s){for(r=e.extend(!0,[],o._params),o._params=[],o.addParams(s,a),n=0;n<r.length;n++)r[n].key!=s&&o.addParams(r[n].key,r[n].value);o.where(s,t.FilterOperators.equal,a)}return i.dataSource.executeQuery(o)},_createChildNodesWhenExpand:function(i,s,a,o,r,n){var l,d,h,c,u,p,m,g;if(i.length>0&&0==i.find("ul .e-item").length){if(l=i.attr("id"),d=i.children("div").find(".e-text:first").text(),c=i.children("div").find("div.e-plus:first"),h={currentElement:i,targetElement:c[0],id:l,value:d,isChildLoaded:!1,hasParent:!0,async:!1},m=this,this._isEventTriggered=!0,this._triggerEvent("beforeExpand",h))return!1;if(this.dataSource()instanceof t.DataManager){if(u=h.currentElement.parents("ul.e-treeview-ul").length,p=this._getChildTables(this.model.fields,u,1),t.isNullOrUndefined(p)&&t.isNullOrUndefined(this.model.fields.child)&&(p=this.model.fields),!p)return void(e(h.targetElement).hasClass("e-load")&&e(h.targetElement).removeClass(e(h.targetElement).hasClass("e-plus")||e(h.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load"));p.query&&p.query.queries.length>0&&(p.query.queries=[]),this._treeList.push("false"),this._executeDataQuery(p,p.parentId,"number"==this._typeOfFieldId?parseInt(h.currentElement[0].id):h.currentElement[0].id).done((function(l){if(m._treeList.pop(),(g=m._getSortAndFilterList(p,g=l.xhr&&l.xhr.responseJSON&&l.xhr.responseJSON.d?l.xhr.responseJSON.d:l.result?l.result:[])).length>0){var d=t.getObject(p.parentId,g[0]);m._updateRemoteData(m._newDataSource,d,g,m.model.fields)}m._appendChild(g,i,p,s,a,o),a&&m._expandByLevel(i.find("> ul"),a-1,o),0==m._treeList.length&&(r&&m._doAfterExpand(i,r,n),m._completeRendering()),0==m._parentLevelDropChecking.find("ul .e-item").length&&e(m._parentLevelDropChecking).find("> div > .e-icon").remove()}))}else g=this._getChildNodes(this._dataSource,{id:i[0].id}),this._appendChild(g,i,this.model.fields,s,a,o)}else this._expandNode(i)},_appendChild:function(i,s,a,o,r,n){var l,d,h;if(!t.isNullOrUndefined(i)&&i.length>0){if(this._checkboxChecked=s.find("> div > .e-chkbox-wrap > .nodecheckbox").hasClass("checked"),this._loadOnDemandNodes=!0,0==s.find("ul .e-item").length&&(this._templateNodeCreation(i,a),s.append(this._fragment)),this._finalizeLoadOnDemand(s),this._expandNode(s),o&&!r&&!n)for(d=0,h=(l=s.find(".e-item > div > .e-plus").closest(".e-item")).length;d<h;d++)this._createChildNodesWhenExpand(e(l[d]),!0,null,n)}else o&&s.find("> div > .e-plus").removeClass("e-plus e-icon")},_getSortAndFilterList:function(e,i){var s,a;return!i||!i.length||i.length<1?s=[]:this.model.sortSettings.allowSorting?(a=t.Query(),this._addSortingQuery(a,e),s=t.DataManager(i).executeLocal(a)):s=i,s},_addSortingQuery:function(e,i){e.sortBy(i&&i.text?i.text:"text",this.model.sortSettings.sortOrder==t.sortOrder.Descending)},_expandNode:function(e){var t;return null!=e[0]&&e.length>0&&(t=e.find("> div > div:first"),this.model.loadOnDemand&&!this.model.enablePersistence?e.find("> ul > .e-item").length>0&&t.hasClass("e-plus")?(this.model.enableMultipleExpand||this._denyMultipleExpand(e),this._expandCollapseAction(e.find("> div > div.e-plus:first"))):t.hasClass("e-icon")&&!t.hasClass("e-minus")&&this._allowOnDemand&&this._createChildNodesWhenExpand(e):t.hasClass("e-plus")&&e.find("> ul > .e-item").length>0&&(this.model.enableMultipleExpand||this._denyMultipleExpand(e),this._expandCollapseAction(t))),!0},_collapseNode:function(e){if(null!=e[0]&&e.length>0&&e.find("> ul > .e-item").length>0){var t=e.find("> div > div:first");t.hasClass("e-minus")&&this._expandCollapseAction(t)}},_getElement:function(){return this.element.is("UL")?this.element:this.element.find("> ul")},_getImmediateChild:function(e,t){return e.find(t?"> .e-item:not(:hidden)":"> .e-item")},_expandByLevel:function(e,t,i){t>0&&this._expandByNode(this._getImmediateChild(e,i),t,i)},_expandByNode:function(t,i,s){for(var a=0,o=t.length;a<o;a++)e(t[a]).find("> div > div").hasClass("e-plus")&&(this.model.loadOnDemand?this._createChildNodesWhenExpand(e(t[a]),!0,i,s):this._expandNode(e(t[a]))),this._expandByLevel(e(t[a]).find("> ul"),i-1,s)},_expandAll:function(t){var i,s,a;if(a=this.element.find(t?".e-item > div > .e-plus:not(:hidden)":".e-item > div > .e-plus").closest(".e-item"),this.model.loadOnDemand)for(i=0,s=a.length;i<s;i++)this._createChildNodesWhenExpand(e(a[i]),!0,null,t);else for(i=0,s=a.length;i<s;i++)this._expandNode(e(a[i]))},_collapseByLevel:function(e,t,i){t>0&&this._collapseByNode(this._getImmediateChild(e,i),t,i)},_collapseByNode:function(t,i,s){for(var a=0,o=t.length;a<o;a++)e(t[a]).find("> div > div").hasClass("e-minus")&&this._collapseNode(e(t[a])),this._collapseByLevel(e(t[a]).find("> ul"),i-1,s)},_collapseAll:function(t){var i,s,a;if((s=this.element.find(t?".e-item > div > .e-minus:not(:hidden)":".e-item > div > .e-minus").closest(".e-item")).length>0)for(i=0,a=s.length;i<a;i++)this._collapseNode(e(s[i]))},_checkAll:function(){var t,i,s;for(this._CurrenctSelectedNodes=[],(t=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox")).addClass("checked"),i=0,s=t.length;i<s;i++)e(t[i]).ejCheckBox("setModel",{checked:!0}),this._addHiddenInputElement(t[i],e(t[i]).parent().siblings(".e-text")[0].lastChild.nodeValue);this.model.checkedNodes=this.getCheckedNodesIndex()},_uncheckAll:function(){var t,i,s;for((t=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox")).removeClass("checked").children().remove(),i=0,s=t.length;i<s;i++)e(t[i]).ejCheckBox("setModel",{checked:!1});this.model.checkedNodes=[],this.model.checkedNodes.push(-1)},_selectAll:function(){var t,i,s,a;for(this._isRender=!1,t={ctrlKey:!0},i=0,s=this._liList.length;i<s&&(null!=(a=e(this._liList[i]))[0]&&this._nodeSelectionAction(a,t),this.model.allowMultiSelection);i++);this._isRender=!0},_unselectAll:function(){this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active"),this.element.find("[aria-selected=true]").attr("aria-selected",!1),this.element.find(".e-li-active").removeClass("e-li-active"),this.element.find(".e-li-focus").removeClass("e-li-focus"),this.element.find(".e-node-focus").removeClass("e-node-focus"),this.model.selectedNodes=[],this.model.enablePersistence&&this._persistValues(this.model.selectedNodes,"selectedNodes")},_isNodeExpanded:function(e){if(null!=e[0])return e.children("ul:first").length>0&&e.find("> div > div.e-minus").length>0},_showCheckBox:function(){for(var e=this.element,t=e.find("li"),i=0;i<t.length;i++)this._checkboxOnTemplate(t[i].children[0]);e.find(".e-item > div > .nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),e.find(".e-item.e-node-disable > div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("disable")},_drag:function(){var i,s,a=!1,o=t.browserInfo(),r=null,n=null,l=null;s="msie"==o.name&&"8.0"==o.version,this.element.is("ul")?(this._treeView=this.element.parent(),this.model.allowDragAndDropAcrossControl||(l=this.element.parent())):(this._treeView=this.element,this.model.allowDragAndDropAcrossControl||(l=this.element)),e(this._treeView).find("ul li div a").not(".e-js").ejDraggable({autoScroll:!0,dragArea:l,clone:!0,dragStart:function(a){if(!i||t.isNullOrUndefined(a.target)||e(a.target).hasClass("e-node-disable")||0!=i.element.find(".e-item > div > .e-text.e-editable").length||(a.element.attr("aria-grabbed",!0),i.element.closest(".e-treeview-wrap").addClass("e-dragging"),e(a.target).is("A")&&!e(a.target).hasClass("e-draggable")))return!1;s&&(document.ondragstart=function(){return!1});var o={target:e(a.target).closest(".e-item"),targetElementData:i._getNodeDetails(e(a.target).closest(".e-item")),dragTarget:a.target,parentElement:e(a.target).closest("ul").closest(".e-item"),parentElementData:i._getNodeDetails(e(a.target).closest("ul").closest(".e-item")),event:a.event};return i._triggerEvent("nodeDragStart",o)?(a.cancel=!0,r&&r.remove(),!1):void 0},drag:function(s){var o,n,l,d,h,c,u;return a=!1,e(s.target).hasClass("e-sibling")&&(s.target=s.target.parentElement),e(".e-sibling").remove(),n=i._findTarget(e(o=s.target)),e(o).closest(".e-treeview-wrap").addClass("e-dragging"),d=(d=e(o).closest(".e-treeview.e-js").data("ejTreeView"))||i,e(r).css({"margin-top":s.event.clientY-20<0?"0px":"10px"}),null!=e(o).closest(".e-treeview.e-js")&&(h=e(o).closest(".e-treeview.e-js").data("ejTreeView")),l=h?{draggedElement:e(s.element).closest(".e-item"),draggedElementData:i._getNodeDetails(e(s.element).closest(".e-item")),dragTarget:o,target:n,targetElementData:h._getNodeDetails(n),event:s.event}:{draggedElement:e(s.element).closest(".e-item"),draggedElementData:i._getNodeDetails(e(s.element).closest(".e-item")),dragTarget:o,target:n,targetElementData:i._getNodeDetails(n),event:s.event},(0==e(s.element).parent().parent().has(e(o)).length||i.model.allowMultiSelection&&i.model.selectedNodes.length>1)&&(e(o).hasClass("e-droppable")||e(o).parent().hasClass("e-droppable"))&&e(o).hasClass("e-dropchild")&&!e(o).hasClass("e-node-disable")&&(i.model.allowDragAndDropAcrossControl||!i.model.allowDragAndDropAcrossControl&&e(o).parents(".e-treeview").is(i.element))?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),e(o).addClass("allowDrop")):d.model.allowDropChild&&d.model.allowDropSibling&&(e(o).hasClass("e-droppable")&&!e(o).hasClass("e-item")&&!e(o).hasClass("e-text")||e(o).is("UL")&&e(o).hasClass("e-ul")&&0==e(o).find(".e-item").length&&e(o).parent(".e-treeview-wrap").length>0)?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus")):(e(o).hasClass("e-sibling")||e(o).find("a").hasClass("e-text"))&&(e(o).hasClass("e-sibling")||e(o).parent().parent().hasClass("e-item")||e(o).parent().hasClass("e-item")||e(o).hasClass("e-item")||e(o).hasClass("e-text"))&&("LI"!=o.nodeName.toUpperCase()&&(null===o.parentElement||"LI"!=o.parentElement.nodeName.toUpperCase())||d.model.allowDropSibling)&&(i.model.allowDragAndDropAcrossControl||e(o).parents(".e-treeview").is(i.element))||(document.body.style.cursor="not-allowed",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-minus"),e(o).removeClass("showline-hover"),e(o).removeClass("noline-hover")),"A"!=o.nodeName&&(0==e(s.element).parent().parent().has(e(o)).length||i.model.allowMultiSelection&&i.model.selectedNodes.length>1)&&e(s.element).parent().parent()[0]!=e(o)[0]?("UL"==o.nodeName&&null!=e(o).children()[0]&&(o=e(o).children()[0],a=!0),"LI"!=o.nodeName&&(o=e(o).closest(".e-droppable")[0]||e(o).parent()),"LI"==o.nodeName&&e(o).hasClass("e-droppable")&&e(o).hasClass("e-dropsibling")&&(i.model.allowDragAndDropAcrossControl||!i.model.allowDragAndDropAcrossControl&&e(o).parents(".e-treeview").is(i.element))?(c=t.buildTag("div.e-sibling"),u=e(o).offset().top+e(o).find("a").height()||-1,(a=!(s.event.pageY>u))?c.insertBefore(e(o).find("> div > a").parent()):c.insertAfter(e(o).find("> div > a").parent()),e(o).parents().hasClass("e-rtl")?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween-rtl")):(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween"))):"A"==o.nodeName&&e(o)&&e(o).hasClass("e-droppable")&&e(o).hasClass("e-dropchild")?(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),e(o).addClass("allowDrop")):!e(o).hasClass("e-droppable")||e(o).hasClass("e-item")||e(o).hasClass("e-text")||(document.body.style.cursor="",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"))):((1==e(s.element).parent().parent().has(e(o)).length||e(s.element).parent().parent().is(e(o)))&&(!i.model.allowMultiSelection||i.model.allowMultiSelection&&i.model.selectedNodes.length<=1)&&(document.body.style.cursor="not-allowed",e(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-minus")),e(".e-sibling").remove()),!i._triggerEvent("nodeDrag",l)&&void 0},dragStop:function(t){var o,n,l,d,h,c,u,p,m;if(s&&(document.ondragstart=function(){return!0}),t.element.dropped||(r&&r.remove(),document.body.style.cursor=""),e(o=t.target).closest(".e-treeview-wrap").removeClass("e-dragging"),i.element.closest(".e-treeview-wrap").removeClass("e-dragging"),"e-sibling"==o.className&&(o=e(o).closest(".e-item")[0]),e(".e-sibling").remove(),e(o).hasClass("e-node-disable")||(n=a?"Before":"After",d=i._findTarget(e(o)),n="A"==o.nodeName?"Over":n,null!=e(o).closest(".e-treeview.e-js")&&(h=e(o).closest(".e-treeview.e-js").data("ejTreeView")),l=h?{draggedElementData:i._getNodeDetails(e(t.element).closest(".e-item")),draggedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:h._getNodeDetails(d),position:n,event:t.event,preventTargetExpand:!1}:{draggedElementData:i._getNodeDetails(e(t.element).closest(".e-item")),draggedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:i._getNodeDetails(d),position:n,event:t.event,preventTargetExpand:!1},i._triggerEvent("nodeDragStop",l)))return!1;if(c=i._isParentExpand(o),i.model.allowMultiSelection&&e(t.element).hasClass("e-active"))for(p=0,m=(u=i.element.find(".e-item > div > .e-active")).length;p<m;p++)t.element=u[p],"After"==(n=i._dropNode(o,t,n,a))&&e(o).closest(".e-treeview.e-js").length&&(o="LI"==o.nodeName.toUpperCase()?o.nextElementSibling:o.closest("li").nextElementSibling);else n=i._dropNode(o,t,n,a);if(l.preventTargetExpand&&!c&&i._preventParentNode(o),e(".allowDrop").removeClass("allowDrop"),e(t.element).attr("aria-grabbed",!1),e(o).hasClass("e-dropchild")||r&&r.remove(),d=i._findTarget(e(o)),l=h?{droppedElementData:h._getNodeDetails(e(t.element).closest(".e-item")),droppedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:h._getNodeDetails(d),position:n,event:t.event}:{droppedElementData:i._getNodeDetails(e(t.element).closest(".e-item")),droppedElement:e(t.element).closest(".e-item"),dropTarget:e(o),target:d,targetElementData:i._getNodeDetails(d),position:n,event:t.event},i._triggerEvent("nodeDropped",l))return!1;document.body.style.cursor=""},helper:function(s){var a,o,l;if(!t.isNullOrUndefined(s.element)&&!e(s.element).hasClass("e-node-disable")&&e(s.element).hasClass("e-draggable")&&(i=e(s.element).closest(".e-treeview.e-js").data("ejTreeView")))return r=t.buildTag("div.e-dragedNode e-widget"),a=t.util.getZindexPartial(i.element),r.css({"z-index":a}),r.addClass(i.model.cssClass+(i.model.enableRTL?" e-rtl":"")),o=i.element.find(".e-item > div > .e-active").length,n=e(s.element).clone().addClass("dragClone"),this.spanEle=t.buildTag("span.e-icon e-plus e-dropedStatus"),r.append(this.spanEle),r.append(n),l=t.buildTag("span.e-drop-count",o),o>1&&i.model.allowMultiSelection&&e(s.element).hasClass("e-active")&&r.append(l),r.appendTo(e("body"))}})},_isParentExpand:function(t){var i=e(t).closest(".e-item"),s=!1;return i.length>0&&"true"==i[0].getAttribute("aria-expanded")&&(s=!0),s},_preventParentNode:function(t){var i,s=e(t).closest(".e-item"),a=e(s[0]).find(".e-treeview-ul");e(a).css("display","none"),s.length>0&&(s[0].setAttribute("aria-expanded",!1),i=e(s).find(".e-minus"),e(i).removeClass("e-minus").addClass("e-plus"))},_dropNode:function(t,i,s,a){var o=e(t).closest(".e-treeview.e-js").data("ejTreeView");return"A"==t.nodeName&&e(t).hasClass("e-dropchild")&&e(t).hasClass("e-droppable")||"UL"==t.nodeName&&0==e(t).children().length?(s="Over",e(t).is("UL")&&e(t).hasClass("e-ul")&&0==e(t).find(".e-item").length&&e(t).parent(".e-treeview-wrap").length>0&&o.model.allowDropChild?this._dropAsChildNode(e(t),e(i.element),i.event):o.model.allowDropChild&&0==e(i.element).parent().parent().has(e(t)).length&&(0==e(t).parent().parent().has(e(i.element)).length||this._isDescendant(e(t).parents("li:last").find(">ul>li"),e(i.element).parents("li:first")[0]))&&(this.model.allowDragAndDropAcrossControl||!this.model.allowDragAndDropAcrossControl&&e(t).parents(".e-treeview").is(this.element))&&this._dropAsChildNode(e(t).closest(".e-item"),e(i.element),i.event)):("UL"==t.nodeName&&(t=e(t).children()[0]),"LI"!=t.nodeName&&(t=e(t).closest(".e-droppable")[0]||e(t).parent()),"LI"==t.nodeName&&e(t).hasClass("e-dropsibling")&&e(t).hasClass("e-droppable")?o.model.allowDropSibling&&e(i.element).parent().parent().has(e(t)).length<1&&e(i.element).parent().parent()[0]!=e(t)[0]&&(this.model.allowDragAndDropAcrossControl||!this.model.allowDragAndDropAcrossControl&&e(t).parents(".e-treeview").is(this.element))&&this._dropAsSiblingNode(e(t),e(i.element),a,i.event):"A"==t.nodeName&&e(t).hasClass("e-dropchild")&&e(t).hasClass("e-droppable")&&(s="Over",o.model.allowDropChild&&0==e(i.element).parent().parent().has(e(t)).length&&(0==e(t).parent().parent().has(e(i.element)).length||this._isDescendant(e(t).parents("li:last").find(">ul>li"),e(i.element).parents("li:first")[0]))&&this._dropAsChildNode(e(t).closest(".e-item"),e(i.element),i.event))),s},_findTarget:function(e){return e.hasClass("e-text")||e.parents("a").hasClass("e-text")?e.closest(".e-item"):e.closest("ul").closest(".e-item").length>0?e.closest("ul").closest(".e-item"):this.element.find(e).length>0&&!this.model.template?e.parents("ul").first():this.element.find(e).length>0&&this.model.template?e.closest(".e-text").length>0?e.closest(".e-item"):e.parents("ul").first():e},_isDescendant:function(t,i){var s=!0;return e(t).each((function(e,t){if(t==i)return s=!1,!1;s=!0})),s},_childDrop:function(){e(this._treeView).find("ul .e-item div .e-text").ejDroppable({accept:e(this._treeView).find("ul .e-item div .e-text").addClass("e-dropchild"),drop:function(t,i){e(i.helper).hide()}})},_siblingDrop:function(){e(this._treeView).find("ul .e-item").addClass("e-dropsibling").ejDroppable({drop:function(t,i){e(i.helper).hide()}})},_dropAsSiblingNode:function(i,s,a){var o,r=s.parent().parent();r=e(r),o=e(s.parents(".e-item")[1]),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()||this.dataSource()instanceof t.DataManager||this._updateDataSource(s.parents(".e-item:first"),e(i),a,this),a?r.insertBefore(i):r.insertAfter(i),this.model.template||this._autoGenerateNodes(s.parents(".e-item:first")),this._modifyCss(o),this._isRender=!1,this._updateCheckState(r),this._updateCheckState(o),this._isRender=!0,r.find("> div > .e-minus").length>0&&!this.model.enableMultipleExpand&&this._denyMultipleExpand(r),this._updateChanges(e(i))},_dropAsChildNode:function(i,s){var a,o=s.parent().parent();o=e(o),a=this._parentLevelDropChecking=e(s.parents(".e-item")[1]),e(i).is("UL")?e(i).append(o):this._appendNode(i,o),t.isNullOrUndefined(this.model.fields)||null==this.dataSource()||this.dataSource()instanceof t.DataManager||this._updateDataSource(s.parents(".e-item:first"),e(i).find("> div > .e-text").first(),"",this),this.model.template||this._autoGenerateNodes(s.parents(".e-item:first")),this._modifyCss(a),this._isRender=!1,this._updateCheckState(o),this._updateCheckState(a),this._isRender=!0,i.find("> div > .e-icon.e-plus:first").length>0&&this._expandNode(i),this._updateChanges(e(i))},_updateChanges:function(t){if(null!=e(t)[0]){var i=this,s=0;do{i._updateNodes(),1==s&&i._updateTarget(this),s++,i=t.closest(".e-treeview.e-js").data("ejTreeView")}while(i&&this._id!=i._id&&1==s)}},_updateTarget:function(e){this.model.allowDropChild!=e.model.allowDropChild&&(this.model.allowDropChild?this._childDrop():this._preventDropChild()),this.model.allowDropSibling!=e.model.allowDropSibling&&(this.model.allowDropSibling?this._siblingDrop():this._preventDropSibling())},_updatePersistProb:function(){var t,i,s,a,o,r,n,l;for(this._removeField(this._newDataSource,this.model.fields,"selected"),this._removeField(this._newDataSource,this.model.fields,"expanded"),this._removeField(this._newDataSource,this.model.fields,"isChecked"),i=0,s=(t=this.getSelectedNodes()).length;i<s;i++)this._updateField(this._newDataSource,e(t[i]).attr("id"),this.model.fields,"selected",!0);for(o=0,l=(a=this.getExpandedNodes()).length;o<l;o++)this._updateField(this._newDataSource,e(a[o]).attr("id"),this.model.fields,"expanded",!0);if(this.model.showCheckbox)for(n=0,l=(r=this.getCheckedNodes()).length;n<l;n++)this._updateField(this._newDataSource,e(r[n]).attr("id"),this.model.fields,"isChecked",!0)},_orderDataSource:function(){var i,s,a,o,r,n;if(this._beforeBaseClass(),this._updatePersistProb(),i=[],s=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource()instanceof t.DataManager&&2==this._templateType)return this._newDataSource;for(a=0,o=this._liList.length;a<o;a++)for(r=0,n=s.length;r<n;r++)e(document.getElementById(t.getObject(this.model.fields.id,s[r]))).length>0&&!t.isNullOrUndefined(s[r])&&!t.isNullOrUndefined(s[r][this.model.fields.id])&&s[r][this.model.fields.id].toString()==e(this._liList[a]).attr("id")&&(0==e(document.getElementById(t.getObject(this.model.fields.id,s[r]))).find("> ul .e-item").length?(this._deepPropertyDelete(this.model.fields.hasChild,s[r]),2==this._templateType&&delete s[r].child):1==this._templateType?t.createObject(this.model.fields.hasChild,!0,s[r]):this._updateChildData(s[r].child,this.model.fields),i.push(s[r]));return i},_updateDataSource:function(i,s,a,o){var r,n,l,d,h,c,u;null!=e(i)[0]&&null!=e(s)[0]&&(r=o,n=s.closest(".e-treeview.e-js").data("ejTreeView"),!r||!n||t.isNullOrUndefined(n.model.fields)||null==n.dataSource()||n.dataSource()instanceof t.DataManager||(s.is("A")?(l=s.closest(".e-item").attr("id"),d=(h=s.closest(".e-item").find("> ul > .e-item")).length>0?h.length:s.closest(".e-item").index()):(l=s.parents(".e-item:first").attr("id"),c=s.next(".e-item"),u=s.prev(".e-item"),d=c.length>0?d=u.length>0?c.index()-1:a?s.index():c.index():a?s.index():s.index()+1),n&&r._findAndUpdate(i.attr("id"),l,r._newDataSource,d,n,s,a)))},_removeObject:function(e,i,s){for(var a=0,o=e.length;a<o;a++)if(!t.isNullOrUndefined(e[a])&&!t.isNullOrUndefined(e[a][s])&&e[a][s].toString()==i){e.splice(a,1);break}},_getObjectPosition:function(e,i,s){for(var a,o=0,r=e.length;o<r;o++){if(!t.isNullOrUndefined(e[o])&&!t.isNullOrUndefined(e[o][s])&&e[o][s].toString()==i)return o;if(e[o].hasOwnProperty("child")&&(a=this._getObjectPosition(e[o].child,i,s))>=0)return a}return-1},_convertDataSourceTypes:function(e,i){for(var s=0;s<e.child.length;s++)t.createObject(this.model.fields.parentId,t.getObject(this.model.fields.id,e),e.child[s]),i.push(e.child[s]),e.child[s].hasOwnProperty("child")&&e.child[s].child.length>0&&this._convertDataSourceTypes(e.child[s],i);return e.child&&(delete e.child,t.createObject(this.model.fields.hasChild,!0,e)),i},_childObjectCollection:function(e,i,s,a){for(var o,r=0,n=e.length;r<n;r++)(o=this._getChildNodes(i,{id:t.getObject(this.model.fields.id,e[r])}))&&(2==a?(s[r].hasOwnProperty("child")||(s[r].child=[]),s[r].child=this._childObjectCollection(o,i,o,a)):(s=s.concat(o),s=this._childObjectCollection(o,i,s,a)));return s},_updateCopyData:function(t,s,a){var o=s.model.fields,r=a,n=JSON.parse(JSON.stringify(a[t])),l=this;return e.each(this.model.fields,(function(e){("dataSource"!==e||"query"!==e)&&r[t][l.model.fields[e]]!==i&&(delete n[l.model.fields[e]],n[o[e]]=r[t][l.model.fields[e]])})),e.extend(void 0,n,!1)},_updateDataFields:function(e,i,s,a,o){for(var r=[],n=0,l=i.length;n<l;n++)1==o&&(this._removeObject(e,s,this.model.fields.parentId),this._deepPropertyDelete(this.model.fields.parentId,i[n]),this._deepPropertyDelete(this.model.fields.hasChild,i[n])),i[n].hasOwnProperty("child")&&(i[n].child=this._updateDataFields(e,i[n].child,t.getObject(this.model.fields.id,i[n]),a,o)),r.push(this._updateCopyData(n,a,i));return r},_deepPropertyDelete:function(e,s){if(!s||t.isNullOrUndefined(e))return i;var a=e.split(".");a.length>1?deepDelete(a.slice(1).join("."),s[a[0]]):delete s[e]},_findAndUpdate:function(e,i,s,a,o,r,n){var l,d,h,c,u,p,m,g,_,f;if(!t.isNullOrUndefined(s))if(1==this._templateType){for(g=0,_=s.length;g<_;g++)if(l=t.getObject(this.model.fields.id,s[g]),!t.isNullOrUndefined(s[g])&&!t.isNullOrUndefined(l)&&l.toString()==e){if(this._id==o._id)t.isNullOrUndefined(i)?this._deepPropertyDelete(this.model.fields.parentId,s[g]):t.createObject(this.model.fields.parentId,i,s[g]),d=this.dataSource(),w=this,this._deepWatch&&(h=s.splice(g,1),(f=this._getObjectPosition(d,r.attr("id"),this.model.fields.id))>=0&&!r.is("A")?s.splice(n?f:f+1,0,h[0]):s.push(h[0]),this._oldDataSource=JSON.parse(JSON.stringify(s)),this.dataSource(s)),this._templateType=this._getTemplateType(d,this.model.fields),this._dataSource=1==this._templateType?this._groupingObjects(d,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(w.model.fields.parentId,e)].toString()]})):d;else{var b,v,x,y=[],w=this,S=[];if(v=this._groupingObjects(s,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(w.model.fields.parentId,e)].toString()]})),x=s.splice(g,1),y.push(this._updateCopyData(0,o,x)),(b=this._getChildNodes(v,{id:e}))&&b.length>0&&(b=this._childObjectCollection(b,v,b,o._templateType)),2==o._templateType)b&&b.length>0&&(p=this._updateDataFields(s,b,e,o,this._templateType),y[0].hasOwnProperty("child")||(y[0].child=[]),y[0].child=p),this._deepPropertyDelete(o.model.fields.parentId,y[0]),this._deepPropertyDelete(o.model.fields.hasChild,y[0]),o._deepWatch?(f=(f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?n?f:f+1:a,i?o._changeObjectPos(i,y,o._newDataSource,f):o._newDataSource.splice(f,0,y[0])):i?o._changeObjectPos(i,y,o._newDataSource,a):o._newDataSource.splice(a,0,y[0]);else{if(b&&b.length>0){for(c=0,u=b.length;c<u;c++)this._removeObject(s,t.getObject(this.model.fields.id,b[c]),this.model.fields.id);this._dataSource=1==this._templateType?this._groupingObjects(s,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(w.model.fields.parentId,e)].toString()]})):s}if(i?t.createObject(o.model.fields.parentId,i,y[0]):this._deepPropertyDelete(o.model.fields.parentId,y[0]),o._deepWatch&&(f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?o._newDataSource.splice(n?f:f+1,0,y[0]):o._newDataSource.push(y[0]),p=[],b&&b.length>0){if(!(this.dataSource()instanceof t.DataManager)){for(g=0;g<b.length;g++)p.push(this._updateCopyData(g,o,b));b=p}m=o._newDataSource=o._newDataSource.concat(b),o._dataSource=1==o._templateType?o._groupingObjects(m,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(o.model.fields.parentId,e)].toString()]})):m}}o._deepWatch&&(o.dataSource(o._newDataSource),o._oldDataSource=JSON.parse(JSON.stringify(o._newDataSource))),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))}break}}else for(g=0,_=s.length;g<_;g++){if(t.getObject(this.model.fields.id,s[g]).toString()==e)return y=s.splice(g,1),this._id==o._id?this._deepWatch?(f=(f=this._getObjectPosition(this._newDataSource,r.attr("id"),this.model.fields.id))>=0&&!r.is("A")?n?f:f+1:a,i?this._changeObjectPos(i,y,this._newDataSource,f):this._newDataSource.splice(f,0,y[0]),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)):i?this._changeObjectPos(i,y,this._newDataSource,a):this._newDataSource.splice(a,0,y[0]):(y=this._updateDataFields(s,y,e,o,this._templateType),1==o._templateType?(S=[],y[0].hasOwnProperty("child")?(S=o._convertDataSourceTypes(y[0],S),y[0]=y.concat(S)):y[0]=y.concat(),i?t.createObject(o.model.fields.parentId,i,y[0][0]):this._deepPropertyDelete(o.model.fields.parentId,y[0][0]),o._deepWatch?((f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?o._newDataSource.splice(n?f:f+1,0,y[0][0]):o._newDataSource.push(y[0][0]),o._newDataSource=o._newDataSource.concat(S)):o._newDataSource=o._newDataSource.concat(y[0])):o._deepWatch?(f=(f=this._getObjectPosition(o._newDataSource,r.attr("id"),o.model.fields.id))>=0&&!r.is("A")?n?f:f+1:a,i?o._changeObjectPos(i,y,o._newDataSource,f):o._newDataSource.splice(f,0,y[0])):i?o._changeObjectPos(i,y,o._newDataSource,a):o._newDataSource.splice(a,0,y[0]),o._deepWatch&&(o.dataSource(o._newDataSource),o._oldDataSource=JSON.parse(JSON.stringify(o._newDataSource))),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))),!0;if(s[g].hasOwnProperty("child")&&this._findAndUpdate(e,i,s[g].child,a,o,r,n))break}},_changeObjectPos:function(e,i,s,a){for(var o=0,r=s.length;o<r;o++){if(t.getObject(this.model.fields.id,s[o]).toString()==e)return s[o].hasOwnProperty("child")?s[o].child.splice(a,0,i[0]):(s[o].child=[],s[o].child.push(i[0])),!0;if(s[o].hasOwnProperty("child")&&this._changeObjectPos(e,i,s[o].child,a))break}},_finalizeEditing:function(t){if(null!=e(t)[0]){var i=t.closest(".e-treeview.e-js").data("ejTreeView");i&&(i._preventEditable(),i.model.allowEditing&&i._allowEditable())}},_updateCheckState:function(e){var t,i;this._isTreeElement(e)&&(t=e.closest(".e-treeview.e-js").data("ejTreeView"))&&t.model.showCheckbox&&(e.children("ul").find(".e-item > div > .e-chkbox-wrap > .checked").closest(".e-item").addClass("checked").length>0?t._isCheckedAction():(i=t.isNodeChecked(e)?"_nodeCheck":"_nodeUncheck",t[i](e.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])))},_autoGenerateNodes:function(t){var i,s,a,o;if(null!=e(t)[0])if((i=t.closest(".e-treeview.e-js").data("ejTreeView"))&&i.model.showCheckbox){if(0==t.find(".e-chkbox-wrap").length){for(this._checkboxOnTemplate(t[0].children[0]),a=0,o=(s=t.find(".e-item")).length;a<o;a++)this._checkboxOnTemplate(s[a].children[0]);t.find(".nodecheckbox").ejCheckBox({cssClass:i.model.cssClass,change:i._checkedChange})}}else t.find(".e-chkbox-wrap").remove()},_appendNode:function(i,s){var a,o,r,n;for(this._isTreeElement(i)?(null==i.find("ul.e-treeview-ul")[0]?((a=i.closest(".e-treeview.e-js").data("ejTreeView"))&&!this._isNodeExpanded(i)&&a.model.loadOnDemand&&i.find("> div > div").first().hasClass("e-plus")&&a._createChildNodesWhenExpand(i,null,null,null,s,a),this.dataSource()instanceof t.DataManager&&a.model.loadOnDemand&&i.find("> div > div").first().hasClass("e-plus")||this._doAfterExpand(i,s,a),this._deepWatch&&1==this._templateType&&(this._updateField(this._newDataSource,i.attr("id"),this.model.fields,"hasChild",!0),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))):e(i.find("ul.e-treeview-ul")[0]).append(s),this.isDisabled(i)||this._expandNode(i)):this.element.is("UL")?this.element.append(s):this.element.children("ul:first").length>0?this.element.children("ul:first").append(s):((o=t.buildTag("ul.e-treeview-ul","",{},{role:"group"})).append(s),this.element.append(o)),r=this.element.find(".e-item.expanded"),n=0;n<r.length;n++)!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(e(r[n])):this._createChildNodesWhenExpand(e(r[n]));r.removeClass("expanded"),this.model.showCheckbox&&this._isCheckedAction()},_doAfterExpand:function(i,s,a){var o,r=t.buildTag("ul.e-treeview-ul","",{},{role:"group",style:"display:none"});e(r).append(e(s)),0==e(i.find("div")[1]).length?((o=document.createElement("div")).setAttribute("role","presentation"),o.className="e-icon e-minus",e(i.find("div")).append(e(o))):e(i.find("div")[1]).hasClass("e-minus")||e(i.find("div")[1]).addClass("e-icon e-plus"),a&&a.model.loadOnDemand&&i.find("ul.e-treeview-ul").length>0?i.children("ul.e-treeview-ul").append(e(s)):i.append(e(r))},_modifyCss:function(t){null!=(t=e(t))[0]&&0==t.find(".e-item").length&&(t.removeClass("e-collapse").attr("aria-expanded",!1).find("> div > .e-icon").removeClass("e-icon e-minus").closest(".e-item").find("ul").remove(),this._deepWatch&&(this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"expanded",!1),1==this._templateType&&this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"hasChild",!1),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)))},_applyFirstLastChildClass:function(){e(this._liList).removeClass("first last").filter(":first-child:not(:last-child)").addClass("first"),e(this._liList).filter(":last-child").addClass("last")},_expandEventHandler:function(t){var i,s,a=e(t.target);a.hasClass("e-icon")||a.closest(".e-item").hasClass("e-node-disable")||"dblclick"===t.type&&this.model.allowEditing||(t.preventDefault(),i=a.is("A")?e(a.siblings("div")):e(a.parents(".e-text-wrap").find("div")),this.model.fullRowSelect&&(a.is("div.e-text-wrap")||a.is("div.e-fullrow"))&&(i=a.closest(".e-item").find("> .e-text-wrap > div")),s=a.closest(".e-item"),i.hasClass("e-minus")?this._collapseNode(s):this.model.loadOnDemand&&0==i.find(".e-item").length?this._ClickEventHandler({target:i[0]}):this._expandNode(s))},_inlineEdit:function(t){t.preventDefault();var i=e(t.target);return i.hasClass("input-text")||i.hasClass("e-node-disable")||(i.is("A")||(i=i.closest(".e-text")),i.is("A")&&!i.hasClass("e-node-disable")&&this._inlineEditAction(i)),!1},_inlineEditAction:function(e){null==this.element.find(".e-item > div > .e-text > #Edit_Input")[0]&&this._createEditTextBox(e)},_createEditTextBox:function(s){var a,o,r,n;return!this._triggerEvent("beforeEdit",{currentElement:s})&&(null==(a=this.element.find(".e-item > div > .e-text > #Edit_Input"))[0]&&(o=t.buildTag("Input.input-text#Edit_Input","","",{type:"text",value:e.trim(s.text()).replace(/\n\s+/g," "),name:"inplace_value"}),e(o).css("width",s.outerWidth()+5+"px"),e(o).css("height",s.outerHeight()+"px"),o.addClass("e-tree-input e-textbox"),this._beforeEditText=s.text(),s[0].lastChild.nodeValue="",this.model.template&&(r=s.closest("li")[0].id,n=this._getNodeObject(r,!0),s[0].innerHTML=" ",n&&0!=n.length&&(o[0].value=n[0]!=i?n[0]:"",e(o).css("width",s.outerWidth()+80+"px"),e(o).css("height",s.outerHeight()+10+"px"))),s.addClass("e-editable").append(o),""==(a=o).val().length||s.outerWidth(),this._mousePositionAtEnd(a),this._currentEditableNode=s,this._on(a,"keypress",this._editTextBoxKeyPress)._on(a,"keydown",this,this._pressEscKey)._on(a,"mousedown pointerdown MSPointerDown",this,this._preventPropagation)._on(a,this.model.expandOn,this,this._preventPropagation)._on(a,"blur",this._focusout)),a)},_preventPropagation:function(e){e.stopImmediatePropagation(),this._isTextbox=!0},_editTextBoxKeyPress:function(e){e.target.size=e.target.value.length+1},_mousePositionAtEnd:function(e){return e.focus&&e.focus(),e.select&&e.select(),!0},_focusElement:function(t){var i,s;this._isTextbox||(t&&("touchstart"==t.type||"pointerdown"==t.type||"MSPointerDown"==t.type)&&(i=e(t.currentTarget)).hasClass("e-text")&&this.selectNode(i.closest(".e-item")),this.model.template?(s=e(t.target).closest(".e-text")[0],this._focusNode(s=s||t.target)):this._focusNode(t.target))},_blurElement:function(t){e(t.target).hasClass("e-text")&&t.target.removeAttribute("tabindex")},_focusout:function(t){var i,s=e(t.currentTarget);this._isTextbox=!1,i={id:s.closest(".e-item").attr("id"),oldText:this._beforeEditText,newText:s.val()},this._triggerEvent("inlineEditValidation",i)?this._cancelAction(s):this._saveAction(s,t)},_pressEscKey:function(i){var s,a,o;i.cancelBubble=!0,i.returnValue=!1,null!=(s=e(i.currentTarget))[0]&&(a=s.closest(".e-text")[0],13==i.keyCode&&(i.stopPropagation(),this._focusout(i)),27==i.keyCode&&this._cancelAction(s),(13==i.keyCode||27==i.keyCode)&&"msie"==(o=t.browserInfo()).name&&"8.0"==o.version&&this._focusNode(a))},_onFocusHandler:function(e){e.preventDefault()},_onKeyDown:function(e,t){var i,s;this.element.find("#"+this._id+"_active").removeAttr("id"),i=e.find("> div > .e-text:first"),s=t.find("> div > .e-text:first"),i.removeClass("e-node-focus"),s.addClass("e-node-focus"),this.element.removeAttr("aria-activedescendant"),null!=s.closest(".e-item")[0].id&&""!=s.closest(".e-item")[0].id?this.element.attr("aria-activedescendant",s.closest(".e-item")[0].id):(s.closest(".e-item").attr("id",this._id+"_active"),this.element.attr("aria-activedescendant",this._id+"_active")),this.model.fullRowSelect&&(e.removeClass("e-li-focus"),t.addClass("e-li-focus"))},_KeyPress:function(t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v=this;if(f=this.element.is("ul")?this.element:this.element.find("> ul"),i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,v.model.allowKeyboardNavigation&&v.element.find("#Edit_Input").length<1&&v.element.find(".e-chkbox-wrap.e-focus").length<1)if(this.element.find(".e-animate").removeClass("e-animate"),s=e(f.find(".e-item > div > .e-text.e-active").closest(".e-item")[0]),a=f.find(".e-item:visible"),v._focusedNode?(o=v._focusedNode,v._focusedNode=null):o=f.find(".e-text.e-node-focus").closest(".e-item"),113==i&&(t.preventDefault(),(f=o.length>0?o:s).length>0&&v.model.allowEditing&&!this.model.template&&(t.target=f.find("> div > .e-text:first"),v._inlineEdit(t))),40!=i||t.altKey)if(38!=i||t.altKey){if(39==i&&!this.model.enableRTL&&!t.altKey||37==i&&this.model.enableRTL)if(t.preventDefault(),m=(r=o.length>0?o.find("> div > div").first():s.find("> div > div").first()).closest(".e-item"),r.hasClass("e-plus"))this.model.loadOnDemand&&0==m.find("> ul .e-item").length?this._ClickEventHandler({target:r[0]}):this._expandNode(e(a[a.index(m)]));else{if(m=this._getNextEle(a,m),v._KeyPressEventHandler(m.length>0?m:"",v,i,t))return;(m.length>0&&m[0]==r.closest(".e-item").find("ul > .e-item:first")[0]||m.find("ul > .e-item").first().hasClass("e-node-disable"))&&v._onKeyDown(o,m)}else if(37==i&&!this.model.enableRTL&&!t.altKey||39==i&&this.model.enableRTL)if(t.preventDefault(),n=(l=o.length>0?o.find("> div > div").first():s.find("> div > div").first()).closest(".e-item"),l.hasClass("e-minus"))this._collapseNode(e(a[a.index(l.closest(".e-item"))]));else{if(n=e(a[a.index(n)]).closest("ul").closest(".e-item"),v._KeyPressEventHandler(n.length>0?n:"",v,i,t))return;n.length>0&&v._onKeyDown(o,n)}else if(36!=i||t.altKey){if(35!=i||t.altKey){if(13==i)t.preventDefault(),(u=(_=o.length>0?o:s).find("> div > .e-text")).removeClass("e-node-focus"),this.model.fullRowSelect&&_.removeClass("e-li-focus"),u.hasClass("e-active")?v.model.allowMultiSelection&&v._nodeUnSelectionAction(_,event):v._nodeSelectionAction(_,t),v._focusedNode=_;else if(32==i)t.preventDefault(),(_=o.length>0?o:s).length>0&&this.model.showCheckbox&&((p=_.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]).checked?this._nodeUncheck(p):this._nodeCheck(p),v._focusedNode=_);else if(46==i)t.preventDefault(),(_=o.length>0?o:this.model.allowMultiSelection?f.find(".e-item > div > .e-text.e-active").closest(".e-item"):s).length>0&&(this._removeNode(_,t),m=e(a[0]).find("> div > .e-text:first"),this._focusNode(m[0]));else if(t&&1==t.ctrlKey)if(88==i&&this.model.allowDragAndDrop&&this.model.allowDropChild){if(t.preventDefault(),(_=o.length>0?o:s).length>0){if(g=_.parents(".e-item:first"),this._triggerEvent("beforeCut",{target:_,nodeDetails:this._getNodeDetails(_),keyCode:i,event:t}))return;this._cutNode=e(a[a.index(_)]).detach(),null!=e(this._cutNode)[0]&&(this._isRender=!1,this.unselectNode(_),0==g.find("> ul > .e-item").length&&(this.collapseNode(g),this._modifyCss(g)),this._isRender=!0,this._triggerEvent("nodeCut",{parentElement:g,parentDetails:this._getNodeDetails(g),keyCode:i,event:t}))}}else if(86==i&&null!=this._cutNode&&this.model.allowDragAndDrop&&this.model.allowDropChild){if(t.preventDefault(),0===(_=e(a[a.index(_=o.length>0?o:s)])).length&&(_=this.element),f=this._cutNode.find(" > div > .e-text").first(),e(a).length>0){if(this._triggerEvent("beforePaste",{target:_,nodeDetails:this._getNodeDetails(_),keyCode:i,event:t}))return;this._isRender=!1,this._dropAsChildNode(_,f,t),this._isRender=!0,this._cutNode=null,b=f.closest(".e-item"),this._triggerEvent("nodePaste",{target:b,nodeDetails:this._getNodeDetails(b),keyCode:i,event:t})}}else v.model.allowMultiSelection&&(v._focusedNode=o)}else if(t.preventDefault(),c=o.length>0?o:s,((h=e(a).last()).hasClass("e-node-disable")||h.hasClass("hidden"))&&(h=this._getPrevEle(a,h)),s.length>0&&0==o.length&&s[0]!=h[0]||o.length>0&&o[0]!=h[0]){if(v._KeyPressEventHandler(h,v,i,t))return;v._onKeyDown(c,h)}}else if(t.preventDefault(),c=o.length>0?o:s,((d=e(a).first()).hasClass("e-node-disable")||d.hasClass("hidden"))&&(d=this._getNextEle(a,d)),s.length>0&&0==o.length&&s[0]!=d[0]||o.length>0&&o[0]!=d[0]){if(v._KeyPressEventHandler(d,v,i,t))return;v._onKeyDown(c,d)}}else{if(t.preventDefault(),n=this._getPrevEle(a,c=o.length>0?o:s),v._KeyPressEventHandler(n.length>0?n:null,v,i,t))return;n.length>0&&v._onKeyDown(o,n)}else{if(t.preventDefault(),m=this._getNextEle(a,c=o.length>0?o:s),v._KeyPressEventHandler(m.length>0?m:null,v,i,t))return;m.length>0&&v._onKeyDown(o,m)}},_getNextEle:function(t,i){var s,a=t.index(i);do{a++,s=e(t[a])}while(s.hasClass("e-node-disable")||s.hasClass("hidden"));return s},_getPrevEle:function(t,i){var s,a=t.index(i);do{a--,s=e(t[a])}while(s.hasClass("e-node-disable")||s.hasClass("hidden"));return s},_removeChildNodes:function(e,i,s){for(var a,o,r,n,l=0,d=0;d<i.length;d++)if(a=t.getObject(this.model.fields.parentId,i[d][0]),!t.isNullOrUndefined(a)&&a.toString()==s){l=i[d].length;break}for(d=0;d<l;d++)for(o=0;o<e.length;o++)if(r=t.getObject(this.model.fields.parentId,e[o]),!t.isNullOrUndefined(r)&&r.toString()==s){t.isNullOrUndefined(e[o])||(n=t.getObject(this.model.fields.id,e[o]).toString()),e.splice(o,1),this._removeChildNodes(e,i,n);break}},_removeNode:function(i,s){var a,o,r,n,l;if(null!=i[0]&&null!=i[0]&&i.length>0){if(a=e(i[0]).closest("ul").closest(".e-item"),o=e(i[0]),(r=e(i).closest(".e-treeview.e-js").data("ejTreeView"))._triggerEvent("beforeDelete",{target:o,nodeDetails:r._getNodeDetails(o),parentElement:null!=a[0]?a:null,parentDetails:r._getNodeDetails(a),event:s,removedNodes:i}))return;if(this._isRender=!1,this.dataSource()instanceof t.DataManager?this._removeData(i,l=this._newDataSource):!t.isNullOrUndefined(this.dataSource())&&this.dataSource().length>0&&(l=this.dataSource(),this._removeData(i,l),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(l)),this.dataSource(l))),i.remove(),this._modifyCss(a),this._updateNodes(),this._updateCheckState(a),this._isRender=!0,r._triggerEvent("nodeDelete",{parentElement:null!=a[0]?a:null,parentDetails:r._getNodeDetails(a),event:s,removedNodes:i}))return;n=this,l=this.dataSource(),setTimeout((function(){null==n.dataSource()||n.dataSource()instanceof t.DataManager||(n._dataSource=n._groupingObjects(l,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(n.model.fields.parentId,e)].toString()]})))}),300)}},_removeData:function(t,i){for(var s=0,a=t.length;s<a;s++)2==this._templateType?this._removeRemoteData(i,e(t[s]),this.model.fields):this._removeLocalData(i,e(t[s]))},_removeLocalData:function(e,i){for(var s,a,o,r=this,n=0;n<e.length;n++)if(s=i.attr("id"),(a=t.getObject(this.model.fields.id,e[n]))&&a.toString()==s){o=this._groupingObjects(e,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(r.model.fields.parentId,e)].toString()]})),e.splice(n,1),this._removeChildNodes(e,o,s);break}},_removeRemoteData:function(e,i,s){for(var a,o,r=0;r<e.length;r++){if(a=i.attr("id"),(o=t.getObject(s.id,e[r]))&&o.toString()==a){e.splice(r,1);break}e[r].hasOwnProperty("child")&&this._removeRemoteData(e[r].child,i,s.child?s.child:s)}},_updateNodes:function(){this._beforeBaseClass(),this._applyFirstLastChildClass(),this._updateExpandedNodes(),this._updateCheckedNodes(),this._updateSelectedNode()},_updateField:function(e,i,s,a,o){var r,n,l,d,h;if(!(t.isNullOrUndefined(s)||null==this.dataSource()||t.isNullOrUndefined(e)||t.isNullOrUndefined(i)||t.isNullOrUndefined(a)))if(1==this._templateType){for(n=0,l=e.length;n<l;n++)if(r=t.getObject(s.id,e[n]),!t.isNullOrUndefined(e[n])&&!t.isNullOrUndefined(r)&&r.toString()==i){e[n][h=s[a]?s[a]:a]=o,0==o&&delete e[n][h],e.splice(n,1,e[n]);break}}else for(n=0,l=e.length;n<l;n++){if(d=t.getObject(s.id,e[n]),!t.isNullOrUndefined(e[n])&&!t.isNullOrUndefined(d)&&d.toString()==i){e[n][h=s[a]?s[a]:a]=o,0==o&&delete e[n][h],e.splice(n,1,e[n]);break}e[n].hasOwnProperty("child")&&this._updateField(e[n].child,i,s.child?s.child:s,a,o)}},_removeField:function(e,s,a){if(!t.isNullOrUndefined(s)&&null!=this.dataSource()&&!t.isNullOrUndefined(e))for(var o=0;o<e.length;o++)e[o][s[a]]!=i&&delete e[o][s[a]],e[o].hasOwnProperty("child")&&this._removeField(e[o].child,s.child?s.child:s,a)},_KeyPressEventHandler:function(t,i,s,a){var o,r,n,l;return null!=e(t)[0]?(l=this._isNodeExpanded(t),o=this._getNodeDetails(t),n=i._getPath(t),r={keyCode:s,currentElement:t,value:o.text,isExpanded:l,path:n,event:a,id:o.id,parentId:o.parentId}):r={keyCode:s,currentElement:t,value:"",isExpanded:"",path:"",event:a,id:"",parentId:""},this._triggerEvent("keyPress",r)},_documentClick:function(t){var i,s;if("Edit_Input"!=t.target.id&&(i=e("#Edit_Input")[0]),null!=i){var a=e(i).closest(".e-text")[0],o=i.value,r=e(i).closest(".e-item");e(i).remove(),a.lastChild.nodeValue=o,e(a).removeClass("e-editable").removeAttr("style"),this._updateField(this._newDataSource,r.attr("id"),this.model.fields,"text",o),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:r.attr("id"),oldText:this._beforeEditText,newText:o,target:r,nodeDetails:this._getNodeDetails(r),event:t})}0==this.element.find(t.target).length?(s=this.element.find(".e-item > div > .e-text.e-node-focus"),this._focusedNode=s.closest(".e-item"),s.removeClass("e-node-focus")):e(t.target).hasClass("e-active")&&(this._focusedNode=this.element.find(t.target).closest(".e-item"))},_saveAction:function(t,i){var s,a=t.val(),o=t.closest(".e-item"),r=t.closest(".e-text")[0],n=t.closest("li")[0].id;t.remove(),null!=r&&(r.lastChild.nodeValue=a,e(r).removeClass("e-editable"),this._updateField(this._newDataSource,o.attr("id"),this.model.fields,"text",a),this.model.template&&(s=this._getNodeObject(n))&&0!=s.length&&(r.innerHTML=this._renderEjTemplate(this.model.template,s[0])),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:o.attr("id"),oldText:this._beforeEditText,newText:a,target:o,nodeDetails:this._getNodeDetails(o),event:i}),this.element.focus(),this._focusedNode=o)},_cancelAction:function(t){var i=t.closest(".e-text")[0];t.remove(),i.lastChild.nodeValue=this._beforeEditText,e(i).removeClass("e-node-hover e-editable"),this.element.focus()},_focusNode:function(t){e(t).hasClass("e-text")&&t.setAttribute("tabindex","0"),t.focus()},_mouseEnterEvent:function(t){this.element.find(".e-node-hover").removeClass("e-node-hover"),e(t.currentTarget).hasClass("e-text")&&!e(t.currentTarget).hasClass("e-node-disable")&&e(t.currentTarget).addClass("e-node-hover")},_mouseLeaveEvent:function(t){e(t.currentTarget).removeClass("e-node-hover")},_liMouseEnterEvent:function(t){this.element.find(".e-node-hover").removeClass("e-node-hover"),this.element.find(".e-li-hover").removeClass("e-li-hover");var i=e(t.currentTarget).closest(".e-item"),s=i.find("> div .e-text");s.length>0&&!s.hasClass("e-node-disable")&&(s.addClass("e-node-hover"),i.addClass("e-li-hover"))},_liMouseLeaveEvent:function(t){var i=e(t.currentTarget).closest(".e-item");i.find("> div .e-text").removeClass("e-node-hover"),i.removeClass("e-li-hover")},_onFocusOutHandler:function(){this._isPopup||this._hidePopup(),this._isPopup=!1},_createObjectByText:function(i,s){if("string"==typeof i){var a={};return t.createObject(this.model.fields.text,i,a),null!=e(s)[0]&&t.createObject(this.model.fields.parentId,s[0].getAttribute("id"),a),a}},_addNodesWhenObject:function(i,s){var a,o,r,n,l,d,h=JSON.stringify(this._dataSource),c=this.dataSource();if(this._dataSource=[],null!=this.dataSource()&&this.dataSource()instanceof t.DataManager&&(c=[]),null!=s[0]&&s.length>0&&(a=s[0].getAttribute("id")),t.isNullOrUndefined(i.length))this._dataSource.push(i),t.isNullOrUndefined(this.dataSource())||(this._setNodeId(i,this.model.fields),t.isNullOrUndefined(a)||t.createObject(this.model.fields.parentId,a,i),c.push(i));else if(this._dataSource=i,!t.isNullOrUndefined(this.dataSource()))for(r=0;r<i.length;r++)this._setNodeId(i[r],this.model.fields),a?t.createObject(this.model.fields.parentId,a,i[r]):this._deepPropertyDelete(this.model.fields.parentId,i[r]),c.push(i[r]);for(o=this._templateType,this._templateType=2,this._liList||(this._liList=e("li",this.element)),n=document.createDocumentFragment(),l=0,d=this._dataSource.length;l<d;l++)n.appendChild(this._genTemplate(this._dataSource[l],this.model.fields)),this._liList.push(e(n).children()[0]),this.dataSource()instanceof t.DataManager&&this._addRemoteData(this._newDataSource,a,this._dataSource[l],this.model.fields);return this._templateType=o,null==this.dataSource()||this.dataSource()instanceof t.DataManager||(this._dataSource=JSON.parse(h),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(c)),this.dataSource(c))),n},_setNodeId:function(e,i){var s,a,o,r=i&&i.id?i.id:this.model.fields.id;if((t.isNullOrUndefined(e[r])||""==e[r])&&(e[r]=this._id+"_"+this._indexID,this._indexID++),e.hasOwnProperty("child"))for(a=0,o=(s=e.child).length;a<o;a++)this._setNodeId(s[a],i.child)},_addExpandedNodes:function(t){var i=this.model.expandedNodes;this._removeNullInArray(i),-1==e.inArray(t,i)&&this.model.expandedNodes.push(t),this._persistValues(this.model.expandedNodes,"expandedNodes")},_removeExpandedNodes:function(t){var i=this.model.expandedNodes;e.inArray(t,i)>-1&&(this.model.expandedNodes.splice(e.inArray(t,i),1),0==i.length&&i.push(-1)),this._persistValues(this.model.expandedNodes,"expandedNodes")},_persistValues:function(i,s){var a,o,r,n,l,d,h;if(!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()){for(o=[],n=0,l=(a=i).length;n<l;n++)!t.isNullOrUndefined(a[n])&&a[n]>=0&&(r=e(this._liList[a[n]]).attr("id"))&&o.push(r);(d=this._getCookies("_persistedValues"))&&((h=JSON.parse(d))[s]=o,h=this._updatePersistAttr(h),this._setCookies("_persistedValues",JSON.stringify(h)))}},_updatePersistAttr:function(i){return t.isNullOrUndefined(this._ignoreOnPersist)?(-1==e.inArray("selectedNodes",this._addToPersist)&&delete i.selectedNodes,-1==e.inArray("expandedNodes",this._addToPersist)&&delete i.expandedNodes,-1==e.inArray("checkedNodes",this._addToPersist)&&delete i.checkedNodes):(e.inArray("selectedNodes",this._ignoreOnPersist)>-1&&delete i.selectedNodes,e.inArray("expandedNodes",this._ignoreOnPersist)>-1&&delete i.expandedNodes,e.inArray("checkedNodes",this._ignoreOnPersist)>-1&&delete i.checkedNodes),i},_onChecked:function(e,i){var s,a,o=e.closest(".e-item"),r=this._getNodeDetails(o);this._CurrenctSelectedNodes.push(r.text),s=this._isChecked(o),a=t.isNullOrUndefined(i)||t.isNullOrUndefined(i.event)?"":i.event,this._isRender&&this._triggerEvent("nodeCheck",{currentElement:o,id:r.id,parentId:r.parentId,value:r.text,currentNode:this._CurrenctSelectedNodes,currentCheckedNodes:this._checkedArray,isChecked:s,event:a})},_onUnChecked:function(e,i){var s,a,o=e.closest(".e-item"),r=this._getNodeDetails(o);this._CurrenctSelectedNodes.push(r.text),s=this._isChecked(o),a=t.isNullOrUndefined(i)||t.isNullOrUndefined(i.event)?"":i.event,this._triggerEvent("nodeUncheck",{currentElement:o,id:r.id,parentId:r.parentId,value:r.text,currentNode:r.text,currentUncheckedNodes:this._uncheckedArray,isChecked:s,event:a})},_addCheckNodes:function(e){var t=this.model.checkedNodes;this._removeNullInArray(t),!t instanceof Array&&(t=[]),-1==t.indexOf(e)&&t.push(e)},_removeCheckNodes:function(e){var t,i=this.model.checkedNodes;!i instanceof Array&&(i=[]),-1!=(t=i.indexOf(e))&&(i.splice(t,1),0==i.length&&i.push(-1))},_removeNullInArray:function(e){var t=e.indexOf(-1);-1!=t&&e.splice(t,1)},_afterInsertingNode:function(e){this._addDragableClass(),this._finalizeEditing(e);var t=e.closest("ul").closest(".e-item");this._modifyCss(t),this._updateCheckState(t),this._isSelectedAction(),t.length>0&&t.hasClass("e-node-disable")&&this._nodeDisableAction(t),this._updateSelectedNode()},_insertBeforeOrAfter:function(i,s,a){var o,r,n,l;if(null!=(s=this._getNodeByID(s))[0]&&s.is("LI")&&s.hasClass("e-item")){if(this._triggerEvent("beforeAdd",{data:i,targetParent:null!=s[0]?s:null,parentDetails:this._getNodeDetails(s)}))return;if(this._isRender=!1,"object"!=typeof i&&(i=this._createObjectByText(i)),"object"!=typeof i)return;t.getObject(this.model.parentId,i)&&this._deepPropertyDelete(this.model.parentId,i),o=this._addNodesWhenObject(i,s),r=document.createElement("ul"),e(r).append(o),o=e(r.children),this.model.showCheckbox&&o.children().find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),s.parents(".e-item:first").length>0?s.parents(".e-item:first").append(o):this.element.append(o),this.model.showCheckbox&&this._isCheckedAction(),this._dropAsSiblingNode(s,o.find("> div > .e-text"),a,""),this._afterInsertingNode(o),this._isRender=!0,this._triggerEvent("nodeAdd",{data:i,nodes:o,parentElement:null!=s[0]?s:null,parentDetails:this._getNodeDetails(s)}),n=this,l=this.dataSource(),setTimeout((function(){null==n.dataSource()||n.dataSource()instanceof t.DataManager||(n._dataSource=n._groupingObjects(l,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(n.model.fields.parentId,e)].toString()]})))}),300)}},_getNodeByID:function(t){return"object"!=typeof t&&""!=t&&t!=i?this.element.find(this._checkValidId(t.toString())):((t=e(t)).is("A")&&t.hasClass("e-text")&&(t=t.closest(".e-item")),t)},_checkValidId:function(e){return"#"==e[0]?e.replace(/(:|\.|\[|\]|,)/g,"\\$1"):"#"+e.replace(/(:|\.|\[|\]|,)/g,"\\$1")},_isTreeElement:function(t){return null!=e(t)[0]&&t.is("LI")&&t.hasClass("e-item")},_isUrl:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},_getChildUl:function(e){return this.model.fullRowSelect?e.children[2]:e.children[1]},_sendAjaxOptions:function(e,t){var i,s=this;(i=this._getNodeDetails(t)).mapper=this.model.fields,i.model=this.model,this._sendAjaxRequest({url:e,data:i,type:"POST",async:!0,crossDomain:!0,dataType:"JSON",contentType:"application/json; charset=utf-8",success:function(e){try{s._ajaxSuccessHandler(e,t)}catch(i){}},error:function(e){try{s._ajaxErrorHandler(e)}catch(t){}}})},_sendAjaxRequest:function(t){var i=JSON.parse(JSON.stringify(t));delete i.success,delete i.error,this._triggerEvent("beforeLoad",{ajaxOptions:i})||(delete i.success,delete i.error,e.extend(t,i),e.ajax({type:t.type,url:t.url,dataType:t.dataType,data:t.data,async:t.async,contentType:t.contentType,crossDomain:t.crossDomain,success:t.success,error:t.error}))},_ajaxSuccessHandler:function(e,t){this._isRender=!1,"object"==typeof e&&this.addNode(e,t),this._isRender=!0,this._triggerEvent("loadSuccess",{data:e,targetParent:t,parentDetails:this._getNodeDetails(t)})},_ajaxErrorHandler:function(e){this._triggerEvent("loadError",{error:e})},_wireEvents:function(){this._isDevice&&e.isFunction(e.fn.tap)?this._on(this.element.find("li"),"tap",this._ClickEventHandler):this._on(this.element,"click",this._ClickEventHandler),this._on(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:this.model.expandOn,this._expandEventHandler)._on(this.element,"focus",this._onFocusHandler)._on(this.element,"blur",this._onFocusOutHandler),this._wholeRowEvents("_on"),this.model.allowEditing&&this._allowEditable(),this.model.allowDragAndDrop&&this._addDragableClass(),this.model.showCheckbox&&this.element.find(".nodecheckbox").ejCheckBox("enable"),this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._KeyPress)},_unWireEvents:function(){this._isDevice&&e.isFunction(e.fn.tap)?this._off(this.element.find("li"),"tap"):this._off(this.element,"click"),this._off(this.element,this._isDevice&&e.isFunction(e.fn.tap)?this._touchExpandOn:this.model.expandOn)._off(this.element,"focus")._off(this.element,"blur"),this._wholeRowEvents("_off"),this._preventEditable(),this._preventDraggable(),this.model.allowKeyboardNavigation&&this._off(this.element,"keydown"),this.model.showCheckbox&&this.element.find(".nodecheckbox").ejCheckBox("disable")},_wholeRowEvents:function(t){this.model.fullRowSelect?(this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchstart)?"touchstart":"mouseenter",".e-text-wrap",this._liMouseEnterEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchend)?"touchend":"mouseleave",".e-text-wrap",this._liMouseLeaveEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchstart)?"touchstart":"mouseenter",".e-fullrow",this._liMouseEnterEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchend)?"touchend":"mouseleave",".e-fullrow",this._liMouseLeaveEvent)):(this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchstart)?"touchstart":"mouseenter",".e-text",this._mouseEnterEvent),this[t](this.element,this._isDevice&&e.isFunction(e.fn.touchend)?"touchend":"mouseleave",".e-text",this._mouseLeaveEvent))},_enableDragDrop:function(){this.model.allowDragAndDrop&&(this._drag(),this.model.allowDropChild&&this._childDrop(),this.model.allowDropSibling&&this._siblingDrop())},_allowEditable:function(){this.element.find(".e-item").addClass("AllowEdit"),this._on(e(document),"click",this._documentClick)._on(this.element,this._isDevice&&e.isFunction(e.fn.tap)?"doubletap":"dblclick","a.e-text",this._inlineEdit)},_preventEditable:function(){this.element.find(".e-item").removeClass("AllowEdit"),this._off(e(document),"click",this._documentClick)._off(this.element,this._isDevice&&e.isFunction(e.fn.tap)?"doubletap":"dblclick","a.e-text")},_preventDraggable:function(){this.element.find(".e-draggable, .e-droppable").removeClass("e-draggable e-droppable"),this._preventDropSibling(),this._preventDropChild(),this._off(this.element,"mouseup touchstart pointerdown MSPointerDown",this._anchors,this._focusElement),this._off(this.element,"focusout",this._anchors,this._blurElement)},_preventDropSibling:function(){this.element.find(".e-dropsibling").removeClass("e-dropsibling")},_preventDropChild:function(){this.element.find(".e-item > div > .e-dropchild").removeClass("e-dropchild")},_getNodeObject:function(e,s){if(!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()&&e!=i){if(1===this._templateType){var a=t.Query().where(this.model.fields.id,"equal",e,!1),o=t.DataManager(this._newDataSource).executeLocal(a);return o.length>0&&s?[o[0][this.model.fields.text]]:o}return this._getRemoteNode(this._newDataSource,this.model.fields,e,s)}return[]},_getChildMapper:function(e){return"string"==typeof e.child||t.isNullOrUndefined(e.child)?e:e.child},_getNodeData:function(s){var a,o,r,n,l,d;if(!t.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()&&s!=i){this._updatePersistProb();var h=[],c=[],u=this._orderDataSource().length,p=null;for(a=0;a<u;a++)this._orderDataSource()[a][this.model.fields.id]==s&&(p=s,a=u);if(p){if(this.dataSource()instanceof t.DataManager&&2==this._templateType)return this._getRemoteNode(this._newDataSource,this.model.fields,s);if(2==this._templateType)h=JSON.parse(JSON.stringify(this._getRemoteNode(this._newDataSource,this.model.fields,s)));else{var m=[],g=this._orderDataSource(),_=t.Query().where(this.model.fields.id,"equal",s,!1),f=t.DataManager(g).executeLocal(_),b=this._getFilterItems(f[0],g);for(a=0,o=b.length;a<o;a++)m.push(new t.Predicate(this.model.fields.id,"equal",b[a],!1));r=t.Query().where(t.Predicate.or(m)),h=JSON.parse(JSON.stringify(t.DataManager(g).executeLocal(r)))}for(n=0,l=h.length;n<l;n++)d=t.getObject(this.model.fields.id,h[n]),e(document.getElementById(d)).length>0&&(0==e(document.getElementById(d)).find("> ul .e-item").length?(this._deepPropertyDelete(this.model.fields.hasChild,h[n]),2==this._templateType&&delete h[n].child):1==this._templateType?t.createObject(this.model.fields.hasChild,!0,h[n]):this._updateChildData(h[n].child,this.model.fields),c.push(h[n]));return c}}},_updateChildData:function(s,a){var o,r,n;if(s!=i)for(o=0,r=s.length;o<r;o++)n=t.getObject(a.id,s[o]),e(document.getElementById(n)).length>0&&(0==e(document.getElementById(n)).find("> ul .e-item").length?(this._deepPropertyDelete(a.hasChild,s[o]),delete s[o].child):this._updateChildData(s[o].child,a.child?a.child:a))},_getFilterItems:function(e,s){var a,o,r,n,l,d,h,c,u=[];if(e==i)return u;for(a=t.getObject(this.model.fields.id,e),u.push(a),o=t.Query().where(this.model.fields.parentId,"equal",a,!1),n=0,l=(r=t.DataManager(s).executeLocal(o)).length;n<l;n++)for(h=0,c=(d=this._getFilterItems(r[n],s)).length;h<c;h++)u.push(d[h]);return u},_getRemoteNode:function(e,i,s,a){for(var o,r=[],n=0,l=e.length;n<l;n++){if((o=t.getObject(i.id,e[n]))&&o.toString()==s)return r.push(a?e[n][i.text]:e[n]),r;if(e[n].hasOwnProperty("child")&&(r=this._getRemoteNode(e[n].child,this._getChildMapper(i),s,a)).length>0)return r}return r},_updateRemoteData:function(e,i,s,a){var o,r,n;if(null==this.dataSource()||!this.dataSource().dataSource.offline)for(o=0,r=e.length;o<r;o++){if((n=t.getObject(a.id,e[o]))&&n.toString()==i){e[o].child=s,e.splice(o,1,e[o]);break}e[o].hasOwnProperty("child")&&this._updateRemoteData(e[o].child,i,s,a.child?a.child:a)}},_addRemoteData:function(e,i,s,a){var o,r,n;if(null==this.dataSource()||!this.dataSource().dataSource.offline)if(t.isNullOrUndefined(i))e.push(s);else for(o=0,r=e.length;o<r;o++){if((n=t.getObject(a.id,e[o]))&&n.toString()==i){t.isNullOrUndefined(e[o].child)?(e[o].child=[s],e.splice(o,1,e[o])):e[o].child.push(s);break}e[o].hasOwnProperty("child")&&this._addRemoteData(e[o].child,i,s,a.child?a.child:a)}},refresh:function(){this._unWireEvents(),this.element.html(""),this._init()},expandAll:function(e,t){this.model.enableMultipleExpand&&(e>0?this._expandByLevel(this._getElement(),e,t):this._expandAll(t))},collapseAll:function(e,t){this.model.enableMultipleExpand&&(e>0?this._collapseByLevel(this._getElement(),e,t):this._collapseAll(t))},checkAll:function(){this.model.showCheckbox&&this._checkAll()},unCheckAll:function(){this.model.showCheckbox&&this._uncheckAll()},selectNode:function(e){e&&"object"==typeof e&&e.length>0?(this._unselectAll(),this._doSelectNodes(e,!0)):(e=this._getNodeByID(e),this._isTreeElement(e)&&this._nodeSelectionAction(e))},unselectNode:function(e){e&&"object"==typeof e&&e.length>0?this._doUnselectNodes(e):(e=this._getNodeByID(e),this._isTreeElement(e)&&this._nodeUnSelectionAction(e))},selectAll:function(){this.model.allowMultiSelection&&this._selectAll()},unselectAll:function(){this.model.allowMultiSelection&&this._unselectAll()},enableNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.enableNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeEnableAction(i)},disableNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.disableNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeDisableAction(i)},addNodes:function(e,t,s){if(e&&"object"==typeof e&&t==i&&e.length>0)for(var a=0;a<e.length;a++)this.addNode(e[a],t,s);else this.addNode(e,t,s)},addNode:function(i,s,a){var o,r,n,l,d,h,c,u,p;t.isNullOrUndefined(i)||(o=null,l=s?this._getNodeByID(s):this.model.allowMultiSelection?this.getSelectedNodes():this.getSelectedNode(),"object"==typeof i&&t.isNullOrUndefined(s)&&(d=t.getObject(this.model.fields.parentId,i),t.isNullOrUndefined(i.length)&&!t.isNullOrUndefined(d)?n=d:t.isNullOrUndefined(i.length)||1!=i.length||(n=t.getObject(this.model.fields.parentId,i[0])),n&&(l=this._getNodeByID(n))),l=this._isTreeElement(l)?e(l[0]):[],h=this._isParentExpand(l),this._triggerEvent("beforeAdd",{data:i,targetParent:null!=l[0]?l:null,parentDetails:this._getNodeDetails(l)}))||(0==l.length||l.hasClass("e-node-disable")||this._expandNode(l),"object"!=typeof i&&(i=this._createObjectByText(i,l)),"object"!=typeof i||t.isNullOrUndefined(i.length)&&0==i.length)||(o=this._addNodesWhenObject(i,l),r=document.createElement("ul"),e(r).append(o),o=e(r.children),this.model.showCheckbox&&o.children().find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this._appendNode(l,o),null!=l[0]&&((c=e(l[0].childNodes[0].childNodes[0])).hasClass("e-plus")||c.hasClass("e-minus")?c.removeClass("e-load"):c.removeClass("e-icon e-load")),null!=l[0]&&l.find("> div > .e-minus").length>0&&!this.model.enableMultipleExpand&&this._denyMultipleExpand(l),this._updateNodes(),this._afterInsertingNode(o),this._isDevice&&e.isFunction(e.fn.tap)&&null==l[0]&&this._on(o,"tap",this._ClickEventHandler),a&&!h&&this._preventParentNode(l),this._triggerEvent("nodeAdd",{data:i,nodes:o,parentElement:null!=l[0]?l:null,parentDetails:this._getNodeDetails(l)}),u=this,p=this.dataSource(),setTimeout((function(){null==u.dataSource()||u.dataSource()instanceof t.DataManager||(u._dataSource=u._groupingObjects(p,(function(e){return[!t.isNullOrUndefined(e)&&[t.getObject(u.model.fields.parentId,e)].toString()]})))}),300))},removeNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.removeNode(e[t]);else i=e?this._getNodeByID(e):this.model.allowMultiSelection?this.getSelectedNodes():this.getSelectedNode(),this._isTreeElement(i)&&this._removeNode(i)},removeAll:function(){this._liList.remove(),this._updateNodes()},checkNode:function(e){var t,i;if(this.model.showCheckbox)if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.checkNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeCheck(i.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},uncheckNode:function(e){var t,i;if(this.model.showCheckbox)if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.uncheckNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._nodeUncheck(i.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},expandNode:function(e){e&&"object"==typeof e&&e.length>0?(this._allowOnDemand=!0,this._expandNodes(e,!0),this._allowOnDemand=!1):(e=this._getNodeByID(e),this._isTreeElement(e)&&(this._allowOnDemand=!0,this._expandNode(e),this._allowOnDemand=!1))},collapseNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.collapseNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&this._collapseNode(i)},showNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.showNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&i.css("visibility","").removeClass("hidden")},hideNode:function(e){var t,i;if(e&&"object"==typeof e&&e.length>0)for(t=0;t<e.length;t++)this.hideNode(e[t]);else i=this._getNodeByID(e),this._isTreeElement(i)&&i.css("visibility","hidden").addClass("hidden")},show:function(){this.element.css("visibility","").find(".e-item").removeClass("hidden")},hide:function(){this.element.css("visibility","hidden").find(".e-item").addClass("hidden")},hasChildNode:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?e.find("> ul > .e-item").length>0:void 0},isChildLoaded:function(e){return e=this._getNodeByID(e),!!(this._isTreeElement(e)&&e.find("ul > .e-item").length>0)},isNodeChecked:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._isChecked(e):void 0},isExpanded:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._isNodeExpanded(e):void 0},isVisible:function(e){return e=this._getNodeByID(e),!(!this._isTreeElement(e)||"hidden"==e.css("visibility"))},isExist:function(e){return e=this._getNodeByID(e),!(!this._isTreeElement(e)||-1==this._liList.index(e))},isSelected:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?e.find("> div > .e-text").hasClass("e-active"):void 0},isDisabled:function(e){return e=this._getNodeByID(e),!(!this._isTreeElement(e)||!e.hasClass("e-node-disable"))},getTreeData:function(e){return e!=i?this._getNodeData(e):t.isNullOrUndefined(this.model.fields)||null==this.dataSource()?void 0:this._orderDataSource()},getText:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?e.trim(this.element.find(t).find("> div > .e-text").text()):void 0},getSelectedNode:function(){return this.model.allowMultiSelection?null:this.element.find(".e-item > div > .e-active").closest(".e-item")},getSelectedNodes:function(){return this.element.find(".e-item > div > .e-active").closest(".e-item")},getCheckedNodes:function(){if(this.model.showCheckbox)return this._liList.find('> div > .e-chkbox-wrap[aria-checked="true"]').closest(".e-item")},getExpandedNodes:function(){return this.element.find(".e-item > div > .e-minus").closest(".e-item")},getExpandedNodesIndex:function(){return this._getNodesIndex(this.getExpandedNodes())},getCheckedNodesIndex:function(){return this._getNodesIndex(this.getCheckedNodes())},getSelectedNodeIndex:function(){return this.model.allowMultiSelection?null:this._getNodesIndex(this.getSelectedNode())},getSelectedNodesIndex:function(){return this._getNodesIndex(this.getSelectedNodes())},getVisibleNodes:function(){return this.element.find(".e-item:visible:not(.hidden, .e-node-disable)")},getNodeCount:function(){return this.element.find(".e-item").length},getNode:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._getNodeDetails(e):null},getNodeIndex:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?this._liList.index(e):void 0},getNodeByIndex:function(t){if("number"==typeof t)return e(this._liList[t])},getParent:function(e){return e=this._getNodeByID(e),this._isTreeElement(e)?e.parents(".e-item:first"):void 0},getChildren:function(e,t){return e=this._getNodeByID(e),this._isTreeElement(e)?e.find(t?".e-item":"> ul > .e-item"):void 0},updateText:function(i,s){var a,o,r,n,l;if(i=this._getNodeByID(i),this._isTreeElement(i)&&!t.isNullOrUndefined(s)){if(a=this.element.find(i).children("div").find("> .e-text")[0],n=i.closest("li")[0].id,null!=a){if(r={currentElement:e(a)},this._triggerEvent("beforeEdit",r))return!1;o=a.lastChild.nodeValue}a.lastChild.nodeValue=s,this._updateField(this._newDataSource,i.attr("id"),this.model.fields,"text",s),this.model.template&&((l=this._getNodeObject(n))&&0!=l.length?a.innerHTML=this._renderEjTemplate(this.model.template,l[0]):a.innerText=s),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:i.attr("id"),oldText:o,newText:s,target:i,nodeDetails:this._getNodeDetails(i),event:null})}},insertAfter:function(e,t){this._insertBeforeOrAfter(e,t,!1)},insertBefore:function(e,t){this._insertBeforeOrAfter(e,t,!0)},moveNode:function(e,i,s){if(e=this._getNodeByID(e),i=this._getNodeByID(i),this._isTreeElement(e)){if(e.parents(".e-item")[0]==i[0]&&t.isNullOrUndefined(s)||i.find(e).index()==s||null==i[0]&&this._liList.index(e)==s)return;var a=null!=i[0]&&s>=0?i.find("> ul > .e-item").eq(s):this.getNodeByIndex(s);this._isRender=!1,this._isTreeElement(a)?a.parents(".e-item:first")[0]==e.parents(".e-item:first")[0]&&null==a.next(".e-item")[0]?this._dropAsSiblingNode(a,e.find(" > div > .e-text"),!1,""):this._dropAsSiblingNode(a,e.find(" > div > .e-text"),!0,""):this._dropAsChildNode(i,e.find(" > div > .e-text"),""),i.length>0&&i.hasClass("e-node-disable")&&this._nodeDisableAction(i),this._isRender=!0}},loadData:function(e,t){t=this._getNodeByID(t),this._isUrl(e)&&(null==t[0]||this._isTreeElement(t))&&this._sendAjaxOptions(e,t)},ensureVisible:function(t){var i,s,a,o;if(t=this._getNodeByID(t),this._isTreeElement(t)&&!this.isDisabled(t)&&this.isVisible(t)){for(a=0,o=(i=t.parents(".e-item")).length;a<o;a++)this._expandNode(e(i[a]));return s=t.offset(),t.animate({scrollTop:s.top},this.model.enableAnimation?350:0,"linear",(function(){t.find("> div > a.e-text")[0].scrollIntoView(!1)})),!0}return!1},_triggerEvent:function(e,t){if(this._isRender)return this._trigger(e,t)}})}(jQuery,Syncfusion),function(e,t,i){t.widget("ejSplitter","ej.Splitter",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-splitter",_setFirst:!1,angular:{terminal:!1},defaults:{cssClass:"",orientation:"horizontal",enableAnimation:!0,properties:[],height:null,width:null,enableAutoResize:!1,isResponsive:!1,enableRTL:!1,allowKeyboardNavigation:!0,htmlAttributes:{},expanderTemplate:null,animationSpeed:300,beforeExpandCollapse:null,clickOnExpander:null,expandCollapse:null,resize:null,create:null,destroy:null},dataTypes:{cssClass:"string",orientation:"enum",properties:"data",enableAutoResize:"boolean",expanderTemplate:"string",isResponsive:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",animationSpeed:"number",enableAnimation:"boolean",htmlAttributes:"data"},_init:function(){this._initialize(),this._render(),this._wireEvents(!(!this.model.isResponsive&&!this.model.enableAutoResize))},_setModel:function(e){for(var t in e)switch(t){case"cssClass":this._changeSkin(e[t]);break;case"enableAutoResize":case"isResponsive":this._windowResizing(e[t]);break;case"enableRTL":this._rtl(e[t]);break;case"htmlAttributes":this._addAttr(e[t]);break;case"orientation":this._refreshSplitter("orientation",e[t]);break;case"properties":this._refreshSplitter("properties",e[t]);break;case"width":this.model.width=e[t],this._setHeightWidth();break;case"height":this.model.height=e[t],this._setHeightWidth()}},refresh:function(){this._setPanesSize(),this._getPanesPercent()},collapse:function(e){this._clickArrow(e,!0,!0)},expand:function(e){this._clickArrow(e,!1,!0)},_clickArrow:function(i,s,a){if(this._inMovement||i<0||i>this.panes.length||this.panes.length<=1)return!1;var o,r=s?"e-collapse":"e-expand",n=this.element.children(".e-splitbar:not(.e-shadowbar)");if(t.isNullOrUndefined(this.model.expanderTemplate)?o=i==n.length?this._clickArrow(i-1,!s,!1):e(n[i]).children("."+r):(o=e(n[i]).children(".e-splitter-"+this.model.orientation.substr(0,1)+"-template"),s?this._collapseArrowClick(this.templateargs):this._expandArrowClick(this.templateargs)),t.isNullOrUndefined(this.model.expanderTemplate)||this._templateIconPositioning(!0),!a)return o;"none"==o.css("display")&&t.isNullOrUndefined(this.model.expanderTemplate)||o.mouseup()},addItem:function(i,s,a){var o,r,n,l,d,h=this.panes.length;if(a=this._getNumber(a),o=this.element[this.containerCss](),t.isNullOrUndefined(a)&&(a=h),a<0||a>h)return"";s=this._getPaneProperty(s),s=this._checkMinMaxSize(s),r=t.buildTag("div.e-pane e-"+this.model.orientation.substr(0,1)+"-pane"),this.element.append(r[this.containerCss](s.paneSize)),n=s.paneSize=r[this.containerCss](),0==h&&this.panes.push(r),r.remove();var c,u,p,m,g=a,_=h>0?h:this.panes.length,f={},b=0,v=!1;for(l=n+this._bar,u=0;u<2;u++){for(c=g;c<_;c++){var x=e(this.panes[c])[this.containerCss](),y=t.isNullOrUndefined(this.model.properties[c])?s.minSize:this.model.properties[c].minSize,w=x-y;if(w>=l-b){f[c]=x-(l-b),v=!0;break}0==h&&w>=0?(f[c]=y,b+=w,v=!0):w>0&&(f[c]=y,b+=w)}if(v)break;_=g,g=0}if(!v)return"";for(d in f)e(this.panes[d])[this.containerCss](f[d]);return h<=0?r.append(e(this.panes[a])):a==h?(p="insertBefore",m=1,r.insertAfter(e(this.panes[a-1]))):(p="insertAfter",m=0,r.insertBefore(e(this.panes[a]))),this.model.properties.splice(a,0,s),0==h&&this.element.append(r[this.containerCss](o)),h>0&&(this.panes.splice(a,0,r),this._createSplitBar(a-m)[p](r)),r.append(i),this._updateModel(),r},removeItem:function(i){var s,a,o,r,n=this.panes.length-1;if(i=this._getNumber(i),t.isNullOrUndefined(i)&&(i=n),i<0||i>n||n<0)return null;r=(s=e(this.panes[i]))[this.containerCss]()+this._bar,s.remove(),o=this.element.children(".e-splitbar:not(.e-shadowbar)"),i==n?(a=e(this.panes[i-1]),e(o[i-1]).remove()):(a=e(this.panes[i+1]),e(o[i]).remove()),a[this.containerCss](a[this.containerCss]()+r),this._removeArrays(i),this._updateModel()},_checkMinMaxSize:function(e){return!t.isNullOrUndefined(e.minSize)&&e.paneSize<e.minSize&&(e.paneSize=e.minSize),!t.isNullOrUndefined(e.maxSize)&&e.paneSize>e.maxSize&&(e.paneSize=e.maxSize),e},_removeArrays:function(e){this.model.properties.splice(e,1),this.panes.splice(e,1),this.oldPaneSize.splice(e,1),this.oldPanePercent.splice(e,1),this._sizePercent.splice(e,1)},_getNumber:function(e){return e=parseFloat(e),isNaN(e)?null:e},_updateModel:function(){for(var t=0;t<this.panes.length;t++)this.model.properties[t].paneSize=e(this.panes[t])[this.containerCss]();this._getPanesPercent()},_getPaneProperty:function(t){return e.extend({paneSize:10,minSize:10,maxSize:null,collapsible:!0,resizable:!0,expandable:!0},t)},_changeSkin:function(e){this.element.removeClass(this.model.cssClass).addClass(e)},_windowResizing:function(e){e?this._wireEvents(e):this._unWireEvents()},_refreshSplitter:function(e,t){this._unWireEvents(),this._refreshDestroy(),this.model[e]=t,this._init()},_destroy:function(){this.element.removeClass("e-splitter"),this._refreshDestroy(),this._unWireEvents()},_refreshDestroy:function(){this.element.removeClass("e-widget e-box e-rtl"+this.model.cssClass+" e-"+this.model.orientation),this.element.children(".e-splitbar").remove(),this.element.children(".e-pane").removeClass("e-pane e-"+this.model.orientation.substr(0,1)+"-pane").height("").width("")},_initialize:function(){this.panes=[],this.oldPaneSize=[],this.oldPanePercent=[],this._initialPropertiesValue=[],this._updateHeightWidth=!1,this.shadowBar=null,this._inMovement=!1,this.containerCss="horizontal"==this.model.orientation?"width":"height",this.displayCss="horizontal"==this.model.orientation?"left":"top",this.borderCss="horizontal"==this.model.orientation?"right":"bottom",this._bar=9},_render:function(){this.element.addClass("e-widget e-box "+this.model.cssClass+" e-"+this.model.orientation).attr("data-role","splitter");for(var i=this.element[0],s=0;s<i.children.length;s++)e(i.children[s]).addClass("e-pane"),this.panes.push(i.children[s]);this._setPanesProperty(),this._insertSplitBar(),this._setDimentions(),t.isNullOrUndefined(this.model.expanderTemplate)||this.element.find(".e-splitter-"+this.model.orientation.substr(0,1)+"-template").css("z-index",t.getMaxZindex()+1),this._setPanesSize(),this._getPanesPercent(),this._addAttr(this.model.htmlAttributes),this._checkProperties(),this.element.find(".e-pane").addClass("e-"+this.model.orientation.substr(0,1)+"-pane"),this.model.isResponsive&&(isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&this.element.css("height",this.model.height),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&this.element.css("width",this.model.width))},_templateClick:function(t){var i=this.templateargs={cancel:!1,targetElement:e(t.target),event:t.type,model:this.model,currentTarget:e(t.currentTarget)};this._trigger("clickOnExpander",i)},_templateIconPositioning:function(e){var i=this;"webkit"==t.browserInfo().name&&e&&(i.element.find(".e-splitter-"+i.model.orientation.substr(0,1)+"-template").css("display","none"),setTimeout((function(){i.element.find(".e-splitter-"+i.model.orientation.substr(0,1)+"-template").css("display","block")}),i._isMouseMove?10:i.model.animationSpeed),i._isMouseMove=!1),e||setTimeout((function(){i.element.find(".e-splitter-"+i.model.orientation.substr(0,1)+"-template").css("display","inline-block")}),100)},_setPanesProperty:function(){for(var e=0;e<this.panes.length;e++)this.model.properties[e]!=i?(this.model.properties[e].paneSize=this.model.properties[e].paneSize==i?"0px":this.model.properties[e].paneSize,this.model.properties[e].minSize=isNaN(parseFloat(this.model.properties[e].minSize))?10:parseFloat(this.model.properties[e].minSize),this.model.properties[e].maxSize=isNaN(parseFloat(this.model.properties[e].maxSize))?null:parseFloat(this.model.properties[e].maxSize),this.model.properties[e].collapsible=0!=this.model.properties[e].collapsible,this.model.properties[e].resizable=0!=this.model.properties[e].resizable,this.model.properties[e].expandable=0!=this.model.properties[e].expandable):this.model.properties.push({paneSize:"0px",minSize:10,maxSize:null,collapsible:!0,resizable:!0,expandable:!0}),this._initialPropertiesValue[e]=this.model.properties[e].paneSize},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e)}))},_insertSplitBar:function(){if(this.panes.length>1)for(var e=0;e<this.panes.length-1;e++)this._createSplitBar(e).insertAfter(this.panes[e])},_createSplitBar:function(i){var s,a,o,r,n,l=this.model.orientation.substr(0,1),d=!1;return r=t.buildTag("span.e-box e-splitbar e-split-divider e-"+l+"-bar").attr("aria-expanded",!0),"msie"==t.browserInfo().name&&r.addClass("e-pinch"),t.isNullOrUndefined(this.model.expanderTemplate)?(s=t.buildTag("span.e-icon e-collapse e-"+l+"-arrow "+("h"==l?"e-arrow-sans-left":"e-arrow-sans-up")),r.append(s),o=t.buildTag("span.e-activebar e-"+l+"-arrow "),r.append(o),a=t.buildTag("span.e-icon e-expand e-"+l+"-arrow "+("h"==l?"e-arrow-sans-right":"e-arrow-sans-down")),r.append(a),d=!0,this._on(s,t.isDevice()?"tap":"mouseup",this._collapseArrowClick),this._on(a,t.isDevice()?"tap":"mouseup",this._expandArrowClick),this.model.properties[i].collapsible||s.css("display","none"),this.model.properties[i].expandable||a.css("display","none"),this.model.properties[i+1].collapsible&&a.css("display","block")):(document.getElementsByClassName("e-split-divider"),n=document.createElement("span"),e(n).append(this.model.expanderTemplate),e(n).attr("class","e-splitter-"+this.model.orientation.substr(0,1)+"-template e-resize"),e(n).on(t.isTouchDevice()?"tap":"click",e.proxy(this._templateClick,this)),r.append(n),this._templateIconPositioning(!1)),this.model.properties[i].resizable&&this.model.properties[i+1].resizable&&(r.addClass("e-resize").removeClass("e-icon-hide"),d=!0,this._on(r,t.eventType.mouseDown,this._mouseDownOnDivider),t.isNullOrUndefined(this.model.expanderTemplate)&&this._on(o,t.eventType.mouseDown,this._mouseDownOnDivider)),d?(r.attr({role:"separator",tabindex:"0"}),this._on(r,"focus focusout",this._focusOnDivider)):r.attr({role:"presentation"}),r},_getTemplatedString:function(){for(var e,t=this.model.expanderTemplate,i=t.indexOf("${"),s=t.indexOf("}");-1!=i&&-1!=s;)e=t.substring(i,s+1);return e},_getPanesPercent:function(){this._sizePercent=[];for(var t=this.element[this.containerCss]()-(this.panes.length-1)*this._bar,i=0;i<this.panes.length;i++)e(this.panes[i]).hasClass("collapsed")||(this.oldPaneSize[i]=e(this.panes[i])[this.containerCss]()),this.oldPanePercent[i]=this._convertToPercent(t,this.oldPaneSize[i]),this._sizePercent.push(this._convertToPercent(t,e(this.panes[i])[this.containerCss]()))},_setDimentions:function(){var e=this._getParentObj(),t=parseInt(this.model.width),i=parseInt(this.model.height);isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(t=this.model.isResponsive?this._convertToPixel(e.innerWidth(),t):this.model.width),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(i=this.model.isResponsive?this._convertToPixel(e.innerHeight(),i):this.model.height),this.model.height&&this.element.css("height",i),this.model.width&&this.element.css("width",t)},_setHeightWidth:function(){this._updateHeightWidth=!0,this._setDimentions(),this._setPanesSize(),this._getPanesPercent()},_getParentObj:function(){return this.element.parent()},_checkProperties:function(){this.model.enableRTL&&this._rtl(this.model.enableRTL),this._prevSize=this.element[this.containerCss]()},_getExactInnerWidth:function(){var i=t.browserInfo();return"msie"==i.name?8==i.version||9==i.version?e(this.element)[this.containerCss]():parseFloat(window.getComputedStyle(this.element[0])[this.containerCss]):parseFloat(window.getComputedStyle(this.element[0])[this.containerCss])-(parseFloat(this.element.css("border-"+this.displayCss+"-width"))+parseFloat(this.element.css("border-"+this.borderCss+"-width"))+parseFloat(this.element.css("padding-"+this.displayCss))+parseFloat(this.element.css("padding-"+this.borderCss)))},_rtl:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setPanesSize:function(){var i,s,a,o,r,n,l,d,h=this.containerCss,c=0,u=0,p=this.element[h](),m=!1,g=this._bar=e(this.element).find(">.e-splitbar").length>0?parseFloat(e(this.element).find(">.e-splitbar").css(h)):this._bar,_=[],f=this.panes.length;if(f>1)for(s=0;s<f;s++)e(this.panes[s]).css(h,1==this._updateHeightWidth?this._initialPropertiesValue[s]:this.model.properties[s].paneSize),this._updateHeightWidth=!1,g=s==f-1?0:g,i=parseFloat(e(this.panes[s])[h]()),t.isNullOrUndefined(this.model.properties[s].maxSize)||(i=i>this.model.properties[s].maxSize?this.model.properties[s].maxSize:i),e(this.panes[s]).css(h,i),i<=0?(c++,_.push(s),u+=g):m?(e(this.panes[s]).css(h,0),u+=i+g,this.model.properties[s].paneSize=0):((u+=i+g)>p&&(a=u-p+g,a+=(f-s-1)*g,e(this.panes[s]).css(h,a),m=!0,u+=a+g),this.model.properties[s].paneSize=i);else 1==f&&(e(this.panes[0]).css(h,"100%"),u=p);if(f>1&&u!=p)if(r=e(this.panes[f-1]),u>p)r.css(h,o=u-p);else if(u<p)if(o=p-u,c>0)for(l=parseFloat(o/c),n=0;n<c;n++)e(this.panes[_[n]]).css(h,l),this.model.properties[_[n]].paneSize=l;else{for(d=f;d>0;d--)if(t.isNullOrUndefined(this.model.properties[d-1].maxSize)){r=e(this.panes[d-1]);break}r.css(h,parseFloat(r[h]()+o)),this.model.properties[f-1].paneSize=r[h]()}f>1&&this._checkPaneSize()},_getUnit:function(e){return"px"==e?"px":"pt"==e?"pt":"%"==e.substr(1)?"%":"px"},_getNormalValue:function(e){var t,i;return"vertical"==this.model.orientation?(t=(e.y-this.element.offset().top)/this.element.outerHeight(),i=this.element.height()):(t=(e.x-this.element.offset().left)/this.element.outerWidth(),i=this.element.width()),t>1&&(t=1),t<0&&(t=0),this._trimValue(t*i)},_trimValue:function(e){var t,i;return i=e-(t=e%1),2*Math.abs(t)>=1&&(i+=t>0?1:-1),parseFloat(i.toFixed(5))},_getSplitbarIndex:function(){return this.element.children(".e-splitbar:not(.e-shadowbar)").index(this.currentSplitBar)},_paneResize:function(){var t,i,s,a,o,r,n,l;if(null==this.shadowBar)return!1;this.currentSplitBar=this.shadowBar.next(),r=this._getSplitbarIndex(),i=this.shadowBar.prev(),s=this.currentSplitBar.next(),a=r,o=r+1,t=this.shadowBar.offset()[this.displayCss],t-=this.currentSplitBar.offset()[this.displayCss],e(i).css(this.containerCss,t+e(i)[this.containerCss]()+"px"),e(s).css(this.containerCss,e(s)[this.containerCss]()-t+"px"),this.oldPaneSize[a]=e(i)[this.containerCss](),this.oldPaneSize[o]=e(s)[this.containerCss](),this.shadowBar.remove(),this._checkPaneSize(),this._updateModelValue(n={item:i,index:a,size:this.oldPaneSize[a]},l={item:s,index:o,size:this.oldPaneSize[o]}),this._trigger("resize",{prevPane:n,nextPane:l,splitbarIndex:r})},_checkPaneSize:function(){for(var t,i,s,a=0,o=this.panes.length,r=0;r<o;r++)a+=("width"==this.containerCss?e(this.panes[r]).outerWidth():e(this.panes[r]).outerHeight())+this._bar;if((a-=this._bar)!=(t=this._getExactInnerWidth()))if(i=t-a,0==(s=e(this.panes[o-1])[this.containerCss]())){for(r=o-1;r>=0;r--)if(e(this.panes[r]).hasClass("expanded")&&!e(this.panes[r]).hasClass("collapsed")){s=e(this.panes[r])[this.containerCss](),e(this.panes[r]).css(this.containerCss,parseFloat(s+i));break}}else e(this.panes[o-1]).css(this.containerCss,parseFloat(s+i))},_maxminDraggableRange:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m;t=this.shadowBar.prev(),this.currentSplitBar=this.shadowBar.next(),i=this.currentSplitBar.next(),s=t[this.containerCss](),a=i[this.containerCss](),r=(o="left"==this.displayCss?this.currentSplitBar[0].offsetLeft:this.currentSplitBar[0].offsetTop)-s,n=a+o,m=this._getSplitbarIndex(),c=this.model.properties[d=m+1].maxSize,h=null!=(h=this.model.properties[l=m].maxSize)?parseInt(h,10):null,c=null!=c?parseInt(c,10):null,this.model.properties[l].minSize=parseInt(this.model.properties[l].minSize,10),this.model.properties[d].minSize=parseInt(this.model.properties[d].minSize,10),u=this.model.properties[l].minSize,p=this.model.properties[d].minSize,this.shadowBar.removeClass("e-end-indicaton"),e>n-p?(this.resizedPosition=n-p,this.shadowBar.addClass("e-end-indicaton")):e<r+u&&(this.resizedPosition=r+u,this.shadowBar.addClass("e-end-indicaton")),null!=h?e>r+h&&(this.resizedPosition=r+h,this.shadowBar.addClass("e-end-indicaton")):null!=c&&e<n-c&&(this.resizedPosition=n-c,this.shadowBar.addClass("e-end-indicaton"))},_collapseArrowClick:function(i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f;if(null==this.shadowBar){if(s=t.isNullOrUndefined(i.target)?e(i.currentTarget):e(i.target),this._inMovement=!0,this.currentSplitBar=s.parent(),c={},u=this.panes.length,a=this._getSplitbarIndex(),o=this.currentSplitBar.prev(),r=this.currentSplitBar.next(),n=a,l=a+1,d=o[this.containerCss](),h=r[this.containerCss](),p=this,this._raiseEvent("beforeExpandCollapse",m={item:o,index:n,size:d},g={item:r,index:l,size:h},a,"beforeCollapse"))return!1;if(r.hasClass("collapsed")){if(d<this.oldPaneSize[l])return s.addClass("e-end-indicaton"),this._inMovement=!1,e(document).on("mouseup",e.proxy(this._mouseUpOnArrow,this)),!1;o.removeClass("expanded"),r.removeClass("collapsed"),s.parent().addClass("e-resize").removeClass("e-icon-hide"),e(s.siblings()).not(".e-activebar").css("display","block"),this.model.properties[n].collapsible||s.css("display","none"),l!=u-1&&(f=r.next(),this.model.properties[l+1].collapsible||f.find(".e-expand").css("display","none"),f.find(".e-collapse").css("display","block"),f.next().hasClass("collapsed")||(f.addClass("e-resize").removeClass("e-icon-hide"),f.attr("aria-expanded",!0))),c[this.containerCss]=this.oldPaneSize[l],r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=d-this.oldPaneSize[l],o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"collapsed")}))}else this.oldPaneSize[n]=d,o.addClass("collapsed"),r.addClass("expanded"),this.currentSplitBar.attr("aria-expanded",!1),s.parent().removeClass("e-resize").addClass("e-icon-hide"),t.isNullOrUndefined(this.model.expanderTemplate)&&s.css("display","none"),this.model.properties[l].collapsible||e(s.siblings()).not(".e-activebar").css("display","block"),0!=n&&((_=o.prev()).find(".e-expand").css("display","none"),!this.model.properties[n-1].collapsible&&e(o.prev().prev()[0]).hasClass("expanded")&&_.find(".e-collapse").css("display","block"),_.removeClass("e-resize").addClass("e-icon-hide")),c[this.containerCss]=0,o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=d+h,r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"collapsed")}))}},_expandArrowClick:function(i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f;if(null==this.shadowBar){if(s=t.isNullOrUndefined(i.target)?e(i.currentTarget):e(i.target),this._inMovement=!0,this.currentSplitBar=s.parent(),c={},u=this.panes.length,a=this._getSplitbarIndex(),o=this.currentSplitBar.prev(),r=this.currentSplitBar.next(),n=a,l=a+1,d=o[this.containerCss](),h=r[this.containerCss](),p=this,this._raiseEvent("beforeExpandCollapse",m={item:r,index:l,size:h},g={item:o,index:n,size:d},a,"beforeExpand"))return!1;if(o.hasClass("collapsed")){if(h<this.oldPaneSize[n])return s.addClass("e-end-indicaton"),this._inMovement=!1,e(document).on("mouseup",e.proxy(this._mouseUpOnArrow,this)),!1;o.removeClass("collapsed"),r.removeClass("expanded"),this.currentSplitBar.attr("aria-expanded",!0),s.parent().addClass("e-resize").removeClass("e-icon-hide"),e(s.siblings()).not(".e-activebar").css("display","block"),this.model.properties[l].collapsible||s.css("display","none"),0!=n&&(f=o.prev(),this.model.properties[a-1].collapsible||f.find(".e-collapse").css("display","none"),f.find(".e-expand").css("display","block"),f.prev().hasClass("collapsed")||f.addClass("e-resize").removeClass("e-icon-hide")),c[this.containerCss]=this.oldPaneSize[n],o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=h-this.oldPaneSize[n],r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"expanded")}))}else this.oldPaneSize[l]=h,o.addClass("expanded"),r.addClass("collapsed"),s.parent().removeClass("e-resize").addClass("e-icon-hide"),t.isNullOrUndefined(this.model.expanderTemplate)&&s.css("display","none"),this.model.properties[n].collapsible||e(s.siblings()).not(".e-activebar").css("display","block"),l!=u-1&&((_=r.next()).find(".e-collapse").css("display","none"),!this.model.properties[l+1].collapsible&&e(r.next().next()[0]).hasClass("collapsed")&&_.find(".e-expand").css("display","block"),_.removeClass("e-resize").addClass("e-icon-hide"),_.attr("aria-expanded",!1)),c[this.containerCss]=d+h,o.animate(c,this.model.enableAnimation?this.model.animationSpeed:0),c[this.containerCss]=0,r.animate(c,this.model.enableAnimation?this.model.animationSpeed:0,(function(){p._raiseEvent("expandCollapse",m,g,a,"expanded")}))}},_raiseEvent:function(e,t,i,s,a){return"expandCollapse"==e&&(this._inMovement=!1,this._updateModelValue(t,i)),this._trigger(e,{collapsed:t,expanded:i,splitbarIndex:s,action:a})},_updateModelValue:function(e,t){this.model.properties[e.index].paneSize=e.item[this.containerCss](),this.model.properties[t.index].paneSize=t.item[this.containerCss](),this._getPanesPercent()},_mouseUpOnArrow:function(){this.element.find(".e-end-indicaton").removeClass("e-end-indicaton"),e(document).off("mouseup",e.proxy(this._mouseUpOnArrow,this))},_keydownOnDivider:function(t){var i,s,a=t.keyCode;if(37==a||38==a||39==a||40==a){if(t.preventDefault(),i=e(t.data.target),t.ctrlKey)null==this.shadowBar&&(this.currentSplitBar=i,s=this._getSplitbarIndex(),"vertical"==this.model.orientation?38==t.keyCode?this.collapse(s):40==t.keyCode&&this.expand(s):37==t.keyCode?this.collapse(s):39==t.keyCode&&this.expand(s));else if(i.hasClass("e-resize")){var o=(null!=this.shadowBar?this.shadowBar:i).offset();e.extend(!0,t,{pageX:o.left,pageY:o.top}),("vertical"==this.model.orientation&&(38==t.keyCode||40==t.keyCode)||"horizontal"==this.model.orientation&&(37==t.keyCode||39==t.keyCode))&&(38==t.keyCode?t.pageY-=5:40==t.keyCode?t.pageY+=5:37==t.keyCode?t.pageX-=5:39==t.keyCode&&(t.pageX+=5),this._mouseMoveOnDivider(t))}}else 13==a?(t.preventDefault(),this._mouseUpOnDivider()):27==a&&(t.preventDefault(),null!=this.shadowBar&&this.shadowBar.remove(),this.shadowBar=null,this._mouseUpOnDivider(),this.element.children(".e-splitbar.e-hover").focusout())},_focusOnDivider:function(t){"focus"==t.type?!e(t.target).hasClass("e-hover")&&(e(t.target).addClass("e-hover"),this.model.allowKeyboardNavigation)&&e(document).on("keydown",{target:t.target},e.proxy(this._keydownOnDivider,this)):(this.element.children(".e-splitbar.e-hover").removeClass("e-hover"),this._mouseUpOnDivider(),e(document).off("keydown",e.proxy(this._keydownOnDivider,this)))},_mouseDownOnDivider:function(i){var s;i.preventDefault(),(s=e(i.target).hasClass("e-activebar")?e(i.target.parentElement):!t.isNullOrUndefined(this.model.expanderTemplate)&&e(i.target).parents(".e-splitbar").length>0?e(i.target).parents(".e-splitbar"):e(i.target)).hasClass("e-splitbar")&&s.hasClass("e-resize")?(this._overlayElement=t.buildTag("div.e-pane-overlay"),s.hasClass("e-hover")||s.focus(),this.element.find(".e-pane").not(".e-splitter").append(this._overlayElement),e(document).on(t.eventType.mouseMove,{target:e(i.target).hasClass("e-activebar")?i.target.parentElement:i.target},e.proxy(this._mouseMoveOnDivider,this)),e(document).on(t.eventType.mouseUp,e.proxy(this._mouseUpOnDivider,this)),e(document).on("mouseleave",e.proxy(this._mouseUpOnDivider,this))):(s.hasClass("e-expand")||s.hasClass("e-collapse"))&&s.parent().focus()},_mouseMoveOnDivider:function(i){var s,a=i.data;i="touchmove"==i.type?i.originalEvent.changedTouches[0]:i,this._isMouseMove=!0,this.resizedPosition=this._getNormalValue({x:i.pageX,y:i.pageY}),null==this.shadowBar&&(s=e(a.target).hasClass("e-activebar")?e(a.target.parentElement):!t.isNullOrUndefined(this.model.expanderTemplate)&&e(i.target).parents(".e-splitbar").length>0?e(a.target).parents(".e-splitbar"):e(a.target),this.shadowBar=s.clone().addClass("e-shadowbar").removeClass("e-hover").removeClass("e-split-divider").insertBefore(s),this.shadowBar.children().remove()),this._maxminDraggableRange(this.resizedPosition),this.shadowBar.css(this.displayCss,this.resizedPosition)},_mouseUpOnDivider:function(){this._paneResize(),t.isNullOrUndefined(this.model.expanderTemplate)||this._templateIconPositioning(!0),this.element.find(".e-pane").not(".e-splitter").find(".e-pane-overlay").remove(),e(document).off(t.eventType.mouseMove,e.proxy(this._mouseMoveOnDivider,this)),e(document).off(t.eventType.mouseUp,e.proxy(this._mouseUpOnDivider,this)),e(document).off("mouseleave",e.proxy(this._mouseUpOnDivider,this)),this.shadowBar=null},_windowResized:function(){var t,i,s,a,o=this._getExactInnerWidth();if(this._prevSize==o)return!1;for(i=o-((t=this.panes.length)-1)*this._bar,this._prevSize=o,s=0;s<t;s++)a=this._convertToPixel(i,this._sizePercent[s]),e(this.panes[s]).css(this.containerCss,a+"px");for(s=0;s<this.oldPaneSize.length;s++)this.oldPaneSize[s]=this._convertToPixel(i,this.oldPanePercent[s]);0==e(this.panes[this.panes.length-1])[this.containerCss]()&&this._checkPaneSize()},_convertToPercent:function(e,t){return 100*t/e},_convertToPixel:function(e,t){return parseFloat(e*t/100)},_wireEvents:function(t){t&&e(window).on("resize",e.proxy(this._windowResized,this))},_unWireEvents:function(){e(window).off("resize",e.proxy(this._windowResized,this))}})}(jQuery,Syncfusion),function(e,t){t.widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_requiresID:!0,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var i=this.model.template;"string"==typeof i&&(i=e(i)),this.templateObj="object"==typeof i&&"function"==typeof i.css?i:t.buildTag("div","",{"text-align":"center"}).append(i),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){e(window).on("resize",e.proxy(this._resizeHandler,this))},_unwireEvents:function(){e(window).off("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(i){for(var s in i)switch(s){case"text":this._setText(i[s]);break;case"cssClass":this._setTheme(i[s]);break;case"htmlAttributes ":this._addAttr(i[s]);break;case"showOnInit":this._setVisibility(i[s]);break;case"showImage":this._showImage(i[s]),this._setContentPosition();break;case"target":this.model.target=i[s],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=i[s],this._setTarget(),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),i[s]?(this.model.template=i[s],this._setTemplate()):(this.model.template=i[s]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?e(document):"window"==this.model.target?e(window):this.model.target?e(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var i=e("#"+this.element[0].id+"_WaitingPopup").get(0);i&&e(i).remove(),this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)}))},_setPanelPosition:function(){var i=t.util.getOffset(this.targetElement);null!=this.model.appendTo&&e(this.model.appendTo).length>0&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==e(this.model.appendTo)[0]?(i.left-=this.targetElement.offsetParent().offset().left,i.top-=this.targetElement.offsetParent().offset().top):i={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(i.left)+"px",top:Math.ceil(i.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(null==this.model.template){var e,t=0,i=0,s=null;e=this.targetElement.outerHeight(),this.popupText&&(t=this.popupText.outerHeight()),this.popupImage&&(i=this.popupImage.outerHeight()),this.popupImage&&(s=Math.ceil((e-(i+t))/2),this.popupImage.css("top",s+"px")),this.popupText&&(s||(s=Math.ceil((e-t)/2)),this.popupText.css("top",s+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=t.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return t.util.getZindexPartial(this.element)}})}(jQuery,Syncfusion),function(e,t){t.widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,_requiresID:!0,model:null,validTags:["input"],_addToPersist:["checked"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,checked:!1,cssClass:"",text:"",enableRTL:!1,htmlAttributes:{},enablePersistence:!1,idPrefix:"ej",size:"small",enabled:!0,validationRules:null,validationMessage:null,validationMessages:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",enablePersistence:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data"},observables:["checked"],checked:t.util.valueFunction("checked"),_init:function(e){var i=t.browserInfo();this._cloneElement=this.element.clone(),this._isIE8="msie"==i.name&&"8.0"==i.version,this._setValue(),this._renderControl(),this.isChecked&&this._checkedHandler(),t.isNullOrUndefined(this.radbtn.attr("disabled"))||(this.model.enabled=!1),this._setEnabled(this.model.enabled),this._addAttr(this.model.htmlAttributes),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._wireEvents(),this.initialRender=!1},_addAttr:function(t){var i=this;e.map(t,(function(e,t){"class"==t?i.div.addClass(e):"name"==t||"required"==t?i.radbtn.attr(t,e):"disabled"==t&&"disabled"==e?i.disable():"checked"==t&&"checked"==e?i._checkedChange(!0,!0):i.div.attr(t,e)}))},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;for(a in this.element.find("input").rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.find("input").attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_setModel:function(t){for(var i in t)switch(i){case"cssClass":this._changeSkin(t[i]);break;case"enableRTL":this.model.text?t[i]?this.div.addClass("e-rtl"):this.div.removeClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").hasClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl"):t[i]?this.element.closest(".e-radiobtn-wrap").addClass("e-rtl"):this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl");break;case"text":this._setText(t[i]);break;case"size":this._setSize(t[i]);break;case"validationRules":null!=this.model.validationRules&&(this.element.find("input").rules("remove"),this.model.validationMessages=null),this.model.validationRules=t[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=t[i],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"checked":e(this.div).removeClass("e-material-animate"),"boolean"==typeof this.checked()?(this.model.checked=t[i],this._checkedChange(this.model.checked)):null!=t[i]()&&t[i]()==this.element.find(".e-input").attr("value")&&this._checkedChange(t[i]());break;case"enabled":this._setEnabled(t[i]);break;case"id":this._setIdAttr(t[i]);break;case"name":this.radbtn.attr("name",t[i]);break;case"value":this.radbtn.attr("value",t[i]);break;case"htmlAttributes":this._addAttr(t[i])}},_destroy:function(){this.radbtn.remove(),this._cloneElement.removeClass("e-js e-input e-radiobtn"),this._cloneElement.insertBefore(this.element),this.element.remove()},_changeSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass).addClass(e),this.div.removeClass(this.model.cssClass).addClass(e))},_setValue:function(){t.isNullOrUndefined(this.element.attr("type"))&&this.element.attr("type","radio"),t.isNullOrUndefined(this.element.attr("id"))||(this.model.id=this.element.attr("id")),t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.element.attr({id:this.model.id,name:this.model.name,value:this.model.value}),"boolean"==typeof this.checked()?this.model.checked=this.isChecked=this.model.checked||"checked"==this.element.attr("checked"):this.isChecked=this.element.attr("value")==this.checked(),this.isChecked&&this.element.attr("checked","checked"),this._hiddenValue=this.element.attr("value"),this._isUI=!1},_setIdAttr:function(t){e("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper"),e("#"+this.model.idPrefix+this.model.id).attr("id",this.model.idPrefix+t),this.radbtn.attr("id",t)},_setSize:function(e){e==t.RadioButtonSize.Medium?(this.span.removeClass("e-radsmaller").addClass("e-radmedium"),this.div.removeClass("e-radsmall").addClass("e-radmed")):(this.span.removeClass("e-radmedium").addClass("e-radsmaller"),this.div.removeClass("e-radmed").addClass("e-radsmall"))},_setEnabled:function(e){e?this.enable():this.disable()},_renderControl:function(){this.initialRender=!0;var i=t.browserInfo();this.div=e("msie"==i.name&&"8.0"==i.version?'<div class="e-radiobtn-wrap e-widget e-rad-outer e-ie8" ></div>':'<div class="e-radiobtn-wrap e-widget" ></div>'),this.div.attr({id:this.model.idPrefix+this.model.id,role:"radio",tabindex:0,"aria-checked":!1}),this.span=e("<span></span>"),this.span.addClass("e-spanicon"),this._setSize(this.model.size),this.spanImg=e('<span class="e-rad-icon e-icon e-rad-select"></span>',"",{},{role:"presentation"}),this.element.addClass("e-input"),this.div.addClass(this.model.cssClass),this.span.append(this.spanImg),this.div.insertBefore(this.element),this.div.append(this.element),this.div.append(this.span),this._setTextWrapper(this.model.text),this.radbtn=this.element,this.element=this.div},_setTextWrapper:function(e){""!=e?(this.txtSpan=t.buildTag("div.e-text",e),this.div.append(this.txtSpan),this.model.enableRTL&&this.div.addClass("e-rtl")):this.model.enableRTL&&this.element.closest(".e-radiobtn-wrap").addClass("e-rtl")},_setText:function(e){""==this.model.text&&""!=e?this._setTextWrapper(e):this.txtSpan.html(e)},_wireEvents:function(){this._on(this.element,"click",(function(e){this._isUI=!0,this._checkedHandler(e)})),this._on(this.element,"focus",this._focusIn),this._on(this.element,"focusout",this._focusOut)},_focusIn:function(){e(this.element).addClass("e-focus"),e(this.element).on("keydown",e.proxy(this._checkUnCheck,this))},_focusOut:function(){e(this.element).removeClass("e-focus"),e(this.element).off("keydown",e.proxy(this._checkUnCheck,this))},_checkUnCheck:function(e){(32==e.keyCode||37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode)&&(e.preventDefault(),this._checkedHandler())},_checkedHandler:function(t){t&&(this._interacted=!0),this.element.hasClass("e-disable")||(this.isChecked="boolean"==typeof this.checked()?"checked"==this.radbtn.attr("checked"):this.checked()==this.radbtn.attr("value"),e(this.element).find(".e-rad-icon").hasClass("e-circle_01")||this._changeEvent(!0),t&&e(this.div).addClass("e-material-animate"))},_checkedChange:function(e,t){this.isChecked=e,this._changeEvent(t)},_changeEvent:function(i){var s={isChecked:this.isChecked,isInteraction:!!i};if(!this.initialRender&&1==this._trigger("beforeChange",s))return!1;if(e(this.element).find(".e-rad-icon").hasClass("e-circle_01"))this.spanImg.removeClass("e-circle_01").addClass("e-rad-select"),this.span.removeClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!1}),this.radbtn.removeAttr("checked");else{var a=this.element.find(".e-input").attr("name"),o=e('input.e-radiobtn[name="'+a+'"]:radio'),r=this,n=this.element.find(".e-input"),l=e(n).data("ejRadioButton");s.isChecked&&(this.spanImg.addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this.radbtn.attr("checked","checked")),e.each(o,(function(i,s){r._interacted&&e(e(s).closest(".e-widget")).find("span.e-spanicon").hasClass("e-rad-active")&&e(s).closest(".e-radiobtn-wrap").addClass("e-material-animate"),e(s).closest(".e-radiobtn-wrap").find(".e-rad-icon").removeClass("e-circle_01").addClass("e-rad-select"),e(s).closest(".e-radiobtn-wrap").find(".e-spanicon").removeClass("e-rad-active"),e(s).closest(".e-radiobtn-wrap").attr({tabindex:0,"aria-checked":!1});var a=e(s).data("ejRadioButton");t.isNullOrUndefined(a)||null==a.checked()||"boolean"!=typeof a.checked()||(a.model.checked=!1,a.isChecked=!1,a.radbtn.removeAttr("checked"))})),null!=l&&null!=l.checked()&&"boolean"==typeof l.checked()?l.model.checked=!0:l.checked(l.radbtn.attr("value")),this.element.find(".e-rad-icon").addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this._isUI&&this.element.find(".e-input").click(),this.isChecked=!0,1==this.isChecked?this.radbtn.attr("checked","checked"):this.radbtn.removeAttr("checked")}s={isChecked:this.isChecked,isInteraction:!!i},this.initialRender||this._trigger("change",s),i&&this._trigger("_change",{value:this._hiddenValue})},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable"),this.radbtn.attr("disabled","disabled")),this._isIE8&&this.span.addClass("e-disable"),this.div.attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable"),this.radbtn.prop("disabled",!1)),this._isIE8&&this.span.removeClass("e-disable"),this.div.attr("aria-disabled",!1),this.model.enabled=!0}}),t.RadioButtonSize={Small:"small",Medium:"medium"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDatePicker","ej.DatePicker",{element:null,_rootCss:"e-datepicker",model:null,validTags:["input","div","span"],_setFirst:!1,_addToPersist:["value"],_cancelValue:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{dayHeaderFormat:"min",showPopupButton:!0,enableAnimation:!0,showFooter:!0,displayInline:!1,htmlAttributes:{},dateFormat:"",watermarkText:"Select date",value:null,minDate:new Date("01/01/1900"),maxDate:new Date("12/31/2099"),startLevel:"month",depthLevel:"",cssClass:"",startDay:-1,stepMonths:1,locale:"en-US",showOtherMonths:!0,enableStrictMode:!1,enablePersistence:!1,enabled:!0,width:"",height:"",enableRTL:!1,showRoundedCorner:!1,headerFormat:"MMMM yyyy",buttonText:"Today",readOnly:!1,specialDates:null,fields:{date:"date",tooltip:"tooltip",iconClass:"iconClass",cssClass:"cssClass"},showTooltip:!0,showDisabledRange:!0,highlightSection:"none",highlightWeekend:!1,validationRules:null,validationMessage:null,validationMessages:null,allowEdit:!0,tooltipFormat:"ddd MMM dd yyyy",allowDrillDown:!0,blackoutDates:[],beforeDateCreate:null,open:null,close:null,select:null,change:null,focusIn:null,focusOut:null,beforeOpen:null,beforeClose:null,navigate:null,create:null,destroy:null,weekNumber:!1,timeZone:!0},dataTypes:{startDay:"number",stepMonths:"number",showOtherMonths:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",displayInline:"boolean",showPopupButton:"boolean",locale:"string",readOnly:"boolean",cssClass:"string",dateFormat:"string",watermarkText:"string",headerFormat:"string",buttonText:"string",specialDates:"data",showTooltip:"boolean",highlightSection:"enum",highlightWeekend:"boolean",enableAnimation:"boolean",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data",tooltipFormat:"string",allowEdit:"boolean",allowDrillDown:"boolean",weekNumber:"boolean"},_renderPopup:function(){this.sfCalendar=t.buildTag("div.e-datepicker e-popup e-widget "+this.model.cssClass+" e-calendar "+(this.model.specialDates&&this.model.specialDates[0][this._mapField._icon]?"e-icons ":""),"",{},{id:this._id?"e-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}).insertBefore(this.element),this.model.displayInline&&!this.element.is("input")&&this.sfCalendar.addClass("e-inline"),this.popup=this.sfCalendar,t.isTouchDevice()||this.sfCalendar.addClass("e-ntouch"),this._setRestrictDateState(this.model.showDisabledRange),this._createCalender(),this._setDisplayInline(this.model.displayInline),this._resizeCalender(),this._setRTL(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this._wireCalendarEvents()},_setModel:function(i){var s,a,o=!1,r=!1,n=!1;for(s in i)switch("showPopupButton"!=s&&"width"!=s&&"dateFormat"!=s&&"height"!=s&&"readOnly"!=s&&"allowEdit"!=s&&"enabled"!=s&&"watermarkText"!=s&&"htmlAttributes"!=s&&"validationMessages"!=s&&"validationRules"!=s&&t.isNullOrUndefined(this.sfCalendar)&&this._renderPopup(),s){case"dayHeaderFormat":this.model.dayHeaderFormat=i[s],o=r=!0;break;case"weekNumber":this.model.weekNumber=i[s],this._refreshDatepicker();break;case"showPopupButton":this._renderDateIcon(i[s],!0);break;case"displayInline":i[s]||this._bindDateButton(),this._setDisplayInline(i[s]),this.model.allowEdit||i[s]||!this._isInputBox||this.element.on("mousedown",e.proxy(this._showDatePopUp,this));break;case"value":t.isPlainObject(i[s])&&(i[s]=null),t.isNullOrUndefined(i.minDate)&&t.isNullOrUndefined(i.maxDate)?(this._setDateValue(i[s]),this._specificFormat()&&(this._stopRefresh=!0),i[s]=this.model.value):this._updateDateValue(i[s]),n=o=r=!0;break;case"specialDates":this.model.specialDates=i[s],this._createSpecialDateObject(),o=r=!0;break;case"fields":this.model.fields=i[s],this._mapField=this._getMapper(),o=r=!0;break;case"showTooltip":this.model.showTooltip=i[s],o=r=!0;break;case"highlightWeekend":this.model.highlightWeekend=i[s],o=r=!0;break;case"highlightSection":this.model.highlightSection=i[s],o=r=!0;break;case"dateFormat":this.model.dateFormat=i[s],this._ensureValue();break;case"minDate":this._setMinDate(i[s]),i[s]=this.model.minDate,this._ensureValue(),n=o=r=!0;break;case"maxDate":this._setMaxDate(i[s]),i[s]=this.model.maxDate,this._ensureValue(),n=o=r=!0;break;case"locale":this.model.locale=i[s],this.model.startDay=t.isNullOrUndefined(this._options.startDay)&&this.model.startDay===this.culture.calendar.firstDay||this._options.startDay===this.defaults.startDay?-1:this.model.startDay,this.model.dateFormat=t.isNullOrUndefined(this._options.dateFormat)&&this.model.dateFormat===this.culture.calendar.patterns.d?"":this.model.dateFormat,this._setCulture(i[s]),this.model.value&&this._setDateValue(this.model.value),i[s]=this.model.locale,o=r=!0;break;case"showOtherMonths":this.model.showOtherMonths=i[s],this._otherMonthsVisibility();break;case"enableStrictMode":this.model.enableStrictMode=i[s],n=o=r=!0;break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=i[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessages":case"validationMessage":this.model.validationMessages=i[s],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"readOnly":this.model.readOnly=i[s],this._disbleMaualInput();break;case"width":this._setWidth(i[s]);break;case"height":this._setHeight(i[s]);break;case"cssClass":this._setSkin(i[s]);break;case"enableRTL":this._setRTL(i[s]);break;case"showRoundedCorner":this._setRoundedCorner(i[s]);break;case"enabled":i[s]?this.enable():this.disable();break;case"buttonText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.buttonText=this.model.buttonText=i[s],this._localizedLabels.buttonText=this.model.buttonText,this._setFooterText(i[s]);break;case"showFooter":this._enableFooter(i[s]);break;case"watermarkText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.watermarkText=this.model.watermarkText=i[s],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"startDay":a=i[s],(parseInt(i[s])<0||parseInt(i[s])>6)&&(i[s]=this.culture.calendar.firstDay,a=-1),this.model.startDay=i[s],t.isNullOrUndefined(this._options)&&(this._options={}),this._options.startDay=a,o=r=!0;break;case"startLevel":this.model.startLevel=i[s],o=r=!0;break;case"headerFormat":this.model.headerFormat=i[s],o=r=!0;break;case"depthLevel":this.model.depthLevel=i[s],o=r=!0;break;case"htmlAttributes":this._addAttr(i[s]);break;case"allowEdit":this._changeEditable(i[s]);break;case"tooltipFormat":this.model.tooltipFormat=i[s],o=r=!0;break;case"allowDrillDown":this._allowQuickPick(i[s]),o=r=!0;break;case"showDisabledRange":this._setRestrictDateState(i[s]);break;case"blackoutDates":this.model.blackoutDates=i[s],this._initDisableObj(this.model.blackoutDates),o=r=!0}n&&(this._validateMinMaxDate(),i.value=this.model.value,i.maxDate=this.model.maxDate,i.minDate=this.model.minDate),this._setWaterMark(),o&&(this.isValidState||this.model.displayInline)&&this._refreshDatepicker(),r&&!this._startNavigate&&this._startLevel(this.model.startLevel),this._triggerChangeEvent(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.model.displayInline&&e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._isOpen&&this.hide(),this.sfCalendar&&this.sfCalendar.remove(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this.element.removeClass("e-datepicker e-input"),this.element.removeAttr("aria-atomic aria-live aria-activedescendant aria-expanded role placeholder tabindex"),this._cloneElement.hasAttribute("name")||this.element.removeAttr("name")},_init:function(e){this._options=e,this._cloneElement=this.element.clone(),this._dt_drilldown=!1,this._ISORegex(),this._initDisableObj(this.model.blackoutDates),this.animation={open:{duration:200},close:{duration:100}},this._animating=!1,this._isInputBox=this._isInputBox(),this._startNavigate=!1,this._keyboardInteraction=!1,this._isSupport=document.createElement("input").placeholder!=i,this._checkAttribute(),this._setValues(),this._createDatePicker(),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),e&&e.value!=i&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._isISODate=/[T]/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;for(a in this.element.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},setValue:function(e){"string"==typeof e&&(e=new Date(e));var t=this.model.value;this._setDateValue(e),this._checkErrorClass(),t!=this.model.value&&this._triggerChangeEvent()},_checkAttribute:function(){for(var e,i,s=["min","max","readonly","disabled"],a=["minDate","maxDate","readOnly","enabled"],o=0;o<s.length;o++)e=this.element.attr(s[o]),i=a[o],t.isNullOrUndefined(e)||(t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options[i]))&&(this.model[i]="enabled"!=i&&"readOnly"!=i?new Date(e):"readOnly"==i?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_updateDateValue:function(e){var t=this._checkDateObject(e);null!=t?(this.isValidState=!0,""==t?(this.element.val(""),this.model.value=null):(this.model.value=t,this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat)))):(this.element.val("string"==typeof t&&this.model.enableStrictMode?e:""),this.model.value=null,this.isValidState=""==this.element.val()),this._removeWatermark()},_ensureValue:function(){var e=this._parseDate(this.element.val(),this.model.dateFormat);this.model.value?this._setDateValue(this.model.value):e&&this._setDateValue(e)},_changeEditable:function(t){var i=t?"_on":"_off";this.element.is(":input")&&(t?(this.model.readOnly||this.element.attr("readonly",!1),this.element.off("mousedown",e.proxy(this._showDatePopUp,this))):(this.model.readOnly||this.element.attr("readonly","readonly"),this.model.displayInline||this.element.on("mousedown",e.proxy(this._showDatePopUp,this))),this[i](this.element,"blur",this._onFocusOut),this[i](this.element,"focus",this._onFocusIn),this[i](this.element,"keydown",this._onKeyDown))},_allowQuickPick:function(t){e(".e-datepicker-headertext",this.sfCalendar)[t?"on":"off"]("click",e.proxy(this._forwardNavHandler,this))},_setRestrictDateState:function(e){this.sfCalendar[e?"addClass":"removeClass"]("e-dp-restrict-show")},_setValues:function(){this.Date=new Date,this._id=this.element[0].id,this.isValidState=!0,this._setCulture(this.model.locale),this._setMinDate(this.model.minDate),this._setMaxDate(this.model.maxDate),this._calendarDate=this._zeroTime(new Date),(this.model.startDay<0||this.model.startDay>6)&&(this.model.startDay=0),this.Date.firstDayOfWeek=this.model.startDay,this.Date.fullYearStart="20",this._showHeader=!0,t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._validateMinMaxDate(),this._dateValue=new Date(this._calendarDate.toString()),this._isIE7=this._checkIE7(),this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this._isIE9="msie"==t.browserInfo().name&&"9.0"==t.browserInfo().version,this._getInternalEvents=!1,this._flag=!0,this._ejHLWeekEnd=!1,this._isOpen=!1,this._prevDate=null,this._preValue=null,this._isFocused=!1},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"disabled"==a?s.disable():"readOnly"==a?s.model.readOnly=!0:"style"==a?s.wrapper.attr(i,e):"id"==a?(s.wrapper.attr(i,e+"_wrapper"),s.element.attr(i,e)):t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_createDatePicker:function(){this._createWrapper(),this._wireEvents(),this.model.displayInline&&this.show(),this.model.enableRTL&&this._setRTL(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0)},_checkNameAttr:function(){!this.element.attr("name")&&this._isInputBox&&this.element.attr("name",this.element[0].id),this.model.displayInline&&!this._isInputBox&&this._hiddenInput.attr("name",this.element[0].id)},_createWrapper:function(){if(this._getMapper(),this.model.specialDates&&this._createSpecialDateObject(),this.element[0].hasAttribute("tabindex")||this.element.attr("tabindex","0"),this._isInputBox&&(this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive","aria-expanded":"false",role:"combobox"}),this.wrapper=t.buildTag("span.e-datewidget e-widget "+this.model.cssClass),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),t.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.innerWrapper=t.buildTag("span.e-in-wrap e-box e-padding"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this.dateIcon=t.buildTag("span.e-select#"+this._id+"-img","",{},this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-icon e-calendar","",{},{"aria-label":"Select"}).attr(this._isIE8?{unselectable:"on"}:{})).insertAfter(this.element)),!this._isSupport||this.model.displayInline&&!this._isInputBox){this._hiddenInput=t.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._isInputBox&&this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var i=this;e(this._hiddenInput).focus((function(){i.element.focus()}))}this._checkNameAttr(),this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this._setHeight(this.model.height),this._setWidth(this.model.width),this._id&&e("#e-"+this._id).remove(),this._setDateValue(this.model.value),this._preValue=this._parseDate(this.element.val(),this.model.dateFormat),this._setWaterMark(),this._dateValue=new Date(this._calendarDate.toString()),this.model.displayInline?this._renderPopup():this._isInputBox&&this._renderDateIcon(this.model.showPopupButton,!1),this.model.readOnly&&this._disbleMaualInput(),this.model.enabled?this.model.enabled&&e(this.element).hasClass("e-disable")&&this.enable():this.disable(),this._layoutChanged(),this._checkErrorClass(),this._addAttr(this.model.htmlAttributes)},_isInputBox:function(){return this.element.is("input[type=date]")&&this.element.attr("type","text"),this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))},_renderDateIcon:function(e,t){t&&this.model.showPopupButton==e||(!e&&this.dateIcon?(this._bindInputEvent(),this.dateIcon.css("display","none"),this.innerWrapper.removeClass("e-padding")):(this.innerWrapper&&(this.innerWrapper.addClass("e-padding"),this.dateIcon.css("display","block")),this.model.displayInline||this._bindDateButton()),this.model.showPopupButton=e)},_resizeCalender:function(){"short"==this.model.dayHeaderFormat||"min"==this.model.dayHeaderFormat||"none"==this.model.dayHeaderFormat?this.sfCalendar.removeClass("e-headerlong"):"long"==this.model.dayHeaderFormat&&this.sfCalendar.addClass("e-headerlong")},_setWidth:function(e){e?this.wrapper?this.wrapper.width(e):this.element.width(e):this.model.width=this.wrapper?this.wrapper.outerWidth():this.element.width()},_setHeight:function(e){e?this.wrapper?this.wrapper.height(e):this.element.height(e):this.model.height=this.wrapper?this.wrapper.outerHeight():this.element.height(),this._isIE7&&this.element.height(this.innerWrapper.height())},_setRTL:function(e){e?(this.wrapper&&this.wrapper.addClass("e-rtl"),this.sfCalendar&&this.sfCalendar.addClass("e-rtl")):(this.wrapper&&this.wrapper.removeClass("e-rtl"),this.sfCalendar&&this.sfCalendar.removeClass("e-rtl"))},_setRoundedCorner:function(e){e?(this.innerWrapper&&this.innerWrapper.addClass("e-corner"),this.sfCalendar&&this.sfCalendar.addClass("e-corner")):(this.innerWrapper&&this.innerWrapper.removeClass("e-corner"),this.sfCalendar&&this.sfCalendar.removeClass("e-corner"))},_refreshDatepicker:function(){var t,s,a,o;if(this._stopRefresh)this._stopRefresh=!1;else{if(t=this.element.val(),s=!1,null!==this.model.navigate&&this.sfCalendar.find("table")[0]!==i)if("e-dp-viewdays"===(a=this.sfCalendar.find("table")[0].className)&&+this._dateValue!=+this._calendarDate)this._calendarDate=this._dateValue,s=!0;else if("e-dp-viewdays"!==a)return void(("e-dp-viewmonths"===a||"e-dp-viewyears"===a||"e-dp-viewallyears"===a)&&(this._startNavigate=!0));o=this._specificFormat()&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=t?this._parseDate(t,!0):this._parseDate(t),o=this._validateYearValue(o),null!==this.model.navigate&&null!==o&&o!==this._calendarDate&&(o=this._calendarDate),this._setDateValue(o),this._specificFormat()&&this._compareDate(this.model.value,this._calendarDate)&&this.element.val(t),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._calendarDate,this.model.headerFormat)),this._resizeCalender(),this._dateValue=new Date(this._calendarDate.toString()),this._hoverDate=this._calendarDate.getDate()-1,this._renderCalendar(this,this._dateValue),s&&""===t&&this._addFocus("day",this._hoverDate),this._setFooterText(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter),this._layoutChanged()}},_removeCurrentMonthFromHideDate:function(){for(var t,i,s,a=this.sfCalendar.find("tbody.e-datepicker-days tr").length,o=0;o<a;o++)for(t=this.sfCalendar.find("tbody.e-datepicker-days tr")[o].cells.length,i=0;i<t;i++)(s=e(this.sfCalendar.find("tbody.e-datepicker-days tr")[o].cells[i])).hasClass("e-hidedate")&&s.hasClass("current-month")&&s.removeClass("current-month")},_validateYearValue:function(e){if(null!=e){var i=t.preferredCulture(this.model.locale).calendars.standard.twoDigitYearMax;i="string"==typeof i?(new Date).getFullYear()%100+parseInt(i,10):i,this._calendarDate.getFullYear()-e.getFullYear()==100&&this._calendarDate.getFullYear()>i&&e.setFullYear(this._calendarDate.getFullYear())}return e},_setFooterText:function(t){e(".e-footer-text",this.sfCalendar).html(t)},_setSkin:function(e){this.wrapper?(this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)):(this.element.removeClass(this.model.cssClass),this.element.addClass(e)),this.sfCalendar.removeClass(this.model.cssClass),this.sfCalendar.addClass(e)},_setDisplayInline:function(t){this.model.displayInline=t,t&&this._isInputBox?(this.sfCalendar.insertAfter(this.wrapper),this._setDatePickerPosition()):t?(this.element.append(this.sfCalendar),this._isSupport&&this._isInputBox||this._hiddenInput.css("display","none")):(this.sfCalendar.css("display","none"),e("body").append(this.sfCalendar),this._isOpen=!1),t&&(this.show(),this._off(this.dateIcon,"mousedown",this._showDatePopUp),this.element.off("mousedown",e.proxy(this._showDatePopUp,this)))},_disbleMaualInput:function(){this.model.readOnly?(e(this.element).attr("readonly","readonly"),this.model.displayInline||this.hide()):this.model.allowEdit&&e(this.element).prop("readonly",!1)},_checkDateObject:function(e,t){return!e||"object"==typeof JSON&&"{}"===JSON.stringify(e)?null:(e instanceof Date||(e=(t=this._specificFormat()?this._parseDate(e,!0):this._parseDate(e,t))||((t=this._checkJSONString(e))?t:null)),!isNaN(Date.parse(e))&&(this._dateValue=this._calendarDate=this._zeroTime(e),this._validateDate(e))?this._dateValue:null)},_checkJSONString:function(e){if(isNaN(Date.parse(e))){if(this.model.enableStrictMode&&null==t.parseDate(e,this.model.value,this.model.locale))return null;if(this._extISORegex.exec(e)||this._basicISORegex.exec(e))return this._dateFromISO(e)}else if(new Date(e).toJSON()===e||new Date(e).toDateString()===e||new Date(e).toGMTString()===e||new Date(e).toISOString()===e||new Date(e).toLocaleString()===e||new Date(e).toString()===e||new Date(e).toUTCString()===e){if(this.model.timeZone)return new Date(new Date(e).getTime()+36e5*t.serverTimezoneOffset);if(e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i)&&e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i).length>0)return e=e.split("T"),t.parseDate(e=e[0],"yyyy-MM-dd",this.model.locale)}else if("string"==typeof e)return this._dateFromISO(e)},_dateFromISO:function(e){var t,i,s,a,o,r,n,l,d,h=this._isISODate.test(e)&&(this._extISORegex.exec(e)||this._basicISORegex.exec(e)),c="",u="",p="";if(h){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(h[1])){c=this._dates[t][0];break}if(h[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(h[3])){u=(h[2]||" ")+this._times[i][0];break}for(h[4]&&this._zeroRegex.exec(h[4])&&(p="Z"),s=(c+u+p).match(this._tokens),o=[],n=0;n<s.length;n++)l=s[n],r=this._checkLiteral(s[n]),d=this._numberRegex[r?s[n].toLowerCase():l.length]||new RegExp("^\\d{1,"+l.length+"}"),(a=e.match(d))&&(e.substr(0,e.indexOf(a))>=0&&!r&&(s[n].indexOf("M")>=0?o.push(parseInt(a[0])-1):o.push(parseInt(a[0]))),e=e.slice(e.indexOf(a[0])+a[0].length));return"Z"==h[4]?new Date(Date.UTC.apply(null,o)):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}return new Date(e+"")},_checkLiteral:function(e){var t=e.toLowerCase();return"t"==t||"z"==t||":"==t||"-"==t},_checkInstanceType:function(e){return(e=this._stringToObject(e))?(e instanceof Date||(e=this._parseDate(e)),isNaN(Date.parse(e))?null:this._zeroTime(e)):null},_stringToObject:function(e){if("string"==typeof e){var i=t.parseDate(e,this.model.dateFormat,this.model.locale);e=null!=i?i:new Date(e)}return e},_validateMinMaxDate:function(){var e=!1,t=!1;this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode?this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.minDate,this.isValidState=!1,t=!0):this.model.value>this.model.maxDate?(this._calendarDate=this.model.maxDate,this.isValidState=!1,t=!0):this.isValidState=!0:this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate):(this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.value=this.model.minDate,e=!0):this.model.value>this.model.maxDate&&(this._calendarDate=this.model.value=this.model.maxDate,e=!0):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),e&&this.element.val(this._formatter(this.model.value,this.model.dateFormat)),t&&this._getInternalEvents&&this._trigger("outOfRange")},_setCulture:function(e){this.culture=t.preferredCulture(e),this.culture&&(this.model.locale="en"==this.culture.name?"en-US":this.culture.name,this.Date.dayNames=this.culture.calendar.days.names,this.Date.dayNamesMin=this.culture.calendar.days.namesShort,this.Date.abbrDayNames=this.culture.calendar.days.namesAbbr,this.Date.monthNames=this.culture.calendar.months.names,this.Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,this.Date.format=this.culture.calendar.patterns.d,""==this.model.dateFormat&&(this.model.dateFormat=this.culture.calendar.patterns.d),-1==this.model.startDay&&(this.model.startDay=this.culture.calendar.firstDay)),this._separator=this._getSeparator(),this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),t.isNullOrUndefined(this._options.buttonText)||(this._localizedLabels.buttonText=this._options.buttonText)),this._localizedLabelToModel()},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?e(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_setDatePickerPosition:function(){if(!this.model.displayInline||this._isInputBox){var i,s,a=this.element.is("input")?this.wrapper:this.element,o=this._getOffset(a),r=e(document).scrollTop()+e(window).height()-(o.top+e(a).outerHeight()),n=o.top-e(document).scrollTop(),l=this.sfCalendar.outerHeight(),d=this.sfCalendar.outerWidth(),h=o.left,c=a.outerHeight(),u=(a.height(),this._getZindexPartial()),p=l<r||l>n?o.top+c+3:o.top-l-3;i=e(document).scrollLeft()+e(window).width()-h,s=e(document).scrollLeft()+h+a.width(),(this.model.enableRTL||d>i&&d<h+a.outerWidth()&&!t.isNullOrUndefined(this.wrapper))&&(h+=this.wrapper.width()-this.sfCalendar.width()),d>s&&(h=o.left),this.sfCalendar.css({left:h+"px",top:p+"px","z-index":u})}},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.sfCalendar)},_setMinDate:function(e){this.model.minDate=this._checkInstanceType(e),this.model.minDate||(this.model.minDate=new Date("11/31/1899"))},_setMaxDate:function(e){this.model.maxDate=this._checkInstanceType(e),this.model.maxDate||(this.model.maxDate=new Date("12/31/2099"))},_setDateValue:function(e,i){var s=this._checkDateObject(e,i);null!=s?(this.isValidState=!0,this.model.value=new Date(s),this.model.displayInline||this.wrapper.addClass("e-valid"),this._validateMinMaxDate(),this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat))):(e instanceof Date&&(this._validateMinMaxDate(),e=this._formatter(e,this.model.dateFormat)),this.element.val(this.model.enableStrictMode?e:null),this.model.value=null,this.model.displayInline||this.wrapper.removeClass("e-valid"),this._triggerChangeEvent(),this.isValidState=!(""!=this.element.val()&&!t.isNullOrUndefined(this.element.val()))),this._removeWatermark()},_updateInputVal:function(){(null!=this._validateValue()||!this.model.enableStrictMode)&&this.sfCalendar&&this.sfCalendar.find(".e-datepicker-days").is(":visible")&&this._refreshDatepicker()},_validateInputVal:function(){var e=this._validateValue();null!=e&&(this.model.enableStrictMode||(e<=this.model.maxDate&&e>=this.model.minDate||(this.model.value=null),this.isValidState=!0))},_validateValue:function(){var e;return e=this._specificFormat()&&this.element.val()!=this._formatter(this._preValue,this.model.dateFormat,this.model.locale)?this._parseDate(this.element.val(),!0):this._parseDate(this.element.val()),this._validateYearValue(e)},_getSeparator:function(){var e,t,i;for(e=this.culture?this.culture.calendar.patterns.d:this.model.dateFormat,t=new RegExp("^[a-zA-Z0-9]+$"),i=0;i<e.length;i++)if(!t.test(e[i]))return e[i]},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=-1;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),e>=7&&e<8)return!0}return!1},_isValidDate:function(e){return e&&"function"==typeof e.getTime&&isFinite(e.getTime())},_formatter:function(e,i){var s=this._checkFormat(i);return t.format(e,s,this.model.locale)},_parseDate:function(e,s){var a=this._checkFormat(this.model.dateFormat),o=e;return this._specificFormat()&&o!=i&&""!=e&&1!=s&&t.format(t.parseDate(o,a,this.model.locale),this.model.dateFormat,this.model.locale)!=o?this._dateValue:t.parseDate(e,a,this.model.locale)},_checkFormat:function(e){var i=this,s=this._regExp();return e.replace(s,(function(e){return"/"===e&&"/"!==t.preferredCulture(i.model.locale).calendars.standard["/"]?"'/'":e}))},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},_zeroTime:function(e){var t="string"==typeof e?this._parseDate(e):new Date(e);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},_getDaysInMonth:function(e){return[31,this.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][e.getMonth()]},_addDays:function(e,t){return e.setDate(e.getDate()+t),e},_addYears:function(e,t){return e.setFullYear(e.getFullYear()+t),e},_addMonths:function(e,t){var i=e.getDate();return e.setMonth(e.getMonth()+t),i>e.getDate()&&this._addDays(e,-e.getDate()),e},_isWeekend:function(e){return 0==e.getDay()||6==e.getDay()},_isSpecialDates:function(e){if(this.model.specialDates)for(var t=0;t<this.model.specialDates.length;t++)if(this.model.specialDates[t]&&this.model.specialDates[t][this._mapField._date]&&e.getDate()==this.model.specialDates[t][this._mapField._date].getDate()&&e.getMonth()==this.model.specialDates[t][this._mapField._date].getMonth()&&e.getFullYear()==this.model.specialDates[t][this._mapField._date].getFullYear())return this._getIndex=t,!0;return!1},_getMapper:function(){var e=this.model.fields;this._mapField={},this._mapField._date=e&&e.date?e.date:"date",this._mapField._tooltip=e&&e.tooltip?e.tooltip:"tooltip",this._mapField._icon=e&&e.iconClass?e.iconClass:"iconClass",this._mapField._custom=e&&e.cssClass?e.cssClass:"cssClass"},_createSpecialDateObject:function(){for(var e=0;e<this.model.specialDates.length;e++)this.model.specialDates[e][this._mapField._date]=this._checkInstanceType(this.model.specialDates[e][this._mapField._date])},_getMonthName:function(e,t){return e?this.Date.abbrMonthNames[t.getMonth()]:this.Date.monthNames[t.getMonth()]},_displayNewMonth:function(e,t){return this._setDisplayedMonth(this.displayedMonth+e,this.displayedYear+t,!0),!1},_setDisplayedMonth:function(e,t,s){var a,o,r,n,l,d;this.model.minDate!=i&&this.model.maxDate!=i&&((a=new Date(this.model.minDate.getTime())).setDate(1),(o=new Date(this.model.maxDate.getTime())).setDate(1),!e&&!t||isNaN(e)&&isNaN(t)?(r=this._zeroTime(new Date)).setDate(1):r=isNaN(e)?new Date(t,this.displayedMonth,1):isNaN(t)?new Date(this.displayedYear,e,1):new Date(t,e,1),r.getTime()<a.getTime()?r=a:r.getTime()>o.getTime()&&(r=o),n=this.displayedMonth,l=this.displayedYear,this.displayedMonth=r.getMonth(),this.displayedYear=r.getFullYear(),d=r,s&&(this.displayedMonth!=n||this.displayedYear!=l)&&(this._renderCalendar(this,d),this._dateValue=d,this._trigger("monthChanged",[this.displayedMonth,this.displayedYear])))},_clearSelected:function(){this.numSelected=0,t.isNullOrUndefined(this.sfCalendar)||("week"==this.model.highlightSection?e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-selected-week"):"month"==this.model.highlightSection?e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().parent().removeClass("e-selected-month"):"workdays"==this.model.highlightSection?e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-work-week"):e("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1))},_addSelected:function(){"week"==this.model.highlightSection?e("td.e-active",this.sfCalendar).parent().addClass("e-selected-week"):"month"==this.model.highlightSection?e("td.e-active, this.sfCalendar").parent().parent().addClass("e-selected-month"):"workdays"==this.model.highlightSection&&e("td.e-active",this.sfCalendar).parent().addClass("e-work-week")},_hideOtherMonths:function(t){e("td.other-month",t).css("visibility","hidden")},_showOtherMonths:function(t){e("td.other-month",t).css({visibility:"visible"})},_otherMonthsVisibility:function(){this.model.showOtherMonths?this._showOtherMonths(this.sfCalendar):this._hideOtherMonths(this.sfCalendar)},_createCalender:function(){t.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-prev").append(t.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-text").append(t.buildTag("span.e-datepicker-headertext").text(this._formatter(this._calendarDate,this.model.headerFormat)).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-next").append(t.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this.sfCalendar),this._enableHeader(this._showHeader);var i=t.buildTag("table.e-dp-viewdays","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{});this.sfCalendar.append(i),this._renderCalendar(this),this._startLevel(this.model.startLevel),t.buildTag("div.e-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this.sfCalendar),e(".e-footer-text",this.sfCalendar).html(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter)},_enableHeader:function(t){t?e(".e-header",this.sfCalendar).show():e(".e-header",this.sfCalendar).hide()},_enableFooter:function(t){t?e(".e-footer",this.sfCalendar).show():e(".e-footer",this.sfCalendar).hide(),this._todayBtnDisable()},_todayBtnDisable:function(){var t=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0);+this.model.minDate<=+t&&+this.model.maxDate>=+t?e(".e-footer",this.sfCalendar).removeClass("e-footer-disable"):e(".e-footer",this.sfCalendar).addClass("e-footer-disable")},_checkArrows:function(e,t){this._preArrowCondition(e,this.model.minDate.getFullYear()),this._nextArrowCondition(t,this.model.maxDate.getFullYear())},_checkDateArrows:function(){this._preArrowCondition(this._tempMinDate,this.model.minDate),this._nextArrowCondition(this._tempMaxDate,this.model.maxDate)},_preArrowCondition:function(e,t){e<=t?this.sfCalendar.find(".e-prev").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-prev").removeClass("e-disable").attr({"aria-disabled":!1})},_nextArrowCondition:function(e,t){e>=t?this.sfCalendar.find(".e-next").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-next").removeClass("e-disable").attr({"aria-disabled":!1})},_previousNextHandler:function(t){var i,s,a,o;if(this.model.readOnly||!this.model.enabled||e(t.target).hasClass("e-disable")||e(t.currentTarget).hasClass("e-disable"))return!1;switch(t.preventDefault(),this._keyboardInteraction=!1,i=e("table",this.sfCalendar),s=this._navigateFrom(i),a=!!(e(t.target).is("a")?e(t.target.parentNode):e(t.target)).hasClass("e-prev"),this._processNextPrevDate(a),e("table",this.sfCalendar).get(0).className){case"e-dp-viewdays":o="month";break;case"e-dp-viewmonths":o="year";break;case"e-dp-viewyears":o="decade";break;case"e-dp-viewallyears":o="century"}this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:o,navigateFrom:s})},_processNextPrevDate:function(t){var i,s,a,o,r,n,l,d;if(this._DRPdisableFade&&(i=new Date(this.sfCalendar.find("td.current-month").attr("data-date")),this._dateValue=i),t&&this.sfCalendar.find(".e-arrow-sans-left").hasClass("e-disable")||!t&&this.sfCalendar.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch((s=e("table",this.sfCalendar)).get(0).className){case"e-dp-viewdays":if(o=this.model.stepMonths,t){if(this._dateValue<=this.model.minDate)return this._flag=!1,!1}else if(this._dateValue>=this.model.maxDate)return this._flag=!1,!1;this._flag=!0,this._addMonths(this._dateValue,t?-o:o),this._clickedDate&&(this._calendarDate=this._clickedDate),this._dateValue=this._dateValue<this.model.minDate?new Date(this.model.minDate.toString()):this._dateValue,this._dateValue=this._dateValue>this.model.maxDate?new Date(this.model.maxDate.toString()):this._dateValue,this._renderCalendar(this,this._dateValue),this._keyboardInteraction&&(this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat)}),this._removeCurrentMonthFromHideDate(),this._keyboardInteraction=!1),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),this._addFocus("day",this._hoverDate),r=this._findFirstLastDay(new Date(this._dateValue.toString())),this._preArrowCondition(r.firstDay,this.model.minDate),this._nextArrowCondition(r.lastDay,this.model.maxDate);break;case"e-dp-viewmonths":if((n=this._dateValue).setFullYear(e(".e-datepicker-headertext",this.sfCalendar).text()),t){if(n.getFullYear()<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(n.getFullYear()>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._addYears(n,t?-1:1),this._renderCalendar(this,n),a=n.getFullYear(),e(".e-datepicker-headertext",this.sfCalendar).text(a),e("tbody,tr.e-week-header",s).not(".e-datepicker-months").hide(),e(e(s).find(".e-datepicker-months")).show(),this._addFocus("month",this._hoverMonth),this._checkArrows(a,a);break;case"e-dp-viewyears":if((l=this._dateValue).setFullYear(e(s).find(".e-state-hover").text()),t){if(parseInt(this.popup.find("td.e-year-first:first").text())<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(parseInt(e("td.e-year-last:first").prev().text())>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,e(s).find(".e-state-hover").hasClass("e-year-first")&&t||e(s).find(".e-state-hover").hasClass("e-year-last")&&!t?this._dateValue.setFullYear(l.getFullYear()):e(s).find(".e-state-hover").hasClass("e-year-first")&&!t?this._dateValue.setFullYear(l.getFullYear()+11):e(s).find(".e-state-hover").hasClass("e-year-last")&&t?this._dateValue.setFullYear(l.getFullYear()-11):this._dateValue.setFullYear(l.getFullYear()+(t?-10:10)),this._renderCalendar(this,this._dateValue),d=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),e(".e-datepicker-headertext",this.sfCalendar).text(d+1+" - "+(d+10)),e("tbody,tr.e-week-header",s).not(".e-datepicker-years").hide(),e(e(s).find(".e-datepicker-years")).show(),this._addFocus("year",this._hoverYear+(e(".e-year-first.e-hidedate").length?-1:0)),this._checkArrows(d+1,d+10);break;case"e-dp-viewallyears":if(t){if(parseFloat(e("td.e-allyear-first",s.get(0)).text().split("-")[1])<=this.model.minDate.getFullYear())return this._flag=!1,!1;this._flag=!0}else{if(parseFloat(e("td.e-allyear-last",s.get(0)).prev().text().split("-")[1])>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0}this._dateValue.setFullYear((this._lastHoveredYear?this._lastHoveredYear:this._dateValue.getFullYear())+(t?-100:100)),this._lastHoveredYear=this._dateValue.getFullYear(),this._renderCalendar(this,this._dateValue),d=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%100+1),a=parseFloat(e("td.e-allyear-last",s.get(0)).prev().text().split("-")[1]),e(".e-datepicker-headertext",this.sfCalendar).text(d+1+" - "+a),e("tbody,tr.e-week-header",s).not(".e-datepicker-allyears").hide(),e(e(s).find(".e-datepicker-allyears")).show(),this._addFocus("allyear",this._hoverAllYear+(e(".e-allyear-first.e-hidedate").length?-1:0)),this._checkArrows(d+1,a)}this._layoutChanged()},_addFocus:function(t,i){var s,a,o="e-current-"+t;return"day"==t&&(o="current-month"),s=this.sfCalendar.find("tbody tr td."+o),"month"==t&&e(s).each((function(t,s){parseInt(e(s).attr("data-index"))!=parseInt(i)||(i=t)})),(a=s[i])||(a=s.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),e(a).hasClass("e-hidedate")||e(a).addClass("e-state-hover"),this._setActiveState(t),i},_setActiveState:function(t){var i,s,a;if(this.model.value instanceof Date){var o,r=this.sfCalendar.find("tbody tr td.e-current-"+t),n=this,l=-1;switch(t){case"month":this.model.value.getFullYear()===parseInt(e(".e-text",this.sfCalendar).text())&&e(r).each((function(t,i){parseInt(e(i).attr("data-index"))!=parseInt(n.model.value.getMonth())||(l=t)}));break;case"year":i=this.model.value.getFullYear(),e(r).each((function(e,t){parseInt(t.innerHTML)!=parseInt(i)||(l=e)}));break;case"allyear":s=parseInt(this.model.value.getFullYear())-(parseInt(this.model.value.getFullYear())%10+1),a=s+1+" - "+(s+10),e(r).each((function(e,t){parseInt(t.innerHTML)!=parseInt(a)||(l=e)}))}(o=r[l])&&(this.sfCalendar.find("table td").removeClass("e-active"),e(o).hasClass("e-hidedate")||e(o).addClass("e-active"))}},_setFocusByName:function(t,i){var s,a,o=this.sfCalendar.find("tbody tr td.e-current-"+t);return e(o).each((function(e,t){parseInt(t.innerHTML)!=parseInt(i)||(s=e)})),(a=o[s])||(a=o.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),e(a).addClass("e-state-hover"),this._setActiveState(t),s},_getHeaderTxt:function(){return this.sfCalendar.find(".e-datepicker-headertext").text()},_findFirstLastDay:function(e){var t=e.getFullYear(),i=e.getMonth();return{firstDay:new Date(t,i,1),lastDay:new Date(t,i+1,0)}},_forwardNavHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t&&t.preventDefault();var i,s,a=e("table",this.sfCalendar),o=e("table",this.sfCalendar).get(0).className,r=this._navigateFrom(a);switch(o){case"e-dp-viewdays":this._hoverMonth=this._getDateObj(a.find(".e-state-hover")).getMonth()||this._getDateObj(a.find(".e-active")).getMonth()||0,this._DRPdisableFade&&(this._renderCalendar(this,this._calendarDate),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat))),this._startLevel("year"),s="year",this._addFocus("month",this._hoverMonth);break;case"e-dp-viewmonths":i=this._getHeaderTxt(),this._startLevel("decade"),s="decade",this._hoverYear=this._setFocusByName("year",i);break;case"e-dp-viewyears":i=this._getHeaderTxt(),this._startLevel("century"),s="century",this._hoverAllYear=this._setFocusByName("allyear",i)}"century"!=r&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:s,navigateFrom:r}),this._layoutChanged()},_cellSelection:function(){var t,i;switch(e("table",this.sfCalendar),e("table",this.sfCalendar).get(0).className){case"e-dp-viewmonths":this._hoverMonth=this._addFocus("month",this._dateValue.getMonth());break;case"e-dp-viewyears":t=new Date(this._dateValue.toString()),this._navigationToPrevNext("year"),this._dateValue=t,this._hoverYear=this._setFocusByName("year",this._dateValue.getFullYear());break;case"e-dp-viewallyears":t=new Date(this._dateValue.toString()),this._navigationToPrevNext("allyear"),this._dateValue=t,i=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",i+1+" - "+i+10)}this._layoutChanged()},_navigationToPrevNext:function(t){var i,s,a=this.sfCalendar.find("tbody tr td.e-current-"+t),o=this._dateValue.getFullYear();e(a).each((function(e,t){parseInt(t.innerHTML)!=parseInt(o)||(i=e)})),(s=a[i])&&(e(s).hasClass("e-"+t+"-last")?this._processNextPrevDate(!1):e(s).hasClass("e-"+t+"-first")&&this._processNextPrevDate(!0))},_navigateFrom:function(e){var t;switch(e.get(0).className){case"e-dp-viewdays":t="month";break;case"e-dp-viewmonths":t="year";break;case"e-dp-viewyears":t="decade";break;case"e-dp-viewallyears":t="century"}return t},_backwardNavHandler:function(i){var s,a;if(this._animating=!0,this.model.readOnly||!this.model.enabled)return!1;i.type?(i.preventDefault(),s=e(i.currentTarget)):s=i;var o,r,n=e("table",this.sfCalendar),l=e("table",this.sfCalendar).get(0).className,d=this,h=this._navigateFrom(n);switch(l){case"e-dp-viewmonths":n.removeClass("e-dp-viewmonths").addClass("e-dp-viewdays"),this._lastHoveredMonth=parseInt(e(s).attr("data-index")),this._dateValue=new Date(this._dateValue.getFullYear(),this._lastHoveredMonth,1),this._DRPdisableFade&&this._trigger("_month_Loaded",{currentTarget:i.currentTarget}),this._renderCalendar(this,this._dateValue),e("tbody",n).not(".e-datepicker-days,.e-week-header").hide(),e(e(n).find(".e-datepicker-days,.e-week-header")).fadeIn("fast",(function(){d._addFocus("day",d._hoverDate||0),d._animating=!1})),e(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),r="month";break;case"e-dp-viewyears":n.removeClass("e-dp-viewyears").addClass("e-dp-viewmonths"),this._lastHoveredYear=parseInt(s.text()),this._dateValue.setFullYear(this._lastHoveredYear),this._renderCalendar(this,this._dateValue),e("tbody,tr.e-week-header",n).not(".e-datepicker-months").hide(),t.isNullOrUndefined(this._hoverMonth)&&!t.isNullOrUndefined(this._dateValue)&&(this._hoverMonth=this._dateValue.getMonth()),e(e(n).find(".e-datepicker-months")).fadeIn("fast",(function(){d._addFocus("month",d._hoverMonth||0),d._animating=!1})),o=s.text(),e(".e-datepicker-headertext",this.sfCalendar).text(o),this._checkArrows(o,o),r="year";break;case"e-dp-viewallyears":a=s.text().split("-"),n.removeClass("e-dp-viewallyears").addClass("e-dp-viewyears"),a[0]<this.model.minDate.getFullYear()?a[0]=this.model.minDate.getFullYear().toString():a[0]>this.model.maxDate.getFullYear()&&(a[0]=this.model.maxDate.getFullYear().toString()),this._renderCalendar(this,new Date(a[0],0,1)),e("tbody,tr.e-week-header",n).not(".e-datepicker-years").hide(),e(e(n).find(".e-datepicker-years")).fadeIn("fast",(function(){d._addFocus("year",d._hoverYear||0),d._animating=!1})),e(".e-datepicker-headertext",this.sfCalendar).text(a[0]+" - "+a[1]),this._checkArrows(a[0],a[1]),r="decade",this._dateValue=new Date(this._dateValue.setFullYear(parseInt(e.trim(a[0]))+(this._lastHoveredYear?this._lastHoveredYear%10:this._dateValue.getFullYear()%10)));break;default:this._clearSelected(),this.sfCalendar.find("table td").removeClass("e-state-hover"),s.not("td.e-hidedate").addClass("e-active").attr("aria-selected",!0),this._addSelected(),this._hoverDate=this._getDateObj(s).getDate()-1,this._dateValue=new Date(s.attr("data-date")),this._clickedDate=new Date(s.attr("data-date")),this._animating=!1}"month"!=h&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:r,navigateFrom:h}),this._layoutChanged()},_startLevel:function(t){var i,s,a,o=e("table",this.sfCalendar),r=e(".e-datepicker-headertext",this.sfCalendar),n=this._dateValue;switch(t){case"decade":o.removeClass("e-dp-viewallyears e-dp-viewmonths e-dp-viewdays").addClass("e-dp-viewyears"),e("tbody,tr.e-week-header",o).not(".e-datepicker-years").hide(),e(e(o).find(".e-datepicker-years")).show(),n=this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate:n,a=parseInt(n.getFullYear())-(parseInt(n.getFullYear())%10+1),r.text((i=a+1)+" - "+(s=a+10)),this._checkArrows(i,s),this._hoverYear=this._setFocusByName("year",n.getFullYear());break;case"century":this._calendarDate<this._dateValue||this._renderCalendar(this,n),o.removeClass("e-dp-viewyears e-dp-viewdays e-dp-viewmonths").addClass("e-dp-viewallyears"),e("tbody,tr.e-week-header",o).not(".e-datepicker-allyears").hide(),e(e(o).find(".e-datepicker-allyears")).show(),i=parseFloat(e("td.e-allyear-first",o.get(0)).text().split("-")[1])+1,s=parseFloat(e("td.e-allyear-last",o.get(0)).prev().text().split("-")[1]),r.text(i+" - "+s),this._checkArrows(i,s),a=parseInt(n.getFullYear())-(parseInt(n.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",a+1+" - "+(a+10));break;case"year":o.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewdays").addClass("e-dp-viewmonths"),e("tbody,tr.e-week-header",o).hide(),e(e(o).find(".e-datepicker-months")).show(),i=this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate.getFullYear():n.getFullYear(),r.text(i),this._checkArrows(i,i),this._hoverMonth=n.getMonth(),this._addFocus("month",this._hoverMonth);break;case"month":o.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewmonths").addClass("e-dp-viewdays ")}},_depthLevel:function(t){var i=this.sfCalendar;switch(t){case"year":e(i.find(".e-current-year,.e-current-allyear")).on("click",e.proxy(this._backwardNavHandler,this)),this._on(e(".e-current-month",this.sfCalendar),"click",e.proxy(this._onDepthSelectHandler,this));break;case"decade":e(i.find(".e-current-allyear")).on("click",e.proxy(this._backwardNavHandler,this)),e(".e-current-year",this.sfCalendar).on("click",e.proxy(this._onDepthSelectHandler,this));break;case"century":e(i.find(".e-current-allyear")).on("click",e.proxy(this._onDepthSelectHandler,this));break;case"month":this._on(i.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",e.proxy(this._backwardNavHandler,this)),this._on(i.find(".current-month , .other-month"),"click",e.proxy(this._onSetCancelDateHandler,this))}},_onDepthSelectHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;e(t.target).hasClass("e-current-month")?this._dateValue=new Date(this._dateValue.setMonth(parseInt(t.target.attributes["data-index"].value))):(e(t.target).hasClass("e-current-year")||e(t.target).hasClass("e-current-allyear"))&&(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(t.target.innerHTML)))),this._onSetCancelDateHandler(t)},_datepickerMonths:function(t,i,s){for(var a,o,r,n,l=function(e){return document.createElement(e)},d=0,h=0;h<3;h++){for(a=e(l("tr")),o=0;o<4;o++)r=e(l("td")).addClass("e-current-month e-state-default").attr({"data-index":d}).attr(this._isIE8?{unselectable:"on"}:{}).html(this.Date.abbrMonthNames[d++]),(s.getFullYear()<this.model.minDate.getFullYear()||s.getFullYear()>this.model.maxDate.getFullYear()||s.getFullYear()<=this.model.minDate.getFullYear()&&d<this.model.minDate.getMonth()+1||s.getFullYear()>=this.model.maxDate.getFullYear()&&d>this.model.maxDate.getMonth()+1)&&(r.addClass("e-hidedate"),r.removeClass("e-current-month")),a.append(r);t.append(a)}i.append(t),n=s.getFullYear(),this._checkArrows(n,n)},_datepickerYears:function(t,i,s){for(var a,o,r,n,l=function(e){return document.createElement(e)},d=parseInt(s)-(parseInt(s)%10+1),h=[],c=0;c<12;c++)h.push(d+c);for(a=0,o=0;o<3;o++){for(r=e(l("tr")),c=0;c<4;c++)(n=e(l("td"))).attr(this._isIE8?{unselectable:"on"}:{}),n.addClass(0==a?"e-year-first e-current-year ":11==a?"e-year-last e-current-year ":"e-current-year e-state-default"),(h[a]<this.model.minDate.getFullYear()||h[a]>this.model.maxDate.getFullYear())&&(n.addClass("e-hidedate"),n.removeClass("e-current-year")),n.html(h[a++]),r.append(n);t.append(r)}i.append(t),this._checkArrows(h[0],h[h.length])},_datepickerAllYears:function(t,i,s){for(var a,o,r,n,l=parseInt(s)-(parseInt(s)%100+10),d=[],h=this._isIE8||this._isIE9?"":"\n",c=0;c<12;c++)d.push(parseInt(l)+" -"+h+parseInt(l+9)),l+=10;for(a=0,o=0;o<3;o++){for(r=e(document.createElement("tr")),c=0;c<4;c++)(n=e(document.createElement("td"))).attr(this._isIE8?{unselectable:"on"}:{}),n.addClass(0==a?"e-allyear-first e-current-allyear ":11==a?"e-allyear-last e-current-allyear ":"e-current-allyear e-state-default"),(parseInt(d[a].split("-\n")[1])<this.model.minDate.getFullYear()||parseInt(d[a].split("-\n")[0])>this.model.maxDate.getFullYear())&&(n.addClass("e-hidedate"),n.removeClass("e-current-allyear")),n.html(d[a++]),r.append(n);t.append(r)}i.append(t)},_renderHeader:function(i){var s,a,o,r,n,l,d,h,c=e(document.createElement("thead")),u=t.preferredCulture(this.model.locale).calendars.standard.days;if("none"!=i.model.dayHeaderFormat)for(s=t.buildTag("tr.e-week-header").attr({role:"row"}).attr(this._isIE8?{unselectable:"on"}:{}),1==this.model.weekNumber&&(l=(a=t.preferredCulture(this.model.locale).calendars.standard.week).name,d="short"==i.model.dayHeaderFormat?a.nameAbbr:"long"==i.model.dayHeaderFormat?week:a.nameShort,o=t.buildTag("th","",{},{scope:"col",abbr:l,"data-date":l,title:this._formatter(l,"dddd")}).attr(this._isIE8?{unselectable:"on"}:{}).html(d),s.append(o)),r=this.Date.firstDayOfWeek;r<this.Date.firstDayOfWeek+7;r++)l=u.names[n=r%7],d="short"==i.model.dayHeaderFormat?u.namesAbbr[n]:"long"==i.model.dayHeaderFormat?l:u.namesShort[n],h=t.buildTag("th","",{},{scope:"col",abbr:l,"data-date":l,title:this._formatter(l,"dddd"),class:0==n||6==n?"e-week-end":"e-week-day"}).attr(this._isIE8?{unselectable:"on"}:{}).html(d),s.append(h);return c.append(s)},_renderCalendar:function(s,a){var o,r,n,l,d,h,c,u,p,m;s=e.extend({},t.DatePicker.prototype.defaults,s),this.Date.firstDayOfWeek=this.model.startDay,o=a||(this._calendarDate?this._calendarDate:this._zeroTime(new Date)),(r=e("table",this.sfCalendar)).empty(),r.append(this._renderHeader(s)),n=t.buildTag("tbody.e-datepicker-allyears","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerAllYears(n,r,o.getFullYear()),n=t.buildTag("tbody.e-datepicker-years","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerYears(n,r,o.getFullYear());var g=s.model.month==i?o.getMonth():s.model.month,_=s.model.year||o.getFullYear(),f=new Date(_,g,1,0,0,0),b=this.Date.firstDayOfWeek-f.getDay()+1;b>1&&(b-=7),l=Math.ceil((-1*b+1+this._getDaysInMonth(f))/7),this._addDays(f,b-1),d=this._zeroTime(new Date),h=this._calendarDate,n=t.buildTag("tbody.e-datepicker-months","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerMonths(n,r,o),n=t.buildTag("tbody.e-datepicker-days","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{});for(var v=0,x=!0,y=!0;v++<l;){for(c=jQuery(document.createElement("tr")).attr({role:"row"}),1==this.model.weekNumber&&(u=this._weekDate(f),u=e(document.createElement("td")).attr({}).addClass("e-weeknumber").html(u),c.append(u)),p=0;p<7;p++){var w=f.getMonth()==g,S=this._isSpecialDates(f),C=this._checkDisableRange(f),T=this._getIndex,L=e(document.createElement("td")).html(S?"<span></span>"+f.getDate():f.getDate()+"").attr({"data-date":f.toDateString(),title:this.model.showTooltip?S&&this.model.specialDates[T][this._mapField._tooltip]?this.model.specialDates[T][this._mapField._tooltip]:this._formatter(f,this.model.tooltipFormat):"","aria-selected":!1,role:"gridcell",id:this._formatter(f,"yyyyddMM")}).attr(this._isIE8?{unselectable:"on"}:{}).addClass((w?"current-month e-state-default ":"other-month e-state-default ")+(this._isWeekend(f)?this._ejHLWeekEnd?"e-dp-weekend e-week-end ":this.model.highlightWeekend?"e-week-end ":"":"e-week-day ")+(w&&f.getTime()==d.getTime()?"today ":""));L.find("span:first-of-type").addClass(S?this.model.specialDates[T][this._mapField._icon]?"e-special-date-icon "+this.model.specialDates[T][this._mapField._icon]+" ":"e-special-day":""),L.addClass(S&&this.model.specialDates[T][this._mapField._custom]?this.model.specialDates[T][this._mapField._custom]:""),C&&this._disableDates({date:f,element:L}),h.getTime()==f.getTime()&&w&&(L.hasClass("e-hidedate")||(this.model.value?(L.addClass("e-active").attr({"aria-selected":!0}),"week"==this.model.highlightSection&&c.addClass("e-selected-week"),"month"==this.model.highlightSection&&n.addClass("e-selected-month"),"workdays"==this.model.highlightSection&&c.addClass("e-work-week")):null!=this.model.value&&L.addClass("e-state-hover").attr({"aria-selected":!1})),this._hoverDate||(L.hasClass("e-hidedate")||L.addClass("e-state-hover"),this._hoverDate=f.getDate()-1)),m=!0,(f<this.model.minDate||f>this.model.maxDate)&&(L.addClass("e-hidedate"),L.removeClass("current-month"),this.model.showOtherMonths&&L.removeClass("other-month"),m=y=!1),w&&(m&&x&&(this._tempMinDate=f,x=!1,y=!0),y&&(this._tempMaxDate=f)),this._trigger("beforeDateCreate",{date:f,value:this._formatter(f,this.model.dateFormat),element:L}),c.append(L),f=new Date(f.getFullYear(),f.getMonth(),f.getDate()+1,0,0,0)}n.append(c)}r.append(n),this._DRPdisableFade?(e(n).css("display","block"),e(n).css({display:"table-row-group","vertical-align":"middle","border-color":"inherit"})):this._isIE8||this._isIE7?e(n).css("display","table-row-group"):e(n).fadeIn("fast"),this.model.startLevel===this.model.depthLevel||"month"!=this.model.depthLevel&&""!=this.model.depthLevel&&("century"==this.model.startLevel||"decade"==this.model.startLevel&&"century"!=this.model.depthLevel||"year"==this.model.startLevel&&"decade"!=this.model.depthLevel&&"century"!=this.model.depthLevel)?this._depthLevel(this.model.depthLevel):(this._on(r.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",e.proxy(this._backwardNavHandler,this)),this._on(r.find(".current-month , .other-month"),"click",e.proxy(this._onSetCancelDateHandler,this))),this._otherMonthsVisibility(),this._checkDateArrows()},_checkDisableRange:function(e){return!t.isNullOrUndefined(this._disableCollection[e.getFullYear()])&&-1!==jQuery.inArray(e.getMonth(),this._disableCollection[e.getFullYear()])},_initDisableObj:function(){var e,i,s,a;for(this._disableCollection={},e=0;e<this.model.blackoutDates.length;e++)(i=this._checkInstanceType(this.model.blackoutDates[e]))&&(s=i.getFullYear(),a=i.getMonth(),t.isNullOrUndefined(this._disableCollection[s])&&(this._disableCollection[s]=[]),-1==jQuery.inArray(a,this._disableCollection[s])&&this._disableCollection[s].push(a))},_disableDates:function(e){for(var t,i=0;i<this.model.blackoutDates.length;i++)(t=this._checkInstanceType(this.model.blackoutDates[i]))&&+e.date==+t&&e.element.addClass("e-hidedate")},_keyboardNavigation:function(e){var t;if(this._keyboardInteraction=!0,this._animating)return!1;if(!this._isOpen||37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode&&36!=e.keyCode&&35!=e.keyCode)if(this.model.displayInline||27!=e.keyCode&&9!=e.keyCode){if(e.altKey&&40==e.keyCode)return this.show(),!1}else this.hide();else{if(e.preventDefault&&e.preventDefault(),e.altKey)return 13==e.keyCode?(this._setCurrDate(e),!1):void 0;(t={row:null,col:null}).col=this.sfCalendar.find("tbody tr td.e-state-hover").index(),t.row=this.sfCalendar.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this.sfCalendar.find("tbody tr td.e-active").index()+1,t.row=-1!=t.row?t.row+1:this.sfCalendar.find("tbody tr td.e-active").parent().index()+1;var i,s=3,a=4;switch(this.sfCalendar.find("table")[0].className){case"e-dp-viewallyears":i=this._changeRowCol(t,e.keyCode,s,a,"yearall",e.ctrlKey),e.ctrlKey||(this._hoverAllYear=this.sfCalendar.find("tbody.e-datepicker-allyears tr td").index(i));break;case"e-dp-viewyears":i=this._changeRowCol(t,e.keyCode,s,a,"year",e.ctrlKey),e.ctrlKey||(this._hoverYear=this.sfCalendar.find("tbody.e-datepicker-years tr td").index(i));break;case"e-dp-viewmonths":i=this._changeRowCol(t,e.keyCode,s,a,"month",e.ctrlKey),e.ctrlKey||(this._hoverMonth=this.sfCalendar.find("tbody.e-datepicker-months tr td").index(i));break;case"e-dp-viewdays":s=this.sfCalendar.find("tbody.e-datepicker-days tr").length,i=this._changeRowCol(t,e.keyCode,s,a=7,"day",e.ctrlKey),e.ctrlKey||(this._hoverDate=this._getDateObj(i).getDate()-1)}e.ctrlKey||(this.sfCalendar.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"),this._setAriaAttributes(i))}},_setAriaAttributes:function(t){this._popupOpen&&(this.sfCalendar.find("[aria-selected=true]").attr("aria-selected",!1),this.sfCalendar.find("[aria-label]").removeAttr("aria-label"),e(this.element).attr("aria-activedescendant",t.attr("id")),e(t).attr("aria-selected",!0),e(t).attr("aria-label","The current focused date is "+this._formatter(this._getDateObj(t),"dddd, dd MMMM, yyyy")))},_changeRowCol:function(t,i,s,a,o,r){var n,l,d,h,c,u={parent:null,child:null};switch(o){case"day":n="tbody.e-datepicker-days tr td.current-month",u.parent=".e-datepicker-days",u.child=".current-month";break;case"month":n="tbody.e-datepicker-months tr td.e-current-month",u.parent=".e-datepicker-months",u.child=".e-current-month";break;case"year":n="tbody.e-datepicker-years tr td.e-current-year",u.parent=".e-datepicker-years",u.child=".e-current-year";break;case"yearall":n="tbody.e-datepicker-allyears tr td.e-current-allyear",u.parent=".e-datepicker-allyears",u.child=".e-current-allyear"}if(t.row<=0&&t.col<=0)return this._removeCurrentMonthFromHideDate(),this.sfCalendar.find(n+":first");switch(i){case 36:return this.sfCalendar.find(n+":first");case 35:return this.sfCalendar.find(n+":last");case 38:if(r&&this.model.allowDrillDown)this._forwardNavHandler();else{if(!(t.row>1))return this._processNextPrevDate(!0),this.sfCalendar.find(n+":nth-child("+t.col+"):last");t.row-=1}if((l=this._getCell(t,u)).length<=1){if(null!==(l=this._findVisible(t,u,"up")))return l;this._processNextPrevDate(!0),l=this.sfCalendar.find(n+":nth-child("+t.col+"):last")}return l;case 37:if(r)return this._processNextPrevDate(!0),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else{if(!(t.row>1))return this._processNextPrevDate(!0),this.sfCalendar.find(n+":last");t={row:t.row-1,col:a}}if((l=this._getCell(t,u)).length<=1){if(null!==(l=this._findVisible(t,u,"left")))return l;this._processNextPrevDate(!0),l=this.sfCalendar.find(n+":last")}return l;case 39:if(r)return this._processNextPrevDate(!1),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col<a)t.col+=1;else{if(!(t.row<s))return this._processNextPrevDate(!1),this.sfCalendar.find(n+":first");t={row:t.row+1,col:1}}if((l=this._getCell(t,u)).length<=1){if(null!==(l=this._findVisible(t,u,"right")))return l;this._processNextPrevDate(!1),l=this.sfCalendar.find(n+":first")}return l;case 40:if(!r){if(!(t.row<s))return this._processNextPrevDate(!1),this.sfCalendar.find(n+":nth-child("+t.col+"):first");if(t.row+=1,(l=this._getCell(t,u)).length<=1){if(null!==(l=this._findVisible(t,u,"down")))return l;this._processNextPrevDate(!1),l=this.sfCalendar.find(n+":nth-child("+t.col+"):first")}return l}case 13:d=e("table",this.sfCalendar).get(0).className,h=this._getCell(t,u),c=e(h)[0],"e-dp-viewmonths"==d&&"year"==this.model.startLevel&&"year"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setMonth(parseInt(c.attributes["data-index"].value))),this._onSetCancelDateHandler({type:null,target:h})):"e-dp-viewyears"==d&&"decade"==this.model.startLevel&&"decade"==this.model.depthLevel||"e-dp-viewallyears"==d&&"century"==this.model.startLevel&&"century"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(c.innerHTML))),this._onSetCancelDateHandler({type:null,target:h})):"e-dp-viewdays"==d?(this._backwardNavHandler(h),this._onSetCancelDateHandler({type:null,target:h})):this._backwardNavHandler(h)}return this._getCell(t,u)},_findVisible:function(e,t,i){for(var s,a=e.col,o=e.row,r=t.child.slice(1,t.child.length),n=0;n>=0;n++){if((s=this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+o+") td:nth-child("+a+")")).length<=0)return null;if(s.hasClass("e-hidedate")||!s.is(":visible")){if("right"==i||"left"==i?"right"==i?a++:a--:"down"==i?o++:o--,o<=0||o>this.sfCalendar.find("tbody"+t.parent+" tr").length||(a>this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+o+") td").length&&(o++,a=1),a<=0&&(o--,a=this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+o+") td").length),o<=0||o>this.sfCalendar.find("tbody"+t.parent+" tr").length))return null}else{if(s.hasClass("other-month"))return null;if(s.hasClass(r))return e.col=a,e.row=o,s}}},_getCell:function(e,t){return this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+e.row+") td"+t.child+":nth-child("+e.col+")")},_getDateObj:function(e){return new Date(e.attr("data-date"))},_touchCalendar:function(e){var t=this.sfCalendar.find("table")[0].className;switch(e.type){case"pinchin":"e-dp-viewdays"!=t&&this._keyboardNavigation({keyCode:13});break;case"pinchout":"e-dp-viewallyears"!=t&&this.model.allowDrillDown&&this._forwardNavHandler();break;case"swipeleft":this._processNextPrevDate(!1);break;case"swiperight":this._processNextPrevDate(!0)}},show:function(i){var s,a;if(t.isNullOrUndefined(this.sfCalendar)&&this._renderPopup(),this._isOpen)return!1;if(s=this,this._popupOpen=!0,e(this.element).attr("aria-expanded",!0),a=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this.model.enabled){if(this.model.displayInline||this._setDatePickerPosition(),this._trigger("beforeOpen",{element:this.sfCalendar,events:i}))return!1;this.sfCalendar.attr({"aria-hidden":"false"}),s._isOpen=!0,this.sfCalendar.slideDown(this.model.enableAnimation?this.animation.open.duration:0,(function(){s.model&&!s.model.displayInline&&e(document).on("mousedown",e.proxy(s._onDocumentClick,s))})),this._isIE8?this.element.val()&&this._compareDate(new Date(this.element.val()),a)&&this._updateInputVal():this._updateInputVal(),this._refreshLevel(a),this._trigger("open",{prevDate:a,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),e(window).on("resize",e.proxy(this._OnWindowResize,this)),this.model.displayInline||(this._on(t.getScrollableParents(this.wrapper),"scroll",this.hide),this._on(t.getScrollableParents(this.wrapper),"touchmove",this.hide)),this._isInputBox&&this.wrapper.addClass("e-active"),null!=this.model.value?e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".e-active")).attr("id")):e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".today")).attr("id"))}},hide:function(s){if(!this._isOpen||this._getInternalEvents||this._trigger("beforeClose",{element:this.sfCalendar,events:s}))return!1;var a=this;this._popupOpen=!1,e(this.element).attr("aria-expanded",!1),this.sfCalendar.attr({"aria-hidden":"true"}),this._popClose&&s!=i&&"click"!=s.type||(this.sfCalendar.slideUp(this.model.enableAnimation?this.animation.close.duration:0,(function(){a._isOpen=!1,e(document).off("mousedown",e.proxy(a._onDocumentClick,a)),a._setWaterMark()})),""!=this.element.val()&&this._validateInputVal(),this._trigger("close",{prevDate:this._prevDate,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this.hide),this._off(t.getScrollableParents(this.wrapper),"touchmove",this.hide),this._isInputBox&&this.wrapper.removeClass("e-active"),this.model.value?e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".e-active")).attr("id")):e(this.element).removeAttr("aria-activedescendant"))},enable:function(){this.model.enabled=!0,this.wrapper&&this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.prop("disabled",!1),this.dateIcon&&this.dateIcon.removeClass("e-disable").attr({"aria-disabled":!1}),this._isIE8&&this.dateIcon&&this.dateIcon.children().removeClass("e-disable"),this.element.prop("disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.sfCalendar&&this.sfCalendar.removeClass("e-disable").attr({"aria-disabled":!1})},disable:function(){this.model.enabled=!1,this.wrapper&&this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.element.attr("disabled","disabled"),this.dateIcon&&this.dateIcon.addClass("e-disable").attr({"aria-disabled":!0}),this._isIE8&&this.dateIcon&&this.dateIcon.children().addClass("e-disable"),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.sfCalendar&&this.sfCalendar.addClass("e-disable").attr({"aria-disabled":!0}),this._isOpen&&(this.element.is(":input")&&this.element.blur(),this.model.displayInline||this.hide())},getValue:function(){return this._formatter(this.model.value,this.model.dateFormat)},_wireCalendarEvents:function(){this._allowQuickPick(this.model.allowDrillDown),this._on(e(".e-next",this.sfCalendar),"click",e.proxy(this._previousNextHandler,this)),this._on(e(".e-prev",this.sfCalendar),"click",e.proxy(this._previousNextHandler,this)),this.model.displayInline||(this.sfCalendar.on("mouseenter touchstart",e.proxy((function(){this._popClose=!0}),this)),this.sfCalendar.on("mouseleave touchend",e.proxy((function(){this._popClose=!1}),this))),this.model.showFooter&&this._on(e(".e-footer",this.sfCalendar),"click",this._setCurrDate),this.sfCalendar&&this._on(this.sfCalendar,"pinchin pinchout swipeleft swiperight",e.proxy(this._touchCalendar,this))},_wireEvents:function(){this.element.is(":input")&&this.model.allowEdit&&(this._on(this.element,"blur",this._onFocusOut),this._on(this.element,"focus",this._onFocusIn),this._on(this.element,"keydown",this._onKeyDown)),this.model.allowEdit||(this.element.attr("readonly","readonly"),this.element.on("mousedown",e.proxy(this._showDatePopUp,this)))},_bindDateButton:function(){this._on(this.dateIcon,"mousedown",this._showDatePopUp),this.model.allowEdit&&this.element.off("mousedown",e.proxy(this._showDatePopUp,this))},_bindInputEvent:function(){this._off(this.dateIcon,"mousedown",this._showDatePopUp)},_specificFormat:function(){var i=t.globalize._getDateParseRegExp(t.globalize.findCulture(this.model.locale).calendar,this.model.dateFormat);return e.inArray("dddd",i.groups)>-1||e.inArray("ddd",i.groups)>-1},_onFocusOut:function(i){var s,a,o,r;if(this._isFocused=!1,s=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this.model.enableStrictMode&&this.element.val()&&!isNaN(+new Date(this.element.val())))for(this._formatArray=this.model.dateFormat.split(this._getSeparator()),this._valArray=this.element.val().split(this._getSeparator()),a=0;a<this._formatArray.length;a++)this._formatArray[a].startsWith("y")&&this._valArray.length>1&&(4==this._formatArray[a].length&&2==this._valArray[a].length||2==this._formatArray[a].length&&2==this._valArray[a].length)&&(this._valArray[a]=(parseInt(this._valArray[a])+2e3).toString(),this.element.val(this._valArray.join(this._getSeparator())));this._validateOnFocusOut(this._validateValue(),i),this.wrapper.removeClass("e-focus"),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),(!this._isOpen||this.model.displayInline)&&this._refreshLevel(s),""!=this.element.val()&&(!this._isOpen||this.model.displayInline)&&this._validateInputVal(),this.element.off("keydown",e.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),o=this.element.val(),r={prevDate:this._prevDate,value:o},this._specificFormat()?this._prevDate!=o&&this._setDateValue(o,!0):this._setDateValue(o),this.model.value||this._clearSelected(),this._trigger("focusOut",r),this._checkErrorClass()},_onFocusIn:function(t){this._isSupport&&(t.preventDefault(),this._isFocused=!0),this.wrapper.removeClass("e-error"),this.isValidState=!0,this.wrapper.addClass("e-focus"),this.wrapper.addClass("e-valid"),this.model.readOnly||(this._isSupport||this._hiddenInput.css("display","none"),this.element.on("keydown",e.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this.model.readOnly||this.show(t),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),this._trigger("focusIn",{date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}))},_elementClick:function(e){this._popupOpen||this.show(e)},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_refreshPopup:function(){this._refreshDatepicker(),this._startLevel(this.model.startLevel)},_weekDate:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},_refreshLevel:function(e){if(this.model.startLevel==this.model.depthLevel&&"month"!=this.model.startLevel){var t=this._stringToObject(this.element.val());(t=this._validateYearValue(t))&&(this._compareDate(e,t)||this._refreshPopup())}},_validateOnFocusOut:function(e,i){var s,a,o,r=null!=this._preValue?this._calendarDate:this._preValue,n=this._formatter(r,this.model.dateFormat);this._prevDate=this._formatter(this._preValue,this.model.dateFormat),s={prevDate:this._prevDate,value:n,isInteraction:!!i},this._specificFormat()&&e>this.model.minDate&&e<this.model.maxDate?null==e?this.model.value=r:(this.model.value=e,this._formatter(e,this.model.dateFormat,this.model.locale)):this._formatter(this._parseDate(this._formatter(new Date,"MM/dd/yyyy")),this.model.dateFormat),a=!1,o=!1,null==e||this.model.enableStrictMode?null!=e||this.model.enableStrictMode?e?(e<this.model.minDate||e>this.model.maxDate?(this.isValidState=!1,o=!0,this._calendarDate=e<this.model.minDate?this.model.minDate:this.model.maxDate):this.isValidState=!0,this._triggerChangeEvent(i),o&&this._getInternalEvents&&this._trigger("outOfRange")):(this.isValidState=!1,this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)):(null==this._preTxtValue||""==this.element.val()?(this.element.val(""),this._isSupport||this._hiddenInput.css("display","block")):this.element.val(n),this._triggerChangeEvent(i),null!=this.model.value&&this._trigger("change",s)):(t.isNullOrUndefined(this.model.value)&&(this.model.value=this._parseDate(this.element.val())),this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode||(e?(e<this.model.minDate||e>this.model.maxDate)&&(a=!0,this._calendarDate=e=e<this.model.minDate?this.model.minDate:this.model.maxDate):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),a&&this.element.val(this._formatter(e,this.model.dateFormat)),this._compareDate(this._preValue,this._parseDate(this.element.val(),!0))||this._triggerChangeEvent(i))},_onKeyDown:function(e){if(13===e.keyCode){var t=null!=this._preValue?new Date(this._preValue.toString()):this._preValue;this._validateOnFocusOut(this._validateValue(),e),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),(!this._isOpen||this.model.displayInline)&&this._refreshLevel(t),""!=this.element.val()&&(!this._isOpen||this.model.displayInline)&&this._validateInputVal(),this._checkErrorClass()}},_showhidePopup:function(e){if(!this.model.enabled)return!1;this._isOpen?(this._isFocused||!this.element.is(":input")||t.isTouchDevice()||this.element.focus(),this._cancelValue||this.hide(e)):(this._isFocused||!this.element.is(":input")||t.isTouchDevice()||this.element.focus(),this.show(e))},_compareDate:function(e,t){return+e==+t},_validateDate:function(e){var t,i,s=!0;if(null!=e){for(t=0;t<this.model.blackoutDates.length;t++)(i=this._checkInstanceType(this.model.blackoutDates[t]))&&+e==+i&&(s=!1);(e<this.model.minDate||e>this.model.maxDate)&&this.model.enableStrictMode&&(s=!1,this.isValidState=!1)}return s},_triggerChangeEvent:function(e){var t,s,a=""==this.element.val()?null:this.element.val();this._prevDate=this._formatter(this._preValue,this.model.dateFormat),s={prevDate:this._prevDate,value:a,isInteraction:!!e},t=this._specificFormat()&&e!=i&&"keydown"==e.type&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=this.element.val()?this._parseDate(this.element.val(),!0):this._specificFormat()&&e!=i&&"blur"==e.type?this.model.value:this._parseDate(a),t=this._validateYearValue(t),this._validateDate(t)||(t=null),this._compareDate(this._preValue,t)?""==this.element.val()&&null==this._prevDate||this.element.val()==this._prevDate||(s.value=this.element.val(),this._trigger("_change",s)):(this._preValue=this.model.value=t,s.value=this._formatter(this.model.value,this.model.dateFormat),this.model.value&&(this._clickedDate=this._calendarDate=this.model.value),this.model.displayInline&&!this._isInputBox&&this._hiddenInput.attr("value",a),this.model.value||this.model.enableStrictMode||this._setDateValue(this.model.value),s.value=a,this._trigger("_change",s),s.value=this._formatter(this.model.value,this.model.dateFormat),this._trigger("change",s),this._checkErrorClass())},_triggerSelectEvent:function(){var t,i=this.element.val();this._parseDate(i)&&(t={prevDate:this._prevDate,date:this.model.value,value:i,isSpecialDay:this._isSpecialDates(this.model.value)},this._prevDate!=i&&this._parseDate(t.value)&&this.model.value>=this.model.minDate&&this.model.value<=this.model.maxDate&&(this._cancelValue=this._trigger("select",t)),this._dt_drilldown&&this._trigger("dt_drilldown",t)),this.model.value&&e(this.element).attr("aria-activedescendant",e(this.sfCalendar.find(".e-active")).attr("id"))},_onDocumentClick:function(t){this.model&&(e(t.target).is(this.popup)||e(t.target).parents(".e-popup").is(this.popup)||e(t.target).is(this.wrapper)||e(t.target).parents(".e-datewidget").is(this.wrapper)?(e(t.target).is(this.popup)||e(t.target).parents(".e-popup").is(this.popup))&&t.preventDefault():this.hide(t))},_OnWindowResize:function(){this.sfCalendar&&this._setDatePickerPosition()},_showDatePopUp:function(e){var t=!1;if(e.button?t=2==e.button:e.which&&(t=3==e.which),!t&&(this._isSupport||this.model.showPopupButton||(e.preventDefault(),this._onFocusIn()),!this.model.readOnly)){if(e.preventDefault(),!this.model.enabled&&this.model.displayInline)return!1;this._showhidePopup(e)}},_layoutChanged:function(){this._getInternalEvents&&this._trigger("layoutChange")},_setCurrDate:function(e){if(this.model.readOnly||!this.model.enabled)return!1;e&&e.preventDefault(),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._dateValue=this._zeroTime(new Date),this.model.value=this._calendarDate=new Date(this._dateValue.toString()),this._setDateValue(this.model.value),this._triggerSelectEvent(e),this._triggerChangeEvent(e),this._refreshDatepicker(),this._changeDayClass(),this._startLevel(this.model.startLevel),this._onSetCancelDateHandler(e),this._layoutChanged()},_changeDayClass:function(){var e=this.popup.children("table")[0].className;"e-dp-viewdays"!=e&&this.popup.children("table").removeClass(e).addClass("e-dp-viewdays")},_onSetCancelDateHandler:function(t){if(this.model.readOnly||!this.model.enabled||t&&(e(t.target).hasClass("e-disable")||e(t.target).hasClass("e-hidedate")))return!1;t&&t.type&&t.preventDefault(),this._specificFormat()?this._prevDate=this.element.val():this.model.value=this._parseDate(this.element.val()),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._setDateValue(this._dateValue),this._triggerSelectEvent(t),this._triggerChangeEvent(t),this._dateValue=null==this.model.value?null:new Date(this.model.value.toString()),this.element.is(":input")&&!this.model.displayInline&&this._showhidePopup(t),t&&e(t.currentTarget).hasClass("other-month")&&this._refreshDatepicker(),this._cellSelection()},_closeCalendar:function(e){e&&e!=this.element||this.sfCalendar.empty().remove()},_checkErrorClass:function(){this.wrapper&&(this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error"))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}}),t.DatePicker.Locale=t.DatePicker.Locale||{},t.DatePicker.Locale.default=t.DatePicker.Locale["en-US"]={watermarkText:"Select date",buttonText:"Today"},t.DatePicker.Header={None:"none",Short:"short",Min:"min",Long:"long"},t.DatePicker.HighlightSection={Month:"month",Week:"week",WorkDays:"workdays",None:"none"},t.DatePicker.Level={Month:"month",Year:"year",Decade:"decade",Century:"century"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejTimePicker","ej.TimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_rootCSS:"e-timepicker",_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},_requiresID:!0,defaults:{cssClass:"",timeFormat:"",value:null,enableAnimation:!0,locale:"en-US",htmlAttributes:{},readOnly:!1,showPopupButton:!0,enableStrictMode:!1,interval:30,hourInterval:1,minutesInterval:1,secondsInterval:1,height:"",width:"",minTime:"12:00 AM",maxTime:"11:59 PM",showRoundedCorner:!1,enableRTL:!1,popupHeight:"191px",popupWidth:"auto",enabled:!0,enablePersistence:!1,disableTimeRanges:null,validationRules:null,validationMessages:null,focusIn:null,focusOut:null,beforeChange:null,change:null,select:null,create:null,destroy:null,beforeOpen:null,beforeClose:null,open:null,close:null,watermarkText:"select a time"},dataTypes:{timeFormat:"string",minTime:"string",maxTime:"string",readOnly:"boolean",interval:"number",showPopupButton:"boolean",locale:"string",hourInterval:"number",minutesInterval:"number",secondsInterval:"number",enabled:"boolean",enablePersistence:"boolean",enableAnimation:"boolean",enableStrictMode:"boolean",disableTimeRanges:"data",htmlAttributes:"data",validationRules:"data",validationMessages:"data",watermarkText:"string"},observables:["value"],enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.element.prop("disabled",!1),this.model.enabled=!0,this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.showPopupButton&&(this.timeIcon.removeClass("e-disable").attr("aria-disabled",!1),this.popupList&&this.popupList.removeClass("e-disable").attr("aria-disabled",!1)),this._isIE8&&this.timeIcon.children().removeClass("e-disable"))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.attr("disabled","disabled"),this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.showPopupButton&&(this.timeIcon.addClass("e-disable").attr("aria-disabled",!0),this.popupList&&this.popupList.addClass("e-disable").attr("aria-disabled",!0)),this._isIE8&&this.timeIcon.children().addClass("e-disable"),this._hideResult())},getValue:function(){return this.element.val()},setCurrentTime:function(){this.model.readOnly||this._setMask()},setValue:function(e){var i,s=this.model.value;this.model.value=t.format(this._createObject(e,!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(e,!0)&&(i=this._isValid(this.model.value)?this._localizeTime(this.model.value):this.model.value,this.element.val(i)),s!=this.model.value&&this._raiseChangeEvent(s,!0),this._checkErrorClass()},show:function(){this.showDropdown||this._getInternalEvents||this._showResult()},hide:function(){this.showDropdown&&this._hideResult()},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_timeFormat:function(e){var i,s;return e||(e=t.preferredCulture(this.model.locale).calendars.standard.patterns.t),(i=this._validateTimeFormat(e))&&(this.model.timeFormat=i,this.model.minTime=t.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=t.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),this.model.value?(this._setModelOption=!0,this.model.value=this._localizeTime(this.model.value),this.element.val(this.model.value)):(this._setModelOption=!1,(s=this._localizeTime(this.element.val()))&&this._checkMinMax(s)&&(this.model.value=s,this.element.val(s)))),i},_getTimeFormat:function(){this._prevTimeFormat&&(this.model.timeFormat=t.preferredCulture(this.model.locale).calendar.patterns.t||"h:mm tt"),this.seperator=this._getSeperator()},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.popupList&&this.popupList.removeClass(this.model.cssClass).addClass(e)},_localize:function(e){var i=this._createObject(this.model.value,!0);this.model.locale=e,this._getTimeFormat(),this.model.minTime=t.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=t.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),i?(this.model.value=this._localizeTime(i),this.element.val(this.model.value)):(i=this._localizeTime(this.element.val()))&&this._checkMinMax(i)&&(this.model.value=i,this.element.val(i)),this._getAmPm()},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?e(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_setLocalize:function(e){(e=t.preferredCulture(e))&&(this.model.locale="en"==e.name?"en-US":e.name,t.isNullOrUndefined(this._options)||!t.isNullOrUndefined(this._options.timeFormat)&&this._options.timeFormat||(this.model.timeFormat=t.preferredCulture(this.model.locale).calendars.standard.patterns.t),this._prevTimeFormat=!(!t.isNullOrUndefined(this._options.timeFormat)&&""!=this._options.timeFormat))},_updateInput:function(){if(!t.isNullOrUndefined(this._options)){var e=this._localizeTime(this._options.value);t.isNullOrUndefined(e)||"string"==typeof e&&this.model.enableStrictMode&&!this.model.value&&(this.element.val(this._options.value),this.isValidState=""==this.element.val(),this._checkErrorClass())}},_createMinMaxObj:function(){this._minTimeObj=this._createObject(this.model.minTime),this._minTimeObj||(this.model.minTime=t.format(this._createObject((new Date).setHours(0,0,0,0)),this.model.timeFormat,this.model.locale)),this._maxTimeObj=this._createObject(this.model.maxTime),this._maxTimeObj||(this.model.maxTime=t.format(this._createObject((new Date).setHours(23,59,59,59)),this.model.timeFormat,this.model.locale))},_setMinMax:function(){var e=(new Date).setHours(0,0,0,0),i=(new Date).setHours(23,59,59,59);!t.isNullOrUndefined(this._options)&&t.isNullOrUndefined(this._options.minTime)&&(this.model.minTime=t.format(this._createObject(e),this.model.timeFormat,this.model.locale)),!t.isNullOrUndefined(this._options)&&t.isNullOrUndefined(this._options.maxTime)&&(this.model.maxTime=t.format(this._createObject(i),this.model.timeFormat,this.model.locale)),this._createMinMaxObj()},_init:function(e){if(this._options=e,this._cloneElement=this.element.clone(),this._ISORegex(),this._isSupport=document.createElement("input").placeholder!=i,!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._initialize(),this._render(),this._wireEvents(),e&&e.value!=i&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()}),this._updateInput(),this._updateTextbox(),null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation())},_updateTextbox:function(){var e,t;if(this._options.disableTimeRanges){for(e=!0,t=0;t<this._options.disableTimeRanges.length;t++)if((this.model.minTime>=this._options.disableTimeRanges[t].startTime||this.model.minTime<=this._options.disableTimeRanges[t].endTime)&&this._options.disableTimeRanges[t].startTime==this.model.minTime){e=!1;break}(this._options===i||this._options.value===i&&!this.model.value&&e)&&this._setTime(this._localizeTime(this.model.minTime))}else this._options!==i&&(this._options.value!==i||this.model.value)||this._setTime(this._localizeTime(this.model.minTime))},_setMinMaxTime:function(i,s){!t.isNullOrUndefined(s.minTime)&&e.trim(s.minTime)&&this._isValid(s.minTime)&&(this.model.minTime=s.minTime,this._minTimeObj=this._createObject(this.model.minTime),this._validateTimes()),!t.isNullOrUndefined(s.maxTime)&&e.trim(s.maxTime)&&this._isValid(s.maxTime)&&(this.model.maxTime=s.maxTime,this._maxTimeObj=this._createObject(this.model.maxTime),this._validateTimes()),this._validateMinMax(),this._createMinMaxObj(),t.isNullOrUndefined(s.minTime)||(s.minTime=this.model.minTime),t.isNullOrUndefined(s.maxTime)||(s.maxTime=this.model.maxTime),this._checkMinMax(this.model.value)||(this.model.enableStrictMode?(this.isValidState=!1,this.model.value=null):(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime))),i!==this.model.value&&this._isValid(this.model.value,!0)&&this.element.val(this.model.value)},_setModel:function(e){var i,s,a,o,r=!1,n=this.model.value;for(i in e)switch("height"!=i&&"width"!=i&&"htmlAttributes"!=i&&"watermarkText"!=i&&"enabled"!=i&&"validationRules"!=i&&"validationMessages"!=i&&t.isNullOrUndefined(this.popupList)&&this._renderDropdown(),i){case"timeFormat":a=this._createObject(this.model.value),this._preTimeformat=this.model.timeFormat,s=this._timeFormat(e[i]),e[i]=this.model.timeFormat,s&&(this.seperator=this._getSeperator()),r=+a!=+this._createObject(this.model.value);break;case"locale":a=this._createObject(this.model.value),this._localize(e[i]),this.model.minTime=t.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=t.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),r=+a!=+this._createObject(this.model.value);break;case"interval":this.model.interval=e[i];break;case"cssClass":this._changeSkin(e[i]);break;case"showRoundedCorner":this._setRoundedCorner(e[i]);break;case"enableRTL":this._setRtl(e[i]);break;case"height":this._setHeight(e[i]);break;case"width":this.wrapper.width(e[i]),this._setListWidth();break;case"value":t.isPlainObject(e[i])&&(e[i]=null),this.model.value=t.format(this._createObject(e[i],!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(e[i],!0)&&(o=this._isValid(e[i])?this._localizeTime(e[i]):e[i],this.element.val(o)),e[i]=this.model.value,r=!0;break;case"enableStrictMode":this.model.enableStrictMode=e[i];break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation());break;case"validationMessages":this.model.validationMessages=e[i],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initTimeValidator(),this._setTimeValidation());break;case"popupHeight":this.model.popupHeight=e[i],this._setListHeight();break;case"popupWidth":this.model.popupWidth=e[i],this._setListWidth();break;case"enabled":e[i]?this.enable():this.disable();break;case"htmlAttributes":this._addAttr(e[i]);break;case"disableTimeRanges":this.model.disableTimeRanges=e[i],this._initStartEnd(),this.model.value=t.format(this._createObject(this.element.val(),!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(this.element.val(),!0)&&this.element.val(this.element.val()),r=!0;break;case"watermarkText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options[i]=this.model.watermarkText=e[i],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark()}t.isNullOrUndefined(e.minTime)&&t.isNullOrUndefined(e.maxTime)||(this._setMinMaxTime(n,e),r=!0),t.isNullOrUndefined(e.showPopupButton)?!this.model.showPopupButton||!s&&t.isNullOrUndefined(e.minTime)&&t.isNullOrUndefined(e.maxTime)&&t.isNullOrUndefined(e.locale)&&t.isNullOrUndefined(e.interval)&&t.isNullOrUndefined(e.disableTimeRanges)||this._reRenderDropdown():this._showButton(e[i]),r&&(this._raiseChangeEvent(n,!0),e.value=this.model.value),this._checkErrorClass()},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-input").removeAttr("ondragstart draggable aria-atomic aria-live aria-readonly").val(this.element.attr("value")),this._cloneElement.attr("name")||this.element.removeAttr("name"),this.popupList&&this.popupList.remove()},_initialize:function(){this.target=this.element[0],this.timeIcon=null,this._disabledItems=[],this.popupList=null,this.focused=!1,this.start=0,this.end=0,this.min=null,this.max=null,this.incomplete=!1,this.downPosition=0,this._setLocalize(this.model.locale),this._setMinMax(),this._getAmPm(),this.showDropdown=!1,this._activeItem=0,this.isValidState=!0,this._manualFocus=!1,this._isIE7=this._checkIE7(),this._initStartEnd(),this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this._getInternalEvents=!1,this._dateTimeInternal=!1,this.model.timeFormat?this.seperator=this._getSeperator():this._getTimeFormat()},_render:function(){this._renderWrapper(),this._setDimentions(),this._renderTimeIcon(),this._validateTimes(),this._createMinMaxObj(),this._addAttr(this.model.htmlAttributes),this._checkProperties(),this._enableMask(),this._checkErrorClass(),this.element.attr({"aria-atomic":"true","aria-live":"assertive","aria-readonly":this.model.readOnly,value:this.model.value}),t.isNullOrUndefined(this.model.value)?this.wrapper.addClass("e-valid"):this.wrapper.removeClass("e-valid")},_renderWrapper:function(){if(this.element.addClass("e-input").attr({tabindex:"0",role:"combobox","aria-expanded":"false"}),this.wrapper=t.buildTag("span.e-timewidget e-widget "+this.model.cssClass+"#"+this.target.id+"_timewidget").insertAfter(this.element),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),t.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),!this._isSupport){this._hiddenInput=t.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var i=this;e(this._hiddenInput).focus((function(){i.element.focus()}))}},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"disabled"==a&&"disabled"==e?s.disable():"readOnly"==a&&"readOnly"==e?s.model.readOnly=!0:"style"==a?s.wrapper.attr(i,e):"id"==a?(s.wrapper.attr(i,e+"_wrapper"),s.element.attr(i,e)):t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_initTimeValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setTimeValidation:function(){var i,s,a,o,r;for(a in this.element.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_renderTimeIcon:function(){if(this.model.showPopupButton){this.timeIcon=t.buildTag("span.e-select").attr({role:"button","aria-label":"select"});var e=t.buildTag("span.e-icon e-clock").attr("role","presentation");this._isIE8&&(this.timeIcon.attr("unselectable","on"),e.attr("unselectable","on")),this.timeIcon.append(e),this.container.append(this.timeIcon).addClass("e-padding"),this._on(this.timeIcon,"mousedown",this._timeIconClick)}},_elementClick:function(){this.showDropdown||this._showResult()},_renderDropdown:function(){var i,s=e("#"+this.element[0].id+"_popup").get(0);if(s&&e(s).remove(),this.popupList)return!1;this.popupList=t.buildTag("div.e-time-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_popup","",{},{tabindex:0,role:"listbox"}),t.isTouchDevice()||this.popupList.addClass("e-ntouch"),this.popup=this.popupList,this.ul=t.buildTag("ul.e-ul"),this._isIE8&&this.ul.attr("unselectable","on"),i=t.buildTag("div").append(this.ul),e("body").append(this.popupList.append(i)),this._renderLiTags(),this._setListHeight(),this._setListWidth(),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css("display","none"),this._listSize=this.ul.find("li").length},_renderLiTags:function(){var i,s,a,o,r,n,l,d;for(this._disabledItems=[],o=6e4*this.model.interval,r=!t.isNullOrUndefined(this.model.disableTimeRanges)&&this.model.disableTimeRanges.length>0,i=this._minTimeObj,s=this._maxTimeObj,n=0;this._compareTime(s,i,!0);)a=this._localizeTime(i),(l=e(document.createElement("li")))[0].appendChild(document.createTextNode(a)),this._isIE8&&l.attr("unselectable","on"),r&&(this._ensureTimeRange(a)?(l.addClass("e-disable"),this._disabledItems.push(n)):l.removeClass("e-disable")),this.ul[0].appendChild(l[0]),i=new Date(i).getTime()+o,n++;d=this.ul.find("li"),t.isTouchDevice()||(this._on(d,"mouseenter",e.proxy(this._OnMouseEnter,this)),this._on(d,"mouseleave",e.proxy(this._OnMouseLeave,this))),this._on(d,"click",e.proxy(this._OnMouseClick,this)),(this.model.showPopupButton||!t.isNullOrUndefined(this.popupList))&&this.ul.find("li").attr({tabindex:-1,"aria-selected":!1,role:"option"})},_ensureTimeRange:function(e){var i,s;if(!t.isNullOrUndefined(this.model.disableTimeRanges))for(i=this._makeDateTimeObj(e),s=0;s<this.model.disableTimeRanges.length;s++)if(+i>=+this._makeDateTimeObj(this.model.disableTimeRanges[s].startTime)&&+i<=+this._makeDateTimeObj(this.model.disableTimeRanges[s].endTime))return!0;return!1},_initStartEnd:function(){if(this._startTime=[],this._endTime=[],!t.isNullOrUndefined(this.model.disableTimeRanges))for(var e=0;e<this.model.disableTimeRanges.length;e++)this._startTime[e]=this._makeDateTimeObj(this.model.disableTimeRanges[e].startTime),this._endTime[e]=this._makeDateTimeObj(this.model.disableTimeRanges[e].endTime)},_makeDateTimeObj:function(e){var i;if("string"==typeof e){var s=t.preferredCulture(this.model.locale).calendar.patterns.d,a=t.format(new Date("1/1/2000"),s,this.model.locale),o=t.parseDate(a+" "+e,s+" "+this.model.timeFormat,this.model.locale);if(!o){if(i=new Date(e),!isNaN(Date.parse(i))&&!t.isNullOrUndefined(e))return this._setEmptyDate(e);o=new Date("1/1/2000 "+e)}return o}return e instanceof Date?this._setEmptyDate(e):null},_reRenderDropdown:function(){this.ul.empty(),this._renderLiTags(),this._refreshScroller(),this._changeActiveEle()},_refreshScroller:function(){var t="none"==this.popupList.css("display");this.popupList.css("height","auto"),this.popupList.find(".e-content, .e-vscroll").removeAttr("style"),this.popupList.find(".e-vscroll div").removeAttr("style"),t&&this.popupList.css("display","block"),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this._isIE8&&(e("#"+this.scrollerObj._id).children(".e-vscroll").children().attr("unselectable","on"),e("#"+this.scrollerObj._id).find(".e-vhandle").attr("unselectable","on")),t&&this.popupList.css("display","none")},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_setListWidth:function(){if(this.popupList){var e,t=this.model.popupWidth;e="string"==typeof t&&-1!=t.indexOf("%")||"string"==typeof t?parseInt(t)>0?t:this.model.popupWidth="auto":t>0?t:this.model.popupWidth="auto",this.popupList.css(e&&"auto"!=e?{width:e}:{width:this.wrapper.width()})}this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_setListHeight:function(){this.popupList&&this.popupList.css({"max-height":this.model.popupHeight||"191px"}),this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_updateScrollTop:function(){this.scrollerObj.setModel({scrollTop:this._calcScrollTop()})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.popupList.css({width:this.wrapper.width()}),this._setListPosition(),this._refreshScroller()},_setListPosition:function(){var t,i=this.wrapper,s=this._getOffset(i),a=e(document).scrollTop()+e(window).height()-(s.top+e(i).outerHeight()),o=s.top-e(document).scrollTop(),r=this.popupList.outerHeight(),n=this.popupList.outerWidth(),l=s.left,d=i.outerHeight(),h=(d-i.height())/2,c=this._getZindexPartial(),u=(r<a||r>o?s.top+d+3:s.top-r-3)-h;t=e(document).scrollLeft()+e(window).width()-l,(this.model.enableRTL||n>t&&n<l+i.outerWidth())&&(l-=this.popupList.outerWidth()-i.outerWidth()),this.popupList.css({left:l+"px",top:u+"px","z-index":c})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popupList)},_enableMask:function(){this.isValidState=!(this.model.minTime&&this._compareTime(this.model.minTime,this.model.value)||this.model.maxTime&&this._compareTime(this.model.value,this.model.maxTime)),this._setTime(this.model.value),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._getInternalEvents&&!this.isValidState&&this._trigger("outOfRange"),this._changeActiveEle(),this._preVal=this.element.val()},_setTime:function(e){var t=this._localizeTime(e);this.element.val(t),this.model.value=this.model.enableStrictMode?this._compareTime(this.model.value,this.model.minTime,!0)&&this._compareTime(this.model.maxTime,this.model.value,!0)?t:null:t,this._setWaterMark()},_timeFromISO:function(e){var t,i,s,a,o,r,n,l,d,h=this._extISORegex.exec(e)||this._basicISORegex.exec(e),c="",u="",p="";if(h){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(h[1])){c=this._dates[t][0];break}if(h[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(h[3])){u=(h[2]||" ")+this._times[i][0];break}for(h[4]&&this._zeroRegex.exec(h[4])&&(p="Z"),s=(c+u+p).match(this._tokens),o=[],n=0;n<s.length;n++)l=s[n],r=this._checkLiteral(s[n]),d=this._numberRegex[r?s[n].toLowerCase():l.length]||new RegExp("^\\d{1,"+l.length+"}"),(a=e.match(d))&&(e.substr(0,e.indexOf(a))>=0&&!r&&(s[n].indexOf("M")>=0?o.push(parseInt(a[0])-1):o.push(parseInt(a[0]))),e=e.slice(e.indexOf(a[0])+a[0].length));return"Z"==h[4]?new Date(Date.UTC.apply(null,o)):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}return new Date(e+"")},_checkLiteral:function(e){var t=e.toLowerCase();return"t"==t||"z"==t||":"==t||"-"==t},_setMask:function(){this.model.value=new Date,this._enableMask()},_validateTimes:function(){var e=this._validateTimeFormat(this.model.timeFormat);this.model.timeFormat=e||"h:mm tt",this._isValid(this.model.minTime)||(this.model.minTime="12:00 AM"),this._isValid(this.model.maxTime)||(this.model.maxTime="11:59 PM"),this._isValid(this.model.value,!0)||(this.model.value=null),this._checkMinMax(this.model.value)||this.model.enableStrictMode||(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)),this._validateMinMax()},_ensureValue:function(){!this._checkMinMax(this.model.value)&&this._isValid(this.model.value,!0)&&(this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)))},_validateMinMax:function(){this.model.minTime&&this.model.maxTime&&this._compareTime(this.model.minTime,this.model.maxTime)&&(this.model.minTime=this.model.maxTime)},_checkProperties:function(){this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable()),this._addProperty(),this._checkAttributes()},_addProperty:function(){this._setRtl(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner)},_setRtl:function(e){e?(this.wrapper.addClass("e-rtl"),this.popupList&&this.popupList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popupList&&this.popupList.removeClass("e-rtl"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.popupList&&this.popupList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popupList&&this.popupList.removeClass("e-corner"))},_showButton:function(t){this.model.showPopupButton=t,t?(this.container.addClass("e-padding"),this._renderTimeIcon(),this._renderDropdown(),this._addProperty()):(this.container.removeClass("e-padding"),this.timeIcon.remove(),this.popupList.remove(),this.timeIcon=this.popupList=null,e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)))},_checkAttributes:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id}),"ondragstart"in document.createElement("input")&&this.element.attr({ondragstart:"return false"}),"draggable"in document.createElement("input")&&this.element.attr({draggable:"false"})},_getAmPm:function(){var t=new Date;t.setHours(0),this.ttAM=e.trim(this._localizeMeridian(t)),t.setHours(23),this.ttPM=e.trim(this._localizeMeridian(t))},_setDimentions:function(){this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this._setHeight(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_setHeight:function(e){e&&this.wrapper.height(e),this._isIE7&&this.element.height(this.container.height())},_validateTimeFormat:function(t){var i=t.split(" "),s="";return 1==i.length||2==i.length?(e(i).each((function(t,i){s+=e.trim(i)+" "})),e.trim(s)):null},_getSeperator:function(){for(var e=this._getElePlace(),t=this._formatparts[e.time],i=new RegExp("^[a-zA-Z0-9]+$"),s=0;s<t.length;s++)if(!i.test(t.charAt(s)))return t.charAt(s)},_checkInComplete:function(){var e=this._getCaretSelection(),t=this._getStartEnd(e),i="00",s=this._getSelectedValue(t),a=this._getCategory(t);e.end-e.start==this.element.val().length&&this._checkAll(),a&&"tt"!=a&&(this._findCategoryPosition(a),"__"==s?(("h"==a||"hh"==a)&&(i="12"),this._changeToDefault(i)):1!=a.length&&1==s.length&&(s=this._changeWhole(s),this.element.val(this._replaceAt(this.target.value,this.start,this.end,s))))},_checkAll:function(){for(var e,t=this._getElePlace(),i=this._formatparts[t.time].split(this.seperator),s=0;s<i.length;s++)this._findCategoryPosition(i[s]),e=this._getSelectedValue({start:this.start,end:this.end}),1!=i[s].length&&1==e.length&&(e=this._changeWhole(e),this.element.val(this._replaceAt(this.element.val(),this.start,this.end,e)))},_changeToDefault:function(e){var t,i;this.incomplete=!0,t=this.element[0].value,this.element[0].value=this._replaceAt(this.target.value,this.start,this.end,e),!(i=this._checkExceedRange(this.target.value))||this._setTime(this.model[i]),this._setSelection(this.start,this.end),this._raiseChangeEvent(t)},_setSelection:function(e,t){var i=this.element[0];i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((i=i.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())},_getSelectedValue:function(e){return this.target.value.substring(e.start,e.end)},_getMinMax:function(e,t){"hh"==e||"h"==e?(this.min=1,this.max=11,t&&(this.max=12)):"HH"==e||"H"==e?(this.min=0,this.max=23):("mm"==e||"m"==e||"ss"==e||"s"==e)&&(this.min=0,this.max=59)},_focusElement:function(){this._manualFocus=!0,this.element.focus()},_targetFocus:function(t){this._clearRange(),t.preventDefault(),this.focused=!0,this.element.on("mousewheel DOMMouseScroll",e.proxy(this._mouseWheel,this)),this.wrapper.addClass("e-focus").removeClass("e-error").attr("aria-invalid","false"),this._getExactPostions(),this._manualFocus||(this._findCategoryPosition(this._getLeast(!1)),this._setSelection(this.start,this.end)),this._manualFocus=!1,this._prevTimeVal=this.element.val(),this._raiseEvent("focusIn"),this.wrapper.addClass("e-valid"),this.model.showPopupButton||this._showResult(),this.model.showPopupButton||this._on(this.element,"click",this._elementClick)},_targetBlur:function(){this.focused=!1,this.element.off("mousewheel DOMMouseScroll",e.proxy(this._mouseWheel,this)),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),this.wrapper.removeClass("e-focus"),this.model.enableStrictMode||this.target.value.indexOf("_")>-1&&this.element.val(""),!this._checkMinMax(this.target.value)&&this._isValid(this.target.value,!0)?this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this._createObject(this.target.value),this.model.minTime,!0)&&this.element.val(this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this._createObject(this.target.value),!0)&&this.element.val(this.model.maxTime),this._isValid(this.model.value,!0)||this.element.val(null),this.isValidState=!0,t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")):this.isValidState=!0,this._ensureValue(),this._raiseChangeEvent(),this._checkErrorClass(),this._raiseEvent("focusOut"),this.model.enableStrictMode||this._checkInComplete(),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")},_clearRange:function(){var e=this.element[0];isNaN(e.selectionStart)||(e.selectionStart=0,e.selectionEnd=0)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error").attr("aria-invalid","false"):this.wrapper.addClass("e-error").attr("aria-invalid","true")},_getExactPostions:function(){var e,t=this.model.timeFormat;this.model.timeFormat.split(" "),this._formatparts=[],this._valueparts=[],this._amPMPosition=t.match("([t][t]+)")?t.match("([t][t]+)").index:null,this._amPMPosition==i?(this._formatparts=this.model.timeFormat.split(" "),this._valueparts=this.element.val().split(" "),this._noTT=!0):(this._amPMPosition==this.model.timeFormat.length-2?(this._ttAtEnd=!0,this._isSpace=" "==this.model.timeFormat[this.model.timeFormat.split("").indexOf("t")-1]):(this._ttAtEnd=!1,this._isSpace=" "==this.model.timeFormat[this.model.timeFormat.split("").indexOf("t")+2]),1==this._ttAtEnd?(this._ttStartPostion=this.model.timeFormat.match("([t]?[t]+)").index,this._ttEndPosition=this.model.timeFormat.length,this._formatStartPosition=0,e=0,this.element&&this.element.val()&&(e=this.element.val().length-this.model.timeFormat.length),this._updatedttStartPosition=this._ttStartPostion+e,this._formatEndPostion=this.model.timeFormat.match("([t][t]+)").index,this._formatparts[0]=this.model.timeFormat.substr(this._formatStartPosition,this._formatEndPostion).trim(),this._formatparts[1]=this.model.timeFormat.substr(this._ttStartPostion,this._ttEndPosition).trim(),this._valueparts[0]=this.element.val().substr(this._formatStartPosition,this._formatEndPostion+e).trim(),this._valueparts[1]=this.element.val().substr(this._ttStartPostion+e,this._ttEndPosition).trim()):(this._ttStartPostion=0,this._ttEndPosition=this.model.timeFormat.match("([t]?[t]+)")?this._ttStartPostion+this.model.timeFormat.match("([t]?[t]+)")[0].length:0,this._formatStartPosition=this._isSpace?this._ttEndPosition+1:this._ttEndPosition,this._formatEndPostion=this.model.timeFormat.length,this._formatparts[1]=this.model.timeFormat.substr(this._formatStartPosition,this._formatEndPostion).trim(),this._formatparts[0]=this.model.timeFormat.substr(this._ttStartPostion,this._ttEndPosition).trim(),this._valueparts[1]=this.element.val().substr(this._formatStartPosition,this._formatEndPostion).trim(),this._valueparts[0]=this.element.val().substr(this._ttStartPostion,this._ttEndPosition).trim()))},_getCaretSelection:function(){var e,t,i,s,a=this.element[0],o=0;return isNaN(a.selectionStart)?(e=document.selection.createRange().getBookmark(),(t=a.createTextRange()).moveToBookmark(e),(i=a.createTextRange()).collapse(!0),i.setEndPoint("EndToStart",t),{start:s=i.text.length,end:s+t.text.length}):(o=a.selectionEnd,{start:Math.abs(a.selectionStart),end:Math.abs(o)})},_mouseDownOnInput:function(){this.focused||t.isTouchDevice()||this._focusElement(),this._getExactPostions(),this.downPosition=this._getCaretSelection(),e(document).on("mouseup",e.proxy(this._mouseUpOnInput,this))},_mouseUpOnInput:function(t){t.preventDefault(),e(document).off("mouseup",e.proxy(this._mouseUpOnInput,this));var i=this._getCaretSelection();this.incomplete&&(this.incomplete=!1,i=this.downPosition),this.target.value!=this._getSelectedText()&&(i=this._getStartEnd(i),this._setSelection(i.start,i.end))},_getCategoryPosition:function(e){var t,i,s=0,a=0,o=this._getTimeParts(),r=this._getElePlace(),n=this.seperator,l=!1,d=this._getFormatParts()[r.time].split(n),h=o[r.time].split(n);if(d.length>h.length)return{start:s,end:a,isValid:l};if("tt"==e)(o[r.tt]==this.ttAM||o[r.tt]==this.ttPM)&&(a=(s=0==r.tt?0:o[r.time].length+1)+o[r.tt].length,!this._isSpace&&this._ttAtEnd&&(s-=1,a-=1),l=!0);else if(s=0==r.time?0:o[r.tt].length+1,-1!=(t=d.indexOf(e))){for(i=0;i<d.length&&(a=h[i].length+1,i!=t);i++)s+=a;a+=s-1,this._noTT||this._isSpace||this._ttAtEnd||(s-=1,a-=1),l=!0}return{start:s,end:a,isValid:l}},_getCategory:function(e){var t=this._getFormatParts(),i=this.seperator,s=this._getElePlace();return e.isTT?t[s.tt]:t[s.time].split(i)[e.index]},_getTimeParts:function(){return"h:mm tt"==this.model.timeFormat||"h:m tt"==this.model.timeFormat||"hh:m tt"==this.model.timeFormat||"hh:mm:s tt"==this.model.timeFormat?this.element.val().split(" "):this._valueparts},_getFormatParts:function(){return"h:mm tt"==this.model.timeFormat||"h:m tt"==this.model.timeFormat||"hh:m tt"==this.model.timeFormat||"hh:mm:s tt"==this.model.timeFormat?this.model.timeFormat.split(" "):this._formatparts},_getStartEnd:function(e){this._getExactPostions();for(var t,i,s=this.seperator,a=(this.element.val(),this._valueparts),o=0,r=0,n=t=null,l=0;l<a.length;l++)if(a[l]!=this.ttAM&&a[l]!=this.ttPM){var d=a[l].split(s),h=o,c=o+d[0].length;for(i=0;i<d.length;i++)if(r=d[i].length+o,!this._isSpace&&this._ttAtEnd&&e.start>=this._updatedttStartPosition&&e.end<=this._ttEndPosition&&this._formatparts[0].split(this._getSeperator())[1].length==this._valueparts[0].split(this._getSeperator())[1].length)o+=d[i].length+1;else{if(e.start<=r){n=i,t=!1,l=a.length;break}o+=d[i].length+1}}else{if(this._isSpace||this._ttAtEnd?e.start<=o+a[l].length:e.start<o+a[l].length){r=a[l].length+o,n=0,t=!0,l=a.length,!this._isSpace&&this._ttAtEnd&&(o-=1,r-=1);break}o+=a[l].length+1,this._isSpace||this._ttAtEnd||(o-=1)}return null==n&&(o=h,r=c,n=0,t=!1),{start:o,end:r,index:n,isTT:t}},_modifyValue:function(e){var t,i,s,a;this._isValid(this.target.value)&&(this.model.enableStrictMode||this._checkInComplete(),(t=this._getCaretSelection()).start==t.end?(s=this._getLeast(!0),a=this._getCategoryPosition(s),i=this._getStartEnd(a)):i=this._getStartEnd(t),this.start=i.start,this.end=i.end,this._changeValue(i,e))},_keyUpOnInput:function(e){var t,i;e.preventDefault(),this._preVal!=this.element.val()&&(this._preVal=this.element.val());var s=this._getCaretSelection(),a=this._getStartEnd(s),o=this._getCategory(a);t=this._getSelectedValue(a),(i=this.element.val()).split(":"),i[0]<3&&(this._poschange=1==isNaN(i[0]+i[1])&&i[0]<10),"h"==o&&2==s.start&&2==s.end&&t>9&&t<13||"H"==o&&t>9&&t<24||"H"==o&&t<9&&2==s.start&&2==s.end||"mm"==o&&1==this._poschange&&4==s.start&&4==s.end||"ss"==o&&8==s.start&&8==s.end||"ss"==o&&1==this._poschange&&7==s.start&&7==s.end||"mm"==o&&5==s.start&&5==s.end?"mm"==o&&("HH:mm"==this.model.timeFormat||"hh:mm"==this.model.timeFormat||"H:mm"==this.model.timeFormat||"h:mm"==this.model.timeFormat)||"ss"==o&&("HH:mm:ss"==this.model.timeFormat||"hh:mm:ss"==this.model.timeFormat||"H:mm:ss"==this.model.timeFormat||"h:mm:ss"==this.model.timeFormat)||this._movePosition(s,null):("hh"==o||"HH"==o)&&s.start&&2==s.end&&t<24&&this._movePosition(s,null)},_getNextCategory:function(t,i){var s,a=[],o=this.seperator,r=this._getFormatParts();return e(r).each((function(e,t){if("tt"==t)a.push(t);else{var i=t.split(o);a=i.concat(a)}})),-1!=(s=a.indexOf(t))?a[i?0==s?a.length-1:s-1:s==a.length-1?0:s+1]:t},_getElePlace:function(){var e,t;return this._getExactPostions(),"tt"==this._getFormatParts()[0]?(e=1,t=0):(e=0,t=1),{time:e,tt:t}},_movePosition:function(e,t){var i,s=this._getStartEnd(e),a=this._getCategory(s);a||(a=this._getLeast(t)),i=this._getNextCategory(a,t),(s=this._getCategoryPosition(i)).isValid&&this._setSelection(s.start,s.end)},_findActiveIndex:function(){var e,t=this.ul.find("li"),i=this.element.val(),s=t.first().html();e=(this._parse(i)-this._parse(s))/(6e4*this.model.interval),e=Math.round(e),this._activeItem=e==t.length?e:e+1,(this._activeItem<0||this._activeItem>t.length||isNaN(this._activeItem))&&(this._activeItem=0)},_keyDownOnInput:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x;if(this.model.readOnly&&!this._readOnlyKeys(e)||(s=e.keyCode,this._getInternalEvents&&38!=s&&40!=s&&36!=s&&35!=s&&9!=s))return!1;if(!this.model.enableStrictMode){if(this.showDropdown&&38!=s&&40!=s&&27!=s&&!this._readOnlyKeys(e))return!1;this.showDropdown&&(37==s||39==s)&&(e.keyCode=37==s?38:40)}switch(t=this._getCaretSelection(),x=this._getStartEnd(t),i=this._getCategory(x),e.keyCode){case 38:e.preventDefault(),this.showDropdown?this.showDropdown&&(e.preventDefault(),this._findActiveIndex(),o=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=o),this._addListHover(),(a=this._getActiveItem()).length&&this._selectTimeItem(a)):this._isValid(this.target.value)&&this._modifyValue(!0);break;case 40:e.preventDefault(),e.altKey&&this.model.showPopupButton?this._showhidePopup():this.showDropdown?this.showDropdown&&(e.preventDefault(),this._findActiveIndex(),o=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=o,this._addListHover(),this._selectTimeItem(this._getActiveItem())):this._isValid(this.target.value)&&this._modifyValue(!1);break;case 37:e.preventDefault(),t.start==t.end?this._setSelection(t.start-1,t.start-1):this._movePosition(t,!0);break;case 39:e.preventDefault(),t.start==t.end?this._setSelection(t.start+1,t.start+1):this._movePosition(t,!1);break;case 36:e.preventDefault(),this.showDropdown?(this._activeItem=0,o=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=o,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(r=this._firstlastVal(!0),(n=this._getCategoryPosition(r)).isValid&&this._setSelection(n.start,n.end));break;case 35:e.preventDefault(),this.showDropdown?(this._activeItem=this._listSize+1,o=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=o),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(l=this._firstlastVal(!1),(d=this._getCategoryPosition(l)).isValid&&this._setSelection(d.start,d.end));break;case 9:if(this._getInternalEvents)break;this._hideResult(),h=null,e.shiftKey&&t.start>0?h=!0:!e.shiftKey&&t.end<this.element.val().length&&(h=!1),null!=h&&(e.preventDefault(),this._checkInComplete(),this._movePosition(t,h));break;case 13:if(!this.showDropdown){this._raiseChangeEvent();break}case 27:e.preventDefault(),this._hideResult();break;case 8:case 46:if(this.model.enableStrictMode)return;this.target.value!=this._getSelectedText()&&(e.preventDefault(),i&&"tt"!=i&&(this._findCategoryPosition(i),c=8==s&&t.start!=this.start,u=46==s&&t.end!=this.end,t.start==t.end&&1!=this.end-this.start||!c&&!u&&t.start==t.end?c?(this.element[0].value=this._replaceAt(this.target.value,t.start-1,t.start,""),this._setSelection(t.start-1,t.start-1)):u&&(this.element[0].value=this._replaceAt(this.target.value,t.end,t.end+1,""),this._setSelection(t.end,t.end)):(this.element[0].value=this._replaceAt(this.target.value,p=this.start,m=this.end,"__"),this._setSelection(p,m-p!=2?m+1:m))))}g=this._getSelectedValue(x),_=e.keyCode?e.keyCode:e.charCode,e.keyCode>47&&e.keyCode<58?f=String.fromCharCode(_):e.keyCode>95&&e.keyCode<106&&(f=String.fromCharCode(_-48)),"tt"==i&&(!e.shiftKey&&!e.ctrlKey&&!e.altKey&&e.keyCode>64&&e.keyCode<91||e.keyCode>47&&e.keyCode<58||e.keyCode>95&&e.keyCode<106)&&(e.preventDefault(),b=this._getCategoryPosition(i),this.start=b.start,this.end=b.end,this._changeAmPm(g),this._raiseChangeEvent()),this.target.value!=this._getSelectedText()||e.shiftKey||e.ctrlKey||e.altKey||(e.keyCode>64&&e.keyCode<91&&!this.model.enableStrictMode&&e.preventDefault(),(e.keyCode>47&&e.keyCode<58||e.keyCode>95&&e.keyCode<106)&&(x=this._getStartEnd(t),this._setSelection(x.start,x.end))),!e.shiftKey&&!e.ctrlKey&&!e.altKey&&e.keyCode>47&&e.keyCode<58||e.keyCode>95&&e.keyCode<106?"tt"!=i&&(this._getMinMax(i,!0),t.start==t.end?(this._findCategoryPosition(i),t.start==this.start?(v=f+g,0==this.model.enableStrictMode&&(this._validateTimes(),this._targetBlur()),null==this.model.value&&this.element.val(this.model.minTime),x=this._getStartEnd(t),this._setSelection(x.start,x.end)):v=g+f,(v.length>2||!(Number(v)>=this.min&&this.max>=Number(v)))&&(this.model.enableStrictMode||e.preventDefault())):Number(f)>=this.min&&this.max>=Number(f)||this.model.enableStrictMode||e.preventDefault()):this._allowKeyCodes(e)||(this.model.enableStrictMode||8==e.keyCode||46==e.keyCode?e.stopPropagation():e.preventDefault())},_getSelectedText:function(){if(window.getSelection){var t=e("#"+this.element[0].id).get(0);return t.value.substring(t.selectionStart,t.selectionEnd)}return document.selection.createRange().text},_allowKeyCodes:function(e){return!((!e.ctrlKey||65!=e.keyCode&&67!=e.keyCode&&90!=e.keyCode&&89!=e.keyCode)&&9!=e.keyCode&&116!=e.keyCode&&13!=e.keyCode)},_readOnlyKeys:function(e){return!(35!=e.keyCode&&36!=e.keyCode&&37!=e.keyCode&&39!=e.keyCode&&!this._allowKeyCodes(e))},_firstlastVal:function(e){var t,i=this._getFormatParts(),s=this.seperator;return e?"tt"!=i[0]?i[0].split(s)[0]:"tt":"tt"!=i[0]?"tt":i[1]&&(t=i[1].split(s)).length?t[t.length-1]:"tt"},_mouseWheel:function(e){if(e.preventDefault(),this.model.readOnly)return!1;var t,i=e.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._modifyValue(!0):t<0&&this._modifyValue(!1)},_addListHover:function(){this._addSelected(),this._updateScrollTop()},_addSelected:function(){this.ul.find("li").removeClass("e-active e-hover");var e=this._getActiveItem();e.length&&!e.hasClass("e-disable")&&e.addClass("e-active")},_disableItemSelectDown:function(t){return(null==t||t<0)&&(t=0),t<this._listSize?e.inArray(t,this._disabledItems)<0?t:this._disableItemSelectDown(t+1):this._listSize},_disableItemSelectUp:function(t){if((null==(t-=1)||t<0)&&(t=0),t<this._listSize){if(e.inArray(t,this._disabledItems)<0)return t+1;if(t>0)return this._disableItemSelectUp(t)}return 0},_getActiveItem:function(){return e(this.ul.find("li")[this._activeItem-1])},_timeIconClick:function(e){var i,s;if(t.isNullOrUndefined(this.popupList)&&(this._renderDropdown(),this._addProperty()),i=!1,e.button?i=2==e.button:e.which&&(i=3==e.which),!i){if(e.preventDefault(),!this.model.enabled||this.model.readOnly||this.ul.find("li").length<1)return!1;this._showhidePopup(),s=this.element.val().length,t.isTouchDevice()||this._setSelection(s,s)}},_showhidePopup:function(){if(this._getInternalEvents)return!1;this.showDropdown?this._hideResult():this._showResult()},_showResult:function(){if(null==this.popupList&&this._renderDropdown(),this._raiseEvent("beforeOpen"))return!1;this.focused||t.isTouchDevice()||this._focusElement(),this.model.value?this._changeActiveEle():this.ul.find("li").removeClass("e-active");var i=this,s=this._visibleAndCalculateTop();this.popupList.slideDown(this.model.enableAnimation?200:0,(function(){e(document).on("mousedown",e.proxy(i._OnDocumentClick,i))})),this.scrollerObj.setModel({scrollTop:s}),this.showDropdown=!0,this._listSize=this.ul.find("li").length,e(window).on("resize",e.proxy(this._OnWindowResize,this)),this._on(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._on(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("open"),this.wrapper.addClass("e-active")},_hideResult:function(i){if(this._raiseEvent("beforeClose"))return!1;i&&("touchmove"==i.type||"scroll"==i.type)&&e(i.target).parents("#"+this.popupList[0].id).length>0||this.showDropdown&&!this._getInternalEvents&&(this.showDropdown=!1,this.popupList.slideUp(this.model.enableAnimation?100:0),e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._off(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("close"),this.wrapper.removeClass("e-active"))},_visibleAndCalculateTop:function(){this.popupList.css({display:"block"});var e=this._calcScrollTop();return this._refreshPopup(),this.popupList.css({display:"none"}),e},_calcScrollTop:function(){this.ul.outerHeight();var e=this.ul.find("li").outerHeight();return e*this.ul.find("li.e-active").index()-(this.popupList.outerHeight()-e)/2},_changeActiveEle:function(){if(!this.popupList)return!1;var e,t=this.ul.find("li"),i=this.element.val(),s=t.first().html();e=(this._parse(i)-this._parse(s))/(6e4*this.model.interval),e=Math.round(e),this._activeItem=e==t.length?e:e+1,(this._activeItem<0||this._activeItem>t.length||isNaN(this._activeItem)||this._ensureTimeRange(i))&&(this._activeItem=0),this._addListHover()},_OnDocumentClick:function(t){e(t.target).is(this.popupList)||e(t.target).parents(".e-time-popup").is(this.popupList)||e(t.target).is(this.wrapper)||e(t.target).parents(".e-timewidget").is(this.wrapper)?(e(t.target).is(this.popupList)||e(t.target).parents(".e-time-popup").is(this.popupList))&&t.preventDefault():this._hideResult()},_OnWindowResize:function(){this._refreshPopup()},_OnMouseEnter:function(t){var i=t.target;this.ul.find("li").removeClass("e-hover"),e(i).hasClass("e-disable")||e(i).addClass("e-hover")},_OnMouseLeave:function(){(!this._dateTimeInternal||this.model.value)&&this.ul.find("li").removeClass("e-hover")},_OnMouseClick:function(t){t.preventDefault(),e(t.target).hasClass("e-disable")||(this.model.enabled&&!this.model.readOnly&&(this._activeItem=e(t.target).index()+1,this.ul.find("li").attr({tabindex:-1,"aria-selected":!1}),e(t.target).attr({"aria-selected":!0,tabindex:0}),this._addSelected(),this._selectTimeItem(e(t.target))),this._showhidePopup())},_selectTimeItem:function(e){this._beforeChange(e),this._raiseChangeEvent()&&this._trigger("select",{value:this.model.value,prevTime:this._previousValue})},_findCategoryPosition:function(e){"least"==e&&(e=this._getLeast(!0));var t=this._getCategoryPosition(e);this.start=t.start,this.end=t.end},_getLeast:function(t){var i=this._getFormatParts(),s=this.seperator,a=null;return e(i).each((function(e,i){if("tt"!=i){var o=i.split(s);a=t?o[o.length-1]:o[0]}})),a},_changeValue:function(e,i){var s,a,o,r=this._getCategory(e);if(!r)return!1;if(this._setSelection(this.start,this.end),s=this.target.value.substring(this.start,this.end),this._checkMinMax(this.target.value))if(s!=this.ttAM&&s!=this.ttPM){if(s=this._changeCurrentValue(s,r,i),1!=r.length&&(s=this._changeWhole(s)),this._findCategoryPosition(r),this.element.val(this._replaceAt(this.target.value,this.start,this.end,s)),this.end=this.start+s.toString().length,this._setSelection(this.start,this.end),this._ensureTimeRange(this.target.value)&&this._checkMinMax(this.target.value)){var n=this._createObject(this.target.value),l=n.getHours(),d=i?this._startTime:this._endTime,h=i?this._endTime:this._startTime;if(!t.isNullOrUndefined(this.model.disableTimeRanges))for(a=0;a<this.model.disableTimeRanges.length;a++)(d[a].getHours()===l||+n>=+this._startTime[a]&&+n<=+this._endTime[a])&&(this.target.value=this._localizeTime(h[a]),this._findCategoryPosition(r),this._setSelection(this.start,this.end),this._changeValue(e,i))}}else this._changeAmPm(s);else o=this._checkExceedRange(this.target.value),this._setTime(this.model[o]),this._findCategoryPosition(r),this._setSelection(this.start,this.end);this._checkMinMax(this.target.value)?this._raiseChangeEvent():(this.element.val(this.model.value),this._findCategoryPosition(r),this._setSelection(this.start,this.end))},_checkMinMax:function(e){var t=this._checkExceedRange(e);return null==t&&(t=!1),!t},_checkExceedRange:function(e){if(e){if(this.model.minTime&&!this._compareTime(e,this.model.minTime,!0))return"minTime";if(this.model.maxTime&&!this._compareTime(this.model.maxTime,e,!0))return"maxTime"}return null},_changeWhole:function(e){return e>9?""+e:"0"+e},_changeAmPm:function(e){this.element.val(this._replaceAt(this.target.value,this.start,this.end,e=e==this.ttAM?this.ttPM:this.ttAM)),this._setSelection(this.start,this.end)},_changeMinute:function(e){var t,i=this._getExactFormat(["mm","m"]);i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),e?t==this.max?(t=this.min,this._changeHour(e)):t+=1:t==this.min?(t=this.max,this._changeHour(e)):t-=1,this._findCategoryPosition(i),1!=i.length&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_changeHour:function(e){var t,i=this._getExactFormat(["hh","h","HH","H"]);i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),e?t==this.max?(t+=1,this._changeMeridian()):t>this.max?t=this.min:t+=1:t==this.min?t=this.max+1:t>this.max?(t=this.max,this._changeMeridian()):t-=1,this._findCategoryPosition(i),1!=i.length&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_getExactFormat:function(e){for(var t=this.model.timeFormat,i=0;i<e.length;i++)if(-1!=t.indexOf(e[i]))return e[i];return null},_changeMeridian:function(){var e;-1!=this.model.timeFormat.indexOf("tt")&&(this._findCategoryPosition("tt"),e=this.target.value.substring(this.start,this.end),this.element.val(this._replaceAt(this.target.value,this.start,this.end,e=e==this.ttAM?this.ttPM:this.ttAM)))},_changeCurrentValue:function(e,t,i){e=Number(e);var s=t,a=1,o=!0;return this._getMinMax(s),"hh"==s||"h"==s||"HH"==s||"H"==s?a=this.model.hourInterval:"mm"==s||"m"==s?a=this.model.minutesInterval:("ss"==s||"s"==s)&&(a=this.model.secondsInterval),a<=0||(i?(("hh"==s||"h"==s)&&e>this.max?e=this.min-1+a:e<this.max?e+=a:(o=!1,"hh"!=s&&"h"!=s?e=this.min-1+a:e+=a,this._changeAdjacent(s,i)),"hh"!=s&&"h"!=s||e!=this.max+1?e>this.max+1&&(e-=this.max+1,o&&this._changeAdjacent(s,i)):o&&this._changeAdjacent(s,i),"hh"!=s&&"h"!=s&&e==this.max+1&&(e=this.min,o&&this._changeAdjacent(s,i))):("hh"!=s&&"h"!=s&&e>this.min||("hh"==s||"h"==s)&&e>this.min&&e<=this.max?e-=a:"hh"!=s&&"h"!=s||e!=this.min?(o=!1,e=this.max+1-a,this._changeAdjacent(s,i)):e=this.max+2-a,e<this.min&&(e+=this.max+1,o&&this._changeAdjacent(s,i)))),e},_changeAdjacent:function(e,t){"ss"==e||"s"==e?this._changeMinute(t):"mm"==e||"m"==e?this._changeHour(t):("hh"==e||"h"==e||"HH"==e||"H"==e)&&this._changeMeridian()},_valueChange:function(){this._raiseChangeEvent()},_beforeChange:function(e){return this._raiseEvent("beforeChange")||this.element.val(e.text()),!0},_raiseChangeEvent:function(e,t){return this._previousValue=e=e===i?this.model.value:e,e!=(this.target.value?this.target.value:null)&&(this.isValidState=!!(this._checkMinMax(this.target.value)&&this._isValid(this.target.value,this.model.enableStrictMode)||!this.target.value),this.model.value=this._isValid(this.target.value,!0)&&this._checkMinMax(this.target.value)?this.target.value:null,this.model.value||this.model.enableStrictMode||this._setTime(this.model.value),this.model.value!=this._previousValue&&(this._raiseEvent("change",t),this._raiseEvent("_change",t),!0))},_raiseEvent:function(e,t){var i={value:this.model.value,prevTime:this._previousValue};return"change"==e&&(i.isInteraction=!t),this._trigger(e,i)},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=-1;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),e>=7&&e<8)return!0}return!1},_replaceAt:function(e,t,i,s){return e.substring(0,t)+s+e.substring(i)},_localizeTime:function(i){return i?e.trim(t.format(this._createObject(i),this.model.timeFormat,this.model.locale)):null},_localizeMeridian:function(i){return e.trim(t.format(i,"tt",this.model.locale))},_compareTime:function(e,t,i){return(i=!!i)?this._parse(e)>=this._parse(t):this._parse(e)>this._parse(t)},_isValid:function(e,t){return(e=this._createObject(e,t))&&"function"==typeof e.getTime&&isFinite(e.getTime())},_parse:function(e){return Date.parse(this._createObject(e))},_setEmptyDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(2e3),t},_createObject:function(e,i){var s,a,o=null;if("string"==typeof e){var r=this._setModelOption?this._preTimeformat:this.model.timeFormat,n=t.preferredCulture(this.model.locale).calendar.patterns.d,l=t.format(new Date("1/1/2000"),n,this.model.locale);o=t.parseDate(l+" "+e,n+" "+r,this.model.locale),(this._extISORegex.exec(e)||this._basicISORegex.exec(e))&&(this.model.value=o=this._timeFromISO(e)),this._setModelOption=!1,o||(s=new Date(e),o=isNaN(Date.parse(s))||t.isNullOrUndefined(e)?this._dateTimeInternal&&""!=e?new Date("1/1/2000 "+e):null:this._setEmptyDate(e))}else"number"==typeof e?o=new Date(e):e instanceof Date&&(o=this._setEmptyDate(e));return o&&!this._dateTimeInternal&&i&&(a=this._localizeTime(o),this._ensureTimeRange(a)&&(o=null)),o},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"mousedown",this._mouseDownOnInput),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._keyUpOnInput)}}),t.TimePicker.Locale=t.TimePicker.Locale||{},t.TimePicker.Locale.default=t.TimePicker.Locale["en-US"]={watermarkText:"select a time"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDateTimePicker","ej.DateTimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,_rootCSS:"e-datetimepicker",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},_requiresID:!0,defaults:{cssClass:"",locale:"en-US",readOnly:!1,showRoundedCorner:!1,enableRTL:!1,htmlAttributes:{},allowEdit:!0,enabled:!0,value:"",name:null,minDateTime:new Date("1/1/1900 12:00:00 AM"),maxDateTime:new Date("12/31/2099 11:59:59 PM"),height:"",width:"",dateTimeFormat:"",showPopupButton:!0,enableStrictMode:!1,buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"},watermarkText:"Select datetime",enablePersistence:!1,interval:30,timeDisplayFormat:"",timePopupWidth:105,popupPosition:"bottom",dayHeaderFormat:"short",startLevel:"month",depthLevel:"",startDay:-1,stepMonths:1,showOtherMonths:!0,specialDates:null,highlightWeekend:!1,enableAnimation:!0,headerFormat:"MMMM yyyy",validationRules:null,validationMessage:null,validationMessages:null,timeDrillDown:{enabled:!1,interval:5,showMeridian:!1,autoClose:!0,showFooter:!0},beforeOpen:null,beforeClose:null,open:null,close:null,change:null,create:null,destroy:null,focusIn:null,focusOut:null,disableDateTimeRanges:null,timeZone:!0,disableTimeRanges:null},dataTypes:{allowEdit:"boolean",cssClass:"string",locale:"string",readOnly:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",enabled:"boolean",enableAnimation:"boolean",dateTimeFormat:"string",showPopupButton:"boolean",buttonText:"data",watermarkText:"string",enablePersistence:"boolean",enableStrictMode:"boolean",interval:"number",timeDrillDown:"data",timeDisplayFormat:"string",dayHeaderFormat:"string",startLevel:"string",depthLevel:"string",startDay:"number",stepMonths:"number",showOtherMonths:"boolean",highlightWeekend:"boolean",specialDates:"data",headerFormat:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data",disableDateTimeRanges:"data",disableTimeRanges:"data"},_setModel:function(i){var s,a,o,r,n,l=!1;for(s in i)switch("allowEdit"!=s&&"readOnly"!=s&&"enabled"!=s&&"validationRules"!=s&&"validationMessages"!=s&&"enableStrictMode"!=s&&"height"!=s&&"width"!=s&&"showPopupButton"!=s&&"dateTimeFormat"!=s&&"watermarkText"!=s&&"htmlAttributes"!=s&&(this.popup||this._renderDropdown()),s){case"allowEdit":this._changeEditable(i[s]);break;case"cssClass":this._changeSkin(i[s]);break;case"locale":this._localize(i[s]);break;case"readOnly":this._readOnly(i[s]);break;case"showRoundedCorner":this._setRoundedCorner(i[s]);break;case"enableRTL":this._setRtl(i[s]);break;case"enabled":this._enabled(i[s]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=i[s],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=i[s],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"value":i[s]=this._setValue(i[s]),this._specificFormat()&&(this._stopRefresh=!0),l=!0,this._prevDateTime=this._prevDateTimeVal||this._preVal;break;case"enableStrictMode":this.model.enableStrictMode=i[s],l=!0;break;case"minDateTime":o=this._stringToObject(i[s]),a=this._getFormat(o,this.timePicker.model.timeFormat),this._isValidDate(o)?(this.datePicker.option("minDate",o),this.datePicker.model.value&&this.datePicker.model.value.toDateString()==this.datePicker.model.minDate.toDateString()&&this.timePicker.option("minTime",a),i[s]=o,this.model.minDateTime=o):i[s]=this.model[s],l=!0;break;case"maxDateTime":o=this._stringToObject(i[s]),r=this._getFormat(i[s],this.timePicker.model.timeFormat),this._isValidDate(o)?(this.datePicker.option("maxDate",o),this.datePicker.model.value&&this.datePicker.model.value.toDateString()==this.datePicker.model.maxDate.toDateString()&&this.timePicker.option("maxTime",r),i[s]=o,this.model.maxDateTime=o):i[s]=this.model[s],l=!0;break;case"height":this.wrapper.height(i[s]);break;case"width":this.wrapper.width(i[s]);break;case"dateTimeFormat":this.model.dateTimeFormat=i[s],this.isValidState&&this._setValue(this.model.value);break;case"showPopupButton":this._showButton(i[s]);break;case"watermarkText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options[s]=this.model.watermarkText=i[s],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"buttonText":t.isNullOrUndefined(this._options)||(this._options.buttonText=this.model.buttonText=i[s]),this._localizedLabels.buttonText=this.model.buttonText,this._buttonText(i[s]);break;case"interval":this._updateTimeHeight(),this.timePicker.option("interval",i[s]);break;case"timeDisplayFormat":this._updateTimeHeight(),this.timePicker.option("timeFormat",i[s]);break;case"disableDateTimeRanges":this._disabledDate&&(this._disabledDates=!1),this.model.disableDateTimeRanges=i[s],this._setValue(this.model.value);break;case"disableTimeRanges":this.model.disableTimeRanges=i[s],this.timePicker.option("disableTimeRanges",this.model.disableTimeRanges);break;case"timePopupWidth":this._updateTimeHeight(),i[s]="string"==typeof(n=i[s])&&-1!=n.indexOf("%")||"string"==typeof n?parseInt(n)>0?n:105:n>0?n:105,this.timePicker.option("popupWidth",i[s]);break;case"dayHeaderFormat":this.datePicker.option("dayHeaderFormat",i[s]);break;case"startLevel":this.datePicker.option("startLevel",i[s]);break;case"depthLevel":this.datePicker.option("depthLevel",i[s]);break;case"startDay":this.datePicker.option("startDay",i[s]),this.model.startDay=this.datePicker.model.startDay,i[s]=this.model.startDay;break;case"stepMonths":this.datePicker.option("stepMonths",i[s]);break;case"showOtherMonths":this.datePicker.option("showOtherMonths",i[s]);break;case"highlightWeekend":this.datePicker.option("highlightWeekend",i[s]);break;case"specialDates":this.datePicker.option("specialDates",i[s]),this.model.specialDates=this.datePicker.model.specialDates;break;case"headerFormat":this.datePicker.option("headerFormat",i[s]);break;case"htmlAttributes":this._addAttr(i[s]);break;case"popupPosition":this.model.popupPosition=i[s],this._setListPosition();break;case"timeDrillDown":t.isNullOrUndefined(i[s].enabled)||(this.model.timeDrillDown.enabled=i[s].enabled,this._changeDesign()),t.isNullOrUndefined(i[s].interval)||(this.model.timeDrillDown.interval=i[s].interval,this._generateMins(e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)))),t.isNullOrUndefined(i[s].showMeridian)||(this.model.timeDrillDown.showMeridian=i[s].showMeridian,this._sfTimeHour.empty(),this._renderHourTable()),t.isNullOrUndefined(i[s].showFooter)||(this.model.timeDrillDown.showFooter=i[s].showFooter,this._changeDesign())}l&&this._validateMinMax(),this._valueChange(!0),"value"==s&&(i[s]=this.model.value),this.popup&&this._updateTimeHeight(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.isPopupOpen&&this._hideResult(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this.element.removeClass("e-js e-input").removeClass(t.util.getNameSpace(this.sfType)),this.element.removeAttr(" type aria-atomic aria-live tabindex aria-expanded aria-disabled placeholder role"),this._cloneElement[0].hasAttribute("name")||this.element.removeAttr("name"),t.isNullOrUndefined(this.datePicker)||this.datePicker.destroy(),t.isNullOrUndefined(this.timePicker)||this.timePicker.destroy(),this.popup&&this.popup.remove()},_initDisableTimeRanges:function(e){for(var i,s,a,o,r=this._getDateObj(e,this.datePicker.model.dateFormat),n=0;n<this.model.disableDateTimeRanges.length;n++)if(t.isNullOrUndefined(this.model.disableDateTimeRanges[n].endDateTime)&&(this.model.disableDateTimeRanges[n].endDateTime=this.model.disableDateTimeRanges[n].startDateTime),this.model.disableDateTimeRanges[n].startDateTime instanceof Date||this.model.disableDateTimeRanges[n].endDateTime instanceof Date?(i=this._getFormat(this.model.disableDateTimeRanges[n].startDateTime,this.datePicker.model.dateFormat),s=this._getFormat(this.model.disableDateTimeRanges[n].endDateTime,this.datePicker.model.dateFormat)):(i=this.model.disableDateTimeRanges[n].startDateTime.split(" ")[0],s=this.model.disableDateTimeRanges[n].endDateTime.split(" ")[0]),a=new Date(this.model.disableDateTimeRanges[n].startDateTime),o=new Date(this.model.disableDateTimeRanges[n].endDateTime),i==s){if(this._compare(r,this._setEmptyTime(this.model.disableDateTimeRanges[n].startDateTime))){var l,d=this._getFormat(a,this.timePicker.model.timeFormat),h=this._getFormat(o,this.timePicker.model.timeFormat);return(l=[]).push({startTime:d,endTime:h}),void this.timePicker.option("disableTimeRanges",l)}this.timePicker.option("disableTimeRanges",this._defaultMinVal()),this._disabledDates||this.model.disableDateTimeRanges[n].endDateTime!=this.model.disableDateTimeRanges[n].startDateTime||this.model.disableDateTimeRanges[n].endDateTime instanceof Date==0&&this._getFormat(this.model.disableDateTimeRanges[n].endDateTime,this.model.dateTimeFormat)==this._getFormat(this.model.disableDateTimeRanges[n].endDateTime,this.model.dateFormat)&&t.isNullOrUndefined(this.model.disableDateTimeRanges[n].endDateTime.split(" ")[1])&&this._between.push(new Date(this.model.disableDateTimeRanges[n].endDateTime))}else if(i!=s){if(this._compare(r,this._setEmptyTime(this.model.disableDateTimeRanges[n].startDateTime))||this._compare(r,this._setEmptyTime(this.model.disableDateTimeRanges[n].endDateTime)))return d=this.timePicker.model.minTime,h=this.timePicker.model.maxTime,this.datePicker.model.value.toDateString()==new Date(this.model.disableDateTimeRanges[n].startDateTime).toDateString()&&(d=this._getFormat(new Date(this.model.disableDateTimeRanges[n].startDateTime),this.timePicker.model.timeFormat)),this.datePicker.model.value.toDateString()==new Date(this.model.disableDateTimeRanges[n].endDateTime).toDateString()&&(h=this._getFormat(new Date(this.model.disableDateTimeRanges[n].endDateTime),this.timePicker.model.timeFormat)),(l=[]).push({startTime:d,endTime:h}),void this.timePicker.option("disableTimeRanges",l);this._disabledDates||(d=this._getFormat(new Date(this.model.disableDateTimeRanges[n].startDateTime),this.timePicker.model.timeFormat),h=this._getFormat(new Date(this.model.disableDateTimeRanges[n].endDateTime),this.timePicker.model.timeFormat),d==this.timePicker.model.minTime&&this._between.push(new Date(this.model.disableDateTimeRanges[n].startDateTime)),this.model.disableDateTimeRanges[n].endDateTime instanceof Date==0&&this._getFormat(this.model.disableDateTimeRanges[n].endDateTime,this.model.dateTimeFormat)==this._getFormat(new Date(this.model.disableDateTimeRanges[n].endDateTime),this.datePicker.model.dateFormat)&&(h=this.timePicker.model.maxTime),h==this.timePicker.model.maxTime&&this._between.push(new Date(this.model.disableDateTimeRanges[n].endDateTime)))}},_disableBetweenDates:function(){for(var e=0;e<this.model.disableDateTimeRanges.length;e++)for(var t=this._setEmptyTime(this.model.disableDateTimeRanges[e].startDateTime),i=(this._getFormat(new Date(this.model.disableDateTimeRanges[e].startDateTime),this.timePicker.model.timeFormat),this._getFormat(new Date(this.model.disableDateTimeRanges[e].endDateTime),this.timePicker.model.timeFormat),this._setEmptyTime(this.model.disableDateTimeRanges[e].endDateTime));t<i;)t.setDate(t.getDate()+1),new Date(t)<i&&this._between.push(new Date(t));this._datesDisabled=!0},_init:function(e){if(this._cloneElement=this.element.clone(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._options=e,this._ISORegex(),this._isSupport=document.createElement("input").placeholder!=i,this._validateMeridian(),this._checkAttribute(),this._initialize(),this._initial=!0,this._interval=60,this._render(),this._wireEvents(),this._addAttr(this.model.htmlAttributes),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._removeWatermark(),e&&e.value!=i&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_changeDesign:function(){if(this.model.timeDrillDown.enabled){var t=this.model.timeDrillDown.showFooter?"block":"none";this.popup.addClass("e-drill-down"),this._timeContainer.css("display","none"),this._buttonContainer.css("display","none"),this.datePicker.option("showFooter",this.model.timeDrillDown.showFooter),e(".e-footer",this._sfTimeHour).css("display",t),e(".e-footer",this._sfTimeMins).css("display",t)}else this.popup.removeClass("e-drill-down"),this._sfTimeHour.hide(),this._sfTimeMins.hide(),this._updateTimeHeight(),this._dateContainer.show(),this._timeContainer.show(),this._buttonContainer.show(),this.datePicker.option("showFooter",!1),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle()},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_checkAttribute:function(){this.model.value=""===this.model.value?this.element[0].value:this.model.value,this._options.minDateTime||(this.model.minDateTime=this.element[0].min),this._options.maxDateTime||(this.model.maxDateTime=this.element[0].max),t.isNullOrUndefined(this._options.readOnly)&&(this.model.readOnly=this.element.is("[readonly]")),t.isNullOrUndefined(this._options.enabled)&&(this.model.enabled=!this.element.is("[disabled]"))},_setValidation:function(){var i,s,a,o,r;for(a in this.element.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessages)a==r&&(o=this.model.validationMessages[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_validateDisableRanges:function(){for(var e,t=0;t<this.model.disableDateTimeRanges.length;t++)e=this.model.value,new Date(this.model.value).getTime()>=new Date(this.model.disableDateTimeRanges[t].startDateTime).getTime()&&new Date(this.model.value).getTime()<=new Date(this.model.disableDateTimeRanges[t].endDateTime).getTime()&&(this.model.value=null),null==this.model.value&&null!=e&&this.model.enableStrictMode&&(this.isValidState=!1),this.isValidState&&this.element.val(this._getFormat(this.model.value,this.model.dateTimeFormat))},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"disabled"==a?s._enabled(!1):"readOnly"==a?s._readOnly(!0):"style"==a?s.wrapper.attr(i,e):"id"==a?(s.wrapper.attr(i,e+"_wrapper"),s.element.attr(i,e)):t.isValidAttr(s.element[0],a)?s.element.attr(a,e):s.wrapper.attr(a,e)}))},_validateMeridian:function(){var e=t.preferredCulture(this.model.locale);e&&(this.model.locale="en"==e.name?"en-US":e.name),(t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.timeDrillDown)||t.isNullOrUndefined(this._options.timeDrillDown.showMeridian))&&(this.model.timeDrillDown.showMeridian=!t.isNullOrUndefined(t.preferredCulture(this.model.locale).calendars.standard.AM))},_initialize:function(){var i,s,a,o;this.popup=null,this.isPopupOpen=!1,this.isValidState=!0,this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.buttonText)||e.extend(this._localizedLabels.buttonText,this._options.buttonText),t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText)),this._localizedLabelToModel(),-1==this.model.startDay&&(this.model.startDay=t.preferredCulture(this.model.locale).calendar.firstDay),this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this._isIE9="msie"==t.browserInfo().name&&"9.0"==t.browserInfo().version,this.model.dateTimeFormat&&this.model.timeDisplayFormat||this._getDateTimeFormat(),(i=!this.model.value||"object"==typeof JSON&&"{}"===JSON.stringify(this.model.value)?null:this.model.value instanceof Date?this.model.value:(s=t.parseDate(this.model.value,this.model.dateTimeFormat,this.model.locale))||((s=this._checkJSONString(this.model.value))?s:null))&&(this.model.value=i),(a=this.model.minDateTime=this._stringToObject(this.model.minDateTime))&&this._isValidDate(a)||(this.model.minDateTime=this.defaults.minDateTime),(o=this.model.maxDateTime=this._stringToObject(this.model.maxDateTime))&&this._isValidDate(o)||(this.model.maxDateTime=this.defaults.maxDateTime)},_checkJSONString:function(e){var i,s=new Date(e);if(isNaN(Date.parse(s))){if(this._extISORegex.exec(e)||this._basicISORegex.exec(e))return this._dateFromISO(e)}else if(s.toJSON()===this.model.value||s.toGMTString()===this.model.value||s.toISOString()===this.model.value||s.toLocaleString()===this.model.value||s.toString()===this.model.value||s.toUTCString()===this.model.value){if(this.model.timeZone)return new Date(new Date(s).getTime()+36e5*t.serverTimezoneOffset);if(e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i)&&e.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i).length>0)return i=(i=e.split("Z"))[0],new Date(i)}else if("string"==typeof e)return this._dateFromISO(e)},_render:function(){this._renderWrapper(),this._renderIcon(),this._setDimentions(),this._checkProperties()},_renderWrapper:function(){if(this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive",tabindex:"0",role:"combobox","aria-expanded":"false"}),this.wrapper=t.buildTag("span.e-datetime-wrap e-widget "+this.model.cssClass+"#"+this.element[0].id+"_wrapper").insertAfter(this.element),this._setValue(this.model.value),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),t.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),!this._isSupport){this._hiddenInput=t.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var i=this;e(this._hiddenInput).focus((function(){i.element.focus()}))}},_removeWatermark:function(){""!=this.element.val()&&!this._isSupport&&this._hiddenInput&&this._hiddenInput.css("display","none")},_renderIcon:function(){if(!this.model.showPopupButton)return!1;this.datetimeIcon=t.buildTag("span.e-select","",{}).attr(this._isIE8?{unselectable:"on"}:{});var e=t.buildTag("span.e-icon e-datetime","",{},{"aria-label":"select"}).attr(this._isIE8?{unselectable:"on"}:{});this.datetimeIcon.append(e),this.container.append(this.datetimeIcon).addClass("e-padding"),this._on(this.datetimeIcon,"click",this._iconClick),this._on(this.datetimeIcon,"mousedown",(function(e){e.preventDefault()}))},_setDimentions:function(){this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this.wrapper.height(this.model.height),this.wrapper.width(this.model.width)},_renderDropdown:function(){var i,s,a,o,r,n=e("#"+this.element[0].id+"_popup").get(0);n&&e(n).remove(),this.popup=t.buildTag("div.e-datetime-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.element[0].id+"_popup").css("visibility","hidden"),t.isTouchDevice()||this.popup.addClass("e-ntouch"),e("body").append(this.popup),this._renderControls(),i=t.buildTag("div.e-header",this._localizedLabels.buttonText.timeTitle).attr(this._isIE8?{unselectable:"on"}:{}),this._dateContainer=t.buildTag("div.e-datecontainer").append(this.datePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._timeContainer=t.buildTag("div.e-timecontainer").append(i,this.timePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._drillDownContainer=t.buildTag("div.e-drillDowncontainer").append().attr(this._isIE8?{unselectable:"on"}:{}),s=t.buildTag("div.e-popup-container").append(this._dateContainer,this._timeContainer,this._drillDownContainer).attr(this._isIE8?{unselectable:"on"}:{}),a=t.buildTag("div.e-dt-button e-dt-today e-btn e-select e-flat",this._localizedLabels.buttonText.today).attr(this._isIE8?{unselectable:"on"}:{}),o=t.buildTag("div.e-dt-button e-dt-now e-btn e-select e-flat",this._localizedLabels.buttonText.timeNow).attr(this._isIE8?{unselectable:"on"}:{}),r=t.buildTag("div.e-dt-button e-dt-done e-btn e-select e-flat",this._localizedLabels.buttonText.done).attr(this._isIE8?{unselectable:"on"}:{}),this._buttonContainer=t.buildTag("div.e-button-container").append(a,o,r).attr(this._isIE8?{unselectable:"on"}:{}),this._renderDrillDown(),this.popup.append(s,this._buttonContainer),this._checkForResponsive(),this._updateTimeHeight(),this._bindOperations(),this._updateValues(),this.popup.css({visibility:"visible",display:"none"}),this._on(a,"click",this._todayClick),this._on(o,"click",this._nowClick),this._on(r,"click",this._doneClick),this.popup.on("mouseenter touchstart",e.proxy((function(){this._popClose=!0}),this)),this.popup.on("mouseleave touchend",e.proxy((function(){this._popClose=!1}),this)),this._changeDesign()},_renderControls:function(){this._renderDateControl(),this._renderTimeControl();var e=t.buildTag("span").append(this.datePicker.wrapper,this.timePicker.wrapper);e.find("span").css("display","none"),this.popup.append(e)},_renderDrillDown:function(){this._renderHourPopup(),this._renderMinsPopup()},_renderHourPopup:function(){this._sfTimeHour=t.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-hours ","",{},{id:this._id?"e-hours-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),t.isTouchDevice()||this._sfTimeHour.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeHour),this._renderHourTable()},_renderHourTable:function(){var i,s,a,o,r,n,l,d,h,c,u,p;if(t.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-prev").append(t.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-text").append(t.buildTag("span.e-hours-headertext").text("October 2015").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-next").append(t.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour),this._interval<1)return!1;l=6e4*this._interval,d=this.model.timeDrillDown.showMeridian?2:1,o=this.model.timeDrillDown.showMeridian?6:4;var m=this.model.timeDrillDown.showMeridian?"hh":"HH:00",g=["AM","PM"],_=0,f="";for(i=this.timePicker._createObject("12:00:00 AM"),s=this.timePicker._createObject(this.model.timeDrillDown.showMeridian?"11:59:59 AM":"11:59:59 PM"),h=0;h<d;h++){for(this.model.timeDrillDown.showMeridian&&(f=g[h].toLowerCase(),c=t.isNullOrUndefined(t.preferredCulture(this.model.locale).calendars.standard[g[h]])?"":t.preferredCulture(this.model.locale).calendars.standard[g[h]][0],t.buildTag("div.e-header-"+f).attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-text").append(t.buildTag("span.e-hours-meridiantxt-"+f).text(c).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour)),r=t.buildTag("table.e-dp-viewhours","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeHour.append(r),u=t.buildTag("tbody.e-timepicker-hours").attr(this._isIE8?{unselectable:"on"}:{}),n=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{});this.timePicker._compareTime(s,i,!0);)a=this._localizeTime(i,m),p=t.buildTag("td.e-hour e-state-default",a),this.model.timeDrillDown.showMeridian&&p.addClass("e-hour-"+f),this._isIE8&&p.attr("unselectable","on"),n.append(p),++_>=o&&(_=0,u.append(n),n=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),i=this.timePicker._createObject(i).getTime()+l;r.append(u),this.model.timeDrillDown.showMeridian&&(i=this.timePicker._createObject("12:00:00 PM"),s=this.timePicker._createObject("11:59:59 PM"))}t.buildTag("div.e-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this._sfTimeHour),e(".e-footer-text",this._sfTimeHour).html(this._localizedLabels.buttonText.timeNow),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this.datePicker.model.value,"dd MMM yyyy")),this._on(this._sfTimeHour.find(".e-hour"),"click",e.proxy(this._hourNavHandler,this)),this._on(e(".e-next",this._sfTimeHour),"click",e.proxy(this._prevNextHourHandler,this)),this._on(e(".e-prev",this._sfTimeHour),"click",e.proxy(this._prevNextHourHandler,this)),this._on(e(".e-footer",this._sfTimeHour),"click",this._todayBtn),e(".e-hours-headertext",this._sfTimeHour).on("click",e.proxy(this._forwardNavHandler,this)),this._sfTimeHour.hide()},_localizeTime:function(i,s){return e.trim(t.format(this.timePicker._createObject(i),s,this.model.locale))},_renderMinsPopup:function(){var i,s,a,o,r,n,l,d,h;if(this._sfTimeMins=t.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-minitues ","",{},{id:this._id?"e-time-minitues-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),t.isTouchDevice()||this._sfTimeMins.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeMins),t.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-prev").append(t.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-text").append(t.buildTag("span.e-minitues-headertext").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(t.buildTag("span.e-next").append(t.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),t.buildTag("div.e-mins-header").attr(this._isIE8?{unselectable:"on"}:{}).append(t.buildTag("span.e-text").append(t.buildTag("span.e-minitues-meridiantxt").text("AM").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),i=t.buildTag("table.e-dp-viewmins","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeMins.append(i),s=t.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),this._intervall<1)return!1;for(n=6e4*this._interval,a=this.timePicker._createObject("12:00:00 AM"),o=this.timePicker._createObject("11:59:59 PM"),l=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),d=0;this.timePicker._compareTime(o,a,!0);)r=this._localizeTime(a,"HH:00"),h=t.buildTag("td.e-mins e-state-default",r),this._isIE8&&h.attr("unselectable","on"),l.append(h),++d>=4&&(d=0,s.append(l),l=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),a=this.timePicker._createObject(a).getTime()+n;i.append(s),e(".e-minitues-headertext",this._sfTimeMins).text(e(".e-hours-headertext",this._sfTimeHour).text()),t.buildTag("div.e-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this._sfTimeMins),e(".e-footer-text",this._sfTimeMins).html(this._localizedLabels.buttonText.timeNow),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this.datePicker.model.value,"dd MMM yyyy")),this.model.timeDrillDown.showMeridian||e(".e-mins-header",this._sfTimeMins).css("display","none"),this._on(i.find(".e-mins"),"click",e.proxy(this._minsNavHandler,this)),this._on(e(".e-next",this._sfTimeMins),"click",e.proxy(this._prevNextMinsHandler,this)),this._on(e(".e-prev",this._sfTimeMins),"click",e.proxy(this._prevNextMinsHandler,this)),this._on(e(".e-footer",this._sfTimeMins),"click",this._todayBtn),e(".e-minitues-headertext",this._sfTimeMins).on("click",e.proxy(this._forwardNavHandler,this)),this._sfTimeMins.hide()},_todayBtn:function(){this._nowClick(),this._hideResult()},_hourNavHandler:function(i){var s,a;if(this.model.readOnly||!this.model.enabled||i&&e(i.target).hasClass("e-disable"))return!1;i&&i.type&&i.preventDefault(),e("table",this._sfTimeHour).find("td").removeClass("e-active"),e(i.target).addClass("e-active"),this._sfTimeHour.hide(),this._sfTimeMins.show(),this._addFocus(this._sfTimeMins),this.model.timeDrillDown.showMeridian?(a=e(i.target).hasClass("e-hour-am")?"AM":"PM",s=e(i.target).text()+":00 "+a):s=e(i.target).text(),this._generateMins(s);var o=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),r=e.trim(t.format(this.timePicker._createObject(o),"HH:mm",this.model.locale)),n=e.trim(t.format(this.timePicker._createObject(o),"HH:00",this.model.locale)),l=(this.timePicker._parse(r)-this.timePicker._parse(n))/(6e4*this.model.timeDrillDown.interval);l=Math.ceil(l),this._hoverMins=this._setFocusByIndex("mins",l,this._sfTimeMins)},_minsNavHandler:function(i){if(this.model.readOnly||!this.model.enabled||i&&e(i.target).hasClass("e-disable"))return!1;if(i&&i.type&&i.preventDefault(),e("table",this._sfTimeMins).find("td").removeClass("e-active").removeClass("e-state-hover"),e(i.target).addClass("e-active"),this.model.timeDrillDown.showMeridian){var s=e(i.target).text()+" "+t.format(this._datetimeValue,"tt","en-US");s=this.timePicker._localizeTime(s)}else s=e(i.target).text();this.timePicker.option("value",s),this.datePicker.option("value",this._datetimeValue),this._datetimeValue=new Date(this.model.value.toString()),this._updateInput(),this.model.timeDrillDown.autoClose&&this._hideResult(i)},_generateMins:function(i){var s,a,o=e("table",this._sfTimeMins);o.empty(),this.model.timeDrillDown.showMeridian?e(".e-mins-header",this._sfTimeMins).show():e(".e-mins-header",this._sfTimeMins).hide(),s=this.model.timeDrillDown.showMeridian?"hh:mm":"HH:mm",e(".e-minitues-headertext",this._sfTimeMins).text(e(".e-hours-headertext",this._sfTimeHour).text());var r,n,l,d,h=t.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),c=0,u=6e4*this.model.timeDrillDown.interval;for(r=this.timePicker._createObject(i),this._datetimeValue.setHours(r.getHours()),l=this.timePicker._createObject(r).getTime()+354e4,n=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),h.append(n);this.timePicker._compareTime(l,r,!0);)c>=4&&(c=0,n=t.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),h.append(n)),d=this._localizeTime(r,s),a=t.buildTag("td.e-mins e-state-default",d),this._isIE8&&a.attr("unselectable","on"),n.append(a),c++,r=this.timePicker._createObject(r).getTime()+u;o.append(h),e(".e-mins-header",this._sfTimeMins).find(".e-minitues-meridiantxt").text(t.format(this._datetimeValue,"tt",this.model.locale)),this._disableRange("mins"),this._on(o.find(".e-mins"),"click",e.proxy(this._minsNavHandler,this))},_prevNextHourHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t.preventDefault();var i=!!(e(t.target).is("a")?e(t.target.parentNode):e(t.target)).hasClass("e-prev");this._processNextPrev(i,this._sfTimeHour)},_prevNextMinsHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t.preventDefault();var i=!!(e(t.target).is("a")?e(t.target.parentNode):e(t.target)).hasClass("e-prev");this._processNextPrev(i,this._sfTimeMins)},_processNextPrev:function(i,s){var a;if(i&&s.find(".e-arrow-sans-left").hasClass("e-disable")||!i&&s.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch(e("table",s).get(0).className){case"e-dp-viewhours":a=i?-1:1,this._datetimeValue.setDate(this._datetimeValue.getDate()+a),this._disableRange("hour"),this._hoverHour=this._setFocusByIndex("hour",this._hoverHour,this._sfTimeHour),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy"));break;case"e-dp-viewmins":a=i?-1:1,this._datetimeValue.setHours(this._datetimeValue.getHours()+a),this._generateMins(e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)));var o=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),r=e.trim(t.format(this.timePicker._createObject(o),"HH:mm",this.model.locale)),n=e.trim(t.format(this.timePicker._createObject(o),"HH:00",this.model.locale)),l=(this.timePicker._parse(r)-this.timePicker._parse(n))/(6e4*this.model.timeDrillDown.interval);l=Math.ceil(l),this._disableRange("mins"),this._hoverMins=this._setFocusByIndex("mins",l,this._sfTimeMins),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy"))}},_forwardNavHandler:function(i,s){if(this.model.readOnly||!this.model.enabled)return!1;switch(i&&i.preventDefault(),i?e(i.currentTarget).get(0).className:s.find(".e-text>span").get(0).className){case"e-hours-headertext":this._sfTimeHour.css("display","none"),this._dateContainer.css("display","block"),this._addFocus(this._dateContainer.find(".e-datepicker"));break;case"e-minitues-headertext":this._sfTimeMins.css("display","none"),this._disableRange("hour");var a=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),o=e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),r=(this.timePicker._parse(o)-this.timePicker._parse(a))/(6e4*this._interval);r=Math.floor(r),this._hoverHour=this._setFocusByIndex("hour",r,this._sfTimeHour),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy")),this._sfTimeHour.css("display","block"),this._addFocus(this._sfTimeHour)}},_renderDateControl:function(){var e=t.buildTag("input#"+this.element[0].id+"_date","",{},{type:"text"});this.popup.append(e),e.ejDatePicker({height:"0px",width:"0px",displayInline:!0,showDateIcon:!1,showFooter:!!this.model.timeDrillDown.enabled&&this.model.timeDrillDown.showFooter,enableStrictMode:!0,buttonText:this._localizedLabels.buttonText.today,minDate:this._stringToObject(this.model.minDateTime),maxDate:this._stringToObject(this.model.maxDateTime),dayHeaderFormat:this.model.dayHeaderFormat,startLevel:this.model.startLevel,depthLevel:this.model.depthLevel,startDay:this.model.startDay,stepMonths:this.model.stepMonths,showOtherMonths:this.model.showOtherMonths,specialDates:this.model.specialDates,highlightWeekend:this.model.highlightWeekend,headerFormat:this.model.headerFormat,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale}),t.isNullOrUndefined(this.model.value)||(this._datetimeValue=new Date(this.model.value.toString())),this.datePicker=e.data("ejDatePicker"),this._datetimeValue=new Date(this.datePicker._dateValue.toString()),this.model.startDay=this.datePicker.model.startDay,this.datePicker._getInternalEvents=!0,this.datePicker._dt_drilldown=!0,this.datePicker.popup.css({position:"static",display:"block"})},_renderTimeControl:function(){var e,i,s=t.buildTag("input#"+this.element[0].id+"_time","",{},{type:"text"});this.popup.append(s),i="string"==typeof(e=this.model.timePopupWidth)&&-1!=e.indexOf("%")||"string"==typeof e?parseInt(e)>0?e:this.model.timePopupWidth=105:e>0?e:this.model.timePopupWidth=105,s.ejTimePicker({height:"0px",width:"0px",interval:this.model.interval,timeFormat:this.model.timeDisplayFormat,popupWidth:i,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale,disableTimeRanges:this.model.disableTimeRanges}),this.timePicker=s.data("ejTimePicker"),this.timePicker._renderDropdown(),this.timePicker.popup.css({position:"static",display:"block"}),this.timePicker._getInternalEvents=!0,this.timePicker.showDropdown=!0,this.timePicker._dateTimeInternal=!0,this.model.minDateTime&&this._stringToObject(this.model.minDateTime),this.model.maxDateTime&&this._stringToObject(this.model.maxDateTime)},_updateTimeHeight:function(){var e=this.popup.find(".e-timecontainer .e-header").is(":visible")?this.datePicker.popup.height()-this.popup.find(".e-header").height():this.datePicker.popup.height();e=this.popup.hasClass("e-dt-responsive")?"98px":e,this.timePicker.option("popupHeight",e)},_bindOperations:function(){var e=this;this.datePicker.option("layoutChange",(function(){e._updateTimeHeight()})),this.datePicker.option("outOfRange",(function(){e.isValidState=!1})),this.timePicker.option("outOfRange",(function(){e.isValidState=!1})),this.datePicker.option("change",(function(t){e._refreshTimes(t)})),this.datePicker.option("select",(function(t){e._updateInput(t)})),this.datePicker.option("dt_drilldown",(function(t){e.model.timeDrillDown.enabled&&(e._updateInput(t),e._switchToDrilDown(t))})),this.timePicker.option("select",(function(){e._updateInput()}))},_switchToDrilDown:function(){var i;this._dateContainer.hide(),this._sfTimeHour.show(),this._addFocus(this._sfTimeHour),i=new Date(this.model.value.toString()),this._datetimeValue=new Date(i.setHours(this._datetimeValue.getHours(),this._datetimeValue.getMinutes(),this._datetimeValue.getSeconds(),this._datetimeValue.getMilliseconds())),this._disableRange("hour");var s=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),a=e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),o=(this.timePicker._parse(a)-this.timePicker._parse(s))/(6e4*this._interval);o=Math.floor(o),this._hoverHour=this._setFocusByIndex("hour",o,this._sfTimeHour),e(".e-hours-headertext",this._sfTimeHour).text(t.format(this._datetimeValue,"dd MMM yyyy")),e(".e-minitues-headertext",this._sfTimeMins).text(t.format(this._datetimeValue,"dd MMM yyyy"))},_disableRange:function(i){var s,a,o,r,n,l,d="hour"==i?this._interval:this.model.timeDrillDown.interval,h="hour"==i?this._sfTimeHour:this._sfTimeMins,c="hour"==i?"e-hide-hour e-disable":"e-hide-mins e-disable";if(h.find("tbody tr td.e-"+i).removeClass(c),h.find(".e-arrow-sans-left").removeClass("e-disable"),h.find(".e-arrow-sans-right").removeClass("e-disable"),s=this._localizeTime("hour"==i?this.timePicker._createObject("12:00:00 AM"):e.trim(t.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),"HH:00"),this._compareDate(this.model.minDateTime,this._datetimeValue)){if("mins"==i&&this.model.minDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(a=e.trim(t.format(this.timePicker._createObject(this.model.minDateTime),"HH:mm",this.model.locale)),o=(this.timePicker._parse(a)-this.timePicker._parse(s))/(6e4*d),o="hour"==i?Math.floor(o):Math.ceil(o),n=0;n<o;n++)l=h.find("tbody tr td.e-"+i),e(l[n]).addClass(c);h.find(".e-arrow-sans-left").addClass("e-disable")}if(this._compareDate(this.model.maxDateTime,this._datetimeValue)){if("mins"==i&&this.model.maxDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(a=e.trim(t.format(this.timePicker._createObject(this.model.maxDateTime),"HH:mm",this.model.locale)),o=(this.timePicker._parse(a)-this.timePicker._parse(s))/(6e4*d),o=Math.floor(o)+1,r=h.find("tbody tr td.e-"+i).length,n=o;n<r;n++)l=h.find("tbody tr td.e-"+i),e(l[n]).addClass(c);h.find(".e-arrow-sans-right").addClass("e-disable")}},_setFocusByName:function(t,i,s){var a,o,r=s.find("tbody tr td.e-"+t);return e(r).each((function(e,t){t.innerHTML!=i||(a=e)})),(o=r[a])||(o=r.last()),s.find("table td").removeClass("e-state-hover").removeClass("e-active"),e(o).hasClass("e-hide-"+t)||e(o).addClass("e-state-hover"),this._setActiveState(t,s),a},_setFocusByIndex:function(t,i,s){var a,o=s.find("tbody tr td.e-"+t);return(a=o[i])||(a=o.last()),s.find("table td").removeClass("e-state-hover").removeClass("e-active"),e(a).hasClass("e-hide-"+t)||e(a).addClass("e-state-hover"),this._setActiveState(t,s),i},_setActiveState:function(i,s){var a,o,r=s.find("tbody tr td.e-"+i),n=-1;switch(i){case"hour":this._compareDate(this.model.value,this._datetimeValue)&&(o=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),d=e.trim(t.format(this.timePicker._createObject(this.model.value),"HH:00",this.model.locale)),n=(this.timePicker._parse(d)-this.timePicker._parse(o))/(6e4*this._interval),n=Math.floor(n));break;case"mins":if(this._compareDate(this.model.value,this._datetimeValue)&&this.model.value.getHours()===this._datetimeValue.getHours()){var l=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),d=e.trim(t.format(this.timePicker._createObject(l),"HH:mm",this.model.locale)),h=e.trim(t.format(this.timePicker._createObject(l),"HH:00",this.model.locale));n=(this.timePicker._parse(d)-this.timePicker._parse(h))/(6e4*this.model.timeDrillDown.interval),n=Math.ceil(n)}}(a=r[n])&&(s.find("table td").removeClass("e-active"),e(a).removeClass("e-state-hover").addClass("e-active"))},_compareDate:function(e,t){return+new Date(e.toString()).setHours(0,0,0,0)==+new Date(t.toString()).setHours(0,0,0,0)},_updateInput:function(e){var t=+new Date<+this.model.minDateTime||+new Date>+this.model.maxDateTime?this.model.minDateTime:(new Date).setHours(0,0,0,0),i=this._getDate()||new Date(t),s=this._getTime()||this.timePicker._createObject(t);this.model.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),this._updateDateTime(),this._raiseChangeEvent(),this._updateModel(e,!0),e&&(e.cancel=!0)},_updateDateTime:function(){this.isValidState=!0;var e=this._objectToString(this.model.value);this.element.val(e),this._removeWatermark()},_refreshTimes:function(e){var i,s,a=this._getDateObj(e.value,this.datePicker.model.dateFormat);if(!a)return!1;this.isValidState=!0,this._compare(a,this._setEmptyTime(this.model.minDateTime))?(i=this._getFormat(this.model.minDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("minTime",i),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("minTime",this._defaultMinVal()),this._compare(a,this._setEmptyTime(this.model.maxDateTime))?(s=this._getFormat(this.model.maxDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("maxTime",s),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("maxTime",this._defaultMaxVal()),this.timePicker._changeActiveEle(),t.isNullOrUndefined(this.model.disableDateTimeRanges)||this._setDisabledTimeRanges(e)},_setDisabledTimeRanges:function(e){var t=e?e.value:this._setEmptyTime(this.model.value);this._between=[],this._initDisableTimeRanges(t),this._datesDisabled||(this._disableBetweenDates(),this.datePicker.option("blackoutDates",this._between))},_defaultMinVal:function(){var e=(new Date).setHours(0,0,0,0);return t.format(this.timePicker._createObject(e),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_defaultMaxVal:function(){var e=(new Date).setHours(23,59,59,59);return t.format(this.timePicker._createObject(e),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_updateValues:function(){var e=this.model.enableStrictMode&&null==this.model.value?this.element.val():this.model.value;null!=this.model.value&&(this.datePicker.option("value",this.model.value),this.timePicker.option("value",this.model.value)),this._setValue(e),this._validateMinMax(),this._preVal=this.element.val(),this._checkErrorClass()},_specificFormat:function(){var i=t.globalize._getDateParseRegExp(t.globalize.findCulture(this.model.locale).calendar,this.model.dateTimeFormat);return e.inArray("dddd",i.groups)>-1||e.inArray("ddd",i.groups)>-1},_changeEditable:function(t){var i=t?"_on":"_off";this.element.is(":input")&&(t?(this.model.readOnly||this.element.attr("readonly",!1),this.element.off("mousedown",e.proxy(this._showhidePopup,this))):(this.model.readOnly||this.element.attr("readonly","readonly"),this.element.on("mousedown",e.proxy(this._showhidePopup,this))),this[i](this.element,"blur",this._targetBlur),this[i](this.element,"focus",this._targetFocus),this[i](this.element,"keydown",this._keyDownOnInput)),this._change("allowEdit",t)},_setValue:function(e){return!e||"object"==typeof JSON&&"{}"===JSON.stringify(e)?(this.element.val(""),this.model.value=null,this.isValidState=!0,this.wrapper.removeClass("e-valid")):"string"==typeof e?this._extISORegex.exec(e)||this._basicISORegex.exec(e)?this._checkObject(this._dateFromISO(e)):(this.element.val(e),this._updateModel(),this._validateMinMax(),this._checkStrictMode(),this.wrapper.addClass("e-valid")):e instanceof Date&&this._isValidDate(e)&&this._checkObject(e),t.isNullOrUndefined(this.model.disableDateTimeRanges)||this._validateDisableRanges(),this._checkErrorClass(),this.model.value},_checkObject:function(e){e instanceof Date&&this._isValidDate(e)&&(this.model.value=e,this._updateDateTime(),this._validateMinMax(),this._checkStrictMode())},_dateFromISO:function(e){var t,i,s,a,o,r,n,l,d,h=this._extISORegex.exec(e)||this._basicISORegex.exec(e),c="",u="",p="";if(h){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(h[1])){c=this._dates[t][0];break}if(h[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(h[3])){u=(h[2]||" ")+this._times[i][0];break}for(h[4]&&this._zeroRegex.exec(h[4])&&(p="Z"),s=(c+u+p).match(this._tokens),o=[],n=0;n<s.length;n++)l=s[n],r=this._checkLiteral(s[n]),d=this._numberRegex[r?s[n].toLowerCase():l.length]||new RegExp("^\\d{1,"+l.length+"}"),(a=e.match(d))&&(e.substr(0,e.indexOf(a))>=0&&!r&&(s[n].indexOf("M")>=0?o.push(parseInt(a[0])-1):o.push(parseInt(a[0]))),e=e.slice(e.indexOf(a[0])+a[0].length));return"Z"==h[4]?new Date(Date.UTC.apply(null,o)):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}return new Date(e+"")},_checkLiteral:function(e){var t=e.toLowerCase();return"t"==t||"z"==t||":"==t||"-"==t},_validateValue:function(e){var s=t.parseDate(e,this.model.dateTimeFormat,this.model.locale),a=null;this.timePicker!=i&&(a=this._getFormat(s,this.timePicker.model.timeFormat)),!s||s<this.model.minDateTime||s>this.model.maxDateTime||!t.isNullOrUndefined(this.timePicker)&&this.timePicker._ensureTimeRange(a)?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1):(this._change("value",this.model.value),this.isValidState=!0)},_validateMinMax:function(){var e,t,i;if(e=this.model.value?this._stringToObject(this.model.value):null,t=this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime,i=this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime,!e||!t||!i)return!1;t>i&&(this.model.minDateTime=this.model.maxDateTime),e<t&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.popup&&(this.datePicker.option("minDate",this._getFormat(t,this.datePicker.model.dateFormat)),this.timePicker.option("minTime",this._getFormat(t,this.timePicker.model.timeFormat))),this.isValidState=!1):(this._setValue(t),this.isValidState=!0)),e>i&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.popup&&(this.datePicker.option("maxDate",this._getFormat(i,this.datePicker.model.dateFormat)),this.timePicker.option("maxTime",this._getFormat(i,this.timePicker.model.timeFormat))),this.isValidState=!1):(this._setValue(i),this.isValidState=!0)),e<t||e>i||(this.isValidState=!0)},_checkProperties:function(){this.model.readOnly&&this._readOnly(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0),this.model.enableRTL&&this._setRtl(!0),this.model.enabled&&this._enabled(!0),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this._enabled(!0):this._enabled(!1),this.model.name=this._options.name?this.model.name:this.element.attr("name")?this.element.attr("name"):this.element[0].id,this.element.attr("name",this.model.name),this._checkStrictMode(),this._checkErrorClass(),this._setWaterMark()},_checkStrictMode:function(){this.model.enableStrictMode?this.model.enableStrictMode&&(this.isValidState||(this.model.value=null,this.isValidState=!1)):this.isValidState||(this.model.value<this.model.minDateTime?(this.element.val(this._objectToString(this.model.minDateTime)),this.model.value=this.model.minDateTime,this.isValidState=!0):this.model.value>this.model.maxDateTime?(this.element.val(this._objectToString(this.model.maxDateTime)),this.model.value=this.model.maxDateTime,this.isValidState=!0):(this.model.value="",this.element.val(""),this.isValidState=!0))},_targetFocus:function(e){e.preventDefault(),this.isFocused=!0,this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),this._isSupport||this._hiddenInput.css("display","none"),this._prevDateTimeVal=this.element.val(),this.model.showPopupButton||this.model.readOnly||this._showResult(),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),!this.model.showPopupButton&&this.model.readOnly&&this._off(this.element,"click",this._elementClick),this._trigger("focusIn",{value:this.model.value}),this.wrapper.addClass("e-valid")},_targetBlur:function(){var e;this.isFocused=!1,this.wrapper.removeClass("e-focus"),this.model.showPopupButton||this._hideResult(),(e=t.parseDate(this.element.val(),this.model.dateTimeFormat,this.model.locale))&&!this.model.enableStrictMode&&(e<this.model.minDateTime||e>this.model.maxDateTime)&&this.element.val(this._objectToString(e=e<this.model.minDateTime?this.model.minDateTime:this.model.maxDateTime)),null!=t.parseDate(this.element.val(),this.model.dateTimeFormat,this.model.locale)||this.model.enableStrictMode||(null==this._prevDateTimeVal||""==this.element.val()?this.element.val(""):this.element.val(this._preVal)),this._valueChange(),this.model.enableStrictMode?""!=this.element.val()&&this._validateValue(this.element.val()):this.isValidState?this._prevDateTimeVal=this.element.val():(this.element.val(this._prevDateTimeVal),this._preVal=this._prevDateTimeVal,this.model.value=this._stringToObject(this._prevDateTimeVal),this.isValidState=!0),this._isSupport||""!=this.element.val()||this._hiddenInput.css("display","block"),this._checkErrorClass(),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),this._trigger("focusOut",{value:this.model.value}),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._previousDateUpdate()},_previousDateUpdate:function(){return+t.parseDate(this._prevDateTime,this.model.dateTimeFormat)==+t.parseDate(this.element.val(),this.model.dateTimeFormat)||(this._preValString=this._prevDateTime,this._prevDateTime=this.element.val()),this._preValString},_elementClick:function(){this.isPopupOpen||this._showResult()},_keyDownOnInput:function(e){switch(e.keyCode){case 40:e.altKey&&this._showhidePopup();break;case 37:case 39:this.model.timeDrillDown.enabled||e.altKey&&this.isPopupOpen&&(e.preventDefault(),this._addPrevNextFocus(37==e.keyCode));break;case 27:e.preventDefault();case 9:this._hideResult();break;case 13:if(null!=t.parseDate(this.element.val(),this.model.dateTimeFormat)||this.model.enableStrictMode||(null==this._prevDateTimeVal||""==this.element.val()?this.element.val(""):this.element.val(this._preVal)),this._valueChange(),!this.model.timeDrillDown.enabled){this._valueChange(),this.model.enableStrictMode&&this._checkErrorClass();break}}},_addFocus:function(t){t.hasClass("e-focus")||(this._removeFocus(),t.addClass("e-focus"),t.hasClass("e-datepicker e-popup")?e(document).on("keydown",e.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?e(document).on("keydown",e.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-time-hours")?e(document).on("keydown",e.proxy(this._keyDownOnHours,this)):t.hasClass("e-time-minitues")?e(document).on("keydown",e.proxy(this._keyDownOnMinutes,this)):t.hasClass("e-dt-button")&&e(document).on("keydown",e.proxy(this._buttonClick,this)))},_removeFocus:function(){var t=this._getFocusedElement();t.length>0&&(t.removeClass("e-focus"),t.hasClass("e-datepicker e-popup")?e(document).off("keydown",e.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?e(document).off("keydown",e.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-time-hours")?e(document).off("keydown",e.proxy(this._keyDownOnHours,this)):t.hasClass("e-time-minitues")?e(document).off("keydown",e.proxy(this._keyDownOnMinutes,this)):t.hasClass("e-dt-button")&&e(document).off("keydown",e.proxy(this._buttonClick,this)))},_addPrevNextFocus:function(e){var t,i=this._getFocusedElement();i.length>0?i.hasClass("e-datepicker e-popup")?t=this.popup.find(e?".e-dt-done":".e-timecontainer"):i.hasClass("e-timecontainer")?t=this.popup.find(e?".e-datecontainer >.e-datepicker.e-popup":".e-dt-today"):i.hasClass("e-dt-today")?t=this.popup.find(e?".e-timecontainer":".e-dt-now"):i.hasClass("e-dt-now")?t=this.popup.find(e?".e-dt-today":".e-dt-done"):i.hasClass("e-dt-done")&&(t=this.popup.find(e?".e-dt-now":".e-datecontainer >.e-datepicker.e-popup")):t=this.popup.find(e?".e-dt-done":".e-datecontainer >.e-datepicker.e-popup"),this._addFocus(t)},_getFocusedElement:function(){return this.popup.children("div").find("div.e-focus")},_keyDownOnHours:function(e){var t;if(37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode||13==e.keyCode||36==e.keyCode||35==e.keyCode){e.preventDefault&&e.preventDefault(),(t={row:null,col:null}).col=this._sfTimeHour.find("tbody tr td.e-state-hover").index(),t.row=this._sfTimeHour.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this._sfTimeHour.find("tbody tr td.e-active").index()+1,-1!=t.row?(t.row=t.row+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-state-hover").hasClass("e-hour-pm")&&(t.row=t.row+2)):(t.row=this._sfTimeHour.find("tbody tr td.e-active").parent().index()+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-active").hasClass("e-hour-pm")&&(t.row=t.row+2)),this._sfTimeHour.find("table");var i,s=this._sfTimeHour.find("tbody.e-timepicker-hours tr").length;i=this._changeRowCol(t,e.keyCode,s,this.model.timeDrillDown.showMeridian?6:4,"hours",e.ctrlKey),e.ctrlKey||(this._hoverHour=this._sfTimeHour.find("tbody.e-timepicker-hours tr td").index(i)),e.ctrlKey||(this._sfTimeHour.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"))}},_changeRowCol:function(t,i,s,a,o,r){var n,l,d,h,c,u,p={parent:null,child:null};switch(o){case"hours":n="tbody.e-timepicker-hours tr td.e-hour",p.parent=".e-timepicker-hours",p.child=".e-hour",d=".e-hide-hour",l=this._sfTimeHour;break;case"mins":n="tbody.e-timepicker-mins tr td.e-mins",p.parent=".e-timepicker-mins",p.child=".e-mins",d=".e-hide-mins",a=(l=this._sfTimeMins).find("tbody"+p.parent+" tr:nth-child("+t.row+") td"+p.child).length}if(t.row<=0&&t.col<=0)return l.find(n+":not(.e-disable):first");switch(i){case 36:return l.find(n+":not(.e-disable):first");case 35:return l.find(n+":not(.e-disable):last");case 38:if(r)this._forwardNavHandler(null,l);else{if(!(t.row>1))return this._processNextPrev(!0,l),l.find(n+":nth-child("+t.col+"):last");t.row-=1}if((h=this._getCell(t,p,l).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"up",l)))return h;this._processNextPrev(!0,l),h=l.find(n+":nth-child("+t.col+"):last")}return h;case 37:if(r)return this._processNextPrev(!0,l),l.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else{if(!(t.row>1))return this._processNextPrev(!0,l),l.find(n+":not(.e-disable):last");t={row:t.row-1,col:a},"mins"==o&&(t.col=a=l.find("tbody"+p.parent+" tr:nth-child("+t.row+") td"+p.child).length)}if((h=this._getCell(t,p,l).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"left",l)))return h;this._processNextPrev(!0,l),h=l.find(n+":not(.e-disable):last")}return h;case 39:if(r)return this._processNextPrev(!1,l),l.find("tbody tr td.e-state-hover");if(t.col<a)t.col+=1;else{if(!(t.row<s))return this._processNextPrev(!1,l),l.find(n+":not(.e-disable):first");t={row:t.row+1,col:1}}if((h=this._getCell(t,p,l).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"right",l)))return h;this._processNextPrev(!1,l),h=l.find(n+":not(.e-disable):first")}return h;case 40:if(!r){if(!(t.row<s))return this._processNextPrev(!1,l),l.find(n+":nth-child("+t.col+"):first");if(t.row+=1,(h=this._getCell(t,p,l).not(d)).length<=0){if(null!==(h=this._findVisible(t,p,"down",l)))return h;this._processNextPrev(!1,l),h=l.find(n+":nth-child("+t.col+"):first")}return h}case 13:c=this._getCell(t,p,l),e(c),u={type:null,target:c},"hours"==o&&this._hourNavHandler(u),"mins"==o&&this._minsNavHandler(u)}return this._getCell(t,p,l).not(d)},_getCell:function(t,i,s){var a,o=t.row;return this.model.timeDrillDown.showMeridian&&t.row>2&&s.hasClass("e-time-hours")&&(o-=2),a=s.find("tbody"+i.parent+" tr:nth-child("+o+") td"+i.child+":nth-child("+t.col+")"),this.model.timeDrillDown.showMeridian&&a.length>0&&s.hasClass("e-time-hours")&&(a=e(t.row<=2?a[0]:a[1])),a},_findVisible:function(e,t,i,s){for(var a,o=e.col,r=e.row,n=t.child.slice(1,t.child.length),l=0;l>=0;l++){if((a=this._getCell({row:r,col:o},t,s)).length<=0)return null;if(a.hasClass("e-disable")||!a.is(":visible")){if("right"==i||"left"==i?"right"==i?o++:o--:"down"==i?r++:r--,r<=0||r>s.find("tbody"+t.parent+" tr").length||(o>s.find("tbody"+t.parent+" tr:nth-child("+r+") td").length&&(r++,o=1),o<=0&&(r--,o=s.find("tbody"+t.parent+" tr:nth-child("+r+") td").length),r<=0||r>s.find("tbody"+t.parent+" tr").length))return null}else if(a.hasClass(n))return e.col=o,e.row=r,this._getCell(e,t,s)}},_keyDownOnMinutes:function(e){var t;if(37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode||13==e.keyCode||36==e.keyCode||35==e.keyCode){e.preventDefault&&e.preventDefault(),(t={row:null,col:null}).col=this._sfTimeMins.find("tbody tr td.e-state-hover").index(),t.row=this._sfTimeMins.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this._sfTimeMins.find("tbody tr td.e-active").index()+1,t.row=-1!=t.row?t.row+1:this._sfTimeMins.find("tbody tr td.e-active").parent().index()+1,this._sfTimeMins.find("table");var i,s=this._sfTimeMins.find("tbody.e-timepicker-mins tr").length;i=this._changeRowCol(t,e.keyCode,s,4,"mins",e.ctrlKey),e.ctrlKey||(this._hoverHour=this._sfTimeMins.find("tbody.e-timepicker-mins tr td").index(i)),e.ctrlKey||(this._sfTimeMins.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"))}},_valueChange:function(e){this.model.enableStrictMode?this.model.enableStrictMode&&(this._preVal!=this.element.val()||this.model.value<this.model.minDateTime||this.model.value>this.model.maxDateTime)&&(this._updateModel(),this._raiseChangeEvent(e)):(this._preVal!=this.element.val()&&(this._preVal=this.element.val(),this._updateModel(),this._validateMinMax(),this._raiseChangeEvent(e)),this._setWaterMark())},_updateModel:function(e,s){var a,o;this._stopRefresh?this._stopRefresh=!1:""==(a=this.element.val())?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!0):(o=e!=i&&"select"==e.type||this._prevDateTimeVal==this.element.val()?this.model.value:t.parseDate(a,this.model.dateTimeFormat,this.model.locale))?(this.model.value=o,this.isValidState=!0,this._refreshPopup(s),this._specificFormat()&&this._prevDateTimeVal!=this.element.val()&&this.element.val(this._objectToString(this.model.value))):(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1,this.model.enableStrictMode||this.element.val(this._objectToString(this.model.value)))},_refreshPopup:function(e){if(this.isValidState&&this.isPopupOpen){var t=this._setEmptyTime(this.model.value),i=this._setEmptyDate(this.model.value),s=this._getDate(),a=this._getTime();s&&this._compare(s,t)||this.datePicker.option("value",t),a&&this._compare(a,i)||e||this.timePicker.option("value",i)}},_buttonClick:function(e){if(13==e.keyCode){e.preventDefault();var t=this._getFocusedElement();t.hasClass("e-dt-today")?this._todayClick():t.hasClass("e-dt-now")?this._nowClick():t.hasClass("e-dt-done")&&this._doneClick()}},_todayClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.datePicker.popup.find(".today").hasClass("e-active")&&this.datePicker.popup.children("table").hasClass("e-dp-viewdays")&&""!=this.element.val()&&this.isValidState||(this.datePicker._setCurrDate(),this._updateInput())},_nowClick:function(){var e;if(!this.model.enabled||this.model.readOnly)return!1;this.timePicker.setCurrentTime();var i=this.model.minDateTime,s=this.model.maxDateTime,a=this.datePicker.model.value,o=new Date;a=t.isNullOrUndefined(a)?new Date:a,(e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()))<i?this.timePicker.option("value",this.timePicker._localizeTime(i)):e>s&&this.timePicker.option("value",this.timePicker._localizeTime(s)),this._updateInput()},_doneClick:function(){this._hideResult()},_iconClick:function(e){e.preventDefault(),this.isFocused||t.isTouchDevice()||this.element.focus(),this._showhidePopup(),this.model.disableDateTimeRanges&&t.isNullOrUndefined(this.model.value)&&this._setDisabledTimeRanges(this.datePicker.model.value),this._isIE9&&this.popup.find(".e-popup-container").css("display","inline-block")},_setInitialSelection:function(){var t,i,s,a,o,r=this.timePicker.ul.find("li");r.hasClass("e-hover")||(i=t=this.timePicker._setEmptyDate(new Date),this.timePicker.minTime&&!this._compareTime(this._createObject(t),this.timePicker.minTime,!0)&&(i=this.timePicker.minTime),this.timePicker.maxTime&&!this._compareTime(this.timePicker.maxTime,this._createObject(t),!0)&&(i=this.timePicker.maxTime),s=r.first().html(),a=(this.timePicker._parse(i)-this.timePicker._parse(s))/(6e4*this.timePicker.model.interval),((o=(a=Math.round(a))==r.length?a:a+1)<0||o>r.length||isNaN(o))&&(o=1),e(this.timePicker.ul.find("li")[o-1]).addClass("e-hover")),this._calcScrollTop()},_calcScrollTop:function(){this.timePicker.ul.outerHeight();var e,t=this.timePicker.ul.find("li").outerHeight();e=t*this.timePicker.ul.find("li.e-hover").index()-(this.timePicker.popupList.outerHeight()-t)/2,this.timePicker.scrollerObj.setModel({scrollTop:e})},_showhidePopup:function(){if(this.model.readOnly)return!1;this.isPopupOpen?this._hideResult():this._showResult()},_showResult:function(){if(this.popup||this._renderDropdown(),this.isPopupOpen||!this.model.enabled||(this._setRtl(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this._trigger("beforeOpen",{element:this.popup})))return!1;this.isPopupOpen=!0,this.element.attr({"aria-expanded":"true"}),this._setListPosition(),this._checkForResponsive();var i=this;this.popup.slideDown(this.model.enableAnimation?200:0,(function(){i._on(e(document),"mousedown",i._OnDocumentClick),i.model.timeDrillDown.enabled&&i._addFocus(i._dateContainer.find(".e-datepicker")),i.timePicker.model.value||i._setInitialSelection()})),this._updateModel(),this._updateTimeHeight(),this._validateMinMax(),this._on(e(window),"resize",this._OnWindowResize),this._on(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._on(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("open"),this._initial&&(this.timePicker._refreshScroller(),this.timePicker._changeActiveEle(),this._initial=!1),this.wrapper.addClass("e-active")},_hideResult:function(i){if(!i||"touchmove"!=i.type&&"scroll"!=i.type||!(e(i.target).parents("#"+this.popup[0].id).length>0)){var s=this;if(!this.isPopupOpen||this._trigger("beforeClose",{element:this.popup}))return!1;if(this.isPopupOpen=!1,this.element.attr({"aria-expanded":"false"}),this._removeFocus(),this._popClose&&i&&"click"!=i.type)return void(this.isPopupOpen=!0);this.popup.slideUp(this.model.enableAnimation?100:0,(function(){s.model&&(s.model.timeDrillDown.enabled&&(s._sfTimeHour.hide(),s._sfTimeMins.hide(),s._dateContainer.show()),t.isNullOrUndefined(s.model.value)||(s._datetimeValue=new Date(s.model.value.toString())))})),this._raiseEvent("close"),this._off(e(document),"mousedown",this._OnDocumentClick),this._off(e(window),"resize",this._OnWindowResize),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._off(t.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this.wrapper.removeClass("e-active")}},_setListPosition:function(){var i,s,a=this.wrapper,o=this._getOffset(a),r=e(document).scrollTop()+e(window).height()-(o.top+e(a).outerHeight()),n=o.top-e(document).scrollTop(),l=this.popup.outerHeight(),d=this.popup.outerWidth(),h=o.left,c=a.outerHeight(),u=(c-a.height())/2,p=this._getZindexPartial();s=this.model.popupPosition==t.PopupPosition.Bottom?(l<r||l>n?o.top+c+3:o.top-l-3)-u:(l>n?o.top+c+3:o.top-l-3)-u,i=e(document).scrollLeft()+e(window).width()-h,(this.model.enableRTL||d>i&&d<h+a.outerWidth())&&(h-=this.popup.outerWidth()-a.outerWidth()),this.popup.css({left:h+"px",top:s+"px","z-index":p})},_getOffset:function(e){return t.util.getOffset(e)},_OnDocumentClick:function(t){this.model&&(e(t.target).is(this.popup)||e(t.target).parents(".e-datetime-popup").is(this.popup)||e(t.target).is(this.wrapper)||e(t.target).parents(".e-datetime-wrap").is(this.wrapper)?(e(t.target).is(this.popup)||e(t.target).parents(".e-datetime-popup").is(this.popup))&&(t.preventDefault(),e(t.target).parents(".e-datepicker").length>0?this._addFocus(e(t.target).parents(".e-datepicker")):e(t.target).parents(".e-timecontainer").length>0?this._addFocus(e(t.target).parents(".e-timecontainer")):e(t.target).hasClass("e-dt-button")?this._addFocus(e(t.target)):e(t.target).parents(".e-time-hours").length>0?this._addFocus(e(t.target).parents(".e-time-hours")):e(t.target).parents(".e-time-minitues").length>0?this._addFocus(e(t.target).parents(".e-time-minitues")):this._removeFocus()):this._hideResult())},_OnWindowResize:function(){this._setListPosition(),this._checkForResponsive(),this._updateTimeHeight()},_raiseChangeEvent:function(i){var s,a,o=t.parseDate(this._prevDateTimeVal,this.model.dateTimeFormat),r=t.parseDate(this.element.val(),this.model.dateTimeFormat);+o==+r?this._prevDateTimeVal!=this.element.val()&&(a={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isValidState:this.isValidState},this._prevDateTimeVal=this.element.val(),this._trigger("_change",a)):(this._preVal=this.element.val(),a={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isInteraction:!i,isValidState:this.isValidState},this.timePicker&&this.timePicker.model?(s=this._getFormat(r,this.timePicker.model.timeFormat),this.timePicker._ensureTimeRange(s)?(this._prevDateTimeVal="",this.model.value=null,this.isValidState=!1):this._prevDateTimeVal=this.element.val()):this._prevDateTimeVal=this.element.val(),this._trigger("_change",a),a.value=""==e.trim(this.element.val())?null:this.element.val(),a.value=this._formatter(this.model.value,this.model.dateTimeFormat),this._trigger("change",a))},_formatter:function(e,i){var s=this._checkFormat(i);return t.format(e,s,this.model.locale)},_raiseEvent:function(e){var i=this._previousDateUpdate();return!(null==this.element||!this.model[e])&&this._trigger(e,{prevDateTime:t.isNullOrUndefined(i||this._preValString)?"":i||this._preValString,value:this.element.val()})},_getDateTimeFormat:function(){var e=t.preferredCulture(this.model.locale).calendar.patterns;this.model.dateTimeFormat||(this.model.dateTimeFormat=e.d+" "+e.t),this.model.timeDisplayFormat||(this.model.timeDisplayFormat=e.t)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popup)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},_getDate:function(){return this.datePicker.model.value},_getTime:function(){return this._getDateObj(this.timePicker.model.value,this.timePicker.model.timeFormat)},_setEmptyTime:function(e){var t=new Date(e);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},_setEmptyDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(2e3),t},_objectToString:function(e){return this._getFormat(e,this.model.dateTimeFormat)},_stringToObject:function(e){return this._getDateObj(e,this.model.dateTimeFormat)},_getFormat:function(e,i){if(e instanceof Date){var s=this._checkFormat(i);return t.format(e,s,this.model.locale)}return e},_checkFormat:function(e){var i=this,s=this._regExp();return e.replace(s,(function(e){return"/"===e&&"/"!==t.preferredCulture(i.model.locale).calendars.standard["/"]?"'/'":e}))},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},_getDateObj:function(e,i){var s,a;if("string"!=typeof e)return e;if(s=this._checkFormat(i),null!=(a=t.parseDate(e,s,this.model.locale)))return a;if(""==e||null==e)return null;var o,r=/^\s*(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d).*Z\s*$/.exec(e),n=new Date;return r&&((n=new Date).setUTCFullYear(r[1],(o=+r[2])-1,r[3]),n.setUTCHours(r[4],r[5],r[6]),o!=n.getUTCMonth()+1&&n.setTime()),this._isValidDate(n)?n:void 0},_compare:function(e,t){return e&&t&&e.getTime()==t.getTime()},_isValidDate:function(e){return e&&"function"==typeof e.getTime&&isFinite(e.getTime())},_change:function(e,t){this.popup&&(this.datePicker.option(e,t),this.timePicker.option(e,t))},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.popup.removeClass(this.model.cssClass).addClass(e),this._change("cssClass",e)},_localize:function(i){var s,a,o;if(this.model.locale=i,t.isNullOrUndefined(this._options.timeDisplayFormat)&&(this.model.timeDisplayFormat=""),t.isNullOrUndefined(this._options.dateTimeFormat)&&(this.model.dateTimeFormat=""),s=["AM","PM"],this._getDateTimeFormat(),this.timePicker.option("timeFormat",this.model.timeDisplayFormat),this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.buttonText)||e.extend(this._localizedLabels.buttonText,this._options.buttonText),t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText)),this._localizedLabelToModel(),this._buttonText(this._localizedLabels.buttonText),(this.isValidState||this.model.value instanceof Date&&this._isValidDate(this.model.value))&&this.element.val(this._objectToString(this.model.value)),this._preVal=this.element.val(),this._change("locale",i),this.model.startDay=this.datePicker.model.startDay,this._validateMeridian(),this._sfTimeHour.empty(),this._renderHourTable(),this.model.timeDrillDown.showMeridian)for(a=0;a<2;a++)o=t.isNullOrUndefined(t.preferredCulture(this.model.locale).calendars.standard[s[a]])?"":t.preferredCulture(this.model.locale).calendars.standard[s[a]][0],e("span.e-hours-meridiantxt-"+s[a].toLowerCase(),this._sfTimeHour).text(o)},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?e(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_readOnly:function(e){this.model.readOnly=e,e?this.element.attr("readonly","readonly"):this.element.prop("readonly",!1),this._change("readOnly",e)},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.popup&&this.popup.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popup&&this.popup.removeClass("e-corner")),t.isNullOrUndefined(this.datePicker)||this.datePicker.option("showRoundedCorner",e),t.isNullOrUndefined(this.timePicker)||this.timePicker.option("showRoundedCorner",e)},_setRtl:function(e){e?(this.wrapper.addClass("e-rtl"),this.popup&&this.popup.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popup&&this.popup.removeClass("e-rtl")),this._change("enableRTL",e)},_enabled:function(e){e?(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable())},_showButton:function(e){this.model.showPopupButton=e,e?(this.container.addClass("e-padding"),this._renderIcon()):(this.container.removeClass("e-padding"),this.datetimeIcon.remove(),this.datetimeIcon=null)},_buttonText:function(t){e.extend(this.model.buttonText,t),this.popup.find(".e-dt-today").html(this.model.buttonText.today),this.popup.find(".e-dt-now").html(this.model.buttonText.timeNow),this.popup.find(".e-dt-done").html(this.model.buttonText.done),this.popup.find(".e-timecontainer").find(".e-header").html(this.model.buttonText.timeTitle)},_checkForResponsive:function(){if(e(window).outerWidth()>200&&e(window).outerWidth()<=500)this.popup.hasClass("e-dt-responsive")||(this.popup.addClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.datePicker.popup.outerWidth()),this.timePicker.option("popupHeight",98),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle());else if(this.popup.hasClass("e-dt-responsive")){this.popup.removeClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.model.timePopupWidth);var t=this.datePicker.popup.height()-this.popup.find(".e-header").height();this.timePicker.option("popupHeight",t),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle()}},enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.model.enabled=!0,this.element.prop("disabled",!1),this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr("aria-disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.datetimeIcon&&this.datetimeIcon.removeClass("e-disable").attr("aria-disabled",!1),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().removeClass("e-disable"),this.popup&&(this.popup.children("div").removeClass("e-disable").attr("aria-disabled",!1),this._change("enabled",!0)))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr("aria-disabled",!0),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.datetimeIcon&&this.datetimeIcon.addClass("e-disable").attr("aria-disabled",!0),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().addClass("e-disable"),this._hideResult(),this._change("enabled",!1),this.popup&&(this.popup.children("div").addClass("e-disable").attr("aria-disabled",!0),this.datePicker.popup.removeClass("e-disable").attr("aria-disabled",!1),this.timePicker.popup.removeClass("e-disable").attr("aria-disabled",!1)))},getValue:function(){return this._objectToString(this.model.value)},setCurrentDateTime:function(){this.model.readOnly||this._setValue(new Date)},show:function(){this._showResult()},hide:function(){this._hideResult()},_wireEvents:function(){this.model.allowEdit&&(this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"keydown",this._keyDownOnInput)),this.model.allowEdit||(this.element.attr("readonly","readonly"),this.element.on("mousedown",e.proxy(this._showhidePopup,this)))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}}),t.DateTimePicker.Locale=t.DateTimePicker.Locale||{},t.DateTimePicker.Locale.default=t.DateTimePicker.Locale["en-US"]={watermarkText:"Select datetime",buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"}},t.PopupPosition={Bottom:"bottom",Top:"top"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDropDownList","ej.DropDownList",{element:null,model:null,validTags:["select","input"],_addToPersist:["value","text","selectedIndex","selectedItemIndex","selectedItems","selectedIndices","popupWidth","popupHeight","itemValue"],_setFirst:!1,_rootCSS:"e-dropdownlist",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{cssClass:"",value:null,htmlAttributes:{},text:null,itemValue:"",itemsCount:0,dataSource:null,delimiterChar:",",query:null,fields:{id:null,text:null,value:null,category:null,groupBy:null,imageUrl:null,imageAttributes:null,spriteCssClass:null,htmlAttributes:null,selected:null,tableName:null},locale:"en-US",watermarkText:null,height:"",loadOnDemand:!1,width:"",popupHeight:"152px",popupWidth:"auto",popupTarget:"body",maxPopupHeight:null,minPopupHeight:"20",maxPopupWidth:null,minPopupWidth:"0",targetID:null,template:null,headerTemplate:null,selectedItemIndex:-1,selectedIndex:-1,disableItemsByIndex:null,enableItemsByIndex:null,selectedItems:[],selectedIndices:[],cascadeTo:null,enablePopupResize:!1,allowVirtualScrolling:!1,virtualScrollMode:"normal",showRoundedCorner:!1,showPopupOnLoad:!1,enableRTL:!1,enabled:!0,filterType:"contains",sortOrder:"ascending",caseSensitiveSearch:!1,showCheckbox:!1,checkAll:!1,uncheckAll:!1,enablePersistence:!1,enableFilterSearch:!1,enableServerFiltering:!1,enableIncrementalSearch:!0,incrementalSearchDelay:500,readOnly:!1,enableAnimation:!1,multiSelectMode:"none",allowGrouping:!1,enableSorting:!1,validationRules:null,validationMessage:null,actionBegin:null,actionComplete:null,actionFailure:null,actionSuccess:null,create:null,popupHide:null,popupShown:null,beforePopupShown:null,beforePopupHide:null,popupResizeStart:null,popupResize:null,popupResizeStop:null,change:null,select:null,dataBound:null,search:null,checkChange:null,cascade:null,destroy:null},dataTypes:{cssClass:"string",itemsCount:"number",watermarkText:"string",template:"string",disableItemsByIndex:"string",enableItemsByIndex:"string",enableIncrementalSearch:"boolean",incrementalSearchDelay:"number",cascadeTo:"string",delimiterChar:"string",showRoundedCorner:"boolean",showPopupOnLoad:"boolean",enableRTL:"boolean",enablePersistence:"boolean",allowVirtualScrolling:"boolean",virtualScrollMode:"enum",enabled:"boolean",readOnly:"boolean",multiSelectMode:"enum",dataSource:"data",query:"data",fields:"data",selectedItems:"array",selectedIndices:"array",enableAnimation:"boolean",allowGrouping:"boolean",enableSorting:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",locale:"string"},observables:["value","selectedItemIndex","selectedIndex","dataSource"],value:t.util.valueFunction("value"),selectedItemIndex:t.util.valueFunction("selectedItemIndex"),selectedIndex:t.util.valueFunction("selectedIndex"),_dataSource:t.util.valueFunction("dataSource"),enable:function(){this._visibleInput.hasClass("e-disable")&&(this.target.disabled=!1,this.model.enabled=!0,this.container.removeClass("e-disable"),this._visibleInput.removeClass("e-disable"),this.dropdownbutton.removeClass("e-disable"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-disable"),this._isIE8&&this.drpbtnspan.removeClass("e-disable"),this.container.on("mousedown",e.proxy(this._OnDropdownClick,this)),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable")),this._wireEvents(),this.wrapper.attr("tabindex",0)},disable:function(){this._visibleInput.hasClass("e-disable")||(this.target.disabled=!0,this.model.enabled=!1,this.container.addClass("e-disable"),this._visibleInput.addClass("e-disable"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-disable"),this.dropdownbutton.addClass("e-disable"),this._isIE8&&this.drpbtnspan.addClass("e-disable"),"visualmode"==this.model.multiSelectMode&&this._ulBox.addClass("e-disable"),this.container.off("mousedown",e.proxy(this._OnDropdownClick,this)),this._unwireEvents(),this.wrapper.removeAttr("tabindex"),this._isPopupShown()&&this._hideResult())},getValue:function(){return this._visibleInput.val()},_setValue:function(e,i){t.isNullOrUndefined(e)||(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),0!=this.ultag.children().length&&this._setDynamicSelectByVal(this,e,i))},_setDynamicSelectByVal:function(e,i,s){e._raiseEvents=!1,t.isNullOrUndefined(e.model.text)||e.unselectItemByText(e.model.text,s),e._raiseEvents=!0,e.model.allowVirtualScrolling&&e._addValue(i),e.selectItemByValue(i)},_addValue:function(e){var i,s,a,o,r,n,l;if(this.model.itemsCount>0&&""!=e&&(this._checkValue=!0,i="object"==typeof e?e:"number"==typeof e?[e]:e.split(this.model.delimiterChar),t.isNullOrUndefined(this._mapFields())||this._mapFields(),t.isNullOrUndefined(this._rawList)||this._addListItems(i,this._rawList,"local"),this._checkValue))if(s=this._dataSource(),t.DataManager&&s instanceof t.DataManager)if(s.dataSource.offline&&s.dataSource.json&&s.dataSource.json.length>0)this._addListItems(i,s.dataSource.json,"remote");else if(a=this,o=e,r=this.model.fields.value?this.model.fields.value:this.model.fields.text,this._isSingleSelect())s.executeQuery(t.Query().select(r,this.model.fields.text).where(r,"equal",o,!1)).done((function(e){a._addListItems(i,e.result,"remote"),a.selectItemByValue(o)}));else for(l=0;l<i.length;l++)s.executeQuery(t.Query().select(r,this.model.fields.text).where(r,"equal",i[l],!1)).done((function(e){n=e.result.slice(0,l),l==i.length&&(a._addListItems(i,n,"remote"),a.selectItemByValue(o))}));else this._addListItems(i,s,"remote")},_addListItems:function(e,t,i){for(var s,a=this.mapFld._value==this.model.fields.value?this.mapFld._value:this.model.fields.text,o=0;o<e.length;o++)for(s=0;s<t.length;s++)"local"==i&&t[s][a]==e[o]&&(this._checkValue=!1),"remote"==i&&t[s][a]==e[o]&&this.addItem(t[s])},_setText:function(e){t.isNullOrUndefined(e)||(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._raiseEvents=!1,this.unselectItemByText(this.model.text),this._raiseEvents=!0,this.selectItemByText(e))},_setItemValue:function(e){this.model.itemValue=e},_changeWatermark:function(e){if(!this.model.enabled)return!1;this._isWatermark?this._visibleInput.attr("placeholder",e):this._hiddenSpan.text(e)},hidePopup:function(){if(!this.model.enabled)return!1;this.ultag.find("li").length>0&&this._hideResult()},showPopup:function(){if(!this.model.enabled)return!1;(t.isNullOrUndefined(this.ultag)?this.model.loadOnDemand:this.ultag.find("li").length>0)&&this._showResult()},clearText:function(){this._clearTextboxValue(),this._isWatermark||this._setWatermark()},addItem:function(i){var s,a,o,r,n,l;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),!this.model.enabled||!i||(this._mapFields(),(s=e.isArray(i)?i:[i]).length<1))return!1;for((o={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null,_category:null})._id=s[0][(a=this.mapFld)._id]?a._id:"id",o._imageUrl=s[0][a._imageUrl]?a._imageUrl:"imageUrl",o._imageAttributes=s[0][a._imageAttributes]?a._imageAttributes:"imageAttributes",o._spriteCSS=s[0][a._spriteCSS]?a._spriteCSS:"spriteCssClass",o._text=s[0][a._text]?a._text:"text",o._value=s[0][a._value]?a._value:"value",o._htmlAttributes=s[0][a._htmlAttributes]?a._htmlAttributes:"htmlAttributes",o._selected=s[0][a._selected]?a._selected:"selected",o._category=s[0][a._category]?a._category:"groupBy",this._generateLi(s,o),r=this.dummyUl,n=0;n<s.length;n++)this._listItem(s[n],"add");this.model.showCheckbox?this._appendCheckbox(r,!0):this._isSingleSelect()||this._multiItemSelection(r,!0),this._virtualUl.append(e(this.dummyUl).clone(!0)),this.ultag.append(this.dummyUl),this._isPopupShown()&&(l=this.scrollerObj?this.scrollerObj.scrollTop():0,this._refreshScroller(),this.scrollerObj&&this.scrollerObj.option("scrollTop",l))},_toArray:function(i,s){var a;return"function"==typeof i&&(i=t.util.getVal(i)),e.isArray(i)?a=i:"string"==typeof i?s&&("visualmode"==this.model.multiSelectMode||"delimiter"==this.model.multiSelectMode||this.model.showCheckbox)?0==(a=this._getUpdatedListData(i)).length&&(a=[i]):(s||0==(a=this._getUpdatedListData(i)).length)&&(a=[i]):a=[i],a},_trim:function(t){return"string"==typeof t?e.trim(t):t},selectItemByIndex:function(e){this._selectItemByIndex(e)},selectItemsByIndices:function(e){this._selectItemByIndex(e)},_selectItemByIndex:function(i){var s,a,o,r;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._selectedIndices=e.map(this._selectedIndices,(function(e){return parseInt(e)})),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,-1==parseInt(i)&&this.model.selectedItems.length>0)this._clearTextboxValue(),this._trigger("change",{text:this._visibleInput[0].value,selectedText:"",selectedValue:"",value:""});else for(s=this._toArray(i,!0),o=0;o<s.length;o++)if(null!=(a=parseInt(s[o]))&&a>=0){if(-1==e.inArray(a,this._selectedIndices))for(r=0;r<this.listitems.length;r++)e(this.listitems[r]).hasClass("e-disable")||r==a&&(this.selectedIndexValue=r,this._activeItem=a,this._enterTextBoxValue())}else!this.model.showCheckbox&&"none"==this.model.multiSelectMode&&this.model.selectedItems.length>0&&(this._clearTextboxValue(),this._trigger("change",{text:this._visibleInput[0].value,selectedText:"",selectedValue:"",value:""}))},unselectItemsByIndices:function(e){this._unselectItemByIndex(e)},unselectItemByIndex:function(e){this._unselectItemByIndex(e)},_unselectItemByIndex:function(i){var s,a,o,r;for(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._selectedIndices=e.map(this._selectedIndices,(function(e){return parseInt(e)})),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,a=this._toArray(i,!0),this.listitems=this._getLi(),r=0;r<a.length;r++)for(o=parseInt(a[r]),s=0;s<this.listitems.length;s++)s==o&&(this.selectedIndexValue=s,this._activeItem=o,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),this._removeTextBoxValue())},setSelectedValue:function(e){this.selectItemByValue(e)},selectItemByValue:function(i){var s,a,o;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this.inputSearch&&""!=this.inputSearch.val()&&this.model.enableServerFiltering&&!t.isNullOrUndefined(this._searchresult)){for(a=this.model.fields&&this.model.fields.value?this.model.fields.value:"value",s=0;s<this._searchresult.length;s++)for(o=0;o<this.listitems.length;o++)e(this.listitems[o]).attr("data-value")==this._searchresult[s][a]&&(this._searchresult=null);this.addItem(this._searchresult)}t.isNullOrUndefined(i)?this._clearTextboxValue():(this._unselectText&&(this._unselectText=!1),this._selectUnSelectValue(i,"selectValue"))},_selectUnSelectValue:function(i,s,a,o){for(var r,n,l=this._toArray(i,!0),d=0;d<l.length;d++)for(r=0;r<this.listitems.length;r++)if(e(this.listitems[r]).hasClass("e-disable")||"selectValue"!=s&&"selectText"!=s){if(this._getAttributeValue(this.listitems[r])&&("unselectValue"==s&&(this._selectedValue=this._getAttributeValue(this.listitems[r]),this._selectedValue=this._selectedValue==l[d]),"unselectText"==s&&(this.unselectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[r]:this._getField(this.popupListItems[r],this.mapFld._text),this._selectedValue=this.unselectedTextValue==l[d]||o&&this.unselectedTextValue.toString().toLowerCase()==l[d].toString().toLowerCase(),this._selectedValue&&this._boxValue&&this.model.showCheckbox&&this.model.enableFilterSearch&&(this._activeItem=r,this._selectedValue=-1!=this._boxValue.indexOf(e(this._getActiveItem(this._activeItem)).attr("data-value"))&&this._selectedValue)),this._selectedValue)){this._activeItem=r,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),(this._visibleInput.val()!=this._checkedValues||a&&"keyup"==a.type||this.model.enablePersistence)&&this._removeTextBoxValue();break}}else if("selectValue"==s&&(n=t.isNullOrUndefined(this._getAttributeValue(this.listitems[r]))?e(this.listitems[r]).text():this._getAttributeValue(this.listitems[r]),this._selectedValue=n==l[d]),"selectText"==s&&(this.selectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[r]:this._getField(this.popupListItems[r],this.mapFld._text),this._selectedValue=this.selectedTextValue==l[d]||o&&this.selectedTextValue.toString().toLowerCase()==l[d].toString().toLowerCase()),this._selectedValue){this._activeItem=r,this._aselectedItem=this._activeItem,this._enterTextBoxValue();break}},unselectItemByValue:function(e){this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._selectUnSelectValue(e,"unselectValue")},setSelectedText:function(e){this.selectItemByText(e)},selectItemByText:function(e,i){this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._mapFields(),t.isNullOrUndefined(e)?this._clearTextboxValue():this._selectUnSelectValue(e,"selectText",i)},unselectItemByText:function(e,t,i){this.listitems=this._getLi(),this._mapFields(),this._unselectText=!0,this._selectUnSelectValue(e,"unselectText",t,i)},getSelectedValue:function(){return this.element.val()},getSelectedItem:function(){var e,t=[];for(this.listitems=this._getLi(),e=0;e<this._selectedIndices.length;e++)t.push(this.listitems[this._selectedIndices[e]]);return t},getItemDataByValue:function(e){var i,s,a,o=this._toArray(e,!1),r=this.model.enableServerFiltering?t.isNullOrUndefined(this.resultList)?this._rawList:this._rawList.concat(this.resultList):this._rawList,n=[],l=this.model.fields&&this.model.fields.value?this.model.fields.value:"value";if(o.length>0&&(r.indexOf(o[0])>-1||r.indexOf(Number(o[0]))>-1))for(i=0;i<o.length&&(r.indexOf(o[i])>-1||r.indexOf(Number(o[i]))>-1);i++)n.push({text:o[i],value:o[i]});else for(r.length>0&&t.isNullOrUndefined(r[0][l])&&(t.isNullOrUndefined(r[0][a=this.model.fields&&this.model.fields.text?this.model.fields.text:"text"])||(l=a)),i=0;i<o.length;i++)for(s=0;s<r.length;s++)(r[s][l]==o[i]||r[s][l]==Number(o[i]))&&n.push(r[s]);return n},getListData:function(){return this._rawList},getSelectedItemsID:function(){return this._selectedItemsID},disableItemsByIndices:function(e){this._getLi().length>0&&this._disableItemByIndex(e)},disableItemByIndex:function(e){this._getLi().length>0&&this._disableItemByIndex(e,!0)},_disableItemByIndex:function(i){var s,a;if(t.isNullOrUndefined(i)||"string"!=typeof i&&"number"!=typeof i||(i=i.toString().split(",")),this._isInteralCall||(this._initDisabledItems=i),!this.model.enabled)return!1;for(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),s=this._toArray(i,!1),a=0;a<s.length;a++)null==s[a]||isNaN(parseInt(s[a]))||s.length>0&&!(e.inArray(parseInt(s[a]),this._disabledItems)>-1)&&(e.inArray(s[a],this._disabledItems),this._setClass(this._getLi()[parseInt(s[a])],"e-disable"),this._disabledItems.push(parseInt(s[a])),this.model.disableItemsByIndex=String(this._disabledItems.join(",")));this._prevDisabledItems=this._disabledItems},enableItemsByIndices:function(e){this._enableItemByIndex(e)},enableItemByIndex:function(e){this._enableItemByIndex(e)},_enableItemByIndex:function(i){var s,a,o;for(t.isNullOrUndefined(i)||"string"!=typeof i&&"number"!=typeof i||(i=i.toString().split(",")),this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),s=this._toArray(i,!1),this.model.enableItemsByIndex=i,o=0;o<s.length;o++)s.length>0&&e.inArray(parseInt(s[o]),this._disabledItems)>-1&&!isNaN(parseInt(s[o]))&&(a=e.inArray(parseInt(s[o]),this._disabledItems),this._removeClass(this._getLi()[parseInt(s[o])],"e-disable"),this._disabledItems.splice(a,1));this.model.enableItemsByIndex=null,this.model.disableItemsByIndex=this._disabledItems.join(this.model.delimiterChar)},_validateDelimiter:function(e){return 1!=this._trim(e).length||/^[a-zA-Z0-9]+$/.test(e)?",":e},_removeText:function(i){var s,a,o,r;this.removeVal=!this.checkChange&&!this.delIconClick||!(this.model.fields.text||this.model.fields.value||this.mapFld._text||this.mapFld._value),this._unselectText&&(this.removeVal=!1,this._unselectText=!1),s=this._getUpdatedListData(this.element[0].value,!0),this.removeVal=(this.checkChange||this.delIconClick)&&(this.model.fields.text||this.model.fields.value),this._unselectText||(this._unselectText=!0),a=this._getUpdatedListData(this._visibleInput[0].value,this.model.selectedIndices.length===this._visibleInput[0].value.split(this.model.delimiterChar).length),this._unselectText=!1,o=this.getItemDataByValue(i)[0],r=this.model.fields&&this.model.fields.text?this.model.fields.text:"text",e.inArray(i,s)>=0&&s.splice(e.inArray(i,s),1),!t.isNullOrUndefined(o[r])&&e.inArray(this._decode(o[r]).toString(),a)>=0&&a.splice(e.inArray(this._decode(o[r]).toString(),a),1),e.inArray(i,this._valueContainer)>=0&&this._valueContainer.splice(e.inArray(i,this._valueContainer),1),!t.isNullOrUndefined(o[r])&&e.inArray(o[r].toString(),this._textContainer)>=0&&this._textContainer.splice(e.inArray(o[r].toString(),this._textContainer),1),this.element[0].value=s.join(this.model.delimiterChar),this._visibleInput[0].value=a.join(this.model.delimiterChar),this.removeVal=!1},_getUpdatedListData:function(e,i){var s,a,o=this.getListData();if(i)if(s=[],this.model.fields.value||this.mapFld._value)s=e.split(this.model.delimiterChar);else for(a=0;a<this.model.selectedIndices.length;a++)s.push(o[this.model.selectedIndices[a]][this.model.fields.text?this.model.fields.text:"text"]);else s=e.split(this.model.delimiterChar);var r,n=0,l=0,d=[],h=[],c="";if(this.model.fields.value||this.model.fields.text?(r=this.model.fields.text,this.removeVal||this._unselectText||(r=this.model.fields.value?this.model.fields.value:r)):(this.mapFld._text||this.mapFld._value)&&(r=this.mapFld._text,this.removeVal||this._unselectText||(r=this.mapFld._value?this.mapFld._value:r)),!t.isNullOrUndefined(o))for(;n<o.length;){if(c=this._decode(i?r?o[n][r]:o[n].text?o[n].text:o[n]:r?o[n][r]:o[n].value?o[n].value:o[n]),-1!==s.indexOf(c))i&&(s[s.indexOf(c)]=l),d.push(c),l++;else if(!i&&""===s)break;n++}for(n=0;n<l;)i?h[s.indexOf(n)]=d[n]:h[n]=d[n],n++;return h},_addText:function(t){var i,s,a,o,r,n,l,d;if(this._checkContains(this._hiddenValue)||this.value()&&this.value().split(",").indexOf(t)>0)return!1;for(i=["element","_visibleInput"],a=0;a<i.length;a++)s="element"==i[a]?this._hiddenValue:t,o="element"==i[a]?this._valueContainer:this._textContainer,this[i[a]][0].value&&""!=this[i[a]][0].value?(d=this[i[a]][0].value.split(this.model.delimiterChar),"element"==i[a]&&-1===e.inArray(s,d)?d.push(s):"_visibleInput"==i[a]&&(r=this.model.fields.text?this.model.fields.text:"text",-1!=e.inArray(s,d)?(n=this.popupListItems.filter((function(e){return e[r]==s})),l=d.filter((function(e){return e==s})),n.length>l.length&&d.push(s)):d.push(s)),this[i[a]][0].value=d.join(this.model.delimiterChar)):""==s?this[i[a]][0].value=s:""!=s&&""==this[i[a]][0].value&&(-1!=e.inArray("",o)?((d=this[i[a]][0].value.split(this.model.delimiterChar)).push(s),this[i[a]][0].value=d.join(this.model.delimiterChar)):this[i[a]][0].value=s),o.push(s)},_checkContains:function(e){if(this.contains=!1,this._rawList!==i&&(null!==this.model.dataSource||this.selectOptions!==i||null!==this.model.targetID))for(var t=0;t<this._valueContainer.length;t++)if(this._parseValue(this._valueContainer[t])===this._parseValue(e)){this.contains=!0;break}return this.contains},_parseValue:function(e){return isNaN(parseInt(e))||this.mapFld&&"string"==typeof this._rawList[0][this.mapFld._value]?e:parseInt(e)},_updateLocalConstant:function(){this._localizedLabels=t.getLocalizedConstants("ej.DropDownList",this.model.locale)},_init:function(){var i=t.browserInfo();this._updateLocalConstant(),this._isIE8="msie"==i.name&&"8.0"==i.version,this._textContent=this._isIE8?"innerText":"textContent",(this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))||this.element.is("select"))&&(this._isWatermark="placeholder"in e(document.createElement("input")).attr("placeholder","")[0],this._id=this.element[0].id,this._initialize(),this._render(),this._addAttr(this.model.htmlAttributes),this._enabled(this.model.enabled),this._initValue=!1,this._checkboxValue=!1,this._unselectText=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation()))},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,a,o,r;if(0!=this.element.closest("form").length)for(a in this.element.rules("add",this.model.validationRules),(i=this.element.closest("form").data("validator"))||(i=this.element.closest("form").validate()),s=this.element.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessage)a==r&&(o=this.model.validationMessage[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_setInitialPopup:function(e){this.model.enabled&&!this.model.readOnly&&(0==e?this._hideResult():this._showResult())},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass(this.model.cssClass).addClass(e)},_setRTL:function(e){this.model.enableRTL!=e&&(this.model.enableRTL=e,this._RightToLeft(),t.isNullOrUndefined(this.popupListWrapper)||this._dropbtnRTL())},_changeHeight:function(e){this.wrapper.height(e),this._setListHeight()},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setModel:function(s){var a,o,r,n,l;for(a in s)switch(a){case"dataSource":if(!this._isEqualDataSource(t.util.getVal(s[a]))){this.model.loadOnDemand&&((o=e("#"+this.element[0].id+"_popup_wrapper").get(0))&&e(o).remove(),this.popupListWrapper=i,this.inputSearch=i),this._checkModelDataBinding(t.util.getVal(s[a]),this.model.query),this._refreshScroller();break}case"query":this._checkModelDataBinding(this._dataSource(),s[a]);break;case"fields":this.model.fields=e.extend(this.model.fields,s[a]),this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"itemsCount":this.model.itemsCount=s[a],this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"template":this.model.template=s[a],this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"value":this._optionValue=t.util.getVal(s[a]),(t.isNullOrUndefined(this._optionValue)||""===this._optionValue)&&this._clearTextboxValue(),t.isNullOrUndefined(this._optionValue)||""===this._optionValue?this._clearTextboxValue():(this._checkedValues.push(s.value),this._setValue(t.util.getVal(s[a])),s[a]=this.model.value);break;case"incrementalSearchDelay":this.model.incrementalSearchDelay=s[a];break;case"delimiterChar":r=this.model.delimiterChar,s[a]=this._validateDelimiter(s[a]),this.model.delimiterChar=s[a],this._isSingleSelect()||(this.model.text&&(this.model.text=this.model.text.split(r).join(this.model.delimiterChar),this._visibleInput.val(this.model.text)),t.isNullOrUndefined(this.value())||(this.value(this.value().split(r).join(this.model.delimiterChar)),this.element.val(this.value())));break;case"text":t.isNullOrUndefined(s[a])||""===s[a]?this._clearTextboxValue():(this._setText(s[a]),s[a]=this.model.text);break;case"itemValue":this._setItemValue(s[a]);break;case"enableRTL":this._setRTL(s[a]);break;case"enabled":this._enabled(s[a]);break;case"height":this._changeHeight(s[a]);break;case"width":this._changeWidth(s[a]);break;case"popupHeight":this.model.popupHeight=s[a],this._setListHeight(s[a]);break;case"popupWidth":this.model.popupWidth=s[a],this._setListWidth();break;case"minPopupHeight":this.model.minPopupHeight=s[a],this._setListHeight(s[a]);break;case"minPopupWidth":this.model.minPopupWidth=s[a],this._setListWidth();break;case"maxPopupHeight":this.model.maxPopupHeight=s[a],this._setListHeight(s[a]);break;case"maxPopupWidth":this.model.maxPopupWidth=s[a],this._setListWidth();break;case"popupTarget":this.model.popupTarget=s[a],this._renderPopupPanelWrapper();break;case"cssClass":this._changeSkin(s[a]);break;case"showCheckbox":this.model.showCheckbox=s[a],n=this.model.text,l=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this._checkboxHideShow(s[a]),this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(n)):l&&l.length&&this._setText(l[0]),this._isPopupShown()&&this._setListPosition();break;case"checkAll":return this._setCheckAll(s[a]),!1;case"uncheckAll":return this._setUncheckAll(s[a]),!1;case"watermarkText":this._changeWatermark(s[a]);break;case"validationRules":0!=this.element.closest("form").length&&(null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=s[a],null!=this.model.validationRules&&(this._initValidator(),this._setValidation()));break;case"locale":this.model.locale=s[a],this._updateLocalConstant();break;case"validationMessage":0!=this.element.closest("form").length&&(this.model.validationMessage=s[a],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation()));break;case"showRoundedCorner":this._roundedCorner(s[a]),this.model.showRoundedCorner=s[a];break;case"showPopupOnLoad":this._setInitialPopup(s[a]);break;case"targetID":this.model.targetID=s[a],this._showFullList();break;case"selectedItemIndex":case"selectedIndex":this._selectItemByIndex(s[a]),this.model.selectedItemIndex=this.model.selectedIndex=s[a];break;case"unselectItemByIndex":this._unselectItemByIndex(s[a]);break;case"disableItemsByIndex":this._disableItemByIndex(s[a]);break;case"enableItemsByIndex":this._enableItemByIndex(s[a]);break;case"selectedItems":case"selectedIndices":this._selectCheckedItem(s[a]),s[a]=this.model.selectedItems=this.model.selectedIndices=this._selectedIndices;break;case"multiSelectMode":"visualmode"==this.model.multiSelectMode&&(this._swapUlandInput(!1),this._ulBox.remove(),this._ulBox=null),this.model.multiSelectMode=s[a],n=this.model.text,l=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(n)):(this._setText(l[0]),this.wrapper.find("input[name="+this._name+"]").remove()),this._isPopupShown()&&this._setListPosition();break;case"allowGrouping":this._setGroupingAndSorting("allowGrouping",s[a]);break;case"enableSorting":this._setGroupingAndSorting("enableSorting",s[a]);break;case"htmlAttributes":this._addAttr(s[a]);break;case"enablePopupResize":this.model.enablePopupResize=s[a],s[a]?this._enablePopupResize():this.popupListWrapper.removeClass("e-resizable").find(".e-resizebar").remove()&&this._hideResult();break;case"enableFilterSearch":if(s[a]){this.model.enableFilterSearch=!0,this._enableSearch();break}this._removeSearch();case"enableServerFiltering":this._enableSearch()}},_clearTextboxValue:function(){this.element.val(""),this._visibleInput.val(""),this._updateValue(""),this._valueContainer=[],this._boxValue=[],this._textContainer=[],this.selectedTextValue=this._selectedValue=this._hiddenValue=this.model.itemValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this._selectedIndices=[],this.model.selectedItems=[],this.model.selectedIndices=[],this.selectedIndex(null),t.isNullOrUndefined(this.ultag)||(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.model.showCheckbox&&this._resetCheck()),0!=this.wrapper.find("ul.e-ul.e-boxes").length&&(this._ulBox.children("li").remove(),""===this._name?this.wrapper.find("input:hidden[id^='#']").remove():this.wrapper.find("input:hidden[id^='#'][name="+this._name+"]").remove(),e(this.element).attr("name",this._name))},_destroy:function(){this.selectOptions?(!this._dataSource()&&this.docbdy?this.docbdy.append(this.selectOptions.removeClass("e-dropdownlist e-js").show()).show():this.selectOptions.insertAfter(this.wrapper).removeClass("e-dropdownlist e-js").show(),this.element.remove()):(this.element.insertAfter(this.wrapper),this.element.width(this.element.width()+this.dropdownbutton.outerWidth()),this._visibleInput.removeClass("e-input "),this._setAttr(this.element[0],{accesskey:this.wrapper.attr("accesskey"),type:"text"}),this._isWatermark&&this._visibleInput.removeAttr("placeholder"),this.element[0].value="",this.element.removeAttr("aria-expanded aria-autocomplete aria-haspopup aria-owns accesskey role").css({width:"",display:"block"}),!this._dataSource()&&this.docbdy&&this.ultag.find("li").removeClass("e-active")&&this.docbdy.append(this.ultag.html()).show()),this.wrapper.remove(),this.container.off("mousedown",e.proxy(this._OnDropdownClick,this)),this._hideResult(),this.popupPanelWrapper.remove(),this._unwireEvents()},_finalize:function(){""==this.value()&&""!==this._visibleInput[0].value&&this._updateValue(this.element[0].value),(t.isNullOrUndefined(this.value())||""!=this.value())&&this.value()===this.element.val()||this._setValue(this.value()),(t.isNullOrUndefined(this.model.text)||""!=this.model.text)&&this.model.text==this._visibleInput.val()||this._setText(this.model.text),this.selectedIndex(-1!=this.selectedIndex()?this.selectedIndex():this.selectedItemIndex()),-1!=this.selectedIndex()?this._selectItemByIndex(this.selectedIndex()):this._selectedIndices.length>0&&this._selectCheckedItem(this._selectedIndices),null!=this.model.disableItemsByIndex&&this._disableItemByIndex(this.model.disableItemsByIndex),null!=this.model.enableItemsByIndex&&this._enableItemByIndex(this.model.enableItemsByIndex)},_initialize:function(){this._selectedIndices=this.model.selectedIndices.length>0?this.model.selectedIndices:this.model.selectedItems,this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,this.model.selectedIndex=-1!=this.model.selectedIndex?this.model.selectedIndex:this.model.selectedItemIndex,this.element.is("select")&&(this.selectelement=!0,this._renderSelectToDropdown()),this._initDisabledItems=[],this._isInteralCall=!1,this._prevSearchValue="",this._selectedItemsID=[],this._hiddenInputElement=[],this._boxValue=[],this._valueContainer=[],this._textContainer=[],this._checkedValues=[],this.target=this.element[0],this._disabledItems=[],this._queryString=null,this.suggLen=0,this._itemId=null,this.checkedStatus=!1,this._incqueryString="",this._activeItem=null,this.ddWidth=0,this._initValue=!0,this._virtualCount=0,this._raiseEvents=!0,this.popUpShow=!1,this._matchedListItems=[],this._prevQueryString=""},_renderSelectToDropdown:function(){var i,s,a,o;if(this.inputElement=t.buildTag("input.e-dropdownlist#"+this._id+"_input","",{},{type:"text","data-role":"none"}),this.inputElement.insertAfter(this.element),this.element.attr("name")&&(this.inputElement.attr("name",this.element.attr("name")),this.element.removeAttr("name")),this.selectOptions=this.element,this.selectOptions.attr("id",this._id),null==this._dataSource()){for(this.optionDiv=t.buildTag("div#"+this._id+"_list"),this.optionDiv.insertAfter(this.inputElement),this.optionUl=t.buildTag("ul"),this.optionDiv.append(this.optionUl),this.selectOptionItems=this.element.children("option"),s=this.selectOptionItems.length,this.optionDummyUl=e(),i=0;i<s;i++)null!=(a=e(o=this.selectOptionItems[i]).attr("label")?e(o).attr("label"):o.innerHTML)&&(this.optionLi=t.buildTag("li",a,{},{"data-value":o.value,unselectable:"on"}),this.optionDummyUl.push(this.optionLi[0]),e(o).attr("selected")&&this.model.showCheckbox&&(-1==e.inArray(i,this._selectedIndices)?(this._selectedIndices.push(i),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices):t.isNullOrUndefined(this.selectedIndex())&&this.selectedIndex(i)));this.optionUl.append(this.optionDummyUl)}this.element.css("display","none"),this.element=this.inputElement},_render:function(){var i,s;this._renderDropdown(),this._setWatermark(),this.model.loadOnDemand&&(!this._dataSource()||0!==this._dataSource().length&&this._dataSource().length<1)&&(i=this.element.parents().last(),this.docbdy=this.model.targetID?i.find("#"+this.model.targetID):this.optionDiv?this.optionDiv:null,this.itemsContainer="UL"==this.docbdy[0].nodeName?this.docbdy:this.docbdy.children("ol,ul"),this.itemsContainer.css("display","none")),this.model.loadOnDemand||(this._renderPopupPanelWrapper(),this._showFullList()),this._roundedCorner(this.model.showRoundedCorner),s=this._dataSource(),t.DataManager&&s instanceof t.DataManager?s.dataSource.offline&&s.dataSource.json&&s.dataSource.json.length>0&&this._finalize():this._finalize(),t.DataManager&&this._dataSource()instanceof t.DataManager||this._finalize(),this.model.loadOnDemand&&t.DataManager&&this._dataSource()instanceof t.DataManager&&!this._dataSource().dataSource.offline&&this._finalize(),this._setCheckAll(this.model.checkAll),(this.element.attr("disabled")||e(this.selectOptions).attr("disabled"))&&this.disable(),this.model.loadOnDemand&&this.model.showPopupOnLoad&&this._showResult()},_isEqualDataSource:function(e){var i,s,a;if(!this._dataSource()||!e||this._rawList&&this._rawList.length!==e.length||t.DataManager&&e instanceof t.DataManager||t.isNullOrUndefined(this._rawList)||0===this._dataSource().length)return!1;for(i=!0,s=0,a=this._dataSource().length;s<a;s++)if(this._dataSource()[s]!==e[s]){i=!1;break}return i},_checkModelDataBinding:function(e,i){this.element.val(""),this._visibleInput.val(""),null!==this.value()&&""!==this.value()&&this._updateValue(""),this.selectedTextValue=this._selectedValue=this._hiddenValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this._textContainer=[],this._valueContainer=[],t.isNullOrUndefined(e)&&t.isNullOrUndefined(this.model.query)&&t.isNullOrUndefined(this.model.template)&&0==this.model.itemsCount&&(this._rawList=[],this.popupListItems=[],this.listitems=[],this.ultag=this.popupListWrapper.find(".e-ul")),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices=[],this.model.selectedIndex=this.model.selectedItemIndex=-1,"visualmode"==this.model.multiSelectMode&&this._destroyBoxModel(),JSON.stringify(this._dataSource())!=JSON.stringify(e)&&this._dataSource(e),this.model.query=i,t.isNullOrUndefined(this.ultag)||this.ultag.empty(),this._showFullList()},_initDataSource:function(e){var i=this;t.DataManager&&e instanceof t.DataManager&&(i._addLoadingClass(),i._trigger("actionBegin",{requestFrom:"default"})||e.executeQuery(this._getQuery()).done((function(e){i._trigger("actionSuccess",{e:e,requestFrom:"default"}),i._totalCount=e.count,i._listItem(e.result),i._removeLoadingClass(),i._renderPopupList(),i._finalize(),i._setDynamicSelectByVal(i,i._optionValue,e),this._optionValue=null})).fail((function(e){i._dataSource(null),i._addLoadingClass(),i._trigger("actionFailure",{e:e,requestFrom:"default"})})).always((function(e){i._trigger("actionComplete",{e:e,requestFrom:"default"})})))},_listItem:function(t,i){"add"==i?(this.popupListItems.push(t),this._rawList.push(t)):e.isArray(t)&&(this.popupListItems=t.slice(0),this._rawList=t.slice(0))},_getQuery:function(e){var i,s,a,o=this.model.fields,r=t.Query();if(!t.isNullOrUndefined(this.model.query)||this.model.template||e)this.model.query&&(r=this.model.query.clone());else{for(a in s=[],o)"tableName"!==a&&o[a]&&s.push(o[a]);s.length>0&&r.select(s)}return this.model.allowVirtualScrolling&&r.requiresCount(),this.model.itemsCount>0&&r.take(this.model.itemsCount),i=this._dataSource().dataSource,o&&(i&&i.url&&!i.url.match(o.tableName+"$")||i&&!i.url||!i)&&(t.isNullOrUndefined(o.tableName)||r.from(o.tableName)),r},_addLoadingClass:function(){this._isPopupShown()?this.popupListWrapper.addClass("e-load"):(this.dropdownbutton.addClass("e-load"),this.drpbtnspan.removeClass("e-icon e-arrow-sans-down")),this._readOnly=!0},_removeLoadingClass:function(){this.dropdownbutton.removeClass("e-load"),this.drpbtnspan.addClass("e-icon e-arrow-sans-down"),this._readOnly=!1,t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-load")},_renderDropdown:function(){if(this.wrapper=t.buildTag("span.e-ddl e-widget "+this.model.cssClass+"#"+this._id+"_wrapper","",{},{accesskey:this.element.attr("accesskey"),role:"listbox","aria-expanded":!1,"aria-haspopup":!0,"aria-owns":this._id+"_popup",tabIndex:"0"}),this.container=t.buildTag("span.e-in-wrap e-box #"+this._id+"_container"),this.element.removeAttr("accesskey"),null==this.model.value&&null!=this.element.attr("value")&&(this.model.value=this.element.attr("value")),this.element.attr("value","").val(""),this._isIE8?this._setAttr(this.element[0],{unselectable:"on"}).element.hide():this._setAttr(this.element[0],{type:"hidden",unselectable:"on"}).element.hide(),this.drpbtnspan=t.buildTag("span.e-icon e-arrow-sans-down","",{},{"aria-label":"select",unselectable:"on"}),this.dropdownbutton=t.buildTag("span.e-select#"+this._id+"_dropdown","",{},{role:"button",unselectable:"on"}).append(this.drpbtnspan),this.container.insertAfter(this.element),this.container.append(this.element),this.container.append(this.dropdownbutton),this.wrapper.insertBefore(this.container),this.wrapper.append(this.container),this.selectelement&&this.selectOptions.insertBefore(this.element),this._visibleInput=t.buildTag("input#"+this._id+"_hidden","",{}).insertAfter(this.element),this._visibleInput.addClass("e-input "),this._setAttr(this._visibleInput[0],{readonly:"readonly",tabindex:"-1","data-role":"textbox"}),!this._isWatermark){var i=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(i),this._hiddenSpan.css("display","none"),this._hiddenSpan.on("mousedown",e.proxy(this._OnDropdownClick,this))}this._checkNameAttr(),this._setDimentions(),this._RightToLeft(),this.ddWidth=this.dropdownbutton.outerWidth()>0?this.dropdownbutton.outerWidth():24,this.container.on("mousedown",e.proxy(this._OnDropdownClick,this))},_checkNameAttr:function(){this._name=t.isNullOrUndefined(this.element.attr("name"))?this._id:this.element.attr("name"),this.element.attr("name",this._name)},_addAttr:function(i){var s=this;e.map(i,(function(i,a){var o=a.toLowerCase();"class"==o?s.wrapper.addClass(i):"disabled"==o&&"disabled"==i?s.disable():"readOnly"==o&&"readOnly"==i?s.model.readOnly=!0:"style"==o?s.wrapper.attr(a,i):"name"==o?e(s.element).attr(a,i):t.isValidAttr(s._visibleInput[0],a)?e(s._visibleInput).attr(a,i):s.wrapper.attr(a,i)}))},_renderBoxModel:function(){if(!t.isNullOrUndefined(this._ulBox)||"visualmode"!=this.model.multiSelectMode)return!1;this._ulBox=t.buildTag("ul.e-ul e-boxes"),this.container.prepend(this._ulBox),this._ulBox.css("min-height","30px"),this._ulBox.css("display","none"),this._on(this.container,"click",(function(t){if(!this.model.enabled)return!1;var i=e(t.target);i.hasClass("e-options")&&(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")),!t.ctrlKey&&i.hasClass("e-boxes")&&this._removeActive()}))},_renderPopupPanelWrapper:function(){var i=e("#"+this.element[0].id+"_popup_wrapper").get(0);i&&e(i).remove(),this.popupPanelWrapper=t.buildTag("div#"+this._id+"_popup_wrapper"),e(this.model.popupTarget).append(this.popupPanelWrapper),this.popupListWrapper=t.buildTag("div.e-ddl-popup e-box e-widget  e-popup#"+this._id+"_popup_list_wrapper","",{display:"none",overflow:"hidden"}),this._setAttr(this.popupListWrapper[0],{"data-role":"popup","aria-hidden":!0}),this.popupList=t.buildTag("div",{tabIndex:0}),this.popupListWrapper.addClass(this.model.cssClass),this.popup=this.popupList,this.popupScroller=t.buildTag("div"),t.isNullOrUndefined(this.ultag)&&(this.ultag=t.buildTag("ul.e-ul","",{},{role:"listbox"})),this._setAttr(this.ultag[0],{id:this._id+"_popup","aria-hidden":!0,unselectable:"on"}),this.popupScroller.append(this.ultag),this.popupList.append(this.popupScroller),this.model.headerTemplate&&(this.headerTemplate=e("<div>").append(this.model.headerTemplate),this.popupListWrapper.append(this.headerTemplate)),this.popupListWrapper.append(this.popupList),this.popupPanelWrapper.append(this.popupListWrapper),this.ultag.on({mouseenter:e.proxy(this._OnMouseEnter,this),mouseleave:e.proxy(this._OnMouseLeave,this),click:e.proxy(this._OnMouseClick,this)},"li:not('.e-category')"),t.isTouchDevice()&&this.ultag.on({tap:e.proxy(this._OnMouseEnter,this)},"li:not('.e-category')"),e(window).on("resize",e.proxy(this._OnWindowResize,this))},_updateText:function(){var e=this._visibleInput.val();this.model.text=""==e?0==this._textContainer.length?null:"":e},_updateValue:function(e){this.value(""==e?0==this._valueContainer.length?null:"":e)},_setGroupingAndSorting:function(e,t){var i,s,a;if(this.model[e]=t,i=this.model.text,this._updateValue(""),this._selectedIndices=[],this.ultag.empty(),this._showFullList(),this.model.showCheckbox&&i)for(s=i.split(this.model.delimiterChar),a=0;a<s.length;a++)this.selectItemByText(s[a]);else this.selectItemByText(i)},_setSortingList:function(){var t,i,s=document.createElement("ul");if(e(s).append(this.itemsContainer.children()),this.model.allowGrouping||e(s).find(">.e-category").length>0)for(this.popupListWrapper.addClass("e-atc-popup"),t=0;t<e(s).find(">.e-category").length;t++)i=e(s).find(">.e-category").eq(0).first().nextUntil(".e-category").get(),this._setSortList(s,i);else e(s).children(">.e-category").remove(),i=e(s).children("li").get(),this._setSortList(s,i);this.itemsContainer=e(s)},_setSortList:function(t,i){i.sort((function(t,i){var s=e(t).text().toUpperCase(),a=e(i).text().toUpperCase();return s<a?-1:s>a?1:0})),"descending"==this.model.sortOrder&&i.reverse(),(this.model.allowGrouping||e(t).find(">.e-category").length>0)&&(e(t).append(e("<li>").text(e(t).find(">.e-category").eq(0).text()).addClass("e-category")),e(t).find(">.e-category").eq(0).remove()),e.each(i,(function(i,s){e(t).append(s)}))},_renderPopupList:function(){this._doDataBind(),this.model.loadOnDemand&&t.DataManager&&this._dataSource()instanceof t.DataManager&&!this._dataSource().dataSource.offline&&this.model.showCheckbox&&this._checkboxHideShow(this.model.showCheckbox),(t.isNullOrUndefined(this.scrollerObj)||null==this._ulBox)&&this._renderRemaining(),this.model.loadOnDemand&&this.popUpShow&&t.DataManager&&this._dataSource()instanceof t.DataManager&&!this._dataSource().dataSource.offline&&(this._refreshPopup(),this._refreshScroller())},_renderRemaining:function(){var i=this;t.isNullOrUndefined(this.popupListWrapper)||this._dropbtnRTL(),this.model.enableFilterSearch&&this._enableSearch(),this.model.enablePopupResize&&this._enablePopupResize(),this.model.allowVirtualScrolling&&"normal"==this.model.virtualScrollMode&&this._totalCount&&this._totalCount>0&&(this._totalHeight=29*this._totalCount,this._totalPages=this._totalCount/(29*this.model.itemsCount),this._loadedItemHeight=29*this._getLi().length,this._getLi().attr("page",0),this._virtualPages=[0],this.ultag.append(e("<span>").addClass("e-virtual").css({height:this._totalHeight-this._loadedItemHeight,display:"block"}))),this._virtualUl=this.ultag.clone(!0),t.isNullOrUndefined(this.popupListWrapper)||(this._setListWidth(),this._setListHeight()),this._isSingleSelect()||(this.model.showCheckbox?this._checkboxHideShow(this.model.showCheckbox):this._multiItemSelection(this._getLi())),this._setUncheckAll(this.model.uncheckAll),t.isNullOrUndefined(this.popupListWrapper)||(this.popupScroller.css({height:"",width:""}),this.popupList.ejScroller({height:this._getPopupHeight(),width:0,scrollerSize:20,scroll:function(e){i.model.allowVirtualScrolling&&i._onScroll(e)},preventDefault:!0}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.find("div.e-scrollbar div").attr("unselectable","on"),this._setListPosition(),this.popUpShow||this.popupListWrapper.css({display:"none",visibility:"visible"}),this._changeSkin(this.model.cssClass)),this.model.loadOnDemand||this.model.showPopupOnLoad&&this._showResult()},_enableSearch:function(){if(this.model.enableFilterSearch&&!t.isNullOrUndefined(this.popupListWrapper)&&!this.inputSearch){this.inputSearch=t.buildTag("input#"+this._id+"_inputSearch.e-input","",{},{type:"text","data-role":"none"}),this.popupListWrapper.prepend(e("<span>").addClass("e-atc e-search").append(e("<span>").addClass("e-in-wrap ").append(this.inputSearch).append(e("<span>").addClass(" e-icon e-search"))));var i=this.model.enableServerFiltering?this._debounce(this._OnSearchEnter,200):this._OnSearchEnter;this._on(this.inputSearch,"keyup",i)._on(this.inputSearch,"keydown",(function(e){9==(e.keyCode||e.which)&&(e.preventDefault(),this.wrapper.focus(),this._hideResult())}))}},_removeSearch:function(){this.model.enableFilterSearch=!1,this.popupListWrapper.find(".e-atc.e-search").remove(),this._isPopupShown()&&this.hidePopup(),this.inputSearch=null},_OnSearchEnter:function(i){var s,a;(""==this._prevSearchValue||this._prevSearchValue!=this.inputSearch.val())&&(this._prevSearchValue=this.inputSearch.val(),t.isNullOrUndefined(this._rawList)||(8==i.keyCode&&this.model.enableFilterSearch&&(this._disabledItems=this._initDisabledItems,this._prevDisabledItems=this._disabledItems),-1!=e.inArray(i.keyCode,[38,40,13])&&this.ultag.find("li.e-nosuggestion").length<=0?13==i.keyCode?this._OnKeyUp(i):this._OnKeyDown(i):(this._activeItem=-1,this._queryString=this.inputSearch.val(),""==this._queryString&&this._virtualUl?(this._trigger("search",a={searchString:this._queryString,searchQuery:null,items:this._rawList}),this._resetList(i),this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition(),this._prevDisabledItems&&this._prevDisabledItems.length>0&&(this._disabledItems=[],this._isInteralCall=!0,this.disableItemsByIndices(this._prevDisabledItems),this._isInteralCall=!1,this._prevDisabledItems=this._disabledItems)):(this._mapFields(),s=this._addSearchQuery(t.Query(),!this._isPlainType(this._rawList)),a={searchString:this._queryString,items:this._rawList,searchQuery:s},this.popupListWrapper.find(".e-atc.e-search .e-search").addClass("e-cross-circle").removeClass("e-search"),this._on(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch),this._trigger("search",a)||this._onActionComplete(a)))))},_debounce:function(e,t){var i,s=this;return function(){var a=arguments,o=function(){return i=null,e.apply(s,a)};clearTimeout(i),i=setTimeout(o,t)}},_onActionComplete:function(e){var i,s=this;this._queryString=this.inputSearch.val(),i=this._addSearchQuery(t.Query(),!this._isPlainType(this._rawList)),e={searchString:this._queryString,items:this._rawList,searchQuery:i},t.DataManager&&this._dataSource()instanceof t.DataManager&&this.model.enableServerFiltering&&("Caret"==window.getSelection().type||"msie"==t.browserInfo().name)?(i=e.searchQuery.clone(),s._dataSource().executeQuery(i).done((function(t){s._filterSearch(e.searchQuery,t)}))):s._filterSearch(i,e)},_refreshSearch:function(){this._resetSearch(),this._refreshPopup(),this._initDisabledItems&&this._initDisabledItems.length>0&&(this._disabledItems=[],this.disableItemsByIndices(this._initDisabledItems),this._prevDisabledItems=this._disabledItems)},_filterSearch:function(e,i){var s,a,o,r,n=!1;this.resultList=i.result?i.result:t.DataManager(this._rawList).executeLocal(e),0==this.resultList.length&&(n=!0,this.resultList.push(this._getLocalizedLabels("emptyResultText"))),s=[],this._initDisabledItems.forEach((function(e){this._rawList.forEach((function(t){this._rawList.indexOf(t)==e&&s.push(t)}),this)}),this),a=[],s.length>0&&this.resultList.forEach((function(e){s.indexOf(e)>=0&&a.push(this.resultList.indexOf(e))}),this),this.popupListItems=this.resultList,this.ultag.empty(),this._isPlainType(this.popupListItems)?this._plainArrayTypeBinding(this.resultList):this._objectArrayTypeBinding(this.resultList,"search"),n&&1==this.ultag.find("li").length&&this.ultag.find("li").eq(0).addClass("e-nosuggestion"),this.model.showCheckbox&&!n&&this._appendCheckbox(this._getLi()),this._onSearch=!0,o=this.value(),r=this._visibleInput[0].value,this._setValue(this.value()),("function"==typeof this.model.value?this.model.value():this.model.value)!=o&&(this.element[0].value=o,this._visibleInput[0].value=r,this.model.text=""==r?null:r,this.value()==o||null==this.value()&&""==o||this._updateValue(o)),this._onSearch=!1,this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition(),this._prevDisabledItems=this._disabledItems,this._disabledItems=[],a.length>0&&(this._isInteralCall=!0,this.disableItemsByIndices(a),this._isInteralCall=!1)},_updateSelectedIndexByValue:function(t){var i,s,a;if(t&&this.model.enableFilterSearch){for(this._selectedIndices=this.model.selectedItems=this.model.selectedIndices=[],this._virtualList=this._virtualUl.children("li:not('.e-category')"),i=this._toArray(t),s=0;s<i.length;s++)for(a=0;a<this._virtualList.length;a++)if(i[s]==this._getIndexedValue(this._virtualList[a])){-1==e.inArray(a,this._selectedIndices)&&this._selectedIndices.push(a);break}this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,1==this.model.selectedIndices.length&&(this.model.selectedIndex=this.selectedIndexValue=this.model.selectedIndices[0])}},_getIndexedValue:function(e){return this._getAttributeValue(e)?this._getAttributeValue(e):e.innerText},_resetSearch:function(){this.inputSearch&&this.model&&this.model.enableFilterSearch&&""!=this.inputSearch.val()&&this._virtualUl&&(this.inputSearch.val(""),this._prevSearchValue="",this._resetList())},_resetList:function(e){var i,s,a;if(1==this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").length&&(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").addClass("e-search").removeClass("e-cross-circle"),this._off(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch)),this.model.enableServerFiltering){for(i=this.model.fields&&this.model.fields.value?this.model.fields.value:"value",s=0;s<this._rawList.length;s++)this._rawList[s][i]==this._selectedValue&&(this._searchresult=null);t.isNullOrUndefined(this._searchresult)||this.model.allowVirtualScrolling&&"normal"==this.model.virtualScrollMode||this.addItem(this._searchresult)}this._listItem(this._rawList),this.model.enableSorting&&(a=t.Query().sortBy(this.mapFld._text,this.model.sortOrder,!0),this._rawList=t.DataManager(this._rawList).executeLocal(a),this.popupListItems=this._rawList),this.ultag.empty().append(this._virtualUl.children().clone(!0)),this._onSearch=!0,this._setValue(this.value(),e),this._onSearch=!1,this._searchresult=[],this._initDisabledItems&&this._initDisabledItems.length>0&&(this._disabledItems=[],this.disableItemsByIndices(this._initDisabledItems),this._prevDisabledItems=this._disabledItems)},_addSearchQuery:function(e,t){var i,s="";return t&&(s=(i=this.model.fields)&&i.text?i.text:"text"),this._queryString&&e.where(s,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch),this.model.itemsCount>0&&e.take(this.model.itemsCount),e},_targetElementBinding:function(){var t,i,s,a,o,r=this.element.parents().last();if(this.docbdy=this.model.targetID?r.find("#"+this.model.targetID):this.optionDiv?this.optionDiv:null,!this.docbdy)return!1;if(this.itemsContainer="UL"==this.docbdy[0].nodeName?this.docbdy:this.docbdy.children("ol,ul"),(this.model.allowGrouping||this.itemsContainer.find(">.e-category").length>0)&&!this.model.enableSorting)for(this.popupListWrapper.addClass("e-atc-popup"),t=0;t<this.itemsContainer.find(">.e-category").length;t++)(i=this.itemsContainer.find(">.e-category").eq(t)).replaceWith(e("<li>").text(i.text()).addClass("e-category"));else this.model.enableSorting&&this._setSortingList();for(this.itemsContainer.children("ol,ul").remove(),this.items=this.model.loadOnDemand?this.itemsContainer.children().length>0?this.itemsContainer.children("li"):this.items:this.itemsContainer.children("li"),this.items.children("img,div").addClass("e-align"),this._listItem([]),s=0;s<this.items.length;s++)a=e(this.items[s]).text(),o=this._getAttributeValue(this.items[s]),this.items[s].getAttribute("id")&&""!=this.items[s].getAttribute("id")||e(this.items[s]).attr("id",this._id+"_"+s+"_popup_option"),e(this.items[s]).attr("data-value")||e(this.items[s]).attr("data-value",o||a),this._listItem({text:a,value:o||a},"add");this.model.loadOnDemand?this.ultag.empty().append(this.items):this.ultag.empty().append(this.itemsContainer.children()),this.ultag.children("li").attr("role","option").attr("unselectable","on").attr("aria-selected","false").attr("tabindex","-1"),this.docbdy.css({display:"none"}).children("ol,ul").remove()},_plainArrayTypeBinding:function(i){var s,a;if(this.dummyUl=e(),this.model.enableSorting&&(i.sort(),"descending"==this.model.sortOrder&&i.reverse()),i.length>0){for(s=0;s<i.length;s++)t.isNullOrUndefined(i[s])||(a=t.buildTag("li",i[s],{},{"data-value":i[s],unselectable:"on"}),this.dummyUl.push(a[0]));this.ultag.append(this.dummyUl),this._trigger("dataBound",{data:i})}},_mapFields:function(){this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category;var e=this.model.fields;this.mapFld={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null},this.mapFld._id=e&&e.id?e.id:"id",this.mapFld._imageUrl=e&&e.imageUrl?e.imageUrl:"imageUrl",this.mapFld._imageAttributes=e&&e.imageAttributes?e.imageAttributes:"imageAttributes",this.mapFld._spriteCSS=e&&e.spriteCssClass?e.spriteCssClass:"spriteCssClass",this.mapFld._text=e&&e.text?e.text:"text",this.mapFld._value=e&&e.value?e.value:"value",this.mapFld._htmlAttributes=e&&e.htmlAttributes?e.htmlAttributes:"htmlAttributes",this.mapFld._selected=e&&e.selected?e.selected:"selected",this.mapFld._category=e&&e.groupBy?e.groupBy:"groupBy"},_doDataBind:function(){var e=this._dataSource(),t=this.popupListItems;!e||!t||!t.length||t.length<1?this._targetElementBinding():this._isPlainType(t)?this._plainArrayTypeBinding(t):this._objectArrayTypeBinding(t)},_isPlainType:function(e){return"object"!=typeof e[0]},_objectArrayTypeBinding:function(i,s){var a,o,r,n,l,d;if(this.dummyUl=e(),this._mapFields(),this.model.enableSorting&&(a=t.Query().sortBy(this.mapFld._text,this.model.sortOrder,!0),i=t.DataManager(i).executeLocal(a),this.popupListItems=i),this.model.allowGrouping||this.model.fields.groupBy)for(t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-atc-popup"),o=this.mapFld._category,n=t.Query().group(o),this.model.enableSorting||n.queries.splice(0,1),r=t.DataManager(i).executeLocal(n),this._swapUnCategorized(r),"search"==s?this.popupListItems=[]:this._listItem([]),l=0;l<r.length;l++)for(r[l].key&&this.ultag.append(t.buildTag("li.e-category",r[l].key).attr("role","option")[0]),this._generateLi(r[l].items,this.mapFld),this.ultag.append(this.dummyUl),d=0;d<r[l].items.length;d++)"search"==s?this.popupListItems.push(r[l].items[d]):this._listItem(r[l].items[d],"add");else this._generateLi(i,this.mapFld),this.ultag.append(this.dummyUl);this._trigger("dataBound",{data:i})},_onScroll:function(i){var s,a;if(i.scrollTop){var o=i.scrollTop,r=this,n=this._dataSource();r.model.allowVirtualScrolling&&"continuous"==r.model.virtualScrollMode?(a=t.Query().skip(r._rawList.length).take(r.model.itemsCount).clone(),o>=Math.round(e(r.popupList).find("ul,ol").height()-e(r.popupList).height())&&r._rawList.length<r._totalCount&&(r._addLoadingClass(),t.DataManager&&r._dataSource()instanceof t.DataManager&&!t.isNullOrUndefined(r._dataSource().dataSource.url)?(a=r.inputSearch&&""!=r.inputSearch.val()&&this.model.enableServerFiltering?r._addSearchQuery(t.Query(),!r._isPlainType(r._rawList)).skip(r._getLi().length).clone():r._getQuery().skip(r._rawList.length).take(r.model.itemsCount).clone(),r._trigger("actionBegin",{requestFrom:"scroll"})||r._dataSource().executeQuery(a).done((function(e){!t.isNullOrUndefined(r.model.value)&&r.model.enableServerFiltering&&(e.result=r._removeSelectedValue(e.result)),r.addItem(e.result),r._removeLoadingClass(),r._trigger("actionSuccess",{e:e,requestFrom:"scroll"})})).fail((function(){r._dataSource(null),r._removeLoadingClass(),r._trigger("actionFailure",{e:i,requestFrom:"scroll"})})).always((function(e){r._trigger("actionComplete",{e:e,requestFrom:"scroll"})}))):t.DataManager&&n instanceof t.DataManager&&n.dataSource.offline&&n.dataSource.json&&n.dataSource.json.length>0?(r.addItem(this._localDataVirtualScroll()),window.setTimeout((function(){r._removeLoadingClass()}),100)):(s=t.DataManager(r._dataSource()).executeLocal(a),r.addItem(r._removeSelectedValue(s)),r._removeLoadingClass()))):r.model.allowVirtualScrolling&&"normal"==r.model.virtualScrollMode&&window.setTimeout((function(){0==r._virtualCount&&r._loadList()}),300)}},_localDataVirtualScroll:function(){var e=this,i=t.isNullOrUndefined(e.value())?0:"number"==typeof e.value()?1:e.value().split(e.model.delimiterChar).length,s=e._checkValue?e._rawList.length-i:e._rawList.length,a=t.DataManager(e._dataSource().dataSource.json).executeLocal(t.Query().skip(s).take(e.model.itemsCount).clone());return e._removeSelectedValue(a)},_removeSelectedValue:function(e){var i,s,a;if(t.isNullOrUndefined(this.value()))return e;for(i="number"==typeof this.value()?this.value():this.value().split(this.model.delimiterChar),s=0;s<i.length;s++)for(a=0;a<e.length;a++)e[a][this.mapFld._value]==i[s]&&e.splice(e.indexOf(e[a]),1);return e},_loadList:function(){var i,s,a,o,r;this._virtualCount++;var n,l=this._dataSource(),d=this.scrollerObj.scrollTop(),h=this,c=0,u=null;if(this._currentPage=Math.round(d/(29*this.model.itemsCount)),this._virtualPages){if(-1!=e.inArray(this._currentPage,this._virtualPages.sort((function(e,t){return e-t}))))if(0==this._currentPage){if(-1!=e.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else if(-1!=e.inArray(this._currentPage-1,this._virtualPages)){if(-1!=e.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else this._currentPage=this._currentPage-1;for(n=!(-1!=e.inArray(this._currentPage-1,this._virtualPages)),this._addLoadingClass(),i=this._virtualPages.length-1;i>=0;i--)if(this._virtualPages[i]<this._currentPage){c=this._virtualPages[i],i+1==this._virtualPages.length||(u=this._virtualPages[i+1]);break}}if(s=n?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,r=t.Query().range(s,this._currentPage*this.model.itemsCount+this.model.itemsCount),t.DataManager&&h._dataSource()instanceof t.DataManager&&!t.isNullOrUndefined(h._dataSource().dataSource.url)){if(o=n?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,r=this._getQuery().skip(o),n){for(i=0;i<r.queries.length;i++)if("onTake"==r.queries[i].fn){r.queries.splice(i,1);break}r.take(2*this.model.itemsCount)}h._trigger("actionBegin",{requestFrom:"scroll"})||(h.inputSearch&&""!=h.inputSearch.val()&&this.model.enableServerFiltering&&(r=h._addSearchQuery(t.Query(),!h._isPlainType(h._rawList)).skip(h._getLi().length).clone()),h._dataSource().executeQuery(r).done((function(e){e.result=h._removeSelectedValue(e.result),h._appendVirtualList(e.result,c,h._currentPage,u,n),h._removeLoadingClass(),h._trigger("actionSuccess",{e:e,requestFrom:"scroll"})})).fail((function(e){h._virtualCount--,h._removeLoadingClass(),h._trigger("actionFailure",{e:e,requestFrom:"scroll"})})).always((function(e){h._trigger("actionComplete",{e:e,requestFrom:"scroll"})})))}else t.DataManager&&l instanceof t.DataManager&&l.dataSource.offline&&l.dataSource.json&&l.dataSource.json.length>0?(h._appendVirtualList(this._localDataVirtualScroll(),c,h._currentPage,u,n),window.setTimeout((function(){h._removeLoadingClass()}),100)):(a=t.DataManager(h._dataSource()).executeLocal(r),h._appendVirtualList(h._removeSelectedValue(a),c,h._currentPage,u,n),h._removeLoadingClass())},_appendVirtualList:function(i,s,a,o,r){var n,l,d,h,c,u;if(this._virtualPages){if(this._virtualCount--,this.ultag.find("span.e-virtual").remove(),t.isNullOrUndefined(this.activeItem)||this.activeItem.attr("page","0"),-1!=e.inArray(a,this._virtualPages.sort((function(e,t){return e-t}))))return!1;for(r&&-1!=e.inArray(a-1,this._virtualPages.sort())&&(i.splice(0,this.model.itemsCount),r=!1),n=this.model.itemsCount,l=e("<ul>"),0!=(d=r?(a-1)*n*29-29*(s*n+n):a*n*29-29*(s*n+n))&&l.append(e("<span>").addClass("e-virtual").css({display:"block",height:d})),this._mapFields(),this._generateLi(i,this.mapFld),e(this.dummyUl).attr("page",a),r&&e(this.dummyUl).slice(0,n).attr("page",a-1),this.model.showCheckbox&&this._appendCheckbox(this.dummyUl),l.append(this.dummyUl),h=29*(a*n+n),0!=(h=null!=o?o*n*29-h:this.ultag.height()-h)&&l.append(e("<span>").addClass("e-virtual").css({display:"block",height:h})),(c=this.model.itemsCount>0&&""!=this.value()&&this._dataSource()instanceof t.DataManager&&this._dataSource().dataSource.offline?this.ultag.find("li").last():this.ultag.find("li[page="+s+"]").last()).next().remove(),l.children().insertAfter(c),this._virtualPages.push(a),r&&this._virtualPages.push(a-1),u=0;u<i.length;u++)this._listItem(i[u],"add");this._virtualUl=this.ultag.clone(!0),this._renderBoxModel()}},_generateLi:function(i,s){var a,o,r,n;if(this.mapFld=s,this.dummyUl=[],!i||!i.length||i.length<1)return!1;for(a=0;a<i.length;a++){var l=this._getField(i[a],this.mapFld._id),d=this._getField(i[a],this.mapFld._imageUrl),h=this._getField(i[a],this.mapFld._imageAttributes),c=this._getField(i[a],this.mapFld._spriteCSS),u=this._getField(i[a],this.mapFld._text),p=this._getField(i[a],this.mapFld._value),m=this._getField(i[a],this.mapFld._htmlAttributes),g=this._getField(i[a],this.mapFld._selected),_=document.createElement("li");_.setAttribute("data-uid",Math.random().toString(36).substr(2,4)),t.isNullOrUndefined(p)?_.setAttribute("data-value",u):_.setAttribute("data-value","object"==typeof p?JSON.stringify(p):p),t.isNullOrUndefined(l)||""===l&&0==l||_.setAttribute("id",l),t.isNullOrUndefined(m)||""==m||this._setAttr(_,m),(t.isNullOrUndefined(l)||""==l&&0!=l)&&this._setAttr(_,{id:this._id+"_"+a+"_popup_option","aria-selected":!1,tabindex:-1}),this.model.template?e(_).append(this._getTemplatedString(i[a])):(t.isNullOrUndefined(d)||""==d||(o=document.createElement("img"),this._setClass(o,"e-align")._setAttr(o,{src:d,alt:u}),h&&""!=h&&this._setAttr(o,h),_.appendChild(o)),t.isNullOrUndefined(c)||""==c||(r=document.createElement("div"),this._setClass(r,"div.e-align "+c+" sprite-image"),_.appendChild(r)),g&&this._setClass(_,"chkselect"),t.isNullOrUndefined(u)&&(u=String(u)),(n=document.createElement("span")).appendChild(document.createTextNode(u)),this._setClass(n,"e-ddltxt"),_.appendChild(n)),this._setAttr(_,{role:"option",unselectable:"on"}),this.dummyUl.push(_)}},_setAttr:function(t,i){var s,a,o;if("string"==typeof i)2==(s=i.replace(/['"]/g,"").split("=")).length&&(t.hasAttribute(s[0])&&"class"==s[0]?e(t).addClass(s[1]):t.setAttribute(s[0],s[1]));else for(a in i)if("styles"!=a&&"style"!=a||"object"!=typeof i[a])t.setAttribute(a,i[a]);else for(o in i[a])t.style[o]=i[a][o];return this},_setClass:function(e,t){return e.className+=" "+t,this},_removeClass:function(e,t){var i=e.className.indexOf(t);return i>=0&&(e.className=e.className.replace(0!=i&&" "===e.className[i-1]?" "+t:t,"")),this},_hasClass:function(e,t){return e.className.indexOf(t)>=0},_swapUnCategorized:function(t){e(t).each((function(e,i){if(!i.key){for(var s=e;s>0;s--)t[s]=t[s-1];return t[s]=i,!1}}))},_getField:function(e,i){return t.pvt.getObject(i,e)},_getTemplatedString:function(e){for(var t,i,s=this.model.template,a=s.indexOf("${"),o=s.indexOf("}");-1!=a&&-1!=o;)i=(t=s.substring(a,o+1)).replace("${","").replace("}",""),a=(s=s.replace(t,this._getField(e,i))).indexOf("${"),o=s.indexOf("}");return s},_setWatermark:function(){if(""==this.element.val()&&""==this._trim(this._visibleInput.val())){var e=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._isWatermark?this._visibleInput.attr("placeholder",e):this._hiddenSpan.css("display","block").text(e),"visualmode"==this.model.multiSelectMode&&this._ulBox&&0==this._ulBox.find("li").length&&this._swapUlandInput(!1)}},_checkboxHideShow:function(e){t.isNullOrUndefined(this.ultag)||(e?(this.listitems=this._getLi(),0==this.listitems.find("input[type=checkbox]").length&&this._appendCheckbox(this.listitems)):this._removeCheck(this.popupList),this.model.showCheckbox=e,this._virtualUl=this.ultag.clone(!0))},_setCheckAll:function(e){!this._isSingleSelect()&&e?this.checkAll():this.model.checkAll=!1},_setUncheckAll:function(e){!this._isSingleSelect()&&e?this.uncheckAll():this.model.uncheckAll=!1},checkAll:function(){var i,s,a,o,r;if(this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),i=this._selectedIndices,s=!1,this._mapFields(),this.listitems=this._getLi(),this._isWatermark||this._hiddenSpan.css("display","none"),!this._isSingleSelect()){for(a=0;a<this.listitems.length;a++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[a]:this._decode(this._getField(this.popupListItems[a],this.mapFld._text)),this._hiddenValue=this._getAttributeValue(this.listitems[a])||this._currentText,this._checkContains(this._hiddenValue)?s=!0:this.model.showCheckbox?(o=e(this.listitems[a]).children(".e-checkwrap")[0])&&!this._isChecked(o)?(this._setClass(o,"e-check-act"),this._setAttr(o,{"aria-checked":!0}),o.firstChild.checked=!0,s=!1):s=!0:(s=!1,e(this.listitems[a]).addClass("e-active")),s||(this.checkedStatus=!0,this._itemID=e(this.listitems[a]).attr("id"),t.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||this._selectedItemsID.push(this._itemID),this._createListHidden(this._hiddenValue),"visualmode"==this.model.multiSelectMode&&(this._ulBox.append(this._createBox(this._currentText,this._hiddenValue)),this._isPopupShown()&&this._setListPosition()),this._addText(this._currentText),-1==e.inArray(a,i)&&(this._selectedIndices.push(a),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[a])||"",this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),r={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:a,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._updateValue(this.element.val()),this._updateText(),this._initValue||this._trigger("change",r),this._activeItem=a,this.activeItem=this._getActiveItem(),this._cascadeAction());this.model.itemValue=this._selectedValue,this.model.uncheckAll=!1,this.model.checkAll=!0,this._activeItem=-1,this._setWatermark()}},_createListHidden:function(t){var i=document.createElement("input"),s=/'/;s.test(t)&&(t=t.replace(s,"&apos;")),this._setAttr(i,{type:"hidden",name:this._name,value:t,id:"#"+t}),-1==e.inArray(i.value,this._hiddenInputElement)&&(this._hiddenInputElement.push(i.value),this._boxValue.push(i.value),this.container.append(i),e(this.element).attr("name","hiddenEle"))},_removeListHidden:function(t){var i,s,a=/'/;a.test(t)&&(t=t.replace(a,"&apos;")),i=this.container.find("[id='#"+t+"']"),this._hiddenInputElement.splice(e.inArray(i.value,this._hiddenInputElement),1),-1!=(s=this._boxValue.indexOf(t))&&this._boxValue.splice(s,1),e(i).remove(),this._isSingleSelect()||""!=this.element.val()||this.element.attr("name",this._name)},_getAttributeValue:function(e){if(!t.isNullOrUndefined(e))var i=t.isNullOrUndefined(e.getAttribute("data-value"))?e.getAttribute("value"):e.getAttribute("data-value");return e?i:null},_selectCheckedItem:function(e){this.model.loadOnDemand&&(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList();for(var i=0;i<e.length;i++)this._activeItem=e[i],this.ultag.children()[this._activeItem]&&this._enterTextBoxValue()},unCheckAll:function(){this.uncheckAll()},uncheckAll:function(){var i,s,a,o,r=!1;if(this.listitems=this._getLi(),this._mapFields(),!this._isSingleSelect()){for(i=0;i<this.listitems.length;i++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[i]:this._getField(this.popupListItems[i],this.mapFld._text),this._hiddenValue=this._getAttributeValue(this.listitems[i])||this._currentText,this._checkContains(this._hiddenValue)?this.model.showCheckbox?(s=e(this.listitems[i]).children(".e-checkwrap")[0])&&this._isChecked(s)?(this._removeClass(s,"e-check-act"),this._setAttr(s,{"aria-checked":!1}),s.firstChild.checked=!1,r=!0):r=!1:(e(this.listitems[i]).removeClass("e-active"),r=!0):r=!1,r&&(this.checkedStatus=!1,this._activeItem=i,this.activeItem=this._getActiveItem(),this._removeText(this._hiddenValue),this._removeListHidden(this._hiddenValue),e.inArray(i,a=this._selectedIndices)>-1&&(this._selectedIndices.splice(e.inArray(i,a),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[i])||"",this._itemID=e(this.listitems[i]).attr("id"),t.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||this._removeSelectedItemsID(),this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),o={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:i,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._updateValue(this.element.val()),this._updateText(),this._initValue||this._trigger("change",o),this._cascadeAction(),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition()));this.model.itemValue=this._selectedValue,this.model.checkAll=!1,this.model.uncheckAll=!0,this._setWatermark(),this._activeItem=-1,this._clearTextboxValue()}},_removeSelectedItemsID:function(){var e;e=this._selectedItemsID.indexOf(this._itemID),this._selectedItemsID.splice(e,1),this._itemID=""},_refreshScroller:function(){if(!t.isNullOrUndefined(this.popupListWrapper)){this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.popupList.find(".e-content, .e-vhandle").removeAttr("style"),this.popupList.find(".e-vhandle div").removeAttr("style"),this.popupList.children(".e-content").removeClass("e-content");var e=this._isPopupShown();this.popupListWrapper.css("display","block"),this.popupList.css({display:"block"}),this.scrollerObj.model.height=Math.ceil(this._getPopupHeight()),this.scrollerObj.refresh(),this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.scrollerObj.option("scrollTop",0),e||this.popupListWrapper.css("display","none")}},_enablePopupResize:function(){this.model.enablePopupResize&&!t.isNullOrUndefined(this.popupListWrapper)&&(this.popupListWrapper.addClass("e-resizable").append(t.buildTag("div.e-resizebar").append(t.buildTag("div.e-icon e-resize-handle"))).find(".e-resize-handle").addClass(this.model.enableRTL?"e-rtl-resize":""),this._resizePopup())},_resizePopup:function(){var t=this,i=!1;this.popupListWrapper.find("div.e-resize-handle").ejResizable({minHeight:t._validatePixelData(t.model.minPopupHeight),minWidth:t._validatePixelData(t.model.minPopupWidth),maxHeight:t._validatePixelData(t.model.maxPopupHeight),maxWidth:t._validatePixelData(t.model.maxPopupWidth),handle:"e-ddl-popup",resizeStart:function(e){if(!t.model.enabled)return!1;i||t._trigger("popupResizeStart",{event:e}),i=!0},resize:function(i){var s=e(i.element).parents("div.e-ddl-popup");t._refreshPopupOnResize(e(s).outerHeight(),e(s).outerWidth()),t._trigger("popupResize",{event:i})},resizeStop:function(e){i&&(t._refreshPopupOnResize(t.model.popupHeight,t.model.popupWidth),i&&t._trigger("popupResizeStop",{event:e}),i=!1)},helper:function(i){var s=e(i.element).parents("div.e-ddl-popup");return t._refreshPopupOnResize(e(s).outerHeight(),e(s).outerWidth()),e(t.popupListWrapper)}})},_refreshPopupOnResize:function(e,t){e&&(this.model.popupHeight=e),t&&(this.model.popupWidth=t),this.popupListWrapper.css({height:this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight)}),this._setListWidth(),this._refreshScroller()},_setListWidth:function(){if(!t.isNullOrUndefined(this.popupListWrapper)){var e=this.model.popupWidth;this.popupListWrapper.css("auto"!=e?{width:e}:{"min-width":this._validatePixelData(this.model.minPopupWidth)}),this.popupListWrapper.css({"max-width":this._validatePixelData(this.model.maxPopupWidth)})}},_setListHeight:function(){t.isNullOrUndefined(this.popupListWrapper)||(this.model.enablePopupResize&&this.model.enableFilterSearch&&this.model.minPopupHeight&&this.model.minPopupHeight.toString().indexOf("%")<0&&20==this._validatePixelData(this.model.minPopupHeight)&&(this.model.minPopupHeight="65"),this.popupListWrapper.css(this.model.enablePopupResize?{"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight),height:this._validatePixelData(this.model.popupHeight)}:{"max-height":this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight)}))},_validatePixelData:function(e){return e&&!isNaN(e)?Number(e):e},_getPopupHeight:function(){var e,t=this.popupListWrapper.height();return this.model.enablePopupResize&&(t-=this.popupListWrapper.find(">div.e-resizebar").height()),this.model.headerTemplate&&this.headerTemplate&&(t-=this.headerTemplate.height()),this.model.enableFilterSearch&&this.inputSearch&&(e=this.inputSearch.parent(".e-in-wrap"),t-=parseInt(e.css("height"))+parseInt(e.css("margin-top"))+parseInt(e.css("margin-bottom"))),t},_refreshPopup:function(){"auto"!=this.model.popupWidth||this._validatePixelData(this.model.minPopupWidth)?this._validatePixelData(this.model.minPopupWidth)&&this.popupListWrapper.css({"min-width":this._validatePixelData(this.model.minPopupWidth)}):this.popupListWrapper.css({"min-width":this.wrapper.width()}),this.scrollerObj!=i&&this._refreshScroller(),this._setListPosition()},_setListPosition:function(){var t,i=this.wrapper,s=this._getOffset(i),a=e(document).scrollTop()+e(window).height()-(s.top+e(i).outerHeight()),o=s.top-e(document).scrollTop(),r=this.popupListWrapper.outerHeight(),n=this.popupListWrapper.outerWidth(),l=s.left,d=i.outerHeight(),h=(d-i.height())/2,c=this._getZindexPartial(),u=(r<a||r>o?s.top+d+3:s.top-r-3)-h;t=e(document).scrollLeft()+e(window).width()-l,(this.model.enableRTL||n>t&&n<l+i.outerWidth())&&(l-=this.popupListWrapper.outerWidth()-i.outerWidth()),this.popupListWrapper.css({left:l+"px",top:u+"px","z-index":c})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popupListWrapper)},_showResult:function(){var i,s=this;this.popUpShow=!0,this.model.loadOnDemand&&(t.isNullOrUndefined(this.popupListWrapper)&&this._renderPopupPanelWrapper(),(t.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._renderRemaining()),(this.model.allowGrouping||this.model.fields.groupBy)&&this.popupListWrapper.addClass("e-atc-popup"),this._trigger("beforePopupShown",i={text:this._visibleInput[0].value,value:this._selectedValue,refreshPopup:!0})||(i.refreshPopup&&this._refreshPopup(),e(this.popupListWrapper).slideDown(this.model.enableAnimation?200:1,(function(){e(document).on("mousedown",e.proxy(s._OnDocumentClick,s)),t.isDevice()||s._on(t.getScrollableParents(s.wrapper),"scroll",s._hideResult)})),this._setAttr(this.wrapper[0],{"aria-expanded":!0}),this._setAttr(this.popupListWrapper[0],{"aria-hidden":!1}),this._setAttr(this.ultag[0],{"aria-hidden":!1}),this._listSize=this._getLi().length,this.wrapper.addClass("e-popactive"),this._trigger("popupShown",{text:this._visibleInput[0].value,value:this._selectedValue}),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")}))},_OnWindowResize:function(){!t.isNullOrUndefined(this.model)&&this._isPopupShown()&&this._refreshPopup()},_hideResult:function(i){if(this.model&&this._isPopupShown()){if(!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(this.inputSearch)&&e(this.inputSearch).is(":focus")&&"scroll"==i.type&&t.isTouchDevice())return!1;var s=this;if(this._trigger("beforePopupHide",{text:this._visibleInput[0].value,value:this._selectedValue}))return;e(this.popupListWrapper).slideUp(this.model.enableAnimation?100:0,(function(){e(document).off("mousedown",e.proxy(s._OnDocumentClick,s))})),null!=this.element&&this._setAttr(this.wrapper[0],{"aria-expanded":!1}),this.popupListWrapper[0]&&this._setAttr(this.popupListWrapper[0],{"aria-hidden":!0}),this.ultag[0]&&this._setAttr(this.ultag[0],{"aria-hidden":!0}),t.isDevice()||this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),null!=this._visibleInput&&this.wrapper.removeClass("e-popactive"),this.popUpShow=!1,this._trigger("popupHide",{text:this._visibleInput[0].value,value:this._selectedValue}),setTimeout((function(){s._resetSearch()}),100),this._getLi().find(".e-ddl-anim").removeClass("e-ddl-anim")}},_isPopupShown:function(){if(!t.isNullOrUndefined(this.popupListWrapper))return"block"==this.popupListWrapper.css("display")},_enterTextBoxValue:function(t){var i,s,a=!0;this.removeID=!1,this.checkedStatus=!1,this._isWatermark||this._hiddenSpan.css("display","none"),this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(i=this.activeItem.find(".e-checkwrap")[0],e(i).removeClass("e-check-inact"),this.checkedStatus=this._isChecked(i)):this.checkedStatus=this.activeItem.hasClass("e-active")),this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",{text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract})?((this._activeItem>=0||null!=this._activeItem)&&(this._isSingleSelect()||this._checkContains(this._selectedValue)&&!(this._checkedValues.length>0)?this._isSingleSelect()?(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.activeItem.addClass("e-active"),this._maintainHiddenValue(),this._visibleInput.val(this._currentText),this.element.val(this._hiddenValue),this.selectedItemIndex(this.selectedIndexValue),this.selectedIndex(this.selectedIndexValue),this._selectedIndices[0]=this.selectedIndexValue):a=!1:(this.model.showCheckbox?(i=this.activeItem.find(".e-checkwrap")[0],this._isChecked(i)||(this._removeClass(i,"e-ddl-anim"),this._setClass(i,"e-check-act e-ddl-anim"),this._setAttr(i,{"aria-checked":!0}),e(i).find(".e-check-input")[0].checked=!0)):this.activeItem.addClass("e-active"),"visualmode"==this.model.multiSelectMode&&(s=this._createBox(this._currentText,this._selectedValue),(!(this._ulBox.children()&&this._ulBox.children().length>0)||this._checkForDuplicates(s))&&this._ulBox.append(s),this._isPopupShown()&&this._setListPosition()),this._maintainHiddenValue(),this._addText(this._currentText),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||this._createListHidden(this._hiddenValue),-1==e.inArray(this.selectedIndexValue,this._selectedIndices)&&(this._selectedIndices.push(this.selectedIndexValue),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices)),a&&(this.checkedStatus=!0,t&&this._checkedValues.push(this.activeItem.text()),this._onValueChange(),this._cascadeAction(),this.selectelement&&e("#"+this._id).children().length>this.selectedIndexValue&&(e("#"+this._id).children()[this.selectedIndexValue].selected=!0))),this.model.uncheckAll=!1,this._setWatermark(),this._uiInteract=!1):this._setWatermark()},_checkForDuplicates:function(t){var i=!0;return this._ulBox.children().toArray().forEach((function(s){if(t.attr("data-value")==e(s).attr("data-value"))return i=!1,!1}),this),i},_onValueChange:function(){if(this.model.itemValue=this._selectedValue,this._updateText(),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||(this._valueContainer=this._boxValue),""==this._visibleInput.val()&&this.element.val()&&this.element.val(""),this.value()!=this.element.val()||null==this.value()&&-1!=e.inArray("",this._valueContainer)){t.isNullOrUndefined(e(this.getSelectedItem()).last()[0])||(this.model.enableFilterSearch&&this.model.enableServerFiltering?this._updateSelectedIndex(this.element.val(),e(this.getSelectedItem()).last().attr("data-uid")):this._updateSelectedIndexByValue(this.element.val())),this._isSingleSelect()?this._updateValue(this.element.val()):this._updateValue(this._valueContainer.toString()),this.selectedTextValue=this.model.text,this.model.showCheckbox||"none"!=this.model.multiSelectMode||null!=this.model.value&&""!=this.model.value||(this.model.itemValue="");var i={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:this.selectedIndexValue,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract};this._initValue||this._onSearch||!this._raiseEvents||("function"==typeof this.model._change&&this._trigger("_change",{isChecked:this.checkedStatus,text:this._visibleInput.val(),itemId:this.selectedIndexValue,selectedText:this._currentText,selectedValue:this._selectedValue,value:this.value(),data:this.model,isInteraction:!!this._uiInteract}),this._trigger("change",i),this.model.showCheckbox&&this._trigger("checkChange",{isChecked:this.checkedStatus,text:this._visibleInput.val(),itemId:this.selectedIndexValue,selectedText:this._currentText,selectedValue:this._selectedValue,value:this._selectedValue,data:this.model})),this._uiInteract=!1,this.model.enableFilterSearch&&this.model.enableServerFiltering&&(this._searchresult=[],this._searchresult=this.getItemDataByValue(this.value()))}},_updateSelectedIndex:function(t,i){var s,a,o;if(t){for(this._selectedIndices=this.model.selectedItems=this.model.selectedIndices=[],this._virtualList=this._virtualUl.children("li:not('.e-category')"),s=this._toArray(t),a=0;a<s.length;a++)for(o=0;o<this._virtualList.length;o++)if(s[a]==this._getIndexedValue(this._virtualList[o])&&i==e(this._virtualList[o]).attr("data-uid")){this._selectedIndices.push(o);break}this.model.selectedItems=this.model.selectedIndices=this._selectedIndices}},_decode:function(t){return e("<span>").html(t).text()},_chooseSelectionType:function(){this.activeItem=this._getActiveItem(),this.selectedIndexValue=this._activeItem,this._mapFields();var i=/([^"]*)\&[gl]t;([^"]*)/g;null==this._dataSource()||this._isPlainType(this._dataSource())&&this._isPlainType(this.popupListItems)?(this._currentText=this.activeItem.text(),this._getAttributeValue(this.activeItem[0])?this._selectedValue=this._getAttributeValue(this.activeItem[0]):null!=this._currentText?(t.isNullOrUndefined(this.activeItem[0])||this.activeItem[0].setAttribute("value",this._currentText),this._selectedValue=this._currentText):this._selectedValue="",this._itemID=e(this.activeItem).attr("id")):(this._currentText=this.model.enableFilterSearch&&this.ultag.children()[this._activeItem].textContent==this.activeItem.text()?i.test(this.ultag.children()[this._activeItem].textContent)?this._decode(this.ultag.children()[this._activeItem].textContent):this.ultag.children()[this._activeItem].textContent:i.test(this._getField(this.popupListItems[this._activeItem],this.mapFld._text))?this._decode(this._getField(this.popupListItems[this._activeItem],this.mapFld._text)):this._getField(this.popupListItems[this._activeItem],this.mapFld._text),this._currentText=""===this._currentText||null==this._currentText?this.activeItem.text():this._currentText,this._selectedValue=this._getField(this.popupListItems[this._activeItem],this.mapFld._value),this._selectedValue=null!=this._selectedValue?this._selectedValue:this._currentText,this._itemID=this._getField(this.popupListItems[this._activeItem],this.mapFld._id)),t.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||(this.model.showCheckbox?this.removeID?this._removeSelectedItemsID():this._selectedItemsID.push(this._itemID):(this._selectedItemsID=[],this.removeID||this._selectedItemsID.push(this._itemID))),this.selectedTextValue=this._currentText},_maintainHiddenValue:function(){var e=this._getAttributeValue(this.activeItem[0]);this._hiddenValue=t.isNullOrUndefined(e)?this._currentText:e},_removeTextBoxValue:function(i){var s,a;if(this._uiInteract=!0,this.removeID=!0,this.checkedStatus=!0,this._isFilterInput())for(s=0;s<this._getLi().length;s++)e(this._getLi()[s]).attr("data-value")==i&&(this._activeItem=s);this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(a=this.activeItem.find(".e-checkwrap")[0],e(a).removeClass("e-ddl-anim").addClass("e-check-inact e-ddl-anim"),this.checkedStatus=this._isChecked(a)):this.checkedStatus=this.activeItem.hasClass("e-active")),this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",{text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus})?(this._maintainHiddenValue(),this._hiddenValue=this._isFilterInput()&&!t.isNullOrUndefined(i)?i:this._hiddenValue,this._removeText(this._hiddenValue),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||this._removeListHidden(this._hiddenValue),this._isFilterInput()&&!this.activeItem.attr("data-value")==i&&this.activeItem.removeClass("e-active"),this._isSingleSelect()||(this.model.showCheckbox?(a=this.activeItem.find(".e-checkwrap")[0],this._isChecked(a)&&(this._removeClass(a,"e-check-act"),this._setAttr(a,{"aria-checked":!1}),e(a).find(".e-check-input")[0].checked=!0)):this.activeItem.removeClass("e-active"),e.inArray(this.selectedIndexValue,this._selectedIndices)>-1&&(this._selectedIndices.splice(e.inArray(this.selectedIndexValue,this._selectedIndices),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition())),this.checkedStatus=!1,this._onValueChange(),null==this.model.cascadeTo||this._isSingleSelect()||this._initValue||this._cascadeAction(),this.model.checkAll=!1,this._setWatermark()):this._setWatermark()},_createBox:function(i,s){if(!this._checkContains(s)||this._checkedValues.length>0){"none"==this._ulBox.css("display")&&"none"!=this._visibleInput.css("display")&&this._swapUlandInput(!0);var a=t.buildTag("span.e-icon e-close","",{},{unselectable:"on"}),o=t.buildTag("li.e-options").text(i).attr("data-value",s).append(a);return this._on(a,"click",(function(t){if(!this.model.enabled)return!1;this.delIconClick=!0,this._deleteBox(e(t.target).parent()),this.delIconClick=!1})),o}},_deleteBoxCheck:function(t){for(var i=this._ulBox.children("li"),s=0;s<i.length;s++)e(i[s]).attr("data-value")==t&&(e(i[s]).remove(),this._checkedValues.splice(s,1))},_deleteLastBox:function(){var e=this._ulBox.children("li:not(.e-search-box)").last();e.hasClass("e-active")?this._deleteBox(e):(this._removeActive(),e.addClass("e-active"))},_deleteBox:function(t){for(var i,s,a,o,r=0;r<t.length;r++)if(i=e(t[r]).attr("data-value"),this._isFilterInput()){for(s=this.getListData(),o=0;o<s.length;o++)if((this._getField(s[o],this.mapFld._value)?this._getField(s[o],this.mapFld._value):this._getField(s[o],this.mapFld._text))==i){this._removeTextBoxValue(i);break}this._resetSearch()}else for(a=this._getLi(),o=0;o<a.length;o++)if(e(a[o]).attr("data-value")==i){this._activeItem=o,this._removeTextBoxValue();break}this._isFocused||this._isPopupShown()||this._setWatermark()},_isFilterInput:function(){return!(!this.model.enableFilterSearch||!this.inputSearch)&&(""==!this.inputSearch.val()||void 0)},_swapUlandInput:function(e){e?(this._visibleInput.css("display","none"),this._ulBox.css("display","block"),this.wrapper.css({height:"auto"})):(this._visibleInput.css("display","block"),this._ulBox.css("display","none"),this.wrapper.css({height:this.model.height}))},_removeActive:function(){this._ulBox.children("li").removeClass("e-active")},_adjustWidth:function(){var e=t.buildTag("span",this._visibleInput.val());this.container.append(e),this._visibleInput.width(e.width()+30),e.remove()},_destroyBoxModel:function(){this._visibleInput.css("display","block"),this.wrapper.height(this.model.height),this._ulBox.remove(),this._ulBox=null,this._off(this.container,"click")},_removeListHover:function(){this.ultag.children("li").removeClass("e-hover")},_addListHover:function(){var e=this._getActiveItem();this._setAttr(e[0],{"aria-selected":!0}),this._setAttr(this.wrapper[0],{"aria-activedescendant":e[0].id.toString(),"aria-labelledby":e[0].id.toString()}),e.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("hover")})},_getLi:function(){if(this.ultag)return this.ultag.children("li:not('.e-category'):not('.e-nosuggestion')")},_calcScrollTop:function(t){this.ultag.outerHeight();var i,s,a,o,r=this.ultag.find("li"),n=0;for(this._selectedIndices&&this._selectedIndices.length>0&&"active"==t?(o=this._getLi(),i=this._selectedIndices.length==o.length?0:this._selectedIndices[this._selectedIndices.length-1],(null!=this.model.fields.groupBy||this.ultag.find("li.e-category").length>0)&&(i=e.inArray(o.eq(i)[0],r))):i=this.ultag.find("li.e-"+t).index(),a=0;a<i;a++)n+=r.eq(a).outerHeight(!0);return(s=n-(this.popupList.outerHeight()-r.eq(i).outerHeight(!0))/2)<0?0:s},_getActiveItem:function(){return this._getLi().eq(this._activeItem)},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_roundedCorner:function(e){e?(this.container.addClass("e-corner"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").addClass("e-corner")):(this.container.removeClass("e-corner"),t.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").removeClass("e-corner"))},_enabled:function(e){e?this.enable():this.disable()},_RightToLeft:function(){this.model.enableRTL?this.wrapper.addClass("e-rtl"):this.wrapper.removeClass("e-rtl")},_dropbtnRTL:function(){this.model.enableRTL?(this.popupListWrapper.addClass("e-rtl").find(".e-resize-handle").addClass("e-rtl-resize"),this.popupList.addClass("e-rtl")):(this.popupListWrapper.removeClass("e-rtl").find(".e-resize-handle").removeClass("e-rtl-resize"),this.popupList.removeClass("e-rtl"))},_OnDropdownClick:function(i){if(this._preventDefaultAction(i),e(i.target).is("li")&&e(i.target).parent().hasClass("e-boxes")||e(i.target).parents("ul").hasClass("e-boxes")&&e(i.target).hasClass("e-icon e-close")||this.model.readOnly||this._readOnly)return!1;(t.isNullOrUndefined(this.ultag)?this.model.loadOnDemand&&!t.isNullOrUndefined(this.model.dataSource):this.ultag.find("li").length>0)&&(i.which&&1==i.which||i.button&&0==i.button)&&this._OnPopupHideShow()},_OnPopupHideShow:function(){if(this._isPopupShown())this._hideResult();else if(this._showResult(),this.model.enableFilterSearch){if(0==this.getSelectedItem().length)this.ultag.find("li:first").addClass("e-hover");else{var t=this.getSelectedItem().length;e(this.getSelectedItem()[t-1]).addClass("e-hover")}e(this.inputSearch).focus()}else this.wrapper.focus()},_showFullList:function(){var e=this._dataSource();t.isNullOrUndefined(this.ultag)&&(this.ultag=t.buildTag("ul.e-ul","",{},{role:"listbox"})),t.DataManager&&e instanceof t.DataManager?e.dataSource.offline||e.dataSource.json&&e.dataSource.json.length>0?this._getFilteredList(e.dataSource.json):this._initDataSource(e):this._getFilteredList(e)},_getFilteredList:function(e){if(!e||!e.length||e.length<1)this._targetElementBinding(),this._renderRemaining();else{var i=t.DataManager(e).executeLocal(this._isPlainType(e)?t.Query():this._getQuery(!0));this._totalCount=i.count,this._listItem(i.result?i.result:i),this._renderPopupList(),this._rawList=this.popupListItems.slice()}},_cascadeAction:function(){if(this.model.cascadeTo)for(var i=this.model.cascadeTo.split(","),s=0;s<i.length;s++)e("#"+i[s]).hasClass("e-dropdownlist")?this._doCascadeAction(i[s],this,this.checkedStatus):e("#"+i[s]).on("ejDropDownListcreate",{Obj:this,status:this.checkedStatus},(function(e){t.isNullOrUndefined(e.data.Obj.getValue())||""==e.data.Obj.getValue()||e.data.Obj._doCascadeAction(this.id,e.data.Obj,e.data.status)}))},_doCascadeAction:function(i,s,a){s._currentValue=s._getField(s.popupListItems[s._activeItem],s.mapFld._value),s.selectDropObj=e("#"+i).ejDropDownList("instance");var o={cascadeModel:s.selectDropObj.model,cascadeValue:s._currentValue,setCascadeModel:{},requiresDefaultFilter:!0};this._trigger("cascade",o),s.selectDropObj._setCascadeModel=o.setCascadeModel,t.isNullOrUndefined(s[i])&&(s[i]=s.selectDropObj._dataSource()),t.DataManager&&s[i]instanceof t.DataManager?s._cascadeOdataInit(s[i],o.requiresDefaultFilter,a,o.cascadeQuery):s._cascadeJsonInit(s.selectDropObj,s[i],s.mapFld._value,o.requiresDefaultFilter,a,o.cascadeQuery)},_cascadeOdataInit:function(e,t,i,s){var a,o=this;o._dQuery=this.selectDropObj._getQuery().clone(),a=o._dQuery.clone(),t?a.where(o.mapFld._value,"equal",o._currentValue):a=s,o.selectDropObj._addLoadingClass(),o._trigger("actionBegin",{requestFrom:"cascade"})||e.executeQuery(a).fail((function(e){o._changedSource=null,o.selectDropObj.setModel({dataSource:o._changedSource,enabled:!1}),o._trigger("actionFailure",{e:e,requestFrom:"cascade"})})).done((function(e){o._trigger("actionSuccess",{e:e,requestFrom:"cascade"}),o._cascadeDataBind(o.selectDropObj,e.result,i),o.selectDropObj._removeLoadingClass()})).always((function(e){o._trigger("actionComplete",{e:e,requestFrom:"cascade"})}))},_cascadeJsonInit:function(e,i,s,a,o,r){var n=a?t.Query().where(s,"==",this._currentValue):r,l=t.DataManager(i).executeLocal(n);this._cascadeDataBind(e,l,o)},_cascadeDataBind:function(i,s,a){var o,r,n,l,d,h,c=i.value();if(this.model.showCheckbox&&a||"none"!=this.model.multiSelectMode&&this.activeItem.hasClass("e-active"))this._changedSource=t.isNullOrUndefined(this._changedSource)?s:this._changedSource.concat(s);else if(this.model.showCheckbox||"none"!=this.model.multiSelectMode){for(o=0;o<s.length;o++)if(this._isPlainType(s)&&this._isPlainType(this._changedSource))this._changedSource.splice(this._changedSource.indexOf(s[o]),1);else for(r=0;r<this._changedSource.length;r++)JSON.stringify(this._changedSource[r])==JSON.stringify(s[o])&&this._changedSource.splice(r,1);i.setModel({dataSource:null})}else this._changedSource=s;if(n=i.model.value,l=JSON.parse(JSON.stringify(i.model)),i.setModel({dataSource:this._changedSource,enabled:this._changedSource.length>0}),this._isSingleSelect()||i.selectItemByValue(c),(i.model.showCheckbox||"none"!=i.model.multiSelectMode)&&e("input:hidden[id^='#'][name="+i._id+"]").remove(),i._setSelectedItem)i.setModel(i._setCascadeModel);else{for(d=["value","text","selectedIndex","selectedIndices"],h=0;h<d.length;h++)i.model[d[h]]=l[d[h]];i.model.value=n,i._finalize()}i._setSelectedItem=!0},_OnMouseEnter:function(t){var i,s;if(!this.model.enabled||this.model.readOnly)return!1;this.ultag.children("li").removeClass("e-hover"),e(t.target).is("li:not('.e-category')")&&e(t.target).addClass("e-hover"),e(t.target).hasClass("e-disable")?e(t.target).removeClass("e-hover"):"li"!=t.target.tagName&&(i=e(t.target).parents("li:not('.e-category')"),e(i).addClass("e-hover")),this.ultag.children("li:not('.e-category')").each((function(t){if(e(this).hasClass("e-hover"))return s=t,!1})),this._activeItem=s},_OnMouseLeave:function(){if(!this.model.enabled||this.model.readOnly||this._readOnly)return!1;this.ultag.children("li").removeClass("e-hover")},_OnMouseClick:function(t){var i,s,a;if(this._uiInteract=!0,!this.model.enabled||this.model.readOnly||this._readOnly||this.model.enableFilterSearch&&e(t.target).is("li")&&e(t.target).hasClass("e-nosuggestion"))return!1;(!e(t.target).is("li")||e(t.target).hasClass("e-disable"))&&(e(t.target).is("li")||e(t.target).closest("li").hasClass("e-disable"))||(this._isSingleSelect()?(this._enterTextBoxValue(),this._hideResult()):this.model.showCheckbox?(i="LI"===t.target.nodeName?t.target:e(t.target).parents("li.e-hover"),s=e(i).find(".e-checkwrap")[0],this._onCheckChange({target:s})):(a=e(t.target).is("li")?t.target:e(t.target).closest("li")[0],this._activeItem=e.inArray(a,this._getLi()),e(a).hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue()))},_OnDocumentClick:function(t){if(this.model&&(!this.model.enabled||this.model.readOnly||this._readOnly))return!1;e(t.target).is(this.popupList)||e(t.target).parents(".e-ddl-popup").is(this.popupListWrapper)||e(t.target).is(this._visibleInput)||e(t.target).parents(".e-ddl").is(this.wrapper)?e(t.target).is(this.inputSearch)?this.inputSearch.focus():(e(t.target).is(this.popupList)||e(t.target).parents(".e-ddl-popup").is(this.popupListWrapper))&&this._preventDefaultAction(t):this._hideResult()},_OnKeyPress:function(e){this.model.enableIncrementalSearch&&13!=e.keyCode&&this._OnTextEnter("mozilla"==t.browserInfo().name?e.charCode:e.keyCode),32==e.keyCode&&this._preventDefaultAction(e)},_OnTextEnter:function(i){var s,a,o,r=this;this._incqueryString+=String.fromCharCode(i),this._incqueryString.length>0&&setTimeout((function(){r._incqueryString=""}),this.model.incrementalSearchDelay);var n,l=this._getLi(),d=null,h=this.model.caseSensitiveSearch,c=this._incqueryString,u=this._incqueryString.length;if(h||(c=c.toLowerCase()),this._prevQueryString==c){for(n=0;n<this._matchedListItems.length;n++)if(e(this._matchedListItems[n]).hasClass("e-active")||this.model.showCheckbox&&e(this._matchedListItems[n]).hasClass("e-hover")){d=n==this._matchedListItems.length-1?this._matchedListItems[0]:this._matchedListItems[n+1];break}}else if(!t.isNullOrUndefined(l)){for(this._matchedListItems=[],s=this.selectedIndex(),n=0;n<l.length;n++)n!=s&&((n==l.length||-1==n)&&(n=-1),-1==s&&(s=l.length,n=0),o=e(l[a=-1==n?0:n]).text(),(o=h?o:o.toLowerCase()).substr(0,u)==c&&this._matchedListItems.push(l[a]));this._prevQueryString=c,d=this._matchedListItems[0]}t.isNullOrUndefined(d)||(this._activeItem=e.inArray(d,l),this._isSingleSelect()&&!t.isNullOrUndefined(this.scrollerObj)?(this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")})):this._isPopupShown()&&(this._removeListHover(),this._addListHover()))},_selectItem:function(e){this._isSingle||this._clearTextboxValue(),this.activeItem&&this._setAttr(this.activeItem[0],{"aria-selected":!1}),this._activeItem=e,this._addListHover(),this.wrapper.focus(),this._enterTextBoxValue()},_focusItem:function(e){this._removeListHover(),this._activeItem=e,this._addListHover()},_selectFocusedItem:function(e){this._focusItem(e),this._enterTextBoxValue()},_selectShiftDown:function(t,i,s){s||this._clearTextboxValue();for(var a=t;a<=i;a++)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&this._selectFocusedItem(a)},_selectShiftUp:function(t,i,s){s||this._clearTextboxValue();for(var a=i;a>=t;a--)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&this._selectFocusedItem(a)},_selectShiftHome:function(t,i,s){if(s||this._clearTextboxValue(),t>=0&&t<=this._listSize-1){if(0==t)this._clearTextboxValue();else for(var a=t;a>=i;a--)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&(this._activeItem=a,this._enterTextBoxValue());this._activeItem=t,0==t&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:0})}},_selectShiftEnd:function(t,i,s){if(s||this._clearTextboxValue(),t<=this._listSize-1){if(t==i)this._clearTextboxValue();else for(var a=t;a<=i;a++)e.inArray(a,this._disabledItems)<0&&e.inArray(a,this.model.selectedIndices)<0&&(this._activeItem=a,this._enterTextBoxValue());this._activeItem=t,t==i&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this.ultag.outerHeight()})}},_getLastFocusedLi:function(){return this._selectedIndices&&this._selectedIndices.length>0?this._selectedIndices[this._selectedIndices.length-1]:null},_getLastShiftFocusedLi:function(t,i){var s=i?t-1:t+1;return e.inArray(s,this._selectedIndices)<0?t:this._getLastShiftFocusedLi(s,i)},_shiftUp:function(e,t,i){var s,a,o;if(null==e||e<0)this._checkDisableStep(0,t,!1,!1,!0);else if(e>0&&e<=this._listSize-1&&null!=(s=this._disableItemSelectUp(e-t)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&e-1==this._selectedIndices[this._selectedIndices.length-2])for(a=1;a<=t&&e-a==this._selectedIndices[this._selectedIndices.length-2];a++)this._activeItem=e+1-a,this._removeTextBoxValue(),this._focusItem(e-a);else o=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!1),this._selectShiftUp(s,o,i);else this._moveUp(e,t,!1)},_shiftDown:function(e,t,i){var s,a,o;if(null==e||e<0)this._checkDisableStep(-1,t,!0,!1,!0);else if(e<this._listSize-1&&null!=(s=this._disableItemSelectDown(e+t)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&e+1==this._selectedIndices[this._selectedIndices.length-2])for(a=1;a<=t&&e+a==this._selectedIndices[this._selectedIndices.length-2];a++)this._activeItem=e-1+a,this._removeTextBoxValue(),this._focusItem(e+a);else o=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!0),this._selectShiftDown(o,s,i);else this._moveDown(e,t,!1)},_moveUp:function(e,t,i){null==e||e<=0?this._checkDisableStep(0,t,!1,i):e>this._listSize-1?this._checkDisableStep(this._listSize-1,t,!1,i):e>0&&e<=this._listSize-1&&this._checkDisableStep(e,t,!1,i)},_moveDown:function(e,t,i){null==e||e<0?this._checkDisableStep(-1,t,!0,i):0==e?this._checkDisableStep(0,t,!0,i):e>=this._listSize-1?this._checkDisableStep(this._listSize-1,t,!0,i):e<this._listSize-1&&this._checkDisableStep(e,t,!0,i)},_checkDisableStep:function(e,t,i,s,a){var o,r=i?"_disableItemSelectDown":"_disableItemSelectUp",n=i?e+t:e-t,l=this[r](n);if(null==l)for(o=t;o>=0&&null==(l=this[r](n=i?e+o:e-o));o--);null!=l&&(s?this._focusItem(l):this._selectItem(l),a&&s&&this._enterTextBoxValue())},_disableItemSelectDown:function(t){return(null==t||t<0)&&(t=0),t<this._listSize?e.inArray(t,this._disabledItems)<0?t:this._disableItemSelectDown(t+1):this._listSize-1},_disableItemSelectUp:function(t){if((null==t||t<0)&&(t=0),t<this._listSize){if(e.inArray(t,this._disabledItems)<0)return t;if(t>0)return this._disableItemSelectUp(t-1)}},_preventDefaultAction:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},_OnKeyDown:function(e){var i,s,a,o,r;if(this._uiInteract=!0,this.model.enabled&&!t.isNullOrUndefined(this.popupListWrapper))if(this._itemId=null,i=this._getLi(),this._listSize=i.length,a=this.popupList.height(),s=this.ultag.children("li").outerHeight(),o=0!=Math.round(a/s)?Math.round(a/s):5,this._isSingle=this._isSingleSelect(),this._isSingle)switch(e.keyCode){case 38:if(e.altKey){this.ultag.find("li").length>0&&this._hideResult();break}case 33:this._moveUp(this._activeItem,r=33==e.keyCode?o:1),this._preventDefaultAction(e,!0);break;case 8:this._preventDefaultAction(e);break;case 40:if(e.altKey){this.ultag.find("li").length>0&&this._showResult();break}case 34:this._moveDown(this._activeItem,r=34==e.keyCode?o:1),this._preventDefaultAction(e,!0);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1):this._moveUp(this._activeItem,1),this._preventDefaultAction(e);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1):this._moveDown(this._activeItem,1),this._preventDefaultAction(e);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:this._moveDown(this._listSize-1,0),this._preventDefaultAction(e);break;case 36:this._moveUp(r=null!=this._activeItem?this._activeItem:this._listSize-1,r),this._preventDefaultAction(e)}else switch(e.keyCode){case 38:e.altKey?this.ultag.find("li").length>0&&this._hideResult():e.shiftKey?this._shiftUp(this._activeItem,1,e.ctrlKey):this._moveUp(this._activeItem,1,e.ctrlKey),this._preventDefaultAction(e);break;case 33:e.shiftKey?this._shiftUp(this._activeItem,o,e.ctrlKey):this._moveUp(this._activeItem,o,e.ctrlKey),this._preventDefaultAction(e);break;case 8:this._preventDefaultAction(e);break;case 40:e.altKey?this.ultag.find("li").length>0&&this._showResult():e.shiftKey?this._shiftDown(this._activeItem,1,e.ctrlKey):this._moveDown(this._activeItem,1,e.ctrlKey),this._preventDefaultAction(e);break;case 34:e.shiftKey?this._shiftDown(this._activeItem,o,e.ctrlKey):this._moveDown(this._activeItem,o,e.ctrlKey),this._preventDefaultAction(e);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1,!1):this._moveUp(this._activeItem,1,!1),this._preventDefaultAction(e);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1,!1):this._moveDown(this._activeItem,1,!1),this._preventDefaultAction(e);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:e.shiftKey?this._selectShiftEnd(this._activeItem,this._listSize-1,e.ctrlKey):this._moveDown(this._activeItem,this._listSize,e.ctrlKey),this._preventDefaultAction(e);break;case 36:r=null!=this._activeItem?this._activeItem:this._listSize-1,e.shiftKey?this._selectShiftHome(this._activeItem,0,e.ctrlKey):this._moveUp(this._activeItem,r,e.ctrlKey),this._preventDefaultAction(e)}},_OnKeyUp:function(i){var s;if(this.model.enabled&&!t.isNullOrUndefined(this.popupListWrapper)){if(this._preventDefaultAction(i),null==this._activeItem&&(this._activeItem=this._getLi().index(this.popupList.find("ol,ul").children("li.e-hover"))),""==this._trim(this._visibleInput.val())&&38==i.keyCode&&40==i.keyCode)return this._hideResult(),!1;switch(i.keyCode){case 13:!this._isSingle&&this._isPopupShown()&&(i.ctrlKey||i.shiftKey)&&this._activeItem>=0?this._selectAndUnselect():!this._isPopupShown()||i.ctrlKey||i.shiftKey?this._isPopupShown()&&this._hideResult():(t.isNullOrUndefined(this.inputSearch)||(0==this.getSelectedItem().length||!this.listitems[0].classList.contains("e-active")&&this._activeItem>=0?(this.selectItemByIndex(this._activeItem),e(this.listitems[this._activeItem]).removeClass("e-hover")):(s=this._getLastFocusedLi(),("none"!=this.model.multiSelectMode||this.model.showCheckbox)&&(this.unselectItemByIndex(s),e(this.listitems[s]).removeClass("e-hover")))),this._hideResult()),this._preventDefaultAction(i);break;case 32:this._isPopupShown()&&this._isSingle&&this._hideResult(),!this._isSingle&&this._isPopupShown()&&this._activeItem>=0&&this._selectAndUnselect(),this._preventDefaultAction(i);break;case 8:"visualmode"==this.model.multiSelectMode&&this._deleteLastBox(),this._preventDefaultAction(i);break;case 46:if("visualmode"==this.model.multiSelectMode||this.model.showCheckbox){this._deleteBox(this._ulBox.children("li.e-active"));break}}}},_isSingleSelect:function(){return!this.model.showCheckbox&&"none"==this.model.multiSelectMode},_selectAndUnselect:function(){this.model.showCheckbox?this._isChecked(this._getActiveItem().find(".e-checkwrap")[0])?this._removeTextBoxValue():this._enterTextBoxValue():"none"!=this.model.MultiSelectMode&&(this._getActiveItem().hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue())},_targetFocus:function(){this.model.enabled&&!this._isFocused&&(this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus e-popactive"),this._isFocused=!0,this._trigger("focusIn"))},_targetBlur:function(){this.model.enabled&&(this._isFocused=!1,this.wrapper.removeClass("e-focus e-popactive"),this._setWatermark(),this._trigger("focusOut"))},_getLocalizedLabels:function(e){return this._localizedLabels[e]===i?t.DropDownList.Locale["en-US"][e]:this._localizedLabels[e]},_wireEvents:function(){this._on(this.wrapper,"focus",this._targetFocus),this._on(this.wrapper,"blur",this._targetBlur),this._on(this.wrapper,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keyup",this._OnKeyUp),this._on(this.wrapper,"keyup",this._OnKeyUp),t.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keypress",this._OnKeyPress),this._on(this.wrapper,"keypress",this._OnKeyPress)},_unwireEvents:function(){this._off(this.wrapper,"focus",this._targetFocus),this._off(this.wrapper,"blur",this._targetBlur),this._off(this.wrapper,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keydown",this._OnKeyDown),t.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keyup",this._OnKeyUp),this._off(this.wrapper,"keyup",this._OnKeyUp),t.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keypress",this._OnKeyPress),this._off(this.wrapper,"keypress",this._OnKeyPress),e(window).off("resize",e.proxy(this._OnWindowResize,this))},_multiItemSelection:function(e,t){var i,s;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),i=0;i<e.length;i++)s=t?this._rawList.length-(e.length-i):i,this._hasClass(e[i],"chkselect")&&(this._activeItem=s,this._enterTextBoxValue(),this._removeClass(e[i],"chkselect"));this._setWatermark()},_appendCheckbox:function(e,t){var i;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),i=0;i<e.length;i++){var s=t?this._rawList.length-(e.length-i):i,a=document.createElement("input"),o=document.createElement("span");this._setAttr(a,{type:"checkbox",name:"list"+s,"data-role":"none",id:this._id+"_check"+s})._setClass(a,"e-check-input")._setAttr(o,{name:"list"+s+"_wrap","data-role":"none",id:this._id+"_check"+s+"wrap",unselectable:"on","aria-checked":!1})._setClass(o,"e-checkwrap e-icon "),o.appendChild(a),e[i].insertBefore(o,e[i].childNodes[0]),this._hasClass(e[i],"chkselect")&&(this._activeItem=s,this._enterTextBoxValue(),this._removeClass(e[i],"chkselect"))}this._setWatermark()},_onCheckChange:function(t){this.checkChange=!0;var i="INPUT"===t.target.nodeName?t.target.parentElement:t.target;this._activeItem=e.inArray(e(i).parents("li")[0],this._getLi()),this._hasClass(i,"e-check-act")?this._removeTextBoxValue():this._enterTextBoxValue(!0),this.checkChange=!1},_isChecked:function(t){return this._hasClass(t,"e-check-act")&&1==e(t).children(".e-check-input")[0].checked},_removeCheck:function(){this._getLi().find(".e-checkwrap").remove()},_resetCheck:function(){var e,t,i=this._getLi();for(i.find(".e-check-act").removeClass("e-check-act").attr("aria-checked",!1),e=i.find(".e-check-input:checked"),t=0;t<e.length;t++)e[t].checked=!1}}),t.DropDownList.Locale=t.DropDownList.Locale||{},t.DropDownList.Locale.default=t.DropDownList.Locale["en-US"]={emptyResultText:"No suggestions",watermarkText:""},t.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},t.VirtualScrollMode={Normal:"normal",Continuous:"continuous"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,backgroundScroll:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",backgroundScroll:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(i){var s,a;for(s in i)switch(s){case"closeIconTooltip":this._dialogClose.attr("title",i[s]);break;case"tooltip":this._tooltipText(i[s]);break;case"title":this.model.title=i[s],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(i[s]),this._updateCaptionWidth();break;case"width":this.model.width=i[s],this._changeSize(),this._updateCaptionWidth(),i[s]=this.model.width;break;case"height":this.model.height=i[s],this._changeSize(),i[s]=this.model.height;break;case"position":this.model.position=i[s],this._dialogPosition();break;case"cssClass":this._changeSkin(i[s]);break;case"showRoundedCorner":this.model.showRoundedCorner=i[s],this._roundedCorner(i[s]);break;case"contentType":this.model.contentType=i[s],this._appendContent(i[s]);break;case"enabled":this.model.enabled=i[s],this._enabledAction(i[s]);break;case"contentUrl":this.model.contentUrl=i[s],this._appendContent(this.model.contentType);break;case"backgroundScroll":this.model.backgroundScroll=i[s],!this.model.backgroundScroll&&this.model.enableModal?e("body").addClass("e-dialog-modal"):e("body").removeClass("e-dialog-modal");break;case"content":case"target":this._ejDialog.appendTo(e(i[s])),this.model.target=this.model.content=i[s],this._dialogPosition();break;case"containment":this._setDragArea(i[s]),t.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=i[s]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=i[s],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels,!0),this._tooltipText(this.model.tooltip),this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(this.model.title),this._updateCaptionWidth();break;case"minHeight":this.model.minHeight=i[s],this._ejDialog.css("minHeight",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=i[s],this._ejDialog.css("minWidth",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=i[s],this._ejDialog.css("maxHeight",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=i[s],this._ejDialog.css("maxWidth",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",i[s]);break;case"faviconCSS":this.model.faviconCSS=i[s],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=i[s],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=i[s],i[s]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=i[s],i[s]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=i[s],i[s]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1-this._dialogTitlebar.outerHeight(!0):"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=i[s],i[s]?(this._appendContent(),this._ejDialog.find(".e-resizable").remove()):this._ejDialog.find(".e-footerbar").remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=i[s],this.model.showFooter&&(this._ejDialog.find(".e-footerbar").empty(),a=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(a),this._enableResize());break;case"enableRTL":this.model.enableRTL=i[s],this.model.faviconCSS&&this._favIcon(),i[s]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[s])),this.model.actionButtons=i[s],this._updateCaptionWidth();break;case"enableModal":this._enableModal(i[s]);break;case"htmlAttributes":this._addAttr(i[s])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this.model.enableAnimation&&this._ejDialog.stop(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1,e(window).off("resize",e.proxy(this._reSizeHandler,this))},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),this.scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"),this.scrObj&&this.scrObj._resetScroller(),this.hidden=!1,this._init=!1,this._keyNavigation=!1},_responsive:function(){this.width=this.model.width,e(this.element).width(this.width),this.height=this.model.height,e(this.element).height(this.height),e(window).on("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=e(this._dialogTitlebar).outerWidth(),e(this.contentDiv).width(this.width),e(this.contentDiv).children().width(this.width),this.model.height=this.height=e(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-e(this._dialogTitlebar).outerHeight()-e(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),t.isNullOrUndefined(this.element)||this._collapsible||this._resetScroller()},_setLocaleCulture:function(e,t){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),t&&(this.model.tooltip=this.localizedLabels.tooltip,this.model.title=this.localizedLabels.title),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip),this.model.title===this.defaults.title&&(this.model.title=e.title)},_setDragArea:function(i){t.isNullOrUndefined(i)?this._target=null:"string"==typeof i?("parent"==i&&(this._target=e(this.element).parent()),"document"==i.toLowerCase()&&(this._target=e(document)),"window"==i.toLowerCase()?this._target=e(window):e(i).length>0&&(this._target=e(i))):"object"==typeof i?i.length>0&&(this._target=i):this._target=null},_addAttr:function(t){var i=this;e.map(t,(function(e,t){if("class"==t)i._ejDialog.addClass(e);else if("disabled"==t&&"disabled"==e)i.model.enabled=!1,i._enabledAction(!1);else if(i._ejDialog[0].hasAttribute("style")){var s=i._ejDialog[0].getAttribute("style")+e;i._ejDialog.attr(t,s)}}))},_tooltipText:function(i){e.extend(this.model.tooltip,i),!t.isNullOrUndefined(this._dialogClose)&&this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),!t.isNullOrUndefined(this._dialogCollapsible)&&(i.collapse||i.expand)&&(this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand)),!t.isNullOrUndefined(this._dialogMaximize)&&(i.maximize||i.restore)&&(this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogMinimize)&&(i.minimize||i.restore)&&(this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogPin)&&(i.pin||i.unPin)&&(this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin))},_renderControl:function(){var i,s,a;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=t.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,s=t.isNullOrUndefined(i)?document.body:i,(a=e(s).find("#"+this._id+"_wrapper").get(0))&&e(a).remove(),this._ejDialog.appendTo(s),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon()),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize(),"auto"!=this.model.height&&this._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){if("auto"!=this.model.height){var t=this._ejDialog.outerHeight()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1;this.contentDiv.height(t),this.element.outerHeight(t)}return this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){return this.model.enableResize&&(this._ejDialog.addClass("e-resizable"),t.buildTag("div.e-icon e-resize-handle").appendTo(this.model.showFooter?this._dialogFooterbar:this._ejDialog),this._resizeDialog()),this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),t.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),t.buildTag("div.e-disable-overlay").appendTo(this.wrapper),t.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=t.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=t.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!t.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&!t.isNullOrUndefined(this._dialogTitlebar)&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(i){for(var s=0;s<i.length;s++)switch("msie"==t.browserInfo().name&&t.browserInfo().version<=8?e.trim(i[s]):i[s].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(i[s])}},_customIconsRender:function(e){this._customIcon=t.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(t){if(!this.element.hasClass("e-disable")){var i={cancel:!1,buttonID:e(t.target).attr("id"),event:t.type,model:this.model,currentTarget:t.currentTarget.title};this._trigger("actionButtonClick",i)}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(i){var s,a,o,r,n;this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),s=this,t.isNullOrUndefined(this.model.contentUrl)||t.isNullOrUndefined(i)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==i?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==i?(this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=t.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&e(this.iframe).load((function(){s.iframe.contents().find("body").css("direction","rtl")})),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):"image"==i?(a=t.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(a).show().appendTo(this.contentDiv),e(a).on("load",(function(){s._dialogPosition()})),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),this._ejDialog.find("div.e-resize-handle").length>0?0==this._ejDialog.find(".e-footerbar").length&&this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(o=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(o)?0==this._ejDialog.find(".e-footerbar").length?this.contentDiv.appendTo(this._ejDialog):this.contentDiv.insertBefore(this._dialogFooterbar):(this.contentDiv.appendTo(this._ejDialog),r=e("#"+this.contentDiv.find("iframe").attr("id")),e(r[0].contentDocument.lastChild).remove(),r[0].contentDocument.appendChild(o),"mozilla"==t.browserInfo().name&&setTimeout((function(){e(r[0].contentDocument.lastChild).remove(),r[0].contentDocument.appendChild(o)}),500))),this.model.showFooter&&0==this._ejDialog.find(".e-footerbar").length&&(this._renderFooterBar(),null!=this.model.footerTemplateId&&(n=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(n)))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){if(null!=this.scroller&&(this.scroller.refresh(!0),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=0,i=0;else e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerHeight();Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1)&&(this.scroller._vScrollbar.model.height-=i+t,this.scroller._vScrollbar._scrollData.handle-=i,this.scroller._vScrollbar._scrollData.handleSpace-=i+t,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-i-t))}if((!this.scroller._vScrollbar||!this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter){var s=this.scroller._hScrollbar.element.find("> div.e-hscroll").width();t=0,i=0}else s=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=i+t,this.scroller._hScrollbar._scrollData.handle-=i+t,this.scroller._hScrollbar._scrollData.handleSpace-=i+t,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(s-i-t)}}},_dialogMaxZindex:function(){var t,i,s,a=this.element.parents();return t=e("body").children(),e(t).each((function(e,t){a.push(t)})),i=e(this.model.target).children(),e(i).each((function(e,t){a.push(t)})),!(s=Math.max.apply(s,e.map(a,(function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1}))))||s<1e4?s=1e4:s+=1,s},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var i,s=this._ejDialog.css("zIndex");t.isNullOrUndefined(this._overLay)||this._overLay.remove(),this.model.backgroundScroll||e("body").addClass("e-dialog-modal"),this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:s-1}),e(this._overLay).addClass("e-widget"),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(t.isNullOrUndefined(i)?document.body:i);var a=t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?"fixed":"absolute",o=t.isNullOrUndefined(i)||"fixed"==a||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().left,r=t.isNullOrUndefined(i)||"fixed"==a||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().top;this._overLay.css({top:r,left:o,position:a})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var s=this,a=this.model.title,o={success:function(e){try{s._ajaxSuccessHandler(e,t,i,a)}catch(o){}},error:function(e){try{s._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,a)}catch(e){}},complete:function(){try{s._setContainerSize(),s._resetScroller(),s.model.showOnInit||s._setHiddenDialogSize()}catch(e){}}};e.extend(!0,o,this.model.ajaxSettings),this._sendAjaxRequest(o)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=t.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var e=t.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});e.appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),s=parseInt(this.model.maxHeight),a=parseInt(this.model.width),o=parseInt(this.model.height),r=this._getParentObj();isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(e=this._convertPercentageToPixel(r.outerWidth(),e)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(t=this._convertPercentageToPixel(r.outerHeight(),t)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(i=this._convertPercentageToPixel(r.innerWidth(),i)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(s=this._convertPercentageToPixel(r.innerHeight(),s)),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(a=this._convertPercentageToPixel(r.innerWidth(),a)),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(o=this._convertPercentageToPixel(r.innerHeight(),o)),(i&&a>i||e&&a<e)&&(this.model.width=a>i?i:e),(s&&o>s||t&&o<t)&&(this.model.height=o>s?s:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var i,s=this._ejDialog.outerHeight(!0)-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),a={width:"0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?Math.round(this._ejDialog.width()):Math.round(this._ejDialog.width()-2),enableRTL:this.model.enableRTL,height:"0px"==this.contentDiv.css("border-width")?s:s-1,enableTouchScroll:!1};"auto"==this.model.height&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&!this._maximize&&(a.height="auto"),"auto"!=this.model.width||this._maximize||(a.width=this.model.width),this.contentDiv.ejScroller(a),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(e(this.element).css("padding-top"))+parseInt(e(this.element).css("padding-bottom")),"none"==e(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(i=t.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:i-1}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth("0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?this._ejDialog.width():this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;return this._ejDialog.parents(".e-dialog-scroller"),this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),!i.dialogPin&&i.model.allowDraggable&&i.model.enabled?i._trigger("dragStart",{event:e})?(e.cancel=!0,!1):void 0:(e.cancel=!0,!1)},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(s){var a,o;i._ejDialog.focus(),s.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&(a=e("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&a.option("cursorAt",i.element.offset()),o=this.helper.offsetParent().offset(),i._trigger("dragStop",{event:s}),i.model.position.X=t.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[o.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=t.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[o.top+parseFloat(this.helper.offsetParent().css("border-top-width"))],i._positionChanged=!0,i.dlgresized=!0},helper:function(){return e(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var t,i=this,s=!1,a=parseInt(this.model.minWidth),o=parseInt(this.model.minHeight),r=parseInt(this.model.maxWidth),n=parseInt(this.model.maxHeight);return t=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(a=this._convertPercentageToPixel(t.outerWidth(),a)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(o=this._convertPercentageToPixel(t.outerHeight(),o)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(r=this._convertPercentageToPixel(t.innerWidth(),r)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(n=this._convertPercentageToPixel(t.innerHeight(),n)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:o,minWidth:a,maxHeight:n,maxWidth:r,handle:"e-widget-content",resizeStart:function(e){if(i.dlgresized=!0,!i.model.enabled)return!1;s||i._trigger("resizeStart",{event:e}),s=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(t){i.dlgresized=!0;var s=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(s).outerHeight(),i.model.width=e(s).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:t}),i._sizeType={width:"px",height:"px"},this.scrObj&&this.scrObj._resetScroller()},resizeStop:function(t){i.dlgresized=!0,i._ejDialog.focus(),i._sizeInPercent();var a=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(a).outerHeight(),i.model.width=e(a).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),s&&i._trigger("resizeStop",{event:t}),s=!1,i._setDimension()},helper:function(){return e(i._ejDialog)}}),this}},_dialogPosition:function(){if(this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.containment)&&t.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y)if(this._ejDialog.css("position","absolute"),t.isNullOrUndefined(this.model.target)&&t.isNullOrUndefined(this.model.containment))this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y);else{var i=t.isNullOrUndefined(this.model.containment)?this.model.target:this.model.containment;this.dlgresized||this._keyNavigation?(this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):(this._ejDialog.css("left",e(i).offset().left+parseInt(this.model.position.X)),this._ejDialog.css("top",e(i).offset().top+parseInt(this.model.position.Y)))}else this._centerPosition();return this},_centerPosition:function(){var i,s,a,o,r=0,n=0;t.isNullOrUndefined(this.model.target)&&(t.isNullOrUndefined(this._target)||e(this._target).is(e(document))||e(this._target).is(e(window)))?(o=document.documentElement,r=(e(window).outerWidth()>this._ejDialog.width()?(e(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||o.scrollLeft),n=(e(window).outerHeight()>this._ejDialog.height()?(e(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||o.scrollTop)):("static"==(i=t.isNullOrUndefined(this._target)?e(this.model.target):e(this._target)).css("position")&&(s=i.offsetParent().offset(),r=(a=i.offset()).left-s.left,n=a.top-s.top),i.outerWidth()>this._ejDialog.width()&&(r+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(n+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:n,left:r}),this._ejDialog.css("position","absolute")},_closeClick:function(e){"touchstart"==e.type&&e.preventDefault(),this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(t){this.model.enabled&&(e(t.target).hasClass("e-arrowhead-up")?this._actionCollapse(t):e(t.target).hasClass("e-arrowhead-down")&&this._actionExpand(t))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(i){if(this.model.enabled){var s=e(i.target),a=this._dialogMaximize;s.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.minimize)),s.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):s.hasClass("e-restore")&&(this._actionRestore(),s.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!t.isNullOrUndefined(a)&&e(a).hasClass("e-arrowhead-down")&&(e(a).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var i=this;this._dialogCollapsible&&!t.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",(function(){i.refresh(),i._reRenderScroller()})),this._resetScroller(),e(this.contentDiv).is(":hidden")&&this.contentDiv.show()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(i){if(this.model.enabled){var s=e(i.target),a=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize;s.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):s.hasClass("e-restore")&&(this._actionRestore(),s.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!t.isNullOrUndefined(a)&&e(a).hasClass("e-arrowhead-down")&&(e(a).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}},_actionMinimize:function(){var t;e(window).height(),this._ejDialog.height(),this.element.height(),this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?t=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),t=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",t+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(i){var s=this._dialogCollapsible?this._dialogCollapsible:null;i?(t.isNullOrUndefined(s)||e(s).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(t.isNullOrUndefined(s)||e(s).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(this.model.enabled){var i=e(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin))}},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse)))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(t){t.currentTarget==this._id&&(e(t.target).hasClass("e-dialog")||e(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),e(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){var i;i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&e(t.target).hasClass("e-dialog")&&e.inArray(i,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(i,t.ctrlKey),t.preventDefault()),this.model.closeOnEscape&&27===i&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault())),13===i&&this.model.enabled&&(e(t.target).hasClass("e-close")?this.close(t):(e(t.target).hasClass("e-arrowhead-up")||e(t.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(t),e(t.target).hasClass("e-maximize")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMaximize)?this._maximizeClick(t):(e(t.target).hasClass("e-minus")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMinimize))&&this._minimizeClick(t),(e(t.target).hasClass("e-pin")||e(t.target).hasClass("e-unpin"))&&this._pinClick(t)),9==i&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var i=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");i=e(i).find("a, button, :input, select, [tabindex]:not('')"),t.shiftKey?i[i.index(t.target)-1]||(t.preventDefault(),i.last().focus()):i[i.index(t.target)+1]||(t.preventDefault(),i[0].focus())},_keyPressed:function(e,t){switch(this._keyNavigation=!0,e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:this._ejDialog.position().top>3?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left>3?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var e=this._getParentObj();return this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>=100&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>=100&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return t.isNullOrUndefined(this.model.containment)?t.isNullOrUndefined(this.model.target)?e(document):e(this.model.target):e(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var t;this._maximize?this._resetScroller():(""!=this.model.position.X&&(""!=this.model.position.Y||this._minimize)||this._centerPosition(),t=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=e(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(t):this._pixelsWidthDimension(t):this._windowSize.outerHeight!=e(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(t):this._pixelsHeightDimension(t)),this._change&&this._resizeContainer(t),this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._centerPosition())},_setDimension:function(){t.isNullOrUndefined(this.model.maxWidth)?t.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:("px"==this._sizeType.width||"auto"==this._sizeType.width)&&(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,t.isNullOrUndefined(this.model.maxHeight)?t.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:("px"==this._sizeType.height||"auto"==this._sizeType.height)&&(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(t){e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<e(t).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(t.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(t){e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<e(t).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(t.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width());var i=this._ejDialog.height()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0);this.contentDiv.height(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.element.outerHeight(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.scroller=this.contentDiv.ejScroller({width:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this._ejDialog.width():this._ejDialog.width()-2),height:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this.element.outerHeight():this.element.outerHeight()-2),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),""==this.model.position.X||""==this.model.position.Y&&!this._minimize||this._positionChanged?this._centerPosition():this._ejDialog.css("height",this._dialogTitlebar.outerHeight()),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&"auto"!=this.model.height)},_wireResizing:function(){e(window)[this._enableWindowResize()?"on":"off"]("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var i,s,a,o,r;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),i=this,s={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),"slide"==this.model.animation.show.effect?(o=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),s={left:o,opacity:1}):s={opacity:1}),this._ejDialog.animate(s,this.model.enableAnimation?Number(this.model.animation.show.duration):0,(function(){i.model&&("none"==i._ejDialog.css("display")&&i._ejDialog.show(),i._ejDialog.eq(0).focus(),i._ejDialog.css({opacity:""}),i.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),i._trigger("open"),i._updateCaptionWidth(),i.model.enableModal&&!i.model.backgroundScroll&&(i._ejDialog.height()>e(window).height()&&i._ejDialog.css("height",e(window).height()),i.model.height=e(window).height(),i._overLay.css("position","fixed"),i.scroller.refresh(!0),i.refresh()),(i.model.maxHeight||i.model.maxWidth)&&(a=i._ejDialog.outerHeight(!0)-(i._dialogTitlebar?i._dialogTitlebar.outerHeight(!0):0),("auto"==i.model.height||"100%"==i.model.height)&&(a=i.model.height),i._updateScroller(t.isNullOrUndefined(this.contentDiv)?a-2:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?i._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width")),i.scroller.refresh()))})),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(r=e("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&r.option("cursorAt",this.element.offset()),this)},close:function(t){var i,s,a;return!this._isOpen||!this.model.enabled||1!=this._trigger("beforeClose",{event:t,isInteraction:i=!!t})&&(this._isOpen=!1,s=this,a={},this.model.enableAnimation&&(a="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(a,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,(function(){s._trigger("close",{event:t,isInteraction:i}),s._ejDialog.hide()})),this.model.enableModal&&(this._overLay&&this._overLay.remove(),this.model.backgroundScroll||e("body").removeClass("e-dialog-modal")),this)},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),e(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),e(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),e(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){if(this.model.showHeader){var t=this._minimize;return this._actionRestore(),e(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(t?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this}},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,e(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,e(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),t.Dialog.Locale=t.Dialog.Locale||{},t.Dialog.Locale.default=t.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},title:"",closeIconTooltip:"close"}}(jQuery,Syncfusion),function(e,t,i){t.widget("ejMaskEdit","ej.MaskEdit",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{maskFormat:"",value:null,watermarkText:"",name:null,height:"",width:"",showError:!1,htmlAttributes:{},cssClass:"",customCharacter:null,inputMode:"text",readOnly:!1,textAlign:t.TextAlign.Left,hidePromptOnLeave:!1,showRoundedCorner:!1,enablePersistence:!1,enabled:!0,locale:"en-US",showPromptChar:!0,validationRules:null,validationMessage:null,keydown:null,keyup:null,keyPress:null,change:null,mouseover:null,mouseout:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{maskFormat:"string",showError:"boolean",enabled:"boolean",customCharacter:"string",cssClass:"string",watermarkText:"string",showRoundedCorner:"boolean",showPromptChar:"boolean",inputMode:"enum",textAlign:"enum",hidePromptOnLeave:"boolean",readOnly:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},_setModel:function(e){for(var i in e)switch(i){case"value":this.temp_index=0,this.indexValue=[],t.isPlainObject(e[i])&&(e[i]=null),this._setValue(e[i]),this._initObjects(),e[i]=this.get_UnstrippedValue(),this._raiseEvents("change",!0);break;case"width":this._setWidth(e[i]);break;case"height":this._setHeight(e[i]);break;case"watermarkText":this.model.watermarkText=e[i],this._changeWatermark(e[i]);break;case"showRoundedCorner":this._roundedCorner(e[i]);break;case"showPromptChar":this._setShowPrompt(e[i]);break;case"validationRules":null!=this.model.validationRules&&(this._hiddenInput.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[i],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"textAlign":this._setTextAlign(e[i]);break;case"inputMode":this._setInputMode(e[i]);break;case"maskFormat":this.model.maskFormat=e[i],this._valueMapper(),this._maskModel=this.model.maskFormat,this._setMask(e[i]),this._initObjects(),e[i]=this.model.maskFormat;break;case"locale":this.model.value=this.get_StrippedValue(),this.model.locale=e[i],this._setValue(this.model.value),this._initObjects();break;case"cssClass":this._setSkin(e[i]);break;case"readOnly":this._setReadOnly(e[i]);break;case"enabled":this.model.enabled=e[i],this._controlStatus(e[i]);break;case"htmlAttributes":this._addAttr(e[i]);break;case"hidePromptOnLeave":this.model.hidePromptOnLeave=e[i],""!=this._textbox.value&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=this._textbox.value.replace(/[ ]/g,"_"),this.model.value=this._textbox.value)}},observables:["value"],_destroy:function(){t.isNullOrUndefined(this._hiddenInput)||this.element.attr("name",this._hiddenInput.attr("name")),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.insertAfter(this.wrapper),t.isNullOrUndefined(this.wrapper)||this.wrapper.remove(),this.model.textAlign&&this.element.css("text-align",""),this.element.val("").removeClass(" e-mask e-input e-disable").empty(),this.element.removeAttr("aria-invalid aria-disabled")},_init:function(e){if(this.indexValue=[],this.temp_index=0,this._options=e,this._tempMask=this.model.maskFormat,this._keyFlag=!1,this._keyupFlag=!0,this._checkMask=!1,this._isAndroid=/android/i.test(navigator.userAgent.toLowerCase()),!this.element.is("input")||!this.element.is("input[type=text]")&&!this.element.is("input[type=password]")&&this.element.attr("type"))return this._destroy(),!1;this.element.attr("autocomplete","off"),this._isWatermark="placeholder"in document.createElement("input"),this._setValues(),this._valueMapper(),this._renderControl(),this._initObjects(),this._wireEvents(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),e&&e.value!=i&&this.model.value!==e.value&&this._trigger("_change",{value:this.get_UnstrippedValue(),unmaskedValue:this.get_StrippedValue()})},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_addAttr:function(i){var s=this;e.map(i,(function(e,i){var a=i.toLowerCase();"class"==a?s.wrapper.addClass(e):"name"==a?s._hiddenInput.attr(i,e):"disabled"==a&&"disabled"==e?s.disable():"readonly"==a&&"readOnly"==e?s._setReadOnly(!0):"style"==a||"id"==a?s.wrapper.attr(i,e):t.isValidAttr(s.element[0],i)?s.element.attr(i,e):s.wrapper.attr(i,e)}))},_setValidation:function(){var i,s,a,o,r;for(a in this._hiddenInput.rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),s=this._hiddenInput.attr("name"),i.settings.messages[s]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[a])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[a]))for(r in i.settings.messages[s][a]=e.validator.messages[a],this.model.validationMessage)a==r&&(o=this.model.validationMessage[a]);else o=this.model.validationRules.messages[a];i.settings.messages[s][a]=null!=o?o:e.validator.messages[a]}},_setShowPrompt:function(e){this.model.showPromptChar=e,this._textbox.value=this.model.showPromptChar?this._unStrippedMask:this.get_UnstrippedValue()},_controlStatus:function(e){1!=e?this.disable():this.enable()},_setValues:function(){this._unStrippedMask=null,this._charMap={9:"[0-9 ]",a:"[A-Za-z0-9 ]",A:"[A-Za-z0-9]",N:"[0-9]","#":"[0-9]","&":"[^\x7f]+","<":"",">":"",C:null!=this.model.customCharacter?"["+this.model.customCharacter+"]":"[A-Za-z ]","?":"[A-Za-z]"}},_renderControl:function(){if(this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null!=this.element.attr("name")&&this.element.removeAttr("name"),this.wrapper=t.buildTag("span.e-mask e-widget "+this.model.cssClass),this.innerWrapper=t.buildTag("span.e-in-wrap e-box"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this._hiddenInput=t.buildTag("input#"+this._id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._isWatermark||"password"==this.model.inputMode||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),this._hiddenSpan.bind("mousedown",e.proxy(this._OnFocusHandler,this))),t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),t.isNullOrUndefined(this.model.value)||(this.wrapper.addClass("e-valid"),"number"==typeof this.model.value&&(this.model.value=this.model.value.toString())),this._hiddenInput.attr({name:this.model.name,value:this.model.value}),this.element.attr({"aria-invalid":!1}).addClass("e-input"),""==this.model.maskFormat&&null==this.model.value){var i=this;setTimeout((function(){""!=i.element.val()&&(i.option("value",i.element.val()),i.previousValue=i.model.value,i._initObjects())}),500)}else this.element.attr({value:this.model.value});t.isNullOrUndefined(this._options.inputMode)&&!t.isNullOrUndefined(this.element.attr("type"))?this.model.inputMode=this.element.attr("type"):this._setInputMode(this.model.inputMode),this._setWidth(this.model.width),this._setHeight(this.model.height),this._roundedCorner(this.model.showRoundedCorner),this._setTextAlign(this.model.textAlign),this._setReadOnly(this.model.readOnly),this._controlStatus(this.model.enabled),this.previousValue=this.model.value},_initObjects:function(){var e,t,i;if(this._textbox=this.element[0],this._keypressFlag=0,this._selectedTextKeyDown=0,this._keydownFlag=0,this.model.maskFormat.indexOf("\\")>=0){for(e=0,t=0;t<this.model.maskFormat.length;t++)"\\"==this.model.maskFormat[t]&&(e+=1);this._maskLength=this.model.maskFormat.length-e}else this._maskLength=this.model.maskFormat.length;if(this.model.maskFormat.indexOf("\\")>=0)if(this.model.value)for(this._maskModel="",i=0;i<this.model.maskFormat.length;++i)"\\"==this.model.maskFormat[i]?this._maskModel+=this.model.maskFormat[++i]:"\\"==this.model.maskFormat[i]||(this._maskModel+=this.model.maskFormat[i].replace(/[9?CANa#&]/g,"_"));else this._maskModel=this._emptyMask;else this._maskModel=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");this._changeMask(this.model.locale),(this._maskModel.indexOf("<")>=0||this._maskModel.indexOf(">")>=0)&&(this._maskModel=this._maskModel.replace(/[<>]/g,""),this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,""),this._valueMapper()),this._validatedValue=this._maskModel,"password"!=this.model.inputMode&&(this._setValue(this.model.value),this._setWaterMark()),this.model.showError&&this.element.addClass("e-error").attr("aria-invalid","true"),this._prevValue=this.model.watermarkText?this._textbox.value?this._textbox.value:this._maskModel:this._textbox.value},_setWidth:function(e){this.wrapper.width(e)},_setHeight:function(e){this.wrapper.height(e)},_roundedCorner:function(e){e&&!this.innerWrapper.hasClass("e-corner")?this.innerWrapper.addClass("e-corner"):this.innerWrapper.hasClass("e-corner")&&this.innerWrapper.removeClass("e-corner")},_setTextAlign:function(e){"right"==e?(this.element.css("text-align",""),this.wrapper.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.element.css("text-align",e))},_setInputMode:function(e){this.element.attr("type",e)},_setReadOnly:function(e){this.model.readOnly=e,e?this.element.attr("readonly",!0):this.element.removeAttr("readonly")},_setSkin:function(e){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)},_setWaterMark:function(){var i=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel;this._maskModel=this.model.maskFormat.indexOf("\\")>=0?""===this.model.maskFormat?null:i:""===e.trim(this.model.maskFormat.replace(/[9?CANa#&]/g,"_"))?null:this.model.maskFormat.replace(/[9?CANa#&]/g,"_"),(""!=this._maskModel&&null!=this._maskModel&&this._textbox.value==i||""==i&&""==this._textbox.value&&"password"!=this.model.inputMode)&&(this._textbox.value=""),0!=this.model.watermarkText.length||t.isNullOrUndefined(this.element.attr("placeholder"))||(this.model.watermarkText=this.element.attr("placeholder")),this.model.watermarkText&&(this._isWatermark?this.element.attr("placeholder",this.model.watermarkText):this._textbox.value?this._hiddenSpan.css("display","none").text(this.model.watermarkText):this._hiddenSpan.css("display","block").text(this.model.watermarkText)),this.model.watermarkText||this._textbox.value||!this.model.maskFormat||(this.model.hidePromptOnLeave?(this._unStrippedMask=this._maskModel,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=i)},_changeWatermark:function(t){if(!this.model.enabled)return!1;var i=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel;(this._textbox.value==i||""==this._textbox.value||""==e.trim(this.get_StrippedValue()))&&"password"!=this.model.inputMode&&(this._textbox.value=""),this._isWatermark?this.element.attr("placeholder",t):this._hiddenSpan.text(t),!this.model.watermarkText&&""==e.trim(this.get_StrippedValue())&&this.model.maskFormat&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._maskModel,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=i)},_showAlert:function(){var t=this;this.element.addClass("e-error").attr("aria-invalid","true").animate({Opacity:1},700,null,(function(){e(t._textbox).removeClass("e-error").attr("aria-invalid","false")}))},_unMask:function(){for(var e,t,s,a,o,r="",n=0,l=0,d=0,h=this.model.value.toString(),c="",u=this._rules.slice(),p=0;p<this._rules.length;p++){for(e=0;e<h.length;e++)if(u[p].rule&&h[e].match(u[p].rule)||u[p].rule===i){c+=u[p].rule?h.charAt(e):u[p],h=u[p].rule||u[p]===h[e]?h.slice(e+1,h.length):h,n=1;break}0===n&&h.length>0&&(c+=u[p].rule===i?u[p]:""),n=0}for(;l<this._rules.length&&(o=this._rules[l],(a=c[d])!=i)&&(a===o||"_"===a?(r+="_"===a?"_":a,d+=1,l+=1):o.rule===i?(r+=o,l+=1):this._rules[l].rule!=i&&a.match(this._rules[l].rule)?(s=c.charCodeAt(d),t=l,(">"===this._rules[0]||"<"===this._rules[0])&&(t=l-1),this._validateChars(s,t)?(r+=c.charAt(d),l++,d++):l++):"string"!=typeof o?a.match(this._rules[l].rule)?(s=c.charCodeAt(d),this._validateChars(s,l)&&(r+=c.charAt(d),l++,d++)):(d++,l++):l++,!(d>c.length)););return r},_validateValue:function(){var e,s,a,o,r,n,l,d,h,c,u;if(!t.isNullOrUndefined(this.model.value)){var p,m,g=this.model.value,_=this._maskModel,f=c=0,b=this._unMask();if(this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),0==this._maskLength)return this._textbox.value=g,this._setWaterMark(),!0;for(e=this.model.value.toString(),g=this.model.maskFormat.indexOf("\\")>=0||null!=this.model.customCharacter?this.model.value:this.model.value=e;f<this._rules.length&&("_"===(p=b[c])&&"[^\x7f]+"===this._rules[f].rule&&(this.indexValue[this.temp_index]=f,this.temp_index++),m=this._rules[f],p!=i);)p===m||"_"===p?(o=_.substring(0,f),r=_.substring(f),_=o+p+r.substr(1,r.length),c+=1,f+=1):this._rules[f].rule!=i?(a=b.charCodeAt(c),s=f,(">"===this._rules[0]||"<"===this._rules[0])&&(s=f-1),this._validateChars(a,s)?(o=_.substring(0,s),r=_.substring(s),_=o+b.charAt(c)+r.substr(1,r.length),f++,c++):f++):"string"!=typeof m?p.match(this._rules[f].rule)?(a=b.charCodeAt(c),this._validateChars(a,f)?(o=_.substring(0,f),r=_.substring(f),_=o+b.charAt(c)+r.substr(1,r.length),f++,c++):f++):(o=_.substring(0,f),r=_.substring(f),_=o+"_"+r.substr(1,r.length),c++,f++):f++;if(this.model.value)if(this._textbox.value=_,this.model.value=this.get_UnstrippedValue(),null===this.model.value&&(this.model.value=_),this.model.maskFormat.indexOf("\\")>=0){for(this._textbox.value="",n=0,l=0;l<this.model.maskFormat.length;l++)"\\"==this.model.maskFormat[l]&&(n+=1);if(d=0,this.model.value.length==_.length-n)for(h=0;h<this.model.maskFormat.length;++h)"\\"==this.model.maskFormat[h]?d+=1:"\\"==this.model.maskFormat[h-1]?this._textbox.value+=g[h-d]:"\\"==this.model.maskFormat[h]||(this._textbox.value+=g.length<=h-d?_[h].replace(/[9?CANa#&]/g,"_"):g[h-d].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=_}else this.model.hidePromptOnLeave?(this._unStrippedMask=_.replace(/[ ]/g,"_"),this._textbox.value=_):this._textbox.value=_;else if(this.model.maskFormat.indexOf("\\")>=0)for(h=0;h<this.model.maskFormat.length;++h)"\\"==this.model.maskFormat[h-1]?this._textbox.value+=this.model.maskFormat[h]:"\\"==this.model.maskFormat[h]||(this._textbox.value+=this.model.maskFormat[h].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");if(this._textbox.value!=i&&this.model.hidePromptOnLeave&&(this._unStrippedMask=this._textbox.value.replace(/[ ]/g,"_"),this._textbox.value=this.get_UnstrippedValue()),null!=this._maskModel&&(this._textbox.value.indexOf(">")>=0||this._textbox.value.indexOf("<")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._tempMask=this.model.maskFormat,this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),this.model.showPromptChar||(this._textbox.value=this._getUnstrippedValue(!0)),null!=this._tempMask)for(c=0;c<this._textbox.value.length;c++)u=this._updateCasing(this._textbox.value[c],c),t.isNullOrUndefined(u)||(this._textbox.value=this._textbox.value.substring(0,c)+u+this._textbox.value.substring(c+u.length));this._setWaterMark()}},_selectionText:function(e,i){var s=t.isNullOrUndefined(this._maskModel)?"":this._maskModel.substring(e,i);return this._textbox.value=this._textbox.value.substring(0,e)+s+this._textbox.value.substring(i),1==this._keydownFlag?(this._setCaretPosition(e),e):2==this._keydownFlag?(this._setCaretPosition(i),i):e},_caretPosition:function(e){var t,i,s=0;return document.selection?(i=(t=document.selection.createRange()).text.length,t.moveStart("character",-e.value.length),s=t.text.length-i,0!=i&&(s=this._selectionText(s,t.text.length),this._selectedTextKeyDown=1)):(e.selectionStart||"0"==e.selectionStart)&&(s=e.selectionStart,e.selectionStart!=e.selectionEnd&&(this._keydownFlag&&(s=this._selectionText(e.selectionStart,e.selectionEnd)),this._selectedTextKeyDown=1)),s},_setCaretPosition:function(e){var t,i=this._textbox;"Microsoft Internet Explorer"==window.navigator.appName?i.createTextRange&&((t=i.createTextRange()).move("character",e),t.select()):i.selectionStart||"0"==i.selectionStart?(i.focus(),this._isAndroid?setTimeout((function(){i.setSelectionRange(e,e)}),0):i.setSelectionRange(e,e)):i.focus()},_validateChars:function(t,i){var s,a,o,r,n=this._charMap,l=!1;return this.model.maskFormat.indexOf("\\")>=0?(s=this._getCunrrentPos(i),a=this.model.maskFormat.substr(i+s,1)):a=this.model.maskFormat.substr(i,1),o=this.model.customCharacter,r=String.fromCharCode(t),e.each(n,(function(e,t){a==e&&(null!=o&&("C"==e?t="["+o+"]":("A"==e||"N"==e||"#"==e)&&(t=t.replace("]","")+o+"]")),l=!!r.match(new RegExp(t)))})),l},_seekNext:function(e,t){for(var i,s,a=this._caretPosition(this._textbox),o=e?t?a-t-1:a-1:a,r=o,n=!0;n;){if(o>=0&&o<this._maskLength){for(i=0,s=0;s<=o;s++)"\\"==this.model.maskFormat[s]&&(i+=1);if("C"!=this.model.maskFormat.charAt(o)&&(this.model.maskFormat.indexOf("\\")>=0?"\\"!=this.model.maskFormat.charAt(o+i)&&"\\"!=this.model.maskFormat.charAt(o+i-1)?this._charMap[this.model.maskFormat.charAt(o+i)]||o++:"\\"!=this.model.maskFormat.charAt(o+i)&&"\\"==this.model.maskFormat.charAt(o+i-1)&&++o:this._charMap[this.model.maskFormat.charAt(o)]||o++,o!=r)){r=o;continue}}n=!1}return o},_seekBefore:function(e){var t,i,s=this._caretPosition(this._textbox),a=e?s+1:s,o=--a,r=!0;for(1==this._selectedTextKeyDown&&(r=!1);r;){if(a>=0&&a<this._maskLength){for(t=0,i=0;i<=a;i++)"\\"==this.model.maskFormat[i]&&(t+=1);if("C"!=this.model.maskFormat.charAt(a)&&(this.model.maskFormat.indexOf("\\")>=0?"\\"!=this.model.maskFormat.charAt(a+t)&&"\\"!=this.model.maskFormat.charAt(a+t-1)?this._charMap[this.model.maskFormat.charAt(a+t)]||this._setCaretPosition(--a):"\\"==this.model.maskFormat.charAt(a+t-1)&&this._setCaretPosition(--a+t):this._charMap[this.model.maskFormat.charAt(a)]||this._setCaretPosition(--a)),a!=o){o=a;continue}}r=!1}return a},_writeBuffer:function(e,t,s){var a,o,r,n,l,d;if(t<=this._maskLength){if(a=this._textbox.value,null!=this.indexValue&&"95"!=s.keyCode)for(d=0;d<this.indexValue.length;d++)this.indexValue[d]==t&&("_"!=e||"8"==s.keyCode)&&(this.indexValue[d]="");if("95"==s.keyCode&&(this.indexValue[this.temp_index]=t,this.temp_index++),null!=this._tempMask&&(o=this._updateCasing(e,t)),e=o==i?e:o,r=a.substring(0,t),n=a.substring(t),this.model.maskFormat.indexOf("\\")>=0){for(l=0,d=0;d<=t;d++)this.model.maskFormat[d].indexOf("\\")>=0&&0!=t&&(l+=1);this._textbox.value=this.model.maskFormat[t+l].indexOf("\\")>=0?r+a[t]+n.substr(1,n.length):r+e+n.substr(1,n.length)}else this._textbox.value=r+e+n.substr(1,n.length);this._setCaretPosition(t+1)}},_updateCasing:function(e,t){for(var i,s=0;s<t+1;s++)("<"==this._tempMask.substr(s,1)||">"==this._tempMask.substr(s,1))&&t++;for(i=t;i>-1;i--){if("<"==this._tempMask.substr(i,1))return e.toLowerCase();if(">"==this._tempMask.substr(i,1))return e.toUpperCase()}},_getStrippedValue:function(t){var i,s,a,o,r,n=this.model.maskFormat,l=t?"":null;if(i=""==this._textbox.value&&"password"!=this.model.inputMode?this._maskModel:this._textbox.value,0==n.length)return i;for(s=0,a=0;a<n.length;a++)l=t?l:e.trim(l),this.model.maskFormat.indexOf("\\")>=0?"\\"==this.model.maskFormat[a]?s+=1:"\\"==this.model.maskFormat[a-1]?l+=this._textbox.value[a-s]:(r=null,-1!="9?$a*".indexOf(o=n[a])?r=this._charMap[o]:"A"==o||"N"==o||"#"==o?r=this._charMap[o].replace("]","")+this.model.customCharacter+"]":"C"==o?r="["+this.model.customCharacter+"]":"&"==o&&(l+=i[a-s]),r&&i[a-s]&&i[a-s].match(new RegExp(r))&&(l+=i[a-s])):(r=null,-1!="9?$a*".indexOf(o=n[a])?r=this._charMap[o]:"A"==o||"N"==o||"#"==o?r=this._charMap[o].replace("]","")+this.model.customCharacter+"]":"C"==o?r="["+this.model.customCharacter+"]":"&"==o&&(l+=i[a-s]),r&&i[a]&&i[a].match(new RegExp(r))&&(l+=i[a]));return l},_getUnstrippedValue:function(t){var s=0,a=""==this._textbox.value&&"password"!=this.model.inputMode?this._maskModel:this._textbox.value,o=null;if(0==this.model.maskFormat.length)return a;if(a!=i&&(o=""==e.trim(a.replace(/[_]/g," "))?null:a.replace(/[_]/g," ")),"_"==this.model.customCharacter&&null==o&&(o=""),null==o&&null!=this.indexValue[s]&&(o=""),a!=i&&null!=this.indexValue[s]&&null!=o)for(;s<this.indexValue.length;s++)(""!=this.indexValue[s]||"0"==this.indexValue[s])&&(o=o.substr(0,this.indexValue[s])+"_"+o.substr(this.indexValue[s]+1));return null==o&&t?"":o},get_StrippedValue:function(){return this._getStrippedValue()},get_UnstrippedValue:function(){return this._getUnstrippedValue()},_setValue:function(i){(t.isNullOrUndefined(i)||""==e.trim(i))&&(i=null),this.model.value=i,this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),t.isNullOrUndefined(this.model.maskFormat)||""==this.model.maskFormat?(this._textbox.value=t.isNullOrUndefined(i)?"":i,this._unStrippedMask=this._textbox.value):(this._validateValue(),t.isNullOrUndefined(this.model.value)&&(this._textbox.value=t.isNullOrUndefined(i)?"":i,this._unStrippedMask=this._maskModel)),this._setWaterMark(),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart},_valueMapper:function(){for(var e,t,i,s=[],a=0,o=this.model.maskFormat||"",r=o.split(""),n=0,l=0,d="",h=this._charMap;n<o.length;n++)if(t=h[e=r[n]])s[a]={rule:t},d+="_",a+=1;else for("\\"===e&&(l=n+1,n++,e=r[l]),e=e.split(""),i=0;i<e.length;i++)s[a]=e[i],d+=e[i],a+=1;this._rules=s,this._emptyMask=d,this._maskLength=d.length},_changeMask:function(e){var i,s,a,o,r,n;if(0!=this._maskModel.length){for(r="",s=(i=t.preferredCulture(e)).numberFormat[","],a=i.numberFormat.currency.symbol,o=i.numberFormat["."],n=0;n<this._maskModel.length;n++)r+=","==this._maskModel[n]?s:"."==this._maskModel[n]?o:"$"==this._maskModel[n]?a:this._maskModel[n];this._maskModel=r}},_setMask:function(i){if(this._maskLength=i.length,this.model.maskFormat=i,this._tempMask=this.model.maskFormat,this._maskModel=i.replace(/[9?CANa]/g,"_"),(this._maskModel.indexOf("<")>=0||this._maskModel.indexOf(">")>=0)&&(this._maskModel=this._maskModel.replace(/[<>]/g,""),this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),t.isNullOrUndefined(this.model.maskFormat)||""==this.model.maskFormat){if(!this.model.watermarkText&&this._textbox.value!=this._maskModel)if(this.model.maskFormat)this.model.hidePromptOnLeave?(this._textbox.value=this._maskModel,this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=this._maskModel;else{var s=this._unStrippedMask.replace(/[_]/g," ");this._textbox.value=e.trim(null==this.model.customCharacter?s.replace(/[\(\)-]/g,""):s),this._unStrippedMask=this._textbox.value}}else this._validateValue()},enable:function(){this.element.disabled=!1,this.element.removeAttr("disabled").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-placeholder").length>0&&this.wrapper.find(".e-placeholder").removeAttr("disabled","disabled"),this.wrapper.removeClass("e-disable-wrap"),this.model.enabled=!0},disable:function(){this.element.disabled=!0,this.element.attr("disabled","disabled").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-placeholder").length>0&&this.wrapper.find(".e-placeholder").attr("disabled","disabled"),this.wrapper.addClass("e-disable-wrap"),this.model.enabled=!1},clear:function(){this._textbox.value=this.model.maskFormat.replace(/[9?aCAN]/g,"_"),this.model.value=this.get_StrippedValue()},_wireEvents:function(){this._on(this.element,"focus",this._OnFocusHandler),this._on(this.element,"blur",this._OnBlurHandler),this._on(this.element,"keydown",this._OnKeyDownHandler),this._on(this.element,"input",this._OnInputHandler),this._on(this.element,"keypress",this._OnKeyPressHandler),this._on(this.element,"keyup",this._OnKeyUpHandler),this._on(this.element,"mouseover",this._OnMouseOverHandler),this._on(this.element,"mouseout",this._OnMouseOutHandler),this._on(this.element,"paste",this._OnPasteHandler),this._on(this.element,"cut",this._OnCutHandler)},_OnCutHandler:function(){var e=t.isNullOrUndefined(this._maskModel)?"":this._maskModel.substring(this._textbox.selectionStart,this._textbox.selectionEnd),i=this._textbox.value.substring(0,this._textbox.selectionStart),s=this._textbox.value.substring(this._textbox.selectionEnd),a=this._textbox.selectionStart,o=this;setTimeout((function(){o._textbox.value=i+e+s,o._setCaretPosition(a),o._prevValue=o._textbox.value,o._prevPosition=o.element[0].selectionStart,o._raiseEvents("change")}),0)},_OnPasteHandler:function(){var t=this;return this._keyFlag=!0,setTimeout((function(){var i=e(t._textbox).val();t._setValue(i),t._raiseEvents("change")}),0),!0},_OnFocusHandler:function(){var i,s;this.wrapper.addClass("e-focus"),i=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel,this.model.readOnly||(this._focusValue=this.model.value,this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),""==this._textbox.value&&""!=this._maskModel&&"password"!=this.model.inputMode&&(this._textbox.value=this.model.maskFormat.indexOf("\\")>=0?i:t.isNullOrUndefined(this._maskModel)?"":i),null!=this._maskModel&&(this._textbox.value.indexOf("<")>=0||this._textbox.value.indexOf(">")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._maskModel=this._textbox.value,this._tempMask=this.model.maskFormat,this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),this._textbox.value!=i&&null!=this._unStrippedMask&&this.model.hidePromptOnLeave&&(this._textbox.value=this._unStrippedMask),this.model.showPromptChar||(this._textbox.value=this._getUnstrippedValue(!0)),e.fn.selectRange=function(e,t){return this.each((function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(e,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}))},this.model.maskFormat&&e(this.element).selectRange(0,0),s=this,setTimeout((function(){s._prevPosition=s.element[0].selectionStart}),0),this._raiseEvents("focusIn"))},_OnBlurHandler:function(){var e,s,a,o;if(this.wrapper.removeClass("e-focus"),this.model.value=this.get_StrippedValue(),e=[],s=[],(-1!=this._textbox.value.indexOf("_")||-1!=this._textbox.value.indexOf(" "))&&!t.isNullOrUndefined(this.model.value)){for(a=0;a<this.model.maskFormat.length;a++)"A"==this.model.maskFormat[a]||"?"==this.model.maskFormat[a]?e.push(a):("9"==this.model.maskFormat[a]||"a"==this.model.maskFormat[a]||"C"==this.model.maskFormat[a])&&s.push(a);for(a=0;a<e.length;a++)"_"===this._textbox.value[e[a]]&&(this._showAlert(),this.model.value=this._textbox.value);for(a=0;a<s.length;a++)if("_"==this.model.value[s[a]]||" "==this.model.value[s[a]])for(this.model.value=this.model.value.substr(0,s[a])+this.model.value.substr(s[a]+1,this.model.value.length),o=a;o<s.length;o++)s[o]=s[o]-1}this.model.value=null!=this.model.value?this.model.value.replace(/\s+/g,""):this.model.value,this._textbox.value!=i&&(""==this.model.watermarkText||""!=this.model.watermarkText&&""!=this.model.value)&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._unStrippedMask=this._textbox.value),"password"!=this.model.inputMode&&this._setWaterMark(),this._raiseEvents("change"),this._raiseEvents("focusOut")},_OnKeyDownHandler:function(e){var i,s,a,o;if(!this.model.readOnly){if(this._keyFlag=!0,this._checkMask&&(a=this.element[0].selectionStart,i=this._getStrippedValue(!0),this._setValue(i),this._setCaretPosition(a),this._checkMask=!1),this._keypressFlag=0,this._keyupFlag=!0,r=t.browserInfo().name,s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t.isDevice()&&t.isTouchDevice()&&!s&&(229==e.keyCode||"mozilla"==r&&0==e.keyCode&&0==e.charCode||"edge"==r||"msie"==r)&&(this._keyupFlag=!1),this._raiseEvents("onKeyDown",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),this._raiseEvents("keyDown",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),this.element.removeClass("error"),0==this._maskLength)return!0;var r,n=e.keyCode?e.keyCode:e.charCode,l=(String.fromCharCode(n),this._seekNext()),d=this.model.showPromptChar?"_":" ";if("msie"==(r=t.browserInfo().name)&&""==this._textbox.value){if(this.model.maskFormat.indexOf("\\")>=0)for(a=0;a<this.model.maskFormat.length;++a)"\\"==this.model.maskFormat[a-1]?this._textbox.value+=this.model.maskFormat[a]:"\\"==this.model.maskFormat[a]||(this._textbox.value+=this.model.maskFormat[a].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");this._setCaretPosition(l)}return n>=35&&n<=41&&("Mozilla"==window.navigator.appCodeName||"opera"==window.navigator.appCodeName)&&(this._keypressFlag=1),e.shiftKey&&(35==e.keyCode||36==e.keyCode||37==e.keyCode||39==e.keyCode||46==e.keyCode||127==e.keyCode)||e.ctrlKey&&(86==e.keyCode||65==e.keyCode||67==e.keyCode||88==e.keyCode)?void(this._keypressFlag=1):8==n?"password"!=this.model.inputMode?(this._keydownFlag=1,l=this._seekBefore(),this._selectedTextKeyDown?!this.model.showPromptChar&&this._selectedTextKeyDown&&(8==e.keyCode&&"-1"==l&&null!=this.indexValue&&(this.indexValue=[],this.temp_index=0),this._textbox.value=this.get_UnstrippedValue(),this._setCaretPosition(l+1)):(l>=0&&l<this._maskLength&&this._writeBuffer(d,l,e),l<0&&(l=0),this._setCaretPosition(l)),this._keydownFlag=0,this._selectedTextKeyDown=0,8==e.keyCode&&"-1"==l&&null!=this.indexValue&&(this.indexValue=[],this.temp_index=0),e.preventDefault(),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._keyFlag=!1,!1):(this._keypressFlag=1,!0):46==e.keyCode||127==e.keyCode?"password"!=this.model.inputMode?(this._keydownFlag=2,l=this._seekNext(),this._selectedTextKeyDown?!this.model.showPromptChar&&this._selectedTextKeyDown&&(this._textbox.value=this.get_UnstrippedValue(),this._setCaretPosition(l)):l>=0&&l<this._maskLength&&(o=this._getCunrrentPos(l),"&"==this.model.maskFormat[l+o]||this._writeBuffer(d,l,e)),this._keydownFlag=0,this._selectedTextKeyDown=0,e.preventDefault(),!1):(this._keypressFlag=1,!0):void 0}},_ErrorHandler:function(e){""==this._textbox.value&&(this._textbox.value=this.model.maskFormat.replace(/[9?$CANa*]/g,this.model.showPromptChar?"_":" ")),this._setCaretPosition(e),this._showAlert()},_getCunrrentPos:function(e){for(var t=0,i=0;i<=e+t;i++)"\\"==this.model.maskFormat[i]&&(t+=1);return t},_OnKeyPressHandler:function(e){var i;if(!this.model.readOnly){if(this._keyFlag=!1,this._raiseEvents("keyPress",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),0==this._maskLength)return!0;var s=e.keyCode?e.keyCode:e.charCode,a=String.fromCharCode(s),o=this.model.showPromptChar?"_":" ",r=this._seekNext(),n=t.browserInfo().name,l=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(t.isDevice()&&t.isTouchDevice()&&!l&&("edge"==n||"msie"==n))return!0;if(this._validateChars(s,r)?(("mozilla"==n||"opera"==n)&&(35==e.keyCode||36==e.keyCode||37==e.keyCode||39==e.keyCode)||("mozilla"==n||"opera"==n)&&e.ctrlKey&&(97==s||99==s||118==s||120==s)||(""==this._textbox.value&&(this._textbox.value=this.model.maskFormat.replace(/[9?$CANa&*]/g,o)),this.model.maskFormat.indexOf("\\")>=0?r<this._maskLength&&this._writeBuffer(a,r,e):this._writeBuffer(a,r,e)),this._prevValue=this._textbox.value):("mozilla"==n||"opera"==n)&&(35==e.keyCode||36==e.keyCode||37==e.keyCode||39==e.keyCode)||("mozilla"==n||"opera"==n)&&e.ctrlKey&&(97==s||99==s||118==s||120==s)||(this.model.maskFormat.indexOf("&")>=0||this.model.maskFormat.indexOf("\\")>=0?(i=this._getCunrrentPos(r),"&"==this.model.maskFormat[r+i]&&127==s||(this.model.maskFormat.indexOf("\\")>=0?r<this._maskLength&&(this._validateChars(s,r+i)||"\\"==this.model.maskFormat[r+i-1]?this._writeBuffer(a,r,e):this._ErrorHandler(r)):this._validateChars(s,r+i)?this._writeBuffer(a,r,e):this._ErrorHandler(r))):this._ErrorHandler(r)),!this._keypressFlag&&9!=s)return this._keypressFlag=0,e.preventDefault(),!1;this._keypressFlag=0}},_OnInputHandler:function(e){var i,s,a,o=t.browserInfo().name,r=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!this._keyFlag,n=this._keyupFlag&&("edge"==o||"msie"==o);if(0==this._maskLength)return!0;if(t.isDevice()&&t.isTouchDevice()&&(r||n)){var l=1==(d=this._textbox.value.length-this._prevValue.length)?this._seekNext(!0):this._seekNext(!0,d-1);h=(m=this._textbox.value[this.element[0].selectionStart-1]).charCodeAt(0),this._validateChars(h,l)?(this._textbox.value=this._prevValue,s=String.fromCharCode(h),this._writeBuffer(s,l,e)):(this._textbox.value=this._prevValue,this._setCaretPosition(l),this._ErrorHandler(l)),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._checkMask=!0}if(t.isDevice()&&t.isTouchDevice()&&!r&&!this._keyupFlag){this.element[0].selectionStart!=(i=this.element[0].selectionEnd)&&this._textbox.setSelectionRange(i,i);var d,h,c=this.model.showPromptChar?"_":" ",u=(d=this._textbox.value.length-this._prevValue.length)<=0,p=u?this._seekBefore(!0):this._seekNext(!0),m=this._textbox.value[this.element[0].selectionStart-1];if(this.element[0].selectionStart>0&&(h=m.charCodeAt(0)),this._tempMask.length>this._textbox.value.length)t.isNullOrUndefined(m)&&this._emptyMask.slice(1,this._emptyMask.length)==this._textbox.value?this._textbox.value=this._emptyMask:u?(this._textbox.value=this._prevValue,this._writeBuffer(c,p,e)):this._validateChars(h,l=p)?(this._textbox.value=this._prevValue,s=String.fromCharCode(h),this._writeBuffer(s,l,e)):(this._textbox.value=this._prevValue,this._setCaretPosition(l),this._ErrorHandler(l)),this._setCaretPosition(p);else if(this._validateChars(h,l=p))for(this._textbox.value=this._prevValue,s=String.fromCharCode(h),this._writeBuffer(s,l,e),a=0;a<this._emptyMask.length;a++)" "==this._emptyMask[a]&&" "!=this._textbox.value[a]&&m==this._textbox.value[a]&&(this._textbox.value=this._textbox.value.substring(0,startPos-1)+" "+m+this._textbox.value.substring(endPos,this._textbox.value.length),this._setCaretPosition(p+1));else this._textbox.value=this._prevValue,this._setCaretPosition(l),this._ErrorHandler(l);this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._keyupFlag=!0}this._keyFlag=!1},_OnKeyUpHandler:function(e){0==this._maskLength&&this._raiseEvents("change"),this._raiseEvents("keyUp",null,{keyCode:e.keyCode,altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,originalArgs:e}),t.isNullOrUndefined(this.model.validationRules)||this._hiddenInput.valid()},_OnMouseOverHandler:function(){this._raiseEvents("mouseOver")},_OnMouseOutHandler:function(){this._raiseEvents("mouseOut")},_raiseEvents:function(i,s,a){var o,r=this.get_StrippedValue(),n=this.get_UnstrippedValue();if(this.model.value=null!==n?null==this.model.customCharacter&&""==e.trim(n.replace(/[\(\)-]/g,""))?null:n:null,"change"==i)if(this.previousValue!=this.model.value)this.previousValue=this.model.value;else if(this._focusValue==this.model.value)return!1;o={value:n,unmaskedValue:r},"change"==i&&(o.isInteraction=!s),"change"==i&&(this._trigger("_change",o),t.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")),a&&e.extend(!0,o,a),this._hiddenInput.val(r),this._trigger(i,o)},_OnValueChange:function(){""==this._textbox.value&&""!=this._maskModel&&(this._textbox.value=this._maskModel),this._setValue(this._textbox.value)}}),t.InputMode={Password:"password",Text:"text"}}(jQuery,Syncfusion)})?s.apply(t,a):s)||(e.exports=o)},qkun:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,n;n=function(){var n;ej.Ej3DRender=function(){},function(e){ej.Ej3DRender.Polygons=[],ej.Ej3DRender.prototype={matrix3D:function(){},vector3D:function(){},BSPTreeBuilder:function(){},Graphics3D:function(){},polygon3D:function(){}},(t=new ej.Ej3DRender).vector3D.prototype={x:"",y:"",z:"",Epsilon:1e-5,isValid:function(e){return!isNaN(e.x)&&!isNaN(e.y)&&!isNaN(e.z)},vector3D:function(e,t){this.x=e.x,this.y=e.y,this.z=t},vector3D:function(e,t,i){return this.x=e,this.y=t,this.z=i,{x:e,y:t,z:i}},vector3DMinus:function(e,t){return this.vector3D(e.x-t.x,e.y-t.y,e.z-t.z)},vector3DPlus:function(e,t){return this.vector3D(e.x+t.x,e.y+t.y,e.z+t.z)},vector3DMultiply:function(e,t){return this.vector3D(e.y*t.z-t.y*e.z,e.z*t.x-t.z*e.x,e.x*t.y-t.x*e.y)},vector3dAND:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},vector3DStarMultiply:function(e,t){return this.vector3D(e.x*t,e.y*t,e.z*t)},getLength:function(e){var t=this.vector3dAND(e,e);return Math.sqrt(t)},normalize:function(){this.getLength()},getNormal:function(e,t,i){var s=this.vector3DMinus(e,t),a=this.vector3DMinus(i,t),o=this.vector3DMultiply(s,a),r=this.getLength(o);return r<this.Epsilon&&(r=0),{x:o.x/r,y:o.y/r,z:o.z/r}}},t.matrix3D.prototype={MATRIX_SIZE:4,matrix3D:function(e){for(var t=[],i=0;i<e;i++)t[i]=this.createArray(e);return t},isAffine:function(e){return 0==e[0][3]&&0==e[1][3]&&0==e[2][3]&&1==e[3][3]},createArray:function(e){for(var t=[],i=0;i<e;++i)t[i]=0;return t},getIdentity:function(){for(var e=this.matrix3D(this.MATRIX_SIZE),t=0;t<this.MATRIX_SIZE;t++)e[t][t]=1;return e},getInvertal:function(e){for(var t,i=this.getIdentity(),s=0;s<this.MATRIX_SIZE;s++)for(t=0;t<this.MATRIX_SIZE;t++)i[s][t]=this.getMinor(e,s,t);return i=this.transposed(i),this.getMatrixMultiple(1/this.getDeterminant(e),i)},getMatrixMultiple:function(e,t){for(var i,s=0;s<t.length;s++)for(i=0;i<t[s].length;i++)t[s][i]=t[s][i]*e;return t},getMatrixVectorMutiple:function(e,t){var i,s=e[0][0]*t.x+e[1][0]*t.y+e[2][0]*t.z+e[3][0],a=e[0][1]*t.x+e[1][1]*t.y+e[2][1]*t.z+e[3][1],o=e[0][2]*t.x+e[1][2]*t.y+e[2][2]*t.z+e[3][2];return this.isAffine(e)||(s*=i=1/(e[0][3]*t.x+e[1][3]*t.y+e[2][3]*t.z+e[3][3]),a*=i,o*=i),{x:s,y:a,z:o}},getMatrixVectorAnd:function(e,i){return t.vector3D.prototype.vector3D(e[0][0]*i.x+e[1][0]*i.y+e[2][0]*i.z,e[0][1]*i.x+e[1][1]*i.y+e[2][1]*i.z,e[0][2]*i.x+e[1][2]*i.y+e[2][2]*i.z)},getMatrixAdd:function(e,t){for(var i,s=this.matrix3D(4),a=0;a<4;a++)for(i=0;i<4;i++)s[a][i]=e[a][i]+t[a][i];return s},getMatrixMultiplication:function(e,t){for(var i,s,a,o=this.getIdentity(),r=0;r<this.MATRIX_SIZE;r++)for(i=0;i<this.MATRIX_SIZE;i++){for(s=0,a=0;a<this.MATRIX_SIZE;a++)s+=e[a][i]*t[r][a];o[r][i]=s}return o},getMatrixEqual:function(e,t){for(var i,s=!0,a=0;a<e.length;a++)for(i=0;i<e.length;i++)e[a][i]!=t[a][i]&&(s=!1);return s},getMatrixNotEqual:function(e,t){for(var i,s=!0,a=0;a<e.length;a++)for(i=0;i<e.length;i++)e[a][i]!=t[a][i]&&(s=!1);return!s},getMinor:function(e,t,i){return((t+i)%2==0?1:-1)*this.getDeterminant(this.getMMtr(e,t,i))},getMMtr:function(e,t,i){for(var s,a,o=e.length-1,r=this.createArray(o),n=0;n<o;n++)for(s=n>=t?n+1:n,r[n]=this.createArray(o),a=0;a<o;a++)r[n][a]=e[s][a>=i?a+1:a];return r},getDeterminant:function(e){var t,i,s,a=e.length,o=0;if(a<2)o=e[0][0];else for(t=1,i=0;i<a;i++)s=this.getMMtr(e,i,0),o+=t*e[i][0]*this.getDeterminant(s),t=t>0?-1:1;return o},transform:function(e,t,i){var s=this.getIdentity();return s[3][0]=e,s[3][1]=t,s[3][2]=i,s},turn:function(e){var t=this.getIdentity();return t[0][0]=Math.cos(e),t[2][0]=-Math.sin(e),t[0][2]=Math.sin(e),t[2][2]=Math.cos(e),t},tilt:function(e){var t=this.getIdentity();return t[1][1]=Math.cos(e),t[2][1]=Math.sin(e),t[1][2]=-Math.sin(e),t[2][2]=Math.cos(e),t},transposed:function(e){for(var t,i=this.getIdentity(),s=0;s<this.MATRIX_SIZE;s++)for(t=0;t<this.MATRIX_SIZE;t++)i[s][t]=e[t][s];return i},shear:function(e,t,i,s,a,o){var r=this.getIdentity();return r[0]=e,r[0]=t,r[1]=i,r[1]=s,r[2]=a,r[2]=o,r}},t.Graphics3D.prototype={addVisual:function(e){return null==e||o.test(e)?-1:(e.Graphics3D=this,a.add(e))},getVisualCount:function(){return ej.Ej3DRender.Polygons.length()},remove:function(e){ej.Ej3DRender.Polygons.Remove(e)},clearVisual:function(){ej.Ej3DRender.Polygons=null},getVisual:function(){return ej.Ej3DRender.Polygons},prepareView:function(e,t,i,s,o,r){0==arguments.length?a.build():(null==ej.Ej3DRender.transform?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(o):ej.Ej3DRender.transform.mViewport=o,ej.Ej3DRender.tree||(ej.Ej3DRender.tree=[]),ej.Ej3DRender.transform.Rotation=i,ej.Ej3DRender.transform.Tilt=s,ej.Ej3DRender.transform.Depth=t,ej.Ej3DRender.transform.PerspectiveAngle=e,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),ej.Ej3DRender.tree[r._id]=a.build())},view:function(e,t,s,a,o,r,n){var l,d=32767;if(2==arguments.length){if(null==e)return;l=i.vector3D(0,0,d),this.drawBspNode3D(ej.Ej3DRender.tree[t._id],l,e,t)}else{if(null==e)return;null==ej.Ej3DRender.transform?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(o):ej.Ej3DRender.transform.mViewport=o,ej.Ej3DRender.transform.Rotation=s,ej.Ej3DRender.transform.Tilt=a,ej.Ej3DRender.transform.Depth=n,ej.Ej3DRender.transform.PerspectiveAngle=r,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),l=i.vector3D(0,0,d),this.drawBspNode3D(ej.Ej3DRender.tree[t._id],l,e,t)}},draw3DElement:function(e,t){e.Plane.element?"text"==e.Plane.element.tag||"dataLabel"==e.Plane.element.tag?o.drawText(e.Plane,t):"polyline"==e.Plane.element.tag?o.drawPolyLine(e.Plane,t):"template"==e.Plane.element.tag?o.drawTemplate(e.Plane,t):o.drawLine(e.Plane,t):o.draw(e.Plane,t)},drawBspNode3D:function(e,t,s,a){if(null!=e&&null!=ej.Ej3DRender.transform)for(;;){if(i.vector3dAND(o.getNormal(ej.EjSvgRender.chartTransform3D.result(ej.Ej3DRender.transform),e.Plane.VectorPoints),t)>e.Plane.D){if(null!=e.Front&&this.drawBspNode3D(e.Front,t,s,a),this.draw3DElement(e,a),null!=e.Back){e=e.Back;continue}}else if(null!=e.Back&&this.drawBspNode3D(e.Back,t,s,a),this.draw3DElement(e,a),null!=e.Front){e=e.Front;continue}break}}},t.BSPTreeBuilder.prototype={EPSILON:5e-4,Polygon:[],add:function(e){return ej.Ej3DRender.Polygons.push(e),ej.Ej3DRender.Polygons.length-1},remove:function(e){ej.Ej3DRender.Polygons.splice(e,1)},clear:function(){ej.Ej3DRender.Polygons=[]},count:function(){return ej.Ej3DRender.Polygons.length},getNext:function(e,t){return e>=t?e-t:e<0?e+t:e},getNodeCount:function(e){return null==e?0:1+this.getNodeCount(e.Back)+this.getNodeCount(e.Front)},vector3DIndexClassification:function(e,t,i){return{index:t,result:i,vector:e,isCuttingBackPoint:!1,cuttingBackPairIndex:null,alreadyCuttedBack:!1,isCuttingFrontPoint:!1,cuttingFrontPairIndex:null,alreadyCuttedFront:!1}},classifyPoint:function(e,i){var s="OnPlane",a=-i.D-t.vector3D.prototype.vector3dAND(e,i.normal);return a>this.EPSILON?s="OnBack":a<-this.EPSILON&&(s="OnFront"),s},classifyPolygon:function(e,i){var s,a,o,r=i.Points;if(null==r)return"Unknown";var n=0,l=0,d=0,h=e.normal,c=e.D;for(s=0,a=r.length;s<a&&((o=-c-t.vector3D.prototype.vector3dAND(r[s],h))>this.EPSILON?n++:o<-this.EPSILON?l++:d++,!(n>0&&l>0));s++);return d==r.length?"OnPlane":l+d==r.length?"ToRight":n+d==r.length?"ToLeft":"Unknown"},splitPolygon:function(t,s){var a,r,n,l,d,h,c,u=[],p=[];if(null!=t.Points){var m,g,_=[],f=[],b=[],v=t.Points.length;for(d=0;d<v;d++){var x=t.Points[d],y=t.Points[this.getNext(d+1,v)],w=this.classifyPoint(x,s),S=this.classifyPoint(y,s),C=this.vector3DIndexClassification(x,_.length,w);if(_.push(C),w!=S&&"OnPlane"!=w&&"OnPlane"!=S){var T=i.vector3DMinus(x,y),L=i.vector3DMinus(i.vector3DStarMultiply(s.normal,-s.D),y),k=i.vector3dAND(L,s.normal)/i.vector3dAND(s.normal,T),P=i.vector3DPlus(y,i.vector3DStarMultiply(T,k)),j=this.vector3DIndexClassification(P,_.length,"OnPlane");_.push(j),f.push(j),b.push(j)}else if("OnPlane"==w){if(a=t.Points[this.getNext(d-1,v)],(r=this.classifyPoint(a,s))==S)continue;if("OnPlane"!=r&&"OnPlane"!=S)f.push(C),b.push(C);else if("OnPlane"==r)switch(S){case"OnBack":f.push(C);break;case"OnFront":b.push(C)}else if("OnPlane"==S)switch(r){case"OnBack":f.push(C);break;case"OnFront":b.push(C)}}}if(0!=b.length||0!=f.length){for(d=0;d<f.length-1;d+=2)h=f[d+1],(n=f[d]).CuttingBackPoint=!0,h.CuttingBackPoint=!0,n.CuttingBackPairIndex=h.index,h.CuttingBackPairIndex=n.index;for(d=0;d<b.length-1;d+=2)h=b[d+1],(n=b[d]).CuttingFrontPoint=!0,h.CuttingFrontPoint=!0,n.CuttingFrontPairIndex=h.index,h.CuttingFrontPairIndex=n.index;for(d=0;d<f.length-1;d++)(n=f[d]).alreadyCuttedBack||(m=this.cutOutBackPolygon(_,n)).length>2&&(l=o.polygon3D(m,t),u.push(e.extend({},l)));for(d=0;d<b.length-1;d++)(h=b[d]).alreadyCuttedFront||(g=this.cutOutFrontPolygon(_,h)).length>2&&(c=o.polygon3D(g,t),p.push(e.extend({},c)))}}else u.push(t),p.push(t);return{BackP:u,FrontP:p}},cutOutFrontPolygon:function(e,t){for(var i,s,a,o,r,n=[],l=t;;)if(l.alreadyCuttedFront=!0,n.push(l.vector),i=e[l.CuttingFrontPairIndex],l.CuttingFrontPoint)if(i.alreadyCuttedFront)if(s=e[this.getNext(l.index-1,e.length)],a=e[this.getNext(l.index+1,e.length)],"OnFront"!=s.result||s.alreadyCuttedFront){if("OnFront"!=a.result||a.alreadyCuttedFront)return n;l=a}else l=s;else l=i;else if(o=e[this.getNext(l.index-1,e.length)],r=e[this.getNext(l.index+1,e.length)],"OnBack"==o.result||o.alreadyCuttedFront){if("OnBack"==r.result||r.alreadyCuttedFront)return n;l=r}else l=o;return n},cutOutBackPolygon:function(e,t){for(var i,s,a,o=[],r=t;;)if(r.alreadyCuttedBack=!0,o.push(r.vector),i=e[r.CuttingBackPairIndex],r.CuttingBackPoint)if(i.alreadyCuttedBack)if(s=e[this.getNext(r.index-1,e.length)],a=e[this.getNext(r.index+1,e.length)],"OnBack"!=s.result||s.alreadyCuttedBack){if("OnBack"!=a.result||a.alreadyCuttedBack)return o;r=a}else r=s;else r=i;else if(s=e[this.getNext(r.index-1,e.length)],a=e[this.getNext(r.index+1,e.length)],"OnFront"==s.result||s.alreadyCuttedBack){if("OnFront"==a.result||a.alreadyCuttedBack)return o;r=a}else r=s;return o},build:function(){var e,t,i,s,a,o,r,n,l,d,h;if(arguments[0]){if((e=arguments[0]).length<1)return null;for((t={Back:null,Front:null,Plane:null}).Plane=i=e[0],s=[],a=[],o=1,r=e.length;o<r;o++)if((n=e[o])!=i)switch(this.classifyPolygon(i,n)){case"OnPlane":case"ToRight":a.push(n);break;case"ToLeft":s.push(n);break;case"Unknown":if(!n.element||"line"!=n.element.tag&&"text"!=n.element.tag){for(l=this.splitPolygon(n,i),d=0;d<l.BackP.length;d++)l.BackP[d].Name=l.BackP[d].Name+"back",s.push(l.BackP[d]);for(h=0;h<l.FrontP.length;h++)l.FrontP[h].Name=l.FrontP[h].Name+"front",a.push(l.FrontP[h])}else s.push(n)}return s.length>0&&(t.Back=this.build(s)),a.length>0&&(t.Front=this.build(a)),t}return this.build(ej.Ej3DRender.Polygons)}},t.polygon3D.prototype={epsilon:1e-5,normal:{x:0,y:0,z:0},vector:new((new ej.Ej3DRender).vector3D),polygon3D:function(e,t,i,s,a,o,r,n){var l,d;if(3!=arguments.length)return 2==arguments.length?(this.calcNormal((e=arguments[0])[0],e[1],e[2]),this.vectorPoints=e,this.calcNormal(this.vectorPoints),(d=arguments[1]).Normal=this.normal,d.normal=this.normal,d.Points=e,d.VectorPoints=this.vectorPoints,d.IsSplitted=!0,d.d=this.d,d.D=this.d,d):(this.calcNormal(e[0],e[1],e[2]),this.vectorPoints=e,this.calcNormal(this.vectorPoints),l={Tag:"path",Parent:arguments[arguments.length-1]},d={Normal:this.normal,normal:this.normal,Points:e,VectorPoints:this.vectorPoints,Index:i,Tag:t,Name:n||null,StrokeThickness:a,Opacity:o,Fill:r,d:this.d,D:this.d},1!=arguments.length&&(d.Element=l),d);this.calcNormal(arguments[0],arguments[1],arguments[2])},createLine:function(e,t,s,a,o,r){var n=e.width,l=[];return l[0]=i.vector3D(t,s,r),l[1]=i.vector3D(t+n,o+n,r),l[2]=i.vector3D(a,o,r),this.line3D(e,l)},createPolyline:function(e,t){if(2==e.length){var s=e[1];e.push(i.vector3D(s.x,s.y,s.z))}return this.polyLine3D(t,e)},polyLine3D:function(e,t){var i=this.polygon3D(t);return i.element=e,i},line3D:function(e,t){var i=this.polygon3D(t);return i.element=e,i},text3D:function(e,t){var i=this.polygon3D(t);return i.element=e,i},createCylinder:function(e,t,s,a,o,n,l,d,h,c,u,p){var m,g,_,f,b=0,v=24,x=360/v,y=Math.PI/180,w=parseFloat((e.z+t.z)/2),S=[],C=[],T=[],L=[],k=t.y-e.y<t.z-e.z?parseFloat((t.y-e.y)/2):parseFloat((t.z-e.z)/2),P=t.x-e.x<t.z-e.z?parseFloat((t.x-e.x)/2):parseFloat((t.z-e.z)/2),j=parseFloat((e.x+t.x)/2),D=parseFloat((e.y+t.y)/2);switch(o=o.toLowerCase()){case"bar":case"stackingbar":case"stackingbar100":for(v++;v--;)g=parseFloat(D+k*Math.cos(b*x*y)),_=parseFloat(w+k*Math.sin(b*x*y)),C[b]={Y:g,Z:_},T.push(i.vector3D(e.x,C[b].Y,C[b].Z)),L.push(i.vector3D(t.x,C[b].Y,C[b].Z)),b>0&&(f=[i.vector3D(e.x,C[b-1].Y,C[b-1].Z),i.vector3D(t.x,C[b-1].Y,C[b-1].Z),i.vector3D(t.x,C[b].Y,C[b].Z),i.vector3D(e.x,C[b].Y,C[b].Z)],S[b+1]=this.polygon3D(f,s,a,l,0,h,l,"_"+(b+1).toString()+"_"+u,p),r.addVisual(S[b+1])),b++;break;case"column":case"stackingcolumn":case"stackingcolumn100":for(v++;v--;)m=parseFloat(j+P*Math.cos(b*x*y)),_=parseFloat(w+P*Math.sin(b*x*y)),C[b]={X:m,Z:_},T.push(i.vector3D(C[b].X,e.y,C[b].Z)),L.push(i.vector3D(C[b].X,t.y,C[b].Z)),b>0&&(f=[i.vector3D(C[b-1].X,e.y,C[b-1].Z),i.vector3D(C[b-1].X,t.y,C[b-1].Z),i.vector3D(C[b].X,t.y,C[b].Z),i.vector3D(C[b].X,e.y,C[b].Z)],S[b+1]=this.polygon3D(f,s,a,l,0,h,l,"_"+(b+1).toString()+"_"+u,p),r.addVisual(S[b+1])),b++}return S[0]=this.polygon3D(L,s,a,n,0,h,l,"_0_"+u,p),S[1]=this.polygon3D(T,s,a,n,d,h,l,"_1_"+u,p),r.addVisual(S[0]),r.addVisual(S[1]),S},createBox:function(e,t,s,a,o,n,l,d,h,c,u,p){var m=[],g=[i.vector3D(e.x,e.y,e.z),i.vector3D(t.x,e.y,e.z),i.vector3D(t.x,t.y,e.z),i.vector3D(e.x,t.y,e.z)],_=[i.vector3D(e.x,e.y,t.z),i.vector3D(t.x,e.y,t.z),i.vector3D(t.x,t.y,t.z),i.vector3D(e.x,t.y,t.z)],f=[i.vector3D(e.x,e.y,t.z),i.vector3D(t.x,e.y,t.z),i.vector3D(t.x,e.y,e.z),i.vector3D(e.x,e.y,e.z)],b=[i.vector3D(e.x,t.y,t.z),i.vector3D(t.x,t.y,t.z),i.vector3D(t.x,t.y,e.z),i.vector3D(e.x,t.y,e.z)],v=[i.vector3D(e.x,e.y,e.z),i.vector3D(e.x,e.y,t.z),i.vector3D(e.x,t.y,t.z),i.vector3D(e.x,t.y,e.z)],x=[i.vector3D(t.x,e.y,e.z),i.vector3D(t.x,e.y,t.z),i.vector3D(t.x,t.y,t.z),i.vector3D(t.x,t.y,e.z)];return arguments[10]?(m[0]=this.polygon3D(g,s,a,n,d,h,l,"_0_"+u,p),m[1]=this.polygon3D(_,s,a,n,d,h,l,"_1_"+u,p),m[2]=this.polygon3D(f,s,a,n,d,h,l,"_2_"+u,p),m[3]=this.polygon3D(b,s,a,n,d,h,l,"_3_"+u,p),m[4]=this.polygon3D(v,s,a,n,d,h,l,"_4_"+u,p),m[5]=this.polygon3D(x,s,a,n,d,h,l,"_5_"+u,p)):(m[0]=this.polygon3D(g,s,a,n,d,h,l,"_0_"+a,p=arguments[arguments.length-1]),m[1]=this.polygon3D(_,s,a,n,d,h,l,"_1_"+a,p),m[2]=this.polygon3D(f,s,a,n,d,h,l,"_2_"+a,p),m[3]=this.polygon3D(b,s,a,n,d,h,l,"_3_"+a,p),m[4]=this.polygon3D(v,s,a,n,d,h,l,"_4_"+a,p),m[5]=this.polygon3D(x,s,a,n,d,h,l,"_5_"+a,p)),c?(r.addVisual(m[0]),r.addVisual(m[1]),r.addVisual(m[2]),r.addVisual(m[3]),r.addVisual(m[4]),r.addVisual(m[5])):(r.addVisual(m[5]),r.addVisual(m[4]),r.addVisual(m[0]),r.addVisual(m[1]),r.addVisual(m[2]),r.addVisual(m[3])),m},calcNormal:function(){var e,t;if(arguments.length>=3){var s=arguments[0],a=arguments[1],o=arguments[2],r=i.vector3DMinus(s,a),n=i.vector3DMinus(o,a),l=i.vector3DMultiply(r,n),d=i.getLength(l);d<this.epsilon&&(d=1),this.normal=i.vector3D(l.x/d,l.y/d,l.z/d),this.d=-(this.normal.x*s.x+this.normal.y*s.y+this.normal.z*s.z),arguments[3]&&(arguments[3].normal=this.normal,arguments.d=this.d)}else for(this.calcNormal((e=arguments[0])[0],e[1],e[2],arguments[1]),t=3;t<e.length&&this.test();t++)this.calcNormal(e[t],e[0],e[t/2])},test:function(){return!i.isValid(this.normal)},transform:function(e,t){var a,o;if(null!=t.Points){for(a=0;a<t.Points.length;a++)t.VectorPoints[a]=t.Points[a]=s.getMatrixVectorMutiple(e,t.Points[a]);this.calcNormal(t.VectorPoints,t)}else o=e*t.normal*-t.d,t.normal=s.getMatrixVectorAnd(e,t.normal),i.normalize(),t.d=-(t.normal&o)},getPoint:function(e,t,s,a){if("number"==typeof e)return i.vector3D(e,t,-(s.x*e+s.y*t+a)/s.z);var o=e,r=t,n=i.vector3DMinus(i.vector3DStarMultiply(s,-a),o),l=i.vector3dAND(n,s)/i.vector3dAND(s,r);return i.vector3DPlus(o,i.vector3DStarMultiply(r*l))},getNormal:function(e,t){var a,o;if(null!=t)for(a=i.getNormal(s.getMatrixVectorMutiple(e,t[0]),s.getMatrixVectorMutiple(e,t[1]),s.getMatrixVectorMutiple(e,t[2])),o=3;o<t.length&&!i.isValid(a)&&t[o/2];o++){var r=s.getMatrixVectorMutiple(e,t[o]),n=s.getMatrixVectorMutiple(e,t[0]),l=s.getMatrixVectorMutiple(e,t[o/2]);a=i.getNormal(r,n,l)}else a=s.getMatrixVectorAnd(e),i.normalize();return a},createTextElement:function(e,t,i,s){var a=[],o=e.x,r=e.y,n=t.Width,l=t.Height;return a[0]=this.vector.vector3D(o,r,e.z),a[1]=this.vector.vector3D(o+n,r+l+s,e.z),a[2]=this.vector.vector3D(o+n+i,r+l+s,e.z),this.text3D(t,a)},redraw:function(){},drawPolyLine:function(e,t){var i,s,a,o,r=ej.Ej3DRender.transform,n=ej.EjSvgRender.utils._getStringBuilder(),l=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[0],r);for(n.append("M "+l.x+" "+l.y+" "),i=0;i<e.VectorPoints.length;i++)s=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[i],r),n.append("L "+s.x+" "+s.y+" ");a=n.toString(),(o={id:e.element.id,"stroke-dasharray":e.element.dashArray,"stroke-width":e.element.width,stroke:e.element.stroke,d:a}).id=o.id.replace(/[^a-zA-Z0-9]/g,""),t.svgRenderer.drawPath(o,e.element.child)},drawLine:function(e,t){var i=ej.Ej3DRender.transform;if(null!=i){var s=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[0],i),a=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[2],i),o={id:e.element.id,x1:s.x,y1:s.y,x2:a.x,y2:a.y,"stroke-dasharray":e.element.dashArray,"stroke-width":e.element.width,stroke:e.element.stroke,opacity:e.element.opacity};o.id=o.id.replace(/[^a-zA-Z0-9]/g,""),t.svgRenderer.drawLine(o,e.element.child)}},drawTemplate:function(e,t){var i,s=e.element,a=ej.Ej3DRender.transform;null!=a&&(i=ej.EjSvgRender.chartTransform3D.toScreen(e.VectorPoints[0],a),ej.EjSeriesRender.prototype.drawLabelTemplate(s.Label.series,s.Label.series.points[s.Label.pointIndex],s.Label.pointIndex,{X:i.x,Y:i.y},t))},drawText:function(t,i){var s,a=t.element,o=ej.Ej3DRender.transform;if(null!=o){var r=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[0],o),n=r.x,l=r.y;if("text"==a.tag)i.svgRenderer.drawText({id:a.id,x:n,y:l,fill:a.font.color,"font-size":a.font.size,"font-family":a.font.fontFamily,"font-style":a.font.fontStyle,"font-weight":a.font.fontWeight,opacity:a.font.opacity,"text-anchor":a.TextAnchor,cursor:"default",transform:a.Angle?"rotate("+a.Angle+","+n+","+l+")":null},t.element.Label.Text,t.element.child,t.element.font);else{var d,h=a.series,c=h.yAxis&&h.yAxis.labelFormat?h.yAxis.labelFormat:"",u=a.point.text?a.point.text:a.point.y+c.substring(c.indexOf("}")+1),p=ej.EjSvgRender.utils._measureText(u,null,h.marker.dataLabel.font),m=h.marker.dataLabel.margin,g=p.width+m.left+m.right,_=p.height+m.top+m.bottom,f={X:r.x,Y:r.y};s=h.marker.dataLabel.shape||h.marker.dataLabel.shape?h.marker.dataLabel.shape:"None",e.each(i.model.symbolShape,(function(e){s.toLowerCase()==e.toLowerCase()&&(d=e)}));var b=f.X-m.left/2+m.right/2,v=f.Y-m.top/2-_/m.top+m.bottom/2,x=e.inArray(h,i.model.series);ej.EjSeriesRender.prototype.dataLabelSymbol(x,h,a.pointIndex,b,v,g,_,d,i)}}},draw:function(t,s){var a,o,r,n;if(null!=t.VectorPoints&&!(t.VectorPoints.length<=0)){var l=ej.Ej3DRender.transform,d=ej.EjSvgRender.utils._getStringBuilder(),h=t.Fill;if(s.svgRenderer.checkColorFormat(h)||(h=s.colorNameToHex(h)),a={Segments:null,StartPoint:null},null!=l)for(a.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[0],l),d.append("M "+a.StartPoint.x+" "+a.StartPoint.y+" "),o=0;o<t.VectorPoints.length;o++)r=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[o],l),d.append("L "+r.x+" "+r.y+" ");var c=d.toString(),u="Light",p=2*(Math.abs(i.vector3dAND(t.normal,i.vector3D(0,0,1)))-1),m=2*(Math.abs(i.vector3dAND(t.normal,i.vector3D(0,1,0)))-1);p==2*(Math.abs(i.vector3dAND(t.normal,i.vector3D(1,0,0)))-1)?(u="ZLight",h=this.applyZLight(h,s)):m==p||0!=p&&m<p?(u="XLight",h=this.applyXLight(h,s)):p<0?(u="ZLight",h=this.applyZLight(h,s)):(u="Light",h=h),"none"==s.model.AreaType&&(t.StrokeThickness=0),s.svgRenderer.drawPath(n={id:s.svgObject.id+"_"+t.Name,name:u,fill:h,stroke:t.Stroke,"stroke-width":t.StrokeThickness,opacity:t.Opacity,d:c},t.Element.Parent),s.model.previousID&&s.model.touchCross&&e("#"+n.id).insertAfter(e("#"+s.model.previousID)),s.model.previousID=n.id}},applyXLight:function(e,t){var i=t.svgRenderer.hexToRGB(e);return i.R=parseInt(.7*i.R),i.G=parseInt(.7*i.G),i.B=parseInt(.7*i.B),t.svgRenderer.hexFromRGB(i)},applyZLight:function(e,t){var i=t.svgRenderer.hexToRGB(e);return i.R=parseInt(.9*i.R),i.G=parseInt(.9*i.G),i.B=parseInt(.9*i.B),t.svgRenderer.hexFromRGB(i)},update:function(t,i,s){var a,o,r,n;if(null!=i.VectorPoints&&!(i.VectorPoints.length<=0)){i.VectorPoints=t;var l=ej.Ej3DRender.transform,d=ej.EjSvgRender.utils._getStringBuilder(),h={Segments:null,StartPoint:null};if(null!=l)for(h.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[0],l),d.append("M "+h.StartPoint.x+" "+h.StartPoint.y+" "),a=0;a<i.VectorPoints.length;a++)o=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[a],l),d.append("L "+o.x+" "+o.y+" ");r=d.toString(),e(s.chartObj.chart3D).find("#"+s.chartObj.svgObject.id+"_"+i.Name).length>0&&(n=e(s.chartObj.chart3D).find("#"+s.chartObj.svgObject.id+"_"+i.Name)[0],s.chartObj.svgRenderer._setAttr(e(n),{d:r}))}}};var t,i=new((t=new ej.Ej3DRender).vector3D),s=new t.matrix3D,a=new t.BSPTreeBuilder,o=new t.polygon3D,r=new t.Graphics3D}(jQuery),ej.Ej3DAxisRenderer=function(){},ej.Ej3DSeriesRender=function(){},ej.Ej3DChart=function(){},ej.series3DTypes={},n=jQuery,ej.Ej3DAxisRenderer.prototype={_drawAxes:function(e,t,i){t.majorGridLines.visible&&this._drawGridLines3D(t,i),t.visible&&t.majorTickLines.visible&&this._renderTicks3D(t,t.majorTickLines.size,t.majorTickLines.width,i),t.visible&&(this._drawAxisLabel(t,i),this._drawMultiLevelLabel(e,t,i),this._drawAxisTitle(t))},_drawAxisTitle:function(e){var t,i,s,a,o;if(e.title.visible){t=e.title.font,this.gAxisTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"axisTitle_"+e.name});var r=e._opposed,l={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},d=ej.EjSvgRender.chartTransform3D.transform3D(l);d.mViewport=l,d.Rotation=0,d.Tilt=0,d.Depth=100,d.PerspectiveAngle=90,ej.EjSvgRender.chartTransform3D.transform(d);var h,c,u=ej.EjSvgRender.chartTransform3D.result,p=ej.Ej3DRender.prototype.matrix3D.prototype,m=e.orientation.toLowerCase(),g=!1;for(i=0;i<this.model._axes.length;i++)if((h=this.model._axes[i]).orientation.toLowerCase()==m)for(s=0;s<h.multiLevelLabels.length;s++)if(h.multiLevelLabels[s].visible){g=!0;break}if("horizontal"==m){var _=this.model.elementSpacing+e._LableMaxWidth.height,f=ej.EjSvgRender.utils._measureText(e.title.text,e.width,e.title.font).height/2;(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Text:e.title.text,location:{x:e.width/2,y:_+f+e.majorTickLines.size+e.axisLine.width+this.model.wallSize+e._multiLevelLabelHeight},axes:e},this._trigger("axesTitleRendering",b),x=b.data.location.x+e.x,y=r?e.y-b.data.location.y:b.data.location.y+e.y,c={Width:f.width,Height:f.height,Label:b.data,TextAnchor:"middle",tag:"text",font:t=e.title.font,id:this.svgObject.id+"axisTitle",child:this.chart3D},g?(a={id:this.svgObject.id+"axisTitle",x:x,y:y,fill:t.color,"font-size":t.size,"font-family":t.fontFamily,"font-style":t.fontStyle,"font-weight":t.fontWeight,opacity:t.opacity,"text-anchor":"middle"},o=ej.EjSvgRender.chartTransform3D.toScreen({x:x,y:y,z:0},d,u,p),a.x=o.x,a.y=o.y,this.svgRenderer.drawText(a,b.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(x,y,0),c,10,10))}else{var b,v=ej.EjSvgRender.utils._measureText(e.title.text,e.height,e.title.font),x=r?e.x+(4*this.model.elementSpacing+e._LableMaxWidth.width+e.majorTickLines.size+e.axisLine.width+this.model.wallSize+e._multiLevelLabelHeight):e.x-(3*this.model.elementSpacing+e._LableMaxWidth.width+e.majorTickLines.size+e.axisLine.width+this.model.wallSize+e._multiLevelLabelHeight);(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Text:e.title.text,location:{x:v.width/2,y:0},axes:e},this._trigger("axesTitleRendering",b);var y=b.data.location.y+(e.y+e.height)+e.height/-2,w=r?25:-25;c={Width:v.width,Height:v.height,Angle:-90,Label:b.data,TextAnchor:"middle",tag:"text",font:t=e.title.font,id:this.svgObject.id+"_YAxisTitle",child:this.chart3D},g?(a={id:void 0,x:x,y:y,fill:t.color,"font-size":t.size,"font-family":t.fontFamily,"font-style":t.fontStyle,"font-weight":t.fontWeight,opacity:t.opacity,"text-anchor":"middle",transform:"rotate(-90,"+x+","+(r?y+10:y-10)+")"},o=ej.EjSvgRender.chartTransform3D.toScreen({x:x,y:y,z:0},d,u,p),a.x=o.x+w,a.y=o.y,this.svgRenderer.drawText(a,b.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(x,y,0),c,10,10))}}},_drawMultiLevelLabel:function(e,t,i){var s,a,o,r,l,d;this.gMultiLevelEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_axisMultiLevelLabels_"+e});var h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,F,B,z=t.multiLevelLabels.length,Y=this.model,X=Y.elementSpacing,H=10,W=0,U=0,$=Y.m_AreaBounds,G=t.visibleRange,q=Y.wallSize,Z=t._opposed,Q=i.axes[t.name]._validCross,K=t.orientation.toLowerCase(),J=Q?t.y:$.Y+(!Z&&$.Height),ee=Q?t.x:$.X+(Z&&$.Width),te=[],ie={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},se=ej.EjSvgRender.chartTransform3D.transform3D(ie);for(se.mViewport=ie,se.Rotation=0,se.Tilt=0,se.Depth=100,se.PerspectiveAngle=Y.perspectiveAngle,ej.EjSvgRender.chartTransform3D.transform(se),s=ej.EjSvgRender.chartTransform3D.result,a=ej.Ej3DRender.prototype.matrix3D.prototype,h=0;h<z;h++)if(m=this.svgObject.id+"_"+t.name+"MultiLevelLabels_"+e+"_"+h,""!=(p=t.multiLevelLabels[h]).text&&p.visible){if(y=p._level,w="middle",g=p.font,B=p.border.width,P=p.maximumTextWidth,E=p.textAlignment.toLowerCase(),k=L=p.text,v=p.textOverflow.toLowerCase(),I=ej.EjSvgRender.utils._measureText(p.text,$.Width,p.font),_=(p.start+(p.end-p.start)/2-G.min)/G.delta,f=(p.start-G.min)/G.delta,b=(p.end-G.min)/G.delta,t.isInversed&&(_=isNaN(_)?0:1-_,f=isNaN(f)?0:1-f,b=isNaN(b)?0:1-b),"horizontal"==K?(W=Math.round(t.width*_)+$.X+t.plotOffset,U=Z?J-q-t.majorTickLines.size-X-5-t._LableMaxWidth.height:J+q+t.majorTickLines.size+X+t._LableMaxWidth.height,f=Math.round(t.width*f)+$.X+t.plotOffset,b=Math.round(t.width*b)+$.X+t.plotOffset,u=P||b-f-H):(U=Math.round(t.plotOffset+t.y+t.height*(1-_)),W=Z?t.x+q+t.majorTickLines.size+t.axisLine.width+X/2+t._LableMaxWidth.width+t.prevHeight[y]+t.multiLevelLabelHeight[y]/2:ee-q-t.majorTickLines.size-X/2-t._LableMaxWidth.width-t.prevHeight[y]-t.multiLevelLabelHeight[y]/2,f=Math.round(t.plotOffset+t.y+t.height*(1-f)),b=Math.round(t.plotOffset+t.y+t.height*(1-b)),u=P||t.multiLevelLabelHeight[y]+H),"horizontal"==K&&(U=Z?U-t.prevHeight[y]:U+t.prevHeight[y]),"far"==E?(W=W+u/2-B/2,w="end"):"near"==E&&(w="start",W=W-u/2+B/2),L=k=(o=ej.EjAxisRenderer.prototype._triggerMultiLevelLabelsRendering(k,W,U,v,g,p.border,this)).text,W=o.location.x,U=o.location.y,v=o.textOverflow.toLowerCase(),(g=o.font).color=g.color?g.color:t.multiLevelLabelsFontColor,x=o.border.type.toLowerCase(),B=o.border.width,V={id:m,x:W,y:U,fill:g.color,"font-size":g.size,"font-family":g.fontFamily,"font-style":g.fontStyle,"font-weight":g.fontWeight,opacity:g.opacity,"text-anchor":w},"none"!=v&&(L=ej.EjAxisRenderer.prototype.textOverflowMultiLevelLabels(t,u,L,k,v,g,I,{x:W,y:U},null,this)),"wrap"==v||"wrapandtrim"==v)for(r=U,c=0;c<L.length;c++)I=ej.EjSvgRender.utils._measureText(L[c],null,g),0!=c&&(r=Z?r-I.height:r+I.height),V.id=V.id+"_"+c,N=ej.EjSvgRender.chartTransform3D.toScreen({x:W,y:r+5,z:0},se,s,a),V.x=N.x,V.y=N.y,this.svgRenderer.drawText(V,L[c],this.gMultiLevelEle);if(W="horizontal"==K?W:Z?W+H:W-H,"wrap"!=v&&"wrapandtrim"!=v&&(N=ej.EjSvgRender.chartTransform3D.toScreen({x:W,y:U+5,z:0},se,s,a),V.x=N.x,V.y=N.y,this.svgRenderer.drawText(V,L,this.gMultiLevelEle)),this.model.multiLevelLabelRegions.push("horizontal"==K?{bounds:{x:f,y:U-H,height:t.multiLevelLabelHeight[y],width:u},axisIndex:e,multiLevelLabel:p}:{bounds:{x:W-j/2-5,y:b,height:f-b,width:j},axisIndex:e,multiLevelLabel:p}),"none"!=x&&B>0){for(m=this.svgObject.id+"_"+t.name+"MultiLevelLabelsBorder_"+e+"_"+h,l=U-H+t.multiLevelLabelHeight[y]+5,d=p.border.color?p.border.color:t.multiLevelLabelsColor,"horizontal"==K?(S={x1:f,y1:U-H,x2:b,y2:U-H},C={x1:f,y1:l,x2:b,y2:l},T={x1:f,y1:U-H,x2:f,y2:l},O={x1:b,y1:U-H,x2:b,y2:l}):(S={x1:W-(j=t.multiLevelLabelHeight[y]-5)/2-5,y1:b,x2:W+j/2+5,y2:b},C={x1:W-j/2-5,y1:f,x2:W+j/2+5,y2:f},T={x1:W-j/2-5,y1:b,x2:W-j/2-5,y2:f},O={x1:W+j/2+5,y1:b,x2:W+j/2+5,y2:f}),F=0;F<4;F++){switch(F){case 0:D=m+"_top",A=S;break;case 1:D=m+"_bottom",A=C;break;case 2:D=m+"_left",A=T;break;case 3:D=m+"_right",A=O}te[0]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(A.x1,A.y1,0),te[1]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(A.x2,A.y2,0),R=ej.EjSvgRender.chartTransform3D.toScreen(te[0],se,s,a),M=ej.EjSvgRender.chartTransform3D.toScreen(te[1],se,s,a),this.svgRenderer.drawLine(V={id:D,x1:R.x,y1:R.y,x2:M.x,y2:M.y,stroke:d,"stroke-width":B},this.gMultiLevelEle)}this.svgRenderer.append(this.gMultiLevelEle,this.svgObject)}}},_textTrim:function(e,t,i){var s,a,o=t.length;if(!(ej.EjSvgRender.utils._measureText(t,this.model.m_AreaBounds.Width,i).width>e))return t;for(a=o-1;a>=0;--a)if(s=t.substring(0,a)+"...",ej.EjSvgRender.utils._measureText(s,this.model.m_AreaBounds.Width,i).width<=e)return s},_textWrap:function(e,t,i){for(var s=t.toString().split(" "),a="",o=[],r=s.length,n="",l=0;l<r;l++)n=s[l],ej.EjSvgRender.utils._measureText(a.concat(n),this.model.m_AreaBounds.Width,i).width<e?a=a.concat((""===a?"":" ")+n):""!==a?(o.push(this._textTrim(e,a,i)),a=n):(o.push(this._textTrim(e,n,i)),n=""),a&&l===r-1&&o.push(this._textTrim(e,a,i));return o},_textWrapByLength:function(e,t,i){var s,a,o=0,r=[],n="";for(s=(t=t.toString()).length,a=0;a<=s;a++)n=0==o?t.slice(o,a):"-"+t.slice(o,a),ej.EjSvgRender.utils._measureText(n,this.model.m_AreaBounds.Width,i).width>e-5?(r.push(n),o=a++):a===s&&r.push(n);return r},_multipleRows:function(e,t,i,s){for(var a,o,r=[],n=e-1;n>=0;n--)a=s.visibleLabels[n],o=ej.EjSvgRender.utils._measureText(a.Text,this.model.m_AreaBounds.Width,s.font),t<ej.EjSvgRender.utils._valueToCoefficient(s,n)*s.width+s.x+o.width/2?(a.index=a.index?a.index:0,r.push(a.index),i.index=i.index>a.index?i.index:a.index+1):i.index=r.indexOf(a.index)>-1?i.index:a.index},_drawAxisLabel:function(e,t){for(var i,s,a,o,r,n,l=[],d=null,h=e.visibleLabels.length,c=this.model.m_AreaBounds,u=e._opposed,p=t.axes[e.name]._validCross,m=p?e.y:c.Y+(!u&&c.Height),g=p?e.x:c.X+(u&&c.Width),_=0;_<h;_++)if(!ej.util.isNullOrUndefined(e.visibleLabels[_].Text)){var f,b,v=0,x=0;if(e.visibleLabels[_].originalText=e.visibleLabels[_].Text,s=ej.EjSvgRender.utils._measureText(e.visibleLabels[_].Text,this.model.m_AreaBounds.Width,e.font),a=(e.visibleLabels[_].Value-e.visibleRange.min)/e.visibleRange.delta,a=e.isInversed?1-a:a,a=isNaN(a)?0:a,"horizontal"==e.orientation.toLowerCase()?(v=Math.round(e.width*a)+this.model.m_AreaBounds.X+e.plotOffset,x=u?m-this.model.wallSize-e.majorTickLines.size-this.model.elementSpacing/2:m+this.model.wallSize+e.majorTickLines.size+this.model.elementSpacing,i="middle"):(x=Math.round(e.plotOffset+e.y+s.height/4+e.height*(1-a)),v=u?e.x+e.majorTickLines.size+e.axisLine.width+this.model.elementSpacing/2:g-this.model.wallSize-e.majorTickLines.size-this.model.elementSpacing/2,i=u?"start":"end"),l.push({x:v,y:x,size:s}),o=e.width/e.visibleLabels.length-5,((r=l[_]).x-r.size.width/2<e.x&&0===_||r.x+r.size.width/2>e.x+e.width&&_===e.visibleLabels.length-1)&&"trim"!=e.labelIntersectAction&&e.labelIntersectAction.indexOf("wrap")<0){if("hide"===e.edgeLabelPlacement)continue;"shift"===e.edgeLabelPlacement&&(0==_?r.x=v=e.x+r.size.width/2:_==e.visibleLabels.length-1&&(r.x=v=e.x+e.width-r.size.width/2))}if("horizontal"==e.orientation.toLowerCase())if(e.labelRotation)d=e.labelRotation,x+=ej.EjSvgRender.utils.rotatedLabel(e,this,e.labelRotation,e.visibleLabels[_].Text,!0).height/2;else if("trim"==e.labelIntersectAction)e.visibleLabels[_].Text=this._textTrim(o,e.visibleLabels[_].Text,e.font);else if("wrapByWord"==e.labelIntersectAction)e.visibleLabels[_].Text=this._textWrap(o,e.visibleLabels[_].Text,e.font);else if("wrap"==e.labelIntersectAction)e.visibleLabels[_].Text=this._textWrapByLength(o,e.visibleLabels[_].Text,e.font);else if("rotate45"==e.labelIntersectAction||"rotate90"==e.labelIntersectAction)d=e.labelIntersectAction.indexOf("45")>-1?45:90,x+=ej.EjSvgRender.utils.rotatedLabel(e,this,d,e.visibleLabels[_].Text,!0).height/2;else if("multipleRows"===e.labelIntersectAction)f=r.x,this._multipleRows(_,f-=s.width/2,e.visibleLabels[_],e),x=e.visibleLabels[_].index?x+e.visibleLabels[_].index*(s.height+5):x;else if("hide"===e.labelIntersectAction){if(b=b||0,0!=_&&l[b].x+l[b].size.width/2>=l[_].x-l[_].size.width/2)continue;b=_}n={Width:s.width,Height:s.height,Label:e.visibleLabels[_],TextAnchor:i,tag:"text",font:e.font,id:this.svgObject.id+e.orientation+_,child:this.chart3D,Angle:d},this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(v,x,0),n,10,10))}},_renderTicks3D:function(e,t,i,s){for(var a,o,r,n,l=e.visibleLabels.length,d=this.model.m_AreaBounds,h=0;h<l;h++){var c=0,u=0,p=0,m=0,g=(e.visibleLabels[h].Value-e.visibleRange.min)/e.visibleRange.delta;if(g=e.isInversed?1-g:g,g=isNaN(g)?0:g,"horizontal"==e.orientation.toLowerCase()?u=c=Math.round(e.width*g)+d.X+e.plotOffset:p=m=Math.round(e.plotOffset+e.height*(1-g)+e.y),o=this._calculatePosition3D(e,e.tickLinesPosition,t,i,c,p,u,m,s),(r={width:e.majorTickLines.width,stroke:e.majorTickLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_majorTickLines_"+h,this.graphics.addVisual(this.polygon.createLine(r,o.X1,o.Y1,o.X2,o.Y2,0)),e.minorGridLines.visible&&e.minorTicksPerInterval>0&&h<l-1)for(n=e.visibleRange.interval/(e.minorTicksPerInterval+1),a=0;a<e.minorTicksPerInterval;a++)g=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[h].Value+n*(a+1)),g=isNaN(g)?0:g,"horizontal"==e.orientation.toLowerCase()?c=u=Math.round(e.plotOffset+d.Width*g+d.X):p=m=Math.round(e.plotOffset+d.Height*(1-g))+e.y,o=this._calculatePosition3D(e,e.tickLinesPosition,t,i,c,p,u,m,s),(r={width:e.minorTickLines.width,stroke:e.minorTickLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_minorTickLines_"+h+a,this.graphics.addVisual(this.polygon.createLine(r,o.X1,o.Y1,o.X2,o.Y2,0))}},_calculatePosition3D:function(e,t,i,s,a,o,r,n,l){var d,h,c=e._opposed,u=this.model.m_AreaBounds,p=l.axes[e.name]._validCross,m=p?e.y:u.Y+(!c&&u.Height),g=p?e.x:u.X+(c&&u.Width);return"horizontal"==e.orientation.toLowerCase()?(o=0,n=c?i:o+i,d=e.x,o+=h=c?m-this.model.wallSize-i:m+this.model.wallSize-i/2,n+=h,a=r=a):(a=0,r=c?a+i:i,h=this.model.m_AreaBounds.Y,a+=d=c?g+this.model.wallSize:g-this.model.wallSize-i,r+=d,o=n=o),{X1:a,Y1:o,X2:r,Y2:n}},_drawGridLines3D:function(e,t){var i,s,a,o,r,l,d;if(null!=e){var h,c,u,p,m,g=e.visibleLabels.length,_=e._opposed,f=t.axes[e.name]._validCross;if("horizontal"==e.orientation.toLowerCase())for(s=0;s<g;s++){r=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[s].Value),r=isNaN(r)?0:r,u=c=Math.round(e.width*r)+this.model.m_AreaBounds.X+e.plotOffset,p=this.model.m_AreaBounds.Y,m=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;var b,v=this.model.depth>2?this.model.depth-2:1,x=f?e.y:this.model.m_AreaBounds.Y+(!_&&this.model.m_AreaBounds.Height);if((b={opacity:e.majorGridLines.opacity,width:e.majorGridLines.width,stroke:e.majorGridLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_gridlines_"+s,this.graphics.addVisual(this.polygon.createLine(b,c,p,u,m,v)),(i=n.extend({},b)).id=this.svgObject.id+e.name+"_parallelGridlines_"+s,d=this.polygon.createLine(i,u,0,u,-v,x),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),d),this.graphics.addVisual(d),e.minorGridLines.visible&&e.minorTicksPerInterval>0&&s<g-1)for(h=e.visibleRange.interval/(e.minorTicksPerInterval+1),o=0;o<e.minorTicksPerInterval;o++)r=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[s].Value+h*(o+1)),r=isNaN(r)?0:r,u=c=Math.round(this.model.m_AreaBounds.Width*r)+this.model.m_AreaBounds.X,p=this.model.m_AreaBounds.Y,m=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height,(b={opacity:e.minorGridLines.opacity,width:e.minorGridLines.width,stroke:e.minorGridLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_minorgridlines_"+s+o,this.graphics.addVisual(this.polygon.createLine(b,c,p,u,m,v)),(i=n.extend({},b)).id=this.svgObject.id+e.name+"_parallelMinorGridlines_"+s+o,d=this.polygon.createLine(i,u,0,u,-v,x),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),d),this.graphics.addVisual(d)}else for(s=0;s<g;s++)if(r=(e.visibleLabels[s].Value-e.visibleRange.min)/e.visibleRange.delta,r=e.isInversed?1-r:r,r=isNaN(r)?0:r,c=this.model.m_AreaBounds.X,p=Math.round(e.height*(1-r))+.5,u=c+this.model.m_AreaBounds.Width,m=p+=e.y,v=this.model.depth>2?this.model.depth-2:1,(b={opacity:e.majorGridLines.opacity,width:e.majorGridLines.width,stroke:e.majorGridLines.color,axisName:e.name,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_gridlines_"+s,this.graphics.addVisual(this.polygon.createLine(b,c,p,u,m,v)),a=f?e.x:this.model.m_AreaBounds.X+(_&&this.model.m_AreaBounds.Width+1),(l=n.extend({},b)).id=this.svgObject.id+e.name+"_parallelGridlines_"+s,d=this.polygon.createLine(l,-v,m,0,m,a),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),d),this.graphics.addVisual(d),e.minorGridLines.visible&&e.minorTicksPerInterval>0&&s<g-1)for(h=e.visibleRange.interval/(e.minorTicksPerInterval+1),o=0;o<e.minorTicksPerInterval;o++)r=ej.EjSvgRender.utils._valueToCoefficient(e,e.visibleLabels[s].Value+h*(o+1)),r=isNaN(r)?0:r,c=this.model.m_AreaBounds.X,p=Math.round(e.height*(1-r))+.5,u=c+this.model.m_AreaBounds.Width,m=p+=e.y,(b={opacity:e.minorGridLines.opacity,width:e.minorGridLines.width,stroke:e.minorGridLines.color,axisName:e.name,child:this.chart3D,tag:"line"}).id=this.svgObject.id+e.name+"_minorgridlines_"+s+o,this.graphics.addVisual(this.polygon.createLine(b,c,p,u,m,v)),(l=n.extend({},b)).id=this.svgObject.id+e.name+"_parallelMinorGridlines_"+s+o,d=this.polygon.createLine(l,-v,m,0,m,a),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),d),this.graphics.addVisual(d)}}},ej.Ej3DSeriesRender.prototype={_getSegmentDepth:function(e){var t,i,s=this.chartObj.model.depth;if(this.chartObj.model._sideBySideSeriesPlacement)t=a=s/4,i=3*a;else{var a,o=e.all;i=(t=(a=s/(2*o+o+1))+a*(e.position-1)*3)+2*a}return{Start:t,End:i,Delta:i-t}},createSegment:function(e,t,i,s,a,o,r,n,l){return{StartValue:t,EndValue:i,depth:s,radius:a,index:o,YData:r,Center:e,inSideRadius:n,ActualEndValue:i,ActualStartValue:t,pointIndex:l}},calculateSize:function(e,t){var i,s,a,o=e.chartObj.model.legend,r=0,l=0,d=e.chartObj.model.title,h=e.chartObj.model.title.subTitle,c=e.chartObj.model._titleLocation,u=e.chartObj.model._subTitleLocation,p=e.chartObj.model.title.textOverflow,m=e.chartObj.model.title.subTitle.textOverflow,g=!(!(d.text&&d.visible&&d.enableTrim)||"wrap"!=p&&"wrapandtrim"!=p),_=!(!(h.text&&h.visible&&h.enableTrim)||"wrap"!=m&&"wrapandtrim"!=m);return o.visible&&"custom"!=o.position.toLowerCase()&&("right"==o.position.toLowerCase()||"left"==o.position.toLowerCase()?r=("right"==o.position.toLowerCase()?e.chartObj.model.margin.right:e.chartObj.model.margin.left)+e.chartObj.model.LegendViewerBounds.Width:l=("top"==o.position.toLowerCase()?e.chartObj.model.margin.top:e.chartObj.model.margin.bottom)+e.chartObj.model.LegendViewerBounds.Height),t.actualWidth=n(e.chartObj.svgObject).width()-r,i=.5*t.actualWidth+("left"===o.position.toLowerCase()?r:0),g||_?(s=c.size.height+(_?u.size.height:0)+l,t.actualHeight=n(e.chartObj.svgObject).height()-s,a=.5*t.actualHeight+("top"===o.position.toLowerCase()?s:c.size.height+(_?u.size.height:0))):(s=(d.text&&d.visible?c.Y:0)+l,t.actualHeight=n(e.chartObj.svgObject).height()-s,a=.5*t.actualHeight+("top"===o.position.toLowerCase()?s:d.text&&d.visible?c.Y:0)),{centerX:i,centerY:a}},createPoints:function(e,t){var i,s;e.segments=[];var a=this.calculateSize(t,e),o=0,r=this._calculateVisiblePoints(e).visiblePoints,l=e._visiblePoints.length;for(i=0;i<l;i++)o+=r[i].YValues[0];var d,h,c,u,p,m,g=360/(o=0!=o?o:1),_=n.inArray(e,t.chartObj.model._visibleSeries),f=t.chartObj.model.innerRadius[_],b=t.chartObj._getYValues(e._visiblePoints),v=t.chartObj.model.depth,x=0,y=0,w=0,S=0,C=t.chartObj.model.circularRadius[_];for(s=0;s<l;s++)(e._visiblePoints[s].visible||e._visiblePoints[s].gapMode)&&(h=n.inArray(e._visiblePoints[s],e._visiblePoints),c=Math.abs(b[s]),y=Math.abs(c)*(2*Math.PI/o),(u={}).x=0,u.y=0,ej.util.isNullOrUndefined(c)||((e.explodeIndex==e._visiblePoints[s].actualIndex||e.explodeAll)&&((p={X:0,Y:0}).X=Math.cos(2*Math.PI*(w+c/2)/o),p.Y=Math.sin(2*Math.PI*(w+c/2)/o),u.x=.01*C*p.X*e.explodeOffset,u.y=.01*C*p.Y*e.explodeOffset),d=t.chartObj.vector.vector3D(u.x+a.centerX,u.y+a.centerY,0),(m=this.createSegment(d,parseFloat(g*w),parseFloat(g*c),v,C,s,c,f,h,e)).visible=!e._visiblePoints[s].gapMode,e.segments.push(m)),e.marker.dataLabel.visible&&this._addPieDataLabel(S,b[s],x,x+y,s,C,this._isChartRotated(t)?t.chartObj.model.depth+5:0,d,e._visiblePoints[s]),S++,x+=y,w+=c);return e.segments},_addPieDataLabel:function(e,t,i,s,a,o,r,n,l){var d=(i+s)/2;l.symbolLocation={x:0,y:0,radius:0,angle:0,StartDepth:0},l.symbolLocation.x=e,l.symbolLocation.y=t,l.symbolLocation.radius=o,l.symbolLocation.angle=d,l.symbolLocation.center=n,l.startDepth=r},_isChartRotated:function(e){var t=Math.abs(e.chartObj.model.tilt%360),i=Math.abs(e.chartObj.model.rotattion%360);return!!((t>90&&t<270)^(i>90&&i<270))},createSector:function(e,t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_=parseInt(Math.ceil(e.ActualEndValue/6)),f=Math.PI/180,b=0,v=[],x=t.chartObj.model.depth;if(_<1)return null;var y=[],w=e.ActualEndValue/_,S=[],C=[];for(p=0;p<_+1;p++)a=parseFloat(e.Center.x+e.radius*Math.cos((e.ActualStartValue+p*w)*f)),o=parseFloat(e.Center.y+e.radius*Math.sin((e.ActualStartValue+p*w)*f)),S[p]={X:a,Y:o},r=parseFloat(e.Center.x+e.inSideRadius*Math.cos((e.ActualStartValue+p*w)*f)),n=parseFloat(e.Center.y+e.inSideRadius*Math.sin((e.ActualStartValue+p*w)*f)),C[p]={X:r,Y:n},v.push({X:a,Y:o});for(l=[],p=0;p<_;p++)d=[t.chartObj.vector.vector3D(S[p].X,S[p].Y,0),t.chartObj.vector.vector3D(S[p].X,S[p].Y,x),t.chartObj.vector.vector3D(S[p+1].X,S[p+1].Y,x),t.chartObj.vector.vector3D(S[p+1].X,S[p+1].Y,0)],l[p]=t.chartObj.polygon.polygon3D(d,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D),b++;if(y[1]=l,e.inSideRadius>0){for(h=[],p=0;p<_;p++)d=[t.chartObj.vector.vector3D(C[p].X,C[p].Y,0),t.chartObj.vector.vector3D(C[p].X,C[p].Y,x),t.chartObj.vector.vector3D(C[p+1].X,C[p+1].Y,x),t.chartObj.vector.vector3D(C[p+1].X,C[p+1].Y,0)],h[p]=t.chartObj.polygon.polygon3D(d,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D),b++;y[3]=h}for(c=[],u=[],p=0;p<_+1;p++)c.push(t.chartObj.vector.vector3D(S[p].X,S[p].Y,0)),u.push(t.chartObj.vector.vector3D(S[p].X,S[p].Y,x));if(e.inSideRadius>0)for(p=_;p>-1;p--)c.push(t.chartObj.vector.vector3D(C[p].X,C[p].Y,0)),u.push(t.chartObj.vector.vector3D(C[p].X,C[p].Y,x));else c.push(e.Center),u.push(t.chartObj.vector.vector3D(e.Center.x,e.Center.y,x));return y[0]=[],y[0].push(t.chartObj.polygon.polygon3D(c,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,y[0].push(t.chartObj.polygon.polygon3D(u,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,e.inSideRadius>0?(m=[t.chartObj.vector.vector3D(S[0].X,S[0].Y,0),t.chartObj.vector.vector3D(S[0].X,S[0].Y,x),t.chartObj.vector.vector3D(C[0].X,C[0].Y,x),t.chartObj.vector.vector3D(C[0].X,C[0].Y,0)],g=[t.chartObj.vector.vector3D(S[_].X,S[_].Y,0),t.chartObj.vector.vector3D(S[_].X,S[_].Y,x),t.chartObj.vector.vector3D(C[_].X,C[_].Y,x),t.chartObj.vector.vector3D(C[_].X,C[_].Y,0)],y[2]=[],y[2].push(t.chartObj.polygon.polygon3D(m,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,y[2].push(t.chartObj.polygon.polygon3D(g,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++):(m=[t.chartObj.vector.vector3D(S[0].X,S[0].Y,0),t.chartObj.vector.vector3D(S[0].X,S[0].Y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,0)],g=[t.chartObj.vector.vector3D(S[_].X,S[_].Y,0),t.chartObj.vector.vector3D(S[_].X,S[_].Y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,x),t.chartObj.vector.vector3D(e.Center.x,e.Center.y,0)],y[2]=[],y[2].push(t.chartObj.polygon.polygon3D(m,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++,y[2].push(t.chartObj.polygon.polygon3D(g,this,e.index,i.borderColor,i.borderWidth,i.opacity,i.interior,b.toString()+"_Region_Series_"+s+"_Point_"+e.index,t.chartObj.chart3D)),b++),y},createPolygons:function(e,t,i){var s,a,o,r,l,d,h,c,u,p,m=[],g=n.inArray(e,t.chartObj.model._visibleSeries);for(l=(s=e.segments&&i?e.segments:this.createPoints(e,t)).length,h=0;h<l;h++)if((a=s[h]).visible&&(o=t.chartObj.setStyle(t,e,g,r=s[h].pointIndex),"object"==typeof t.chartObj.model.pointColors[r]&&(o.interior=t.chartObj.model.pointColors[r][0].color),null!=(d=this.createSector(a,t,o,g))))for(u=0;u<d.length;u++)if(m[u]||(m[u]=[]),null!=d[u])for(c=0;c<d[u].length;c++)m[u].push(d[u][c]);if(i)return m;for(u=0;u<m.length;u++)for(p=0;p<m[u].length;p++)t.chartObj.graphics.addVisual(m[u][p])},draw3DDataLabel:function(e,t,i){var s,a,o,r,l,d,h=e.marker.dataLabel.connectorLine.height,c=0,u=0;if("number"==typeof e.marker.dataLabel.offset?u=e.marker.dataLabel.offset:(c=e.marker.dataLabel.offset.x,u=e.marker.dataLabel.offset.y),"none"==this.chartObj.model.AreaType){y={x:0,y:0};var p=i.text?i.text:i.y,m=n.inArray(e,this.chartObj.model.series),g=ej.EjSvgRender.utils._measureText(p,null,e.marker.dataLabel.font);if("doughnut"==e.type.toLowerCase()||"pie"==e.type.toLowerCase()){Math.min(e.actualWidth,e.actualHeight);var _=i.symbolLocation.center,f=(c=e.marker.dataLabel.offset.x,u=e.marker.dataLabel.offset.y,i.symbolLocation.radius*e._coefficient);ej.util.isNullOrUndefined(h)&&(h=ej.EjSvgRender.utils._measureText(p,null,e.marker.dataLabel.font).height),null!=e&&"inside"!=e.labelPosition?s=i.symbolLocation.radius+h:null!=e&&(s=f+(i.symbolLocation.radius-f)/2),"inside"!=e.labelPosition?(o=s*Math.cos(i.symbolLocation.angle),r=s*Math.sin(i.symbolLocation.angle),C=y.X=o>0?_.x+o+g.width/2+2:_.x+o-g.width/2-2,S=y.Y=r>0?_.y+r+g.height/2:_.y+r):(C=y.X=_.x+s*Math.cos(i.symbolLocation.angle)+c,S=y.Y=_.y+s*Math.sin(i.symbolLocation.angle)+u),(x=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={text:p,location:{x:C,y:S},series:e,pointIndex:t,seriesIndex:m},this.chartObj._trigger("displayTextRendering",x),x.data.Text=x.data.text,g=ej.EjSvgRender.utils._measureText(x.data.Text,null,e.marker.dataLabel.font),C=y.X=x.data.location.x,S=y.Y=x.data.location.y}}else{var b=e.yAxis.labelFormat?e.yAxis.labelFormat:"";m=n.inArray(e,this.chartObj.model.series),p=i.text?i.text:i.y,b&&(b.indexOf("{value}")>-1?p=b.replace("{value}",i.y):0==b.indexOf("e")||0==b.indexOf("E")?(a=b.match(/(\d+)/g),p=i.y.toExponential(a=null==a?6:a>20?20:a)):p=ej.globalize.format(i.y,b,this.chartObj.model.locale));var v=0,x=n.extend({},ej.EjSvgRender.commonChartEventArgs),y=(g=ej.EjSvgRender.utils._measureText(p,null,e.marker.dataLabel.font),ej.EjSvgRender.utils.Transform3DToVisible(e,i.symbolLocation.x,i.symbolLocation.y,this.chartObj)),w=(h=e.marker.dataLabel.connectorLine.height?e.marker.dataLabel.connectorLine.height:0,4.71),S=y.Y,C=y.X;this.chartObj.model.requireInvertedAxes?(C=i.x>0?y.X-Math.sin(w)*h:y.X+Math.sin(w)*h,v=-g.height/3):S=i.y>0?y.Y+Math.sin(w)*h:y.Y+Math.sin(-w)*h,x.data={text:p,location:{x:C=y.X+c,y:S="bottom"==e.marker.dataLabel.textPosition?y.Y+u:y.Y-u},series:e,pointIndex:t},x.data.Text=x.data.text,this.chartObj._trigger("displayTextRendering",x),C=x.data.location.x,S=x.data.location.y}this._getSegmentDepth(e),"none"==e.marker.dataLabel.shape.toLowerCase()||i.marker.dataLabel.template||""==x.data.Text||(l={tag:"dataLabel",series:e,point:i,pointIndex:t,id:this.chartObj.svgObject.id+m+"_DataLabel"+t,child:this.chartObj.chart3D},this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(C,S,i.symbolLocation.z?i.symbolLocation.z:0),l,0,-g.height))),l={Width:g.width,Height:g.height,Label:x.data,TextAnchor:"middle",tag:i.marker.dataLabel.template?"template":"text",font:e.marker.dataLabel.font,Angle:e.marker.dataLabel.angle,id:this.chartObj.svgObject.id+"_SeriesText"+t+m,child:this.chartObj.chart3D},"none"!=this.chartObj.model.AreaType?(e.marker.dataLabel.connectorLine.height&&e.marker.dataLabel.connectorLine.height>0&&((d=[]).push({x:y.X,y:y.Y+v,z:i.symbolLocation.z}),d.push({x:C,y:S+v,z:i.symbolLocation.z}),this.drawLineSegment(d,t,e)),this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(C,S,i.symbolLocation.z),l,0,-g.height))):("inside"!=e.labelPosition.toLowerCase()&&this.updateConnectorLine(i,t,e,y,h),this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(y.X,y.Y,-1),l,0,-g.height)))},updateConnectorLine:function(e,t,i,s,a){var o,r=[],n=e.symbolLocation,l=n.center.x+Math.cos(n.angle)*n.radius,d=n.center.y+Math.sin(n.angle)*n.radius;r.push({x:l,y:d}),o=n.radius+a,l=n.center.x+Math.cos(n.angle)*o,d=n.center.y+Math.sin(n.angle)*o,r.push({x:l,y:d}),"bezier"==i.marker.dataLabel.connectorLine.type&&(r=this.getBezierApproximation(r,256,i)),this.drawLineSegment(r,t,i)},getBezierApproximation:function(e,t,i){for(var s=[],a=0;a<=t;a++)s.push(this.GetBezierPoint(a/t,e,0,e.length,i));return s},drawLineSegment:function(e,t,i){for(var s=[],a=0;a<e.length;a++)s.push(this.chartObj.vector.vector3D(e[a].x,e[a].y,e[a].z?e[a].z:0));var o=n.inArray(i,this.chartObj.model._visibleSeries);this.chartObj.graphics.addVisual(this.chartObj.polygon.createPolyline(s,{width:i.marker.dataLabel.connectorLine.width,stroke:i.marker.dataLabel.connectorLine.stroke?i.marker.dataLabel.connectorLine.stroke:"none"==this.chartObj.model.AreaType?this.chartObj.model.pointColors[t]:this.chartObj.model.seriesColors[o],child:this.chartObj.chart3D,tag:"polyline",id:this.chartObj.svgObject.id+"_"+o+"_"+t}))}},ej.ejCircularSeries={draw:function(e,t,i){var s,a=n.inArray(e,t.chartObj.model._visibleSeries);if(t._calculateVisiblePoints(e),t.calculateSize(t,e),"pie"==i?(e._size=e.pieCoefficient,e._coefficient=0==a?0:e._size):(e._size=e.doughnutSize,e._coefficient=e.doughnutCoefficient),t.chartObj.model.circularRadius.length>1){for(s=a;s<t.chartObj.model.circularRadius.length;s++)if(!ej.util.isNullOrUndefined(t.chartObj.model.circularRadius[s])){t.chartObj.model.circularRadius[a]=t.chartObj.model.circularRadius[s]*e._size;break}}else t.chartObj.model.circularRadius[a]=.97*Math.min(e.actualWidth/2,e.actualHeight/2)*e._size;t.chartObj.model.innerRadius[a]=e._coefficient*t.chartObj.model.circularRadius[a],t.createPolygons(e,t)},doAnimation:function(e,t){e.count=0,n.each(e.segments,(function(i,s){var a=s.radius,o=s.inSideRadius;e.animate=!0,n(t.chartObj.element).each((function(){s.radius=0,s.inSideRadius=0})).animate({Radius:a,InsideRadius:o},{duration:1e3,queue:!1,step:function(i,a){var o,r,n;for("Radius"===a.prop.toString()?s.radius=i:s.inSideRadius=i,o=t.createPolygons(e,t,!0),r=0;r<o.length;r++)for(n=0;n<o[r].length;n++)t.chartObj.polygon.update(o[r][n].VectorPoints,o[r][n],t)},complete:function(){t.chartObj.model.AnimationComplete=!0;var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:e},t.chartObj._trigger("animationComplete",i)}})}))}},ej.series3DTypes.doughnut=ej.ejCircularSeries,ej.series3DTypes.pie=ej.ejCircularSeries,ej.ej3DStackingColumn={draw:function(e,t,i,s){var a,o=t._isVisiblePoints(e);for(this.createSegments(e,t,s),a=0;a<o.length;a++)o[a].visible&&(e._visiblePoints[a].plans=null,ej.ej3DColumnSeries.update(e,e._visiblePoints[a],a,t))},createSegments:function(e,t,i){var s,a,o,r,n,l=t.chartObj._getXValues(e._visiblePoints);if(null!=l)for(a=t.getSideBySideInfo(e,i),o=t._getSegmentDepth(e),s=a.Delta/2,r=t._isVisiblePoints(e),n=0;n<r.length;n++){var d=l[n]+a.Start,h=e.stackedValue.StartValues[n],c=e.stackedValue.EndValues[n];if(ej.ej3DColumnSeries._setData(d,c,l[n]+a.End,h,o.Start,o.End,t,r[n]),e.marker.dataLabel.visible)switch(r[n].symbolLocation={x:0,y:0,z:0},e.marker.dataLabel.textPosition){case"top":r[n].symbolLocation.x=d+s,r[n].symbolLocation.y=c,r[n].symbolLocation.z=o.Start+o.Delta/2;break;case"bottom":r[n].symbolLocation.x=d+s,r[n].symbolLocation.y=h-.2,r[n].symbolLocation.z=o.Start+(o.End-o.Start)/2;break;default:r[n].symbolLocation.x=d+s,r[n].symbolLocation.y=c+(h-c)/2,r[n].symbolLocation.z=o.Start}}},doAnimation:function(e,t){n.each(e._visiblePoints,(function(i,s){var a=s.Top,o=s.Bottom;n(s).each((function(){s.Top=0,s.Bottom=0})).animate({Top:a,Bottom:o},{duration:1200,queue:!1,step:function(a,o){"Top"===o.prop.toString()&&(s.Top=a),"Bottom"===o.prop.toString()&&(s.Bottom=a),ej.ej3DColumnSeries.update(e,s,i,t)},complete:function(){t.chartObj.model.AnimationComplete=!0;var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:e},t.chartObj._trigger("animationComplete",i)}})}))}},ej.series3DTypes.stackingcolumn=ej.ej3DStackingColumn,ej.series3DTypes.stackingbar=ej.ej3DStackingColumn,ej.series3DTypes.stackingbar100=ej.ej3DStackingColumn,ej.series3DTypes.stackingcolumn100=ej.ej3DStackingColumn,ej.ej3DColumnSeries={draw:function(e,t,i,s){var a,o=t._isVisiblePoints(e);for(this.createSegments(e,t,s),a=0;a<o.length;a++)o[a].visible&&(e._visiblePoints[a].plans=null,this.update(e,e._visiblePoints[a],a,t))},update:function(e,t,i,s){var a,o,r=e.xAxis._valueType.toLowerCase(),l=n.inArray(e,s.chartObj.model._visibleSeries),d="logarithmic"==r?null:1,h="logarithmic"==r,c=h?Math.log(t.Left,d):t.Left,u=h?Math.log(t.Right,d):t.Right,p=e.yAxis.visibleRange.min,m=e.yAxis.visibleRange.max,g=e.xAxis.visibleRange.min,_=e.xAxis.visibleRange.max;if(c>=g&&c<=_||u>=g&&u<=_){a=t.Top<0?t.Top>p?t.Top:p:e.yAxis.valueType&&"logarithmic"==e.yAxis.valueType.toLowerCase()||t.Top<m?t.Top:m;var f=ej.EjSvgRender.utils.Transform3DToVisible(e,t.Left>g?t.Left:g,a,s.chartObj),b=ej.EjSvgRender.utils.Transform3DToVisible(e,_>t.Right?t.Right:_,p>t.Bottom?p:t.Bottom,s.chartObj),v=s.chartObj.vector.vector3D(Math.min(f.X,b.X),Math.min(f.Y,b.Y),t.StartDepth),x=s.chartObj.vector.vector3D(Math.max(f.X,b.X),Math.max(f.Y,b.Y),t.EndDepth),y=s.chartObj.setStyle(s,e,l,i);y.interior.indexOf("url")>=0&&(y.interior=s.chartObj.model.seriesColors[l][0].color),o="Region_Series_"+l+"_Point_"+i,"cylinder"==e.columnFacet?s.chartObj.polygon.createCylinder(v,x,this,i,e.type,y.borderColor,y.interior,y.borderWidth,y.opacity,s.chartObj.model.requireInvertedAxes,o,s.chartObj.chart3D):"rectangle"==e.columnFacet&&s.chartObj.polygon.createBox(v,x,this,i,e.type,y.borderColor,y.interior,y.borderWidth,y.opacity,s.chartObj.model.requireInvertedAxes,o,s.chartObj.chart3D)}},_setData:function(){var e=arguments,t=arguments[arguments.length-1],i=arguments[arguments.length-2];t.Left=e[0],t.Bottom=e[3],t.Top=e[1],t.Right=e[2],t.StartDepth=e[4],t.EndDepth=e[5],t.XRange=i.getDoubleRange(t.Left,t.Right),isNaN(t.Top)||isNaN(t.Bottom)||(t.YRange=i.getDoubleRange(t.Top,t.Bottom))},createSegments:function(e,t,i){var s,a=t.chartObj._getXValues(e._visiblePoints),o=t.chartObj._getYValues(e._visiblePoints);if(null!=a){var r=t.getSideBySideInfo(e,i),n=t._getSegmentDepth(e),l=t.chartObj._getXCrossValue(e,e.xAxis,i),d=r.Delta/2,h=e._visiblePoints;for(s=0;s<h.length;s++){var c=a[s]+r.Start,u=o[s],p=l;if(this._setData(c,u,a[s]+r.End,p,n.Start,n.End,t,h[s]),e.marker.dataLabel.visible)switch(h[s].symbolLocation={x:0,y:0,z:0},e.marker.dataLabel.textPosition){case"top":h[s].symbolLocation.x=c+d,h[s].symbolLocation.y=u,h[s].symbolLocation.z=n.Start;break;case"bottom":h[s].symbolLocation.x=c+d,h[s].symbolLocation.y=p-.2,h[s].symbolLocation.z=n.Start+(n.End-n.Start)/2;break;default:h[s].symbolLocation.x=c+d,h[s].symbolLocation.y=Math.abs(p-u)/2,h[s].symbolLocation.z=n.Start}}}},doAnimation:function(e,t){var i=this;n.each(e._visiblePoints,(function(s,a){var o=a.Top;n(a).each((function(){a.Top=0})).animate({Top:o},{duration:1200,queue:!1,step:function(o,r){"Top"===r.prop.toString()&&(a.Top=o),i.update(e,a,s,t)},complete:function(){t.chartObj.model.AnimationComplete=!0;var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:e},t.chartObj._trigger("animationComplete",i)}})}))}},ej.series3DTypes.column=ej.ej3DColumnSeries,ej.series3DTypes.bar=ej.ej3DColumnSeries,ej.Ej3DChart.prototype={renderSeries:function(e,t,i){var s,a,o,r;ej.Ej3DSeriesRender.prototype.chartObj=e,n.extend(ej.Ej3DSeriesRender.prototype,ej.EjSeriesRender.prototype),s=new ej.Ej3DSeriesRender,(a=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:t},s.chartObj._trigger("seriesRendering",a),o=t.type.toLowerCase(),r=ej.series3DTypes[o],ej.util.isNullOrUndefined(r)||(r.draw(t,s,o,i),t.marker.dataLabel.visible&&n.each(t._visiblePoints,(function(i,a){a.marker=n.extend(!0,{},t.marker,a.marker),a.visible&&(ej.util.isNullOrUndefined(a.marker)||a.marker.dataLabel&&a.marker.dataLabel.visible)&&s.draw3DDataLabel(t,i,a,e)})))},update3DWall:function(e,t){var i,s,a;if("cartesianaxes"==e.model.AreaType)for(n.extend(ej.Ej3DRender.prototype,this),this.updateBackWall(e),i=0;i<e.model._axes.length;i++)a=(s=e.model._axes[i])._opposed,"vertical"==s.orientation.toLowerCase()?a?this.updateRightWall(e,s,t):this.updateLeftWall(e,s,t):a?this.updateTopWall(e,s,t):this.updateBottomWall(e,s,t)},updateTopWall:function(e,t,i){var s,a,o=e.model.m_AreaBounds,r=i.axes[t.name]._validCross?t.y:o.Y;s=e.model.wallSize<r?r-e.model.wallSize:-(e.model.wallSize-r);var n=e.vector.vector3D(o.X+o.Width,-e.model.depth,r-.1),l=e.vector.vector3D(o.X,-.1,s),d=e.polygon.createBox(n,l,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"TopWallBrush",e.chart3D);for(a=0;a<d.length;a++)e.polygon.transform(e.matrixobj.tilt(parseFloat(Math.PI/2)),d[a])},updateRightWall:function(e,t,i){for(var s=i.axes[t.name]._validCross?t.x:e.model.m_AreaBounds.X+e.model.m_AreaBounds.Width,a={left:-e.model.depth,top:e.model.m_AreaBounds.Y,bottom:e.model.m_AreaBounds.Height+e.model.m_AreaBounds.Y,right:0},o=e.vector.vector3D(a.left,a.top,s+1.5),r=e.vector.vector3D(a.right,a.bottom,s+e.model.wallSize),n=e.polygon.createBox(o,r,e,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"RightWallBrush",e.chart3D),l=0;l<n.length;l++)e.polygon.transform(e.matrixobj.turn(parseFloat(-Math.PI/2)),n[l])},updateBackWall:function(e){var t=e.model.m_AreaBounds,i=e.vector.vector3D(t.X,t.Y,0==e.model.depth?1.5:e.model.depth+e.model.wallSize),s=e.vector.vector3D(t.X+t.Width,t.Y+t.Height,0==e.model.depth?1.5:e.model.depth);e.polygon.createBox(i,s,e,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"BackWallBrush",e.chart3D)},updateLeftWall:function(e,t,i){for(var s={left:-e.model.depth,top:e.model.m_AreaBounds.Y,bottom:e.model.m_AreaBounds.Height+e.model.m_AreaBounds.Y,right:0},a=i.axes[t.name]._validCross?t.x:e.model.m_AreaBounds.X,o=e.vector.vector3D(s.left,s.top,a-.1),r=e.vector.vector3D(s.right,s.bottom,a-e.model.wallSize),n=e.polygon.createBox(o,r,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"LeftWallBrush",e.chart3D),l=0;l<n.length;l++)e.polygon.transform(e.matrixobj.turn(parseFloat(-Math.PI/2)),n[l])},updateBottomWall:function(e,t,i){for(var s=e.model.m_AreaBounds,a=i.axes[t.name]._validCross?t.y:s.Y+s.Height,o=e.vector.vector3D(s.X+s.Width,-e.model.depth,e.model.wallSize+a),r=e.vector.vector3D(s.X,-.1,a+1),n=e.polygon.createBox(r,o,this,0,"Graphics3D","#D3D3D3","#D3D3D3",0,.15,!1,"BottomWallBrush",e.chart3D),l=0;l<n.length;l++)e.polygon.transform(e.matrixobj.tilt(parseFloat(Math.PI/2)),n[l])}},ej.EjVmlRender=function(e){var t,i,s=document;this.vmlNamespace="urn:schemas-microsoft-com:vml",this.vmStyle="#default#VML",s.namespaces.add("v","urn:schemas-microsoft-com:vml"),this.isdocmode8=8===s.documentMode,s.getElementById("vml_chart")||(t=this.isdocmode8?"v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ":"v\\:*{ behavior:url(#default#VML); display: inline-block; } ",(i=s.createStyleSheet()).owningElement.id="vml_chart",i.cssText=t),this._rootId=jQuery(e).attr("id"),this.svgObj=s.createElement("div"),this.svgObj.style.position="relative",this.svgObj.setAttribute("id",this._rootId+"_vml"),this.changeOptions={id:"id",fill:"fillcolor",stroke:"strokecolor","stroke-width":"strokeweight",d:"path","font-size":"font-size","font-family":"font-family","font-style":"font-style","font-weight":"font-weight",points:"points"}},function(e){ej.EjVmlRender.prototype={drawPath:function(t,i){var s,a,o,r,n=t.d.split(" ");-1!=e.inArray("A",n)&&(s=parseFloat(n[4]),a=parseFloat(n[5]),t.d=this.drawArc(s,a,t)),e("#"+t.id).length>0?(t.d=this.changePathValue(t.d),this.applyVMLStyle(e("#"+t.id),t)):(t.d=this.changePathValue(t.d),o=document.createElement("v:shape"),r=e(o),this.applyVMLStyle(r,t),r.appendTo(i))},createLegendSvg:function(e){var t=document;return this._rootId=jQuery(e).attr("id"),this.legendsvgObj=t.createElement("div"),this.legendsvgObj.style.position="relative",this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_vml"),this.legendsvgObj},drawPolyline:function(t,i){var s,a;t.points.split(" "),e("#"+t.id).length>0?(t.points=this.changePathValue(t.points),this.applyVMLStyle(e("#"+t.id),t)):(t.points=this.changePathValue(t.points),s=document.createElement("v:polyline"),a=e(s),this.applyVMLStyle(a,t),a.appendTo(i))},setFillAttribute:function(t,i){var s,a,o=document.createElement("v:fill"),r=i["fill-opacity"]?i["fill-opacity"]:i.opacity;r=ej.util.isNullOrUndefined(r)?i.opacity?i.opacity:1:r,"none"==(s=i.fill)||ej.util.isNullOrUndefined(s)?"none"==s?(o.setAttribute("type","gradient"),o.setAttribute("color",i.color),o.setAttribute("color2",i.color2),o.setAttribute("colors",i.colors),o.setAttribute("angle",i.angle),r=i.fill_opacity):r=.1:s.match("gradient")?(a=s.replace("gradient",""),o.setAttribute("type","gradient"),o.setAttribute("colors",a)):e(t).attr("fillcolor",s),o.setAttribute("opacity",r),e(o).appendTo(t)},setStrokeAttribute:function(t,i){var s,a;"transparent"==i.stroke&&(i.opacity=.1),i.name&&e(t).attr("name",i.name),(s=i.opacity)&&((a=document.createElement("v:stroke")).setAttribute("opacity",s),e(a).appendTo(t))},changePathValue:function(e){var t,i;if(!e.d){for(t=e.split(" "),i=0;i<t.length;i++)null!=t[i].match(/\d+/g)&&(t[i]=Math.round(parseFloat(t[i])));return t.join(" ")}},drawArc:function(e,t,i){var s,a=i.start,o=i.end,r=(o=Number(Math.PI.toFixed(2))==Number((o+a).toFixed(2))?o-.01:o,i.r||e||t),n=Math.cos(a),l=Math.sin(a),d=Math.cos(o),h=Math.sin(o),c=i.innerR,u=.08/r,p=c&&.1/c||0;return o-a==0?"":(2*Math.PI-o+a<u?d=-u:o-a<p&&(d=Math.cos(a+p)),s=["wa",0-r,0-r,0+r,0+r,0+r*n,0+r*l,0+r*d,0+r*h],i.open&&!c&&s.push("e",void 0,0,0),s.push("at",0-c,0-c,0+c,0+c,0+c*d,0+c*h,0+c*n,0+c*l,"x","e"),s.join(" "))},changeVMLStyle:function(t,i){var s=this,a=i.stroke;t.css("width",i.width).css("visibility",i.visibility).css("height",i.height).css("position","absolute").css("left",i.x).css("top",i.y),e.each(i,(function(e,a){(null!=s.changeOptions[e]||null!=s.changeOptions[e])&&(("d"==e||"points"==e)&&(a=s.changePathValue(i[e]).toLowerCase()),"transparent"!=a||i.fill_opacity||(i[e]=a="white","fill"!=e||i.hasOwnProperty("opacity")&&i.opacity||(i.opacity=.1)),i.fill_opacity&&(i.opacity=i.fill_opacity),"SPAN"===t[0].tagName?"fill"==e?t.css("color",a):"id"==e?t.attr(s.changeOptions[e],a):t.css(s.changeOptions[e],a):s.isdocmode8?t.get(0)[s.changeOptions[e]]=a:t.get(0).setAttribute(s.changeOptions[e],a))})),(i.hasOwnProperty("fill-opacity")||i.hasOwnProperty("opacity")||i.hasOwnProperty("fill"))&&("SPAN"===t[0].tagName||(s.setFillAttribute(t,i),i.hasOwnProperty("stroke")&&(i.stroke=a,i.fill_opacity&&(i.opacity=i.fill_opacity),s.setStrokeAttribute(t,i))))},applyVMLStyle:function(e,t){"SPAN"!==e[0].tagName&&(ej.util.isNullOrUndefined(t.width)&&(t.width="1000px"),ej.util.isNullOrUndefined(t.height)&&(t.height="1000px")),ej.util.isNullOrUndefined(t.x)&&(t.x="0px"),ej.util.isNullOrUndefined(t.y)&&(t.y="0px"),this.changeVMLStyle(e,t)},drawLine:function(t,i){if(e("#"+t.id).length>0)s=t.x1+","+t.y1,r=t.x2+","+t.y2,e(t).attr("from",s).attr("to",r),this.applyVMLStyle(e("#"+t.id),t);else{var s,a=document.createElement("v:line"),o=e(a),r=t.x2+","+t.y2;o.attr("from",s=t.x1+","+t.y1).attr("to",r),this.applyVMLStyle(o,t),o.appendTo(i)}},drawCircle:function(t,i){if(e("#"+t.id).length>0)t.x=t.cx-t.r,t.y=t.cy-t.r,t.width=t.height=2*t.r,this.applyVMLStyle(e("#"+t.id),t);else{var s=document.createElement("v:oval"),a=e(s);t.x=t.cx-t.r,t.y=t.cy-t.r,t.width=t.height=2*t.r,this.applyVMLStyle(a,t),0==e("#"+t.id).length&&a.appendTo(i)}},drawEllipse:function(t,i){if(e("#"+t.id).length>0)t.x=t.cx-t.rx,t.y=t.cy-t.ry,t.width=2*t.rx,t.height=2*t.ry,this.applyVMLStyle(e("#"+t.id),t);else{var s=document.createElement("v:oval"),a=e(s);t.x=t.cx-t.rx,t.y=t.cy-t.ry,t.width=2*t.rx,t.height=2*t.ry,this.applyVMLStyle(a,t),a.appendTo(i)}},drawRect:function(t,i){if(e("#"+t.id).length>0)this.applyVMLStyle(e("#"+t.id),t);else{var s=document.createElement("v:rect"),a=e(s);this.applyVMLStyle(a,t),a.appendTo(i)}},drawCylinder:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I=t.x,R=t.y,M=t.width,E=t.height,V=t.id,N=t.fill;ej.EjSvgRender.prototype.checkColorFormat(N)||(N=ej.datavisualization.Chart.prototype.colorNameToHex(t.fill));var F=t.opacity,B={svgRenderer:ej.EjSvgRender.prototype},z=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(N,B),Y=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(N,B),X=65535;for(1==s.isColumn?(t.rx=o=M/2,t.ry=r=o/4,c=d=R-r,g=w=_=R+E-r,u=(n=l=I+o)+o,h=m=y=n-o,k=-Math.round(180*X),P=Math.round(180*X),v=Math.round(360*X),x=-Math.round(180*X),j="90",1==s.stacking&&(s.isLastSeries||(d=R+r)),p=d):(t.ry=r=E/2,t.rx=o=r/4,u=h=l=I+o,y=n=I+M+o,k=Math.round(90*X),P=Math.round(180*X),v=Math.round(270*X),x=-Math.round(180*X),_=d=R+r,w=p=d+r,c=g=_-r,j="0",1==s.stacking&&(s.isLastSeries||(n=I+M-o)),m=n),delete t.x,delete t.y,t.width=1e3,t.x=0,t.y=0,delete t.stacking,t.height=1e3,delete t.isColumn,t.fill=z,t.fill_opacity=F,t.stroke=z,t["stroke-width"]=0,D=1;D<=4;D++)D%2==0?(S=l,C=d,T=m,L=g,f=v,b=x):(S=n,C=_,T=u,L=p,f=k,b=P),D<3&&(f=X,b=23592600),D<4&&(a=["M",Math.round(y),Math.round(w)]),a.push("ae",Math.round(S),Math.round(C),Math.round(o),Math.round(r),f,b),D>2&&(a.push("l",Math.round(T),Math.round(L)),t.fill="none",t.color=N,t.color2=N,t.colors="30% "+Y+",70% "+Y,t.angle=j),3!=D&&(a.push("e"),a=a.join(" "),t.d=a,t.id=V+"_Region_"+(D-1).toString(),4==D&&(t.id=V+"_Region_"+(D-2).toString()),A=document.createElement("v:shape"),O=e(A),this.applyVMLStyle(O,t),O.appendTo(i)),y=h,w=c},_getAttrVal:function(t,i,s){i="y"==(i="x"==i?"left":i)?"top":i;var a=e(t).attr(i)||e(t).css(i);return null!=a?a:s},_setAttr:function(t,i){var s,a,o;i.transform&&(a=(s=i.transform).slice(s.indexOf("(")+1,s.indexOf(")")).split(","),i.x=a[0],i.y=a[1]),(o=e(t)).length>0&&this.changeVMLStyle(o,i)},createGradientElement:function(e,t){var i,s,a,o;if("[object Array]"==Object.prototype.toString.call(t))for(i="gradient ",s="",a=0,o=t.length-1;a<t.length;a++,o--)i+=s+t[a].colorStop+" "+t[o].color,s=",";else i=t;return i},setSpanAttr:function(t,i,s){var a={size:t["font-size"]>0?t["font-size"]+"px":t["font-size"],fontStyle:t["font-style"],fontFamily:t["font-family"]},o=ej.EjSvgRender.utils._measureText(i,null,a);e(s).css("white-space","nowrap"),"middle"===t["text-anchor"]?t.x=Math.round(t.x-o.width/2):"end"===t["text-anchor"]&&(t.x=Math.round(t.x-o.width)),t.y=Math.round(t.y-a.size.replace("px","")),this.applyVMLStyle(s,t)},drawText:function(t,i,s,a){var o,r,n,l,d,h,c,u,p,m=document,g=e("#"+t.id);if(g.length>0)this._textAttrReplace(t,i,a,g);else if(t.id.indexOf("YAxisTitle")>0&&!this.isdocmode8)t.on=!0,(o=document.createElement("v:line")).style.behavior="url(#default#VML)",o.style.display="inline-block",r=ej.EjSvgRender.utils._measureText(i,null,null),o.setAttribute("to",(t.x-1).toString()+","+(t.y-r.width/2).toString()),o.setAttribute("from",t.x.toString()+","+t.y.toString()),(n=document.createElement("v:path")).setAttribute("textpathok",!0),(l=document.createElement("v:textpath")).setAttribute("on",!0),l.setAttribute("string",i),l.style["font-style"]=t["font-style"],l.style["font-size"]=t["font-size"],l.style["font-family"]=t["font-family"],o.appendChild(n),o.appendChild(l),e(o).appendTo(s);else{if(d=m.createElement("span"),h=e(d),"array"==jQuery.type(i))for(this.setSpanAttr(t,i,h),c=0;c<i.length;c++)u=m.createElement("span"),e(u).html(i[c]),e(u).appendTo(d),p=m.createElement("br"),e(p).appendTo(d);else this.setSpanAttr(t,i,h),h.html(i);h.appendTo(s)}},_textAttrReplace:function(t,i,s,a){var o,r;if("array"==jQuery.type(i))if(o=e("#"+t.id).children("span"),this.setSpanAttr(t,i,a),o.length>0&&o.length==i.length)for(r=0;r<o.length;r++)e(o[r]).text(i[r]);else e("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,s);else this.setSpanAttr(t,i,a),a.text(i)},drawImage:function(t,i){var s=document.createElement("img"),a=e(s);a.css({position:"absolute"}),e.each(t,(function(e,t){"href"==e&&(e="src"),a.attr(e,t)})),a.appendTo(i)},createDefs:function(){},createGroup:function(t){var i,s=document.createElement("div");return ej.util.isNullOrUndefined(t.transform)||(i=t.transform.slice(t.transform.indexOf("(")+1,t.transform.indexOf(")")).split(","),e(s).css({position:"absolute",left:i[0]+"px",top:i[1]+"px"})),t.cursor&&e(s).css({cursor:t.cursor}),e.each(t,(function(t,i){"transform"!==t&&"clip-path"!=t&&e(s).attr(t,i)})),s},createText:function(t,i){var s=document.createElement("span");return e(s).attr(t),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},drawAxesBoundsClipPath:function(t,i,s){var a,o,r=e(t);r.removeAttr("clip-path"),o=this._getTransform(i.xAxis,i.yAxis,s),this.drawClipPath(a={id:t.id+"_ClipRect",x:0,y:0,width:o.width,height:o.height,fill:"white","stroke-width":1,stroke:"transparent"},t),r.attr("clip-path","url(#"+a.id+")")},getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},round:function(e,t,i){return t*(i?Math.ceil(e/t):Math.floor(e/t))},hexFromRGB:function(t){var i=t.R,s=t.G,a=t.B;if(t.A)return"rgba("+i.toString()+","+s.toString()+","+a.toString()+","+t.A+")";s=t.G,a=t.B;var o=[(i=t.R).toString(16),s.toString(16),a.toString(16)];return e.each(o,(function(e,t){1===t.length&&(o[e]="0"+t)})),"#"+o.join("").toUpperCase()},hexToRGB:function(e){var t;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(e)?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(e))?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},checkColorFormat:function(e){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(e)},createDelegate:function(e,t){return function(i){t.apply(e,[i,this])}},drawClipPath:function(t,i){if(-1==t.id.indexOf("ChartAreaClipRect")){var s=Math.round(t.x)+"px",a="rect("+Math.round(t.y)+"px "+(Math.round(t.width)+Math.round(t.x))+"px "+(Math.round(t.y)+Math.round(t.height))+"px "+s+")";e(i).css("position","absolute").css("clip",a)}},drawCircularClipPath:function(t,i){var s=Math.round(t.r),a=Math.round(t.cx),o=Math.round(t.cy);if(-1==t.id.indexOf("_ClipRect")){var r="rect("+(o-s)+"px "+(a+s)+"px "+(o+s)+"px "+(a-s)+"px)";e(i).css("position","absolute").css("clip",r)}},append:function(t,i){e(t).appendTo(i)}}}(jQuery),ej.EjCanvasRender=function(e){this.svgObj=document.createElement("canvas"),this._rootId=jQuery(e).attr("id"),this.svgObj.setAttribute("id",this._rootId+"_canvas"),this.ctx=this.svgObj.getContext("2d")},function(e){ej.EjCanvasRender.prototype={drawPath:function(e,t,i){var s,a,o,r,n,l,d,h,c=!!e.hasStackingInnerRadius&&e.hasStackingInnerRadius,u=e.d.split(" "),p=e["stroke-width"];if(e.lgndCtx){for(r=this.lgndCtx,this.lgndCtx=null!=t?t:this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),i&&this.lgndCtx.translate(i[0],i[1]),this.lgndCtx.globalAlpha=e.opacity?e.opacity:e["fill-opacity"],this.lgndCtx.lineWidth=e["stroke-width"],this.lgndCtx.strokeStyle=e.stroke,n=0;n<u.length;n+=3)switch(l=parseFloat(u[n+1]),d=parseFloat(u[n+2]),u[n]){case"M":this.lgndCtx.moveTo(l,d);break;case"L":this.lgndCtx.lineTo(l,d);break;case"C":this.lgndCtx.bezierCurveTo(l,d,parseFloat(u[n+3]),parseFloat(u[n+4]),parseFloat(u[n+5]),parseFloat(u[n+6])),n+=4;break;case"A":this.lgndCtx.arc(parseFloat(u[n-5]),parseFloat(u[n-4]),l,0,2*Math.PI,!1),n+=5;break;case"a":this.lgndCtx.beginPath(),h=parseFloat(u[n-2])+l,this.lgndCtx.arc(h,u[n-1],l,0,2*Math.PI,!1),n+=5;break;case"Z":this.lgndCtx.fillStyle=e.fill,this.lgndCtx.fill(),n-=2;break;case"Q":this.lgndCtx.quadraticCurveTo(l,d,parseFloat(u[n+3]),parseFloat(u[n+4])),n+=2}"none"!=e.fill&&null!=e.fill&&(this.lgndCtx.fillStyle=e.fill,this.lgndCtx.fill()),this.lgndCtx.stroke(),this.lgndCtx.restore(),this.lgndCtx=r}else{for(s=this.ctx,this.ctx=null!=t?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),i&&this.ctx.translate(i[0],i[1]),this.ctx.globalAlpha=e.opacity?e.opacity:e["fill-opacity"],a=!0,this.ctx.lineWidth=p,(o=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(o),this.ctx.strokeStyle=e.stroke,n=0;n<u.length;n+=3)switch(l=parseFloat(u[n+1]),d=parseFloat(u[n+2]),u[n]){case"M":e.innerR&&!c||e.cx||this.ctx.moveTo(l,d);break;case"L":(!e.innerR||c)&&this.ctx.lineTo(l,d);break;case"C":this.ctx.bezierCurveTo(l,d,parseFloat(u[n+3]),parseFloat(u[n+4]),parseFloat(u[n+5]),parseFloat(u[n+6])),n+=4;break;case"A":e.innerR?a&&(this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.arc(e.x,e.y,e.innerR,e.end,e.start,!e.counterClockWise),a=!1):e.cx?this.ctx.arc(e.cx,e.cy,e.radius,0,2*Math.PI,e.counterClockWise):(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.lineTo(e.x,e.y)),n+=5;break;case"Q":this.ctx.bezierCurveTo(l,d,parseFloat(u[n+1]),parseFloat(u[n+2]),parseFloat(u[n+3]),parseFloat(u[n+4])),n+=2;break;case"z":this.ctx.closePath()}"none"!=e.fill&&null!=e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill()),p>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=s}},_setLinePathStyle:function(e,t){var i,s=e["stroke-width"];t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=e.opacity?e.opacity:e["fill-opacity"],this.ctx.lineWidth=s,(i=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(i),this.ctx.strokeStyle=e.stroke,"none"!=e.fill&&null!=e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill())},drawRect:function(e,t){var i,s=this.ctx,a=e.rx;this.ctx=t&&t.canvas?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.globalAlpha=e.opacity,this.ctx.lineWidth=e["stroke-width"],(i=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(i),this.ctx.strokeStyle=e.stroke,this.ctx.rect(e.x,e.y,e.width,e.height),null!=a&&a>=0?this.drawCornerRadius(e):("none"==e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.stroke()),e.id.indexOf("Series")>=0&&this.ctx.clip(),this.ctx.restore(),this.ctx=s},drawCylinder:function(e,t,i){var s,a,o,r,n,l=this.ctx;this.ctx=t&&t.canvas?t:this.ctx,this.ctx.save(),s=ej.datavisualization.Chart.prototype.colorNameToHex(e.fill),a={svgRenderer:ej.EjSvgRender.prototype};var d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R=Math.PI,M=e.x,E=e.y,V=e.width,N=e.height,F=2*R+.1;for(this.ctx.fillStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(s,a),this.ctx.lineWidth=0,this.ctx.strokeStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(s,a),this.ctx.globalAlpha=e.opacity,1==i.isColumn?(P=M,D=V+M,A=j=0,g=m=M+(u=V/2),y=_=E-(p=u/4),v=M,b=M+V,f=x=E+N-p,k=0,L=R,O=-u,I=p,(i.stacking=!0)&&(i.isLastSeries||(y=_=E+p))):(P=D=0,j=N+E,A=E,v=m=M+(u=(p=N/2)/4),b=g=M+V+u,x=E+N,y=E,f=_=E+p,k=R/2,L=1.5*R,(i.stacking=!0)&&(i.isLastSeries||(b=g=M+V-u)),O=u=-u,I=-(p=-p)),o=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(s,a),(r=this.ctx.createLinearGradient(P,A,D,j)).addColorStop(0,s),r.addColorStop(.3,o),r.addColorStop(.7,o),r.addColorStop(1,s),n=1;n<=4;n++){for(d=0,n<4&&this.ctx.beginPath(),n%2==0?(w=g,S=f,C=v,T=y):(w=m,S=_,C=b,T=x),4==n&&(u=O,p=I,this.ctx.fillStyle=r),n>2&&(d=k,F=L);d<=F;d+=.1)h=w-u*Math.cos(d),c=S+p*Math.sin(d),0===d?this.ctx.moveTo(h,c):this.ctx.lineTo(h,c);n>2&&this.ctx.lineTo(C,T),3!=n&&(this.ctx.stroke(),this.ctx.fill())}e.id.indexOf("Series")>=0&&this.ctx.clip(),this.ctx.restore(),this.ctx=l},drawCornerRadius:function(e){var t=e.rx,i=e.x,s=e.y,a=e.width,o=e.height;"none"==e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,a<2*t&&(t=a/2),o<2*t&&(t=o/2),this.ctx.beginPath(),this.ctx.moveTo(i+a-t,s),this.ctx.arcTo(i+a,s,i+a,s+o,t),this.ctx.arcTo(i+a,s+o,i,s+o,t),this.ctx.arcTo(i,s+o,i,s,t),this.ctx.arcTo(i,s,i+a,s,t),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()},createGradientElement:function(e,t){var i,s,a,o,r,n=this.ctx;if("[object Array]"==Object.prototype.toString.call(t)){for(s=n.createLinearGradient(0,0,0,this.svgObj.height),a=0;a<=t.length-1;a++)o=t[a].color,r=t[a].colorStop.slice(0,-1),r=parseInt(r)/100,s.addColorStop(r,o);i=s}else i=t;return i},drawLine:function(e){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=e["stroke-width"],this.ctx.strokeStyle=e.stroke,this.ctx.moveTo(e.x1,e.y1),this.ctx.lineTo(e.x2,e.y2),this.ctx.stroke(),this.ctx.restore()},drawText:function(t,i,s){var a,o,r,n,l,d,h;ej.util.isNullOrUndefined(t["font-weight"])||"regular"!=t["font-weight"].toLowerCase()||(t["font-weight"]="normal");var c=t["font-style"].toLowerCase()+" "+t["font-weight"]+" "+t["font-size"]+" "+t["font-family"],u=t["text-anchor"],p=void 0!==t.opacity?t.opacity:1;if("middle"==u&&(u="center"),t.lgndCtx)this.lgndCtx.save(),this.lgndCtx.fillStyle=t.fill,this.lgndCtx.font=c,this.lgndCtx.textAlign=u,this.lgndCtx.globalAlpha=p,"middle"==t["dominant-baseline"]&&(this.lgndCtx.textBaseline="center"),t.labelRotation?(this.lgndCtx.translate(t.x,t.y),this.lgndCtx.rotate(t.labelRotation*Math.PI/180),this.lgndCtx.fillText(i,0,0)):this.lgndCtx.fillText(i,t.x,t.y),this.lgndCtx.restore();else{if(this.ctx.save(),this.ctx.fillStyle=t.fill,this.ctx.font=c,this.ctx.textAlign=u,this.ctx.globalAlpha=p,t.baseline&&(this.ctx.textBaseline=t.baseline),t.labelRotation)if(a=0,!(o=t.labelRotation)||-1==t.id.indexOf("XLabel")&&-1==t.id.indexOf("YLabel"))this.ctx.translate(t.x,t.y),this.ctx.rotate(t.labelRotation*Math.PI/180),this.ctx.fillText(i,0,0);else{r="rotate("+t.labelRotation.toString()+"deg)",e(t).attr("rotateAngle",r);var m=s||i,g=ej.EjSvgRender.utils._measureText(m,null,c).height,_=this.createText(t,m);e(document.body).append(_),n=_.getBoundingClientRect(),e(_).remove(),a=n.height,o<0&&(o=360+o),l=t.transform.split(","),u=null!=u?u:"center";var f=parseFloat(l[1]),b=parseFloat(l[2]),v=a/2;if(this.ctx.translate(f,"outside"==t.labelPosition?"start"==u?b+v-(o<0&&o>-180||o>180?a/2:(a-g)/2):"end"==u?b+v-(o<0&&o>-180||o>180?a/2:-(a-g)/2):b+v:"start"==u?b-v-(o<0&&o>-180||o>180?a/2:(a-g)/2):"end"==u?b-v-(o<0&&o>-180||o>180?a/2:-(a-g)/2):b-v),this.ctx.textAlign=u,this.ctx.rotate(o*(Math.PI/180)),"object"==typeof i)for(d=i.length,h=0;h<d;h++)y=ej.EjSvgRender.utils._measureText(i[h],null,c).height,this.ctx.fillText(i[h],0,h*y);else this.ctx.fillText(i,0,0)}else if("object"==typeof i||t.isTrackball)if(t.isTrackball&&"string"==typeof i)this.ctx.fillText(i,t.x,t.y);else for(d=i.length,h=0;h<d;h++){var x=ej.util.isNullOrUndefined(t.padding)?0:t.padding,y=ej.EjSvgRender.utils._measureText(i[h],null,c).height,w=t.isTrackball?Number(parseInt(t["font-size"])):y;this.ctx.fillText(i[h],t.x,t.y+(w+x)*h)}else this.ctx.fillText(i,t.x,t.y);this.ctx.restore()}},drawZoomRect:function(t,i){var s,a,o,r,n=e("<div id="+t.id+"></div>"),l=i.model.m_AreaBounds;t.x<l.X||t.x+0+t.width>0+e(this.svgObj).width()-20?(s=this.prevWidth,o=this.prevX):(s=this.prevWidth=t.width,o=this.prevX=t.x+0),t.y<l.Y||t.y+0+t.height>0+l.Y+l.Height?(a=this.prevHeight,r=this.prevY):(a=this.prevHeight=t.height,r=this.prevY=t.y+0),e(n).css({width:s,height:a,top:r,left:o,"background-color":t.fill,"border-style":"solid",position:"absolute","border-color":t.stroke,"border-width":t["stroke-width"]}),document.getElementById("chartContainer_"+this._rootId).appendChild(n[0])},zoomButton:function(t,i,s){var a,o,r,n,l,d,h,c,u,p=s.svgObj?s.svgObj:s.svgObject,m=s._rootId?s._rootId:s._id;a="zoom"==i?"_Zoom":"zoomIn"==i?"_ZoomIn":"_ZoomOut",o={left:0,top:0},e("#"+t.zoomId).length<=0?(u=e("<div id="+p.id+a+"Btn></div>"),e(u).css({width:t.width,height:t.height,top:t.top+o.top,left:t.left+o.left,"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),r="http://www.w3.org/2000/svg",(n=document.createElementNS(r,"svg")).setAttribute("id",t.zoomId),n.setAttribute("width",25),n.setAttribute("height",25),"zoom"==i?(l="M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571",d="translate(-3,-3)"):"zoomIn"==i?(l="M9.0983096,4.2999878L9.0983096,9.3999634 3.9983783,9.3999634 3.9983783,12.699951 9.0983096,12.699951 9.0983096,17.799988 12.398249,17.799988 12.398249,12.699951 17.49818,12.699951 17.49818,9.5 12.398249,9.5 12.398249,4.2999878z M10.998276,0C14.298215,0 17.49818,1.3999634 19.69813,4.1999512 22.79809,8.0999756 22.79809,13.5 19.998144,17.399963L28.597992,28.299988 23.898081,32 15.398205,21.199951C10.898271,23.099976 5.5983606,21.899963 2.3983956,17.899963 -1.4015366,13.099976 -0.60156059,6.0999756 4.1983567,2.3999634 6.1983276,0.79998779 8.5983163,0 10.998276,0z",d="translate(4,4) scale(0.6)"):(l="M3.9983433,9.5L3.9983433,12.799988 17.598165,12.799988 17.598165,9.5z M10.998234,0C14.298169,0 17.498131,1.3999634 19.698108,4.1999512 22.798034,8.0999756 22.798034,13.5 19.998092,17.399963L28.597994,28.299988 23.898054,32 15.398188,21.199951C10.898259,23.099976 5.5983546,21.899963 2.398393,17.899963 -1.4015351,13.099976 -0.60155994,6.0999756 4.1983522,2.3999634 6.1983207,0.79998779 8.5983074,0 10.998234,0z",d="translate(4,4) scale(0.6)"),h={id:a+"Path",fill:t.iconColor,transform:d,d:l},c=document.createElementNS(r,"path"),e(c).attr(h).appendTo(n),u[0].appendChild(n),document.getElementById("chartContainer_"+m).appendChild(u[0])):(u=document.getElementById(p.id+a+"Btn"),e(u).css({top:t.top+o.top,left:t.left+o.left}))},panButton:function(t,i){var s,a,o,r,n,l=i.svgObj?i.svgObj:i.svgObject,d=i._rootId?i._rootId:i._id;e("#"+t.panId).length<=0?(n=e("<div id="+l.id+"_PanBtn></div>"),e(n).css({width:t.width,height:t.height,top:t.top+0,left:t.left+0,"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),s="http://www.w3.org/2000/svg",(a=document.createElementNS(s,"svg")).setAttribute("id",t.panId),a.setAttribute("width",25),a.setAttribute("height",25),(o={id:"panPath",fill:t.iconColor,transform:"translate(-3,-3)"}).points="26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789",r=document.createElementNS(s,"polygon"),e(r).attr(o).appendTo(a),n[0].appendChild(a),document.getElementById("chartContainer_"+d).appendChild(n[0])):(n=document.getElementById(l.id+"_PanBtn"),e(n).css({top:t.top+0,left:t.left+0}))},resetZoom:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m=i.svgObj?i.svgObj:i.svgObject,g=i._rootId?i._rootId:i._id;e("#"+t.resetZoomId).length<=0?(p=e("<div id="+m.id+"_ResetZoom></div>"),e(p).css({width:t.width,height:t.height,top:t.top+0,left:t.left+0,"background-color":t.fill,"border-style":"solid","border-radius":"0.4em",position:"absolute","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),s="http://www.w3.org/2000/svg",(a=document.createElementNS(s,"svg")).setAttribute("id",t.resetZoomId),a.setAttribute("width",25),a.setAttribute("height",25),(o={id:"p1",fill:t.iconColor,transform:"translate(-3,-3)"}).points="11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186",r=document.createElementNS(s,"polygon"),e(r).attr(o).appendTo(a),(n={id:"p2",fill:t.iconColor,transform:"translate(-3,-3)"}).points="19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072",l=document.createElementNS(s,"polygon"),e(l).attr(n).appendTo(a),(d={id:"p3",fill:t.iconColor,transform:"translate(-3,-3)"}).points="11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123",h=document.createElementNS(s,"polygon"),e(h).attr(d).appendTo(a),(c={id:"p4",fill:t.iconColor,transform:"translate(-3,-3)"}).points="19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23",u=document.createElementNS(s,"polygon"),e(u).attr(c).appendTo(a),p[0].appendChild(a),document.getElementById("chartContainer_"+g).appendChild(p[0])):(p=document.getElementById(m.id+"_ResetZoom"),e(p).css({top:t.top+0,left:t.left+0}))},drawCrosshairLine:function(t,i){var s=e("<div id="+t.id+"></div>");e(s).css({width:t.width,height:t.height,left:t.left,top:t.top,"border-style":t.style,opacity:t.opacity,visibility:"visible","border-color":t.stroke,"border-width":t["stroke-width"],position:t.position}),e(i).append(s[0])},drawCrosshairlabel:function(t,i,s){var a;e("#"+this._rootId).offset(),e("#"+t.id).length>0?(a=document.getElementById(t.id),e(a).css({width:t.width-5,height:t.height-5,left:i.x+0-5,top:i.y+0-15,visibility:"visible",display:t.display}),document.getElementById(t.id).textContent=s):(a=e("<div id="+t.id+" style='position: absolute; z-index: 13000;'></div>"),e(a).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],"background-color":t.fill,"border-style":"solid","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"],"text-align":"center"}),document.getElementById(this._rootId).appendChild(a[0]))},createCrosshairCanvas:function(){var t,i=document.getElementById(this._rootId+"_canvas"),s=(e("#"+this._rootId).offset(),0);return e("#secondCanvas").length?t=document.getElementById("secondCanvas"):(t=document.createElement("canvas"),e(document).find("#"+this.svgObj.id+"_CrosshairGroup").append(t),e(t).attr({id:"secondCanvas",width:i.width,height:i.height,top:0,left:s}),e(t).css({width:i.width,height:i.height,top:0,left:s})),t},drawTrackToolTip:function(t,i,s,a){var o,r,n,l=this.svgObj.offsetLeft,d=this.svgObj.offsetTop;if(e("#"+t.id).length>0)if(n=document.getElementById(t.id),e(n).css({left:t.x+l,top:t.y+d,visibility:"visible","border-box":"content-box","background-color":t.fill,color:i.fill,"border-color":t.stroke,"border-width":t["stroke-width"]}),"array"==jQuery.type(s)){for(o="",r=0;r<s.length;r++)o=o+s[r]+"</br>";e("#"+t.id).html(o)}else e("#"+t.id).html(s);else n=e("<div id="+t.id+" style='position: absolute; z-index: 13000;'></div>"),e(n).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],width:t.width,height:t.height-a-2*t["stroke-width"],"background-color":t.fill,"border-style":"solid","text-align":"center",padding:"0px","padding-top":a/2+"px","padding-bottom":a/2+"px","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"]}),document.getElementById(this._rootId).appendChild(n[0])},trackSymbol:function(t,i,s,a,o){var r,n,l,d,h,c,u=o.model.m_AreaBounds;if(e("#"+this._rootId).offset(),i.startX>=u.X&&i.startX<=u.X+u.Width&&i.startY>=u.Y&&i.startY<=u.Y+u.Height)if(n=t.PointIndex,"bubble"==o.model.series[r=t.SeriesIndex].type.toLowerCase()&&(v=2*o.model.series[r]._visiblePoints[n].radius+5,t.Style.BorderColor=t.Style.Color),"scatter"==o.model.series[r].type.toLowerCase()&&ej.util.isNullOrUndefined(a))this.drawCircle({cx:i.startX-2,cy:i.startY-2,r:t.ShapeSize.width/2,fill:t.Style.Color,opacity:t.Style.Opacity,stroke:t.Style.BorderColor},null);else{e("#canvas_trackSymbol").length>0?(l=e("#canvas_trackSymbol"),e(l).css({visibility:"visible",display:"block"})):l=e("<div id=canvas_trackSymbol></div>");var p={left:i.startX,top:i.startY},m=e("<div id="+t.ID+"></div>"),g=p.left-(v||t.ShapeSize.width),_=p.top-(v||t.ShapeSize.height);switch(e(m).css({left:g,top:_,"box-sizing":"content-box",position:"absolute",visibility:"visible",opacity:t.Style.Opacity,"z-index":200}),d=t.ShapeSize,t.symbol=m,h={},s.toLowerCase()){case"circle":e(m).css({width:v||t.ShapeSize.width+"px",height:v||t.ShapeSize.height+"px",left:v?g+v/2:g+t.ShapeSize.width/2-t.Style.BorderWidth+"px",top:v?_+v/2:_+t.ShapeSize.height/2-t.Style.BorderWidth+"px","border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":"100%"});break;case"rectangle":e(m).css({width:t.ShapeSize.width,height:t.ShapeSize.height,left:g+t.ShapeSize.width/2-t.Style.BorderWidth/2,top:_+t.Style.BorderWidth/2,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth});break;case"diamond":h.direction=f="M "+(i.startX+-d.width/2)+" "+i.startY+" L "+i.startX+" "+(i.startY+-t.ShapeSize.height/2)+" L "+(i.startX+t.ShapeSize.width/2)+" "+i.startY+" L "+i.startX+" "+(i.startY+t.ShapeSize.height/2)+" L "+(i.startX+-t.ShapeSize.width/2)+" "+i.startY+"z",this.drawSvgShape(t,h);break;case"triangle":h.direction=f="M "+(i.startX+-d.width/2)+" "+(i.startY+d.height/2)+" L "+i.startX+" "+(i.startY+-d.height/2)+" L "+(i.startX+d.width/2)+" "+(i.startY+d.height/2)+" L "+(i.startX+-d.width/2)+" "+(i.startY+d.height/2)+"z",this.drawSvgShape(t,h);break;case"invertedtriangle":var f,b="rotate(180,"+i.startX+","+i.startY+")";h.direction=f="M "+(i.startX+-d.width/2)+" "+(i.startY+d.height/2)+" L "+i.startX+" "+(i.startY+-d.height/2)+" L "+(i.startX+d.width/2)+" "+(i.startY+d.height/2)+" L "+(i.startX+-d.width/2)+" "+(i.startY+d.height/2)+"z",h.rotate=b,this.drawSvgShape(t,h);break;case"cross":h.direction=f="M "+(i.startX+-d.width/2)+" "+i.startY+" L "+(i.startX+d.width/2)+" "+i.startY+" M "+i.startX+" "+(i.startY+d.height/2)+" L "+i.startX+" "+(i.startY+-d.height/2)+"z",this.drawSvgShape(t,h);break;case"star":h.direction=f="M "+(i.startX+d.width/3)+" "+(i.startY+-d.height/2)+" L "+(i.startX+-d.width/2)+" "+(i.startY+d.height/6)+" L "+(i.startX+d.width/2)+" "+(i.startY+d.height/6)+" L "+(i.startX+-d.width/3)+" "+(i.startY+-d.height/2)+" L "+i.startX+" "+(i.startY+d.height/2)+" L "+(i.startX+d.width/3)+" "+(i.startY+-d.height/2)+"z",this.drawSvgShape(t,h);break;case"hexagon":h.direction=f="M "+(i.startX+-d.width/2)+" "+i.startY+" L "+(i.startX+-d.width/4)+" "+(i.startY+-d.height/2)+" L "+(i.startX+d.width/4)+" "+(i.startY+-d.height/2)+" L "+(i.startX+d.width/2)+" "+i.startY+" L "+(i.startX+d.width/4)+" "+(i.startY+d.height/2)+" L "+(i.startX+-d.width/4)+" "+(i.startY+d.height/2)+" L "+(i.startX+-d.width/2)+" "+i.startY+"z",this.drawSvgShape(t,h);break;case"wedge":h.direction=f="M "+(i.startX-d.width)+" "+i.startY+" L "+(i.startX+d.width)+" "+(i.startY+-d.height/2)+" L "+(i.startX+d.width/4*3)+" "+i.startY+" L "+(i.startX+d.width)+" "+(i.startY+d.height/2)+" L "+(i.startX-d.width)+" "+i.startY+"z",this.drawSvgShape(t,h);break;case"trapezoid":h.direction=f="M "+(i.startX+-d.width/2)+" "+i.startY+" L "+(i.startX+-d.width/2)+" "+(i.startY+-d.height/4)+" L "+(i.startX+-d.width/2+d.width)+" "+(i.startY+-d.height/2)+" L "+(i.startX+-d.width/2+d.width)+" "+(i.startY+d.height/2)+" L "+(i.startX+-d.width/2)+" "+(i.startY+d.height/4)+" L "+(i.startX+-d.width/2)+" "+i.startY+"z",this.drawSvgShape(t,h);break;case"uparrow":h.direction=f="M "+(i.startX-d.width/2+d.width/4)+" "+(i.startY-d.height/2+d.height)+" L "+(i.startX-d.width/2+d.width/4)+" "+(i.startY-d.height/2+d.height/2)+" L "+(i.startX-d.width/2)+" "+(i.startY-d.height/2+d.height/2)+" L "+i.startX+" "+(i.startY-d.height/2)+" L "+(i.startX+d.width/2)+" "+(i.startY-d.height/2+d.height/2)+" L "+(i.startX+d.width/2-d.width/4)+" "+(i.startY-d.height/2+d.height/2)+" L "+(i.startX+d.width/2-d.width/4)+" "+(i.startY-d.height/2+d.height)+" L "+(i.startX-d.width/2+d.width/4)+" "+(i.startY-d.height/2+d.height)+"z",this.drawSvgShape(t,h);break;case"downarrow":h.direction=f="M "+(i.startX-d.width/2+d.width/4)+" "+(i.startY-d.height/2)+" L "+(i.startX+d.width/2-d.width/4)+" "+(i.startY-d.height/2)+" L "+(i.startX+d.width/2-d.width/4)+" "+(i.startY-d.height/2+d.height/2)+" L "+(i.startX+d.width/2)+" "+(i.startY-d.height/2+d.height/2)+" L "+i.startX+" "+(i.startY-d.height/2+d.height)+" L "+(i.startX-d.width/2)+" "+(i.startY-d.height/2+d.height/2)+" L "+(i.startX-d.width/2+d.width/4)+" "+(i.startY-d.height/2+d.height/2)+" L "+(i.startX-d.width/2+d.width/4)+" "+(i.startY-d.height/2)+"z",this.drawSvgShape(t,h);break;case"leftarrow":h.direction=f="M "+(i.startX-d.width/2+d.width)+" "+(i.startY+d.height/4)+" L "+(i.startX-d.width/2+d.width)+" "+(i.startY+-d.height/4)+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+-d.height/4)+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+-d.height/2)+" L "+(i.startX-d.width/2)+" "+i.startY+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+d.height/2)+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+d.height/4)+" L "+(i.startX-d.width/2+d.width)+" "+(i.startY+d.height/4)+"z",this.drawSvgShape(t,h);break;case"rightarrow":h.direction=f="M "+(i.startX-d.width/2)+" "+(i.startY+d.height/4)+" L "+(i.startX-d.width/2)+" "+(i.startY+-d.height/4)+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+-d.height/4)+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+-d.height/2)+" L "+(i.startX-d.width/2+d.width)+" "+i.startY+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+d.height/2)+" L "+(i.startX-d.width/2+d.width/2)+" "+(i.startY+d.height/4)+" L "+(i.startX-d.width/2)+" "+(i.startY+d.height/4)+"z",this.drawSvgShape(t,h);break;case"pentagon":var v=Math.sqrt(d.height*d.height+d.width*d.width)/2,x=ej.EjSvgRender.utils._getStringBuilder();for(c=0;c<=5;c++){var y=Math.PI/180*(72*c),w=v*Math.cos(y),S=v*Math.sin(y);x.append(0==c?"M "+(i.startX+w)+" "+(i.startY+S)+" ":"L "+(i.startX+w)+" "+(i.startY+S)+" ")}x.append("z"),f=x.toString(),h.direction=f,this.drawSvgShape(t,h);break;case"ellipse":e(m).css({width:t.ShapeSize.width,height:t.ShapeSize.height/2,"border-style":"solid",left:g+t.ShapeSize.height/2-t.Style.BorderWidth/2,top:i.startY+p.top-t.ShapeSize.height+4,"background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"-moz-border-radius":"50%","-webkit-border-radius":"50%","border-radius":"50%","border-box":"content-box"});break;case"horizline":e(m).css({width:t.ShapeSize.width,height:0,"border-style":"solid",left:g+t.ShapeSize.width/2,top:i.startY+p.top-1,"border-color":t.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;case"vertline":e(m).css({width:0,height:t.ShapeSize.height,"border-style":"solid",left:i.startX+p.left-1,top:_+t.ShapeSize.height/2-2,"border-color":t.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;default:e(m).css({width:t.ShapeSize.width,height:t.ShapeSize.height,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":"50px"})}l[0].appendChild(m[0]),(document.getElementById(this.svgObj.id+"_CrosshairGroup")||document.getElementById("chartContainer_"+this._rootId)).appendChild(l[0])}},drawSvgShape:function(t,i){var s,a,o=document.getElementById(this._rootId+"_canvas"),r="http://www.w3.org/2000/svg",n=document.createElementNS(r,"svg");n.setAttribute("id","mySVG"),n.setAttribute("width",e(o).width()),n.setAttribute("height",e(o).height()),e(t.symbol).css({left:"0px",top:"0px"}),(s={id:"svgPath","fill-opacity":t.Style.Opacity,"stroke-width":t.Style.BorderWidth,fill:t.Style.Color,transform:i.rotate,stroke:t.Style.BorderColor}).d=i.direction,a=document.createElementNS(r,"path"),e(a).attr(s).appendTo(n),t.symbol[0].appendChild(n)},drawCircle:function(e,t){var i,s,a;e.lgndCtx?(a=this.lgndCtx,this.lgndCtx=null!=t?t:this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.lgndCtx.fillStyle=e.fill,this.lgndCtx.globalAlpha=e.opacity,this.lgndCtx.fill(),this.lgndCtx.lineWidth=e["stroke-width"],this.lgndCtx.strokeStyle=e.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore(),this.lgndCtx=a):(i=this.ctx,this.ctx=null!=t?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.ctx.fillStyle=e.fill,this.ctx.globalAlpha=e.opacity,this.ctx.fill(),this.ctx.lineWidth=e["stroke-width"],(s=!!e["stroke-dasharray"]&&e["stroke-dasharray"].split(","))&&this.ctx.setLineDash(s),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i)},drawPolyline:function(e){var t,i;for(this.ctx.save(),this.ctx.beginPath(),t=e.points.split(" "),i=0;i<t.length-1;i++){var s=t[i].split(","),a=s[0],o=s[1];0==i?this.ctx.moveTo(a,o):this.ctx.lineTo(a,o)}this.ctx.lineWidth=e["stroke-width"],this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore()},drawPolygon:function(){},setFillAttribute:function(){},setStrokeAttribute:function(){},changePathValue:function(){},drawArc:function(){},changeVMLStyle:function(){},applyVMLStyle:function(){},drawEllipse:function(e,t){var i=this.ctx;this.ctx=null!=t?t:this.ctx;var s=Math.max(e.rx,e.ry),a=e.rx/s,o=e.ry/s;e.lgndCtx?(this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.translate(e.rx,e.ry),this.lgndCtx.scale(a,o),this.lgndCtx.arc(e.cx-e.rx,2*e.cy-e.rx,e.rx,0,2*Math.PI,!1),this.lgndCtx.fillStyle=e.fill,this.lgndCtx.fill(),this.lgndCtx.restore(),this.lgndCtx.lineWidth=e["stroke-width"],this.lgndCtx.strokeStyle=e.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore()):(this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(e.cx,e.cy),this.ctx.save(),this.ctx.scale(a,o),this.ctx.arc(0,0,s,0,2*Math.PI,!1),this.ctx.fillStyle=e.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=e["stroke-width"],this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i)},_getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},_setAttr:function(){},setSpanAttr:function(){},_textAttrReplace:function(){},drawImage:function(e){this.ctx.save();var t=this,i=new Image;i.src=e.href,i.onload=function(){t.ctx.drawImage(i,e.x,e.y,e.width,e.height)},this.ctx.restore()},createDefs:function(){},createGroup:function(){},createText:function(t,i){var s=document.createElement("div");return e(s).css({transform:t.rotateAngle,"font-family":parseFloat(t["font-family"]),"font-size":1.1*parseFloat(t["font-size"]),position:"absolute"}),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},drawAxesBoundsClipPath:function(e,t){},getAttrVal:function(){},hexFromRGB:function(){},createDelegate:function(){},drawClipPath:function(){},drawCircularClipPath:function(){},append:function(t,i){e(t).appendTo(i)},createLegendCanvas:function(e){return this.legendsvgObj=document.createElement("canvas"),this._rootId=jQuery(e).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_canvas"),this.lgndCtx=this.legendsvgObj.getContext("2d"),this.legendsvgObj}}}(jQuery),ej.EjSvgRender=function(e){var t,i;if(this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),t=this._rootId+"_svg",$(document).find("#"+t).length>0){i=0;do{i++}while($(document).find("#"+this._rootId+"_svg"+i).length>0);t=this._rootId+"_svg"+i}this.svgObj.setAttribute("id",t)},function(e){function t(e,t,i,s){var a=s*Math.PI/180;return[e+i*Math.cos(a),t+i*Math.sin(a)]}ej.EjSvgRender.prototype={drawPath:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"path");e(s).attr(t).appendTo(i)}},createLegendSvg:function(e){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(e).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polyline");e(s).attr(t).appendTo(i)}},drawLine:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"line");e(s).attr(t),e(s).appendTo(i)}},drawPolygon:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"polygon");e(s).attr(t),e(s).appendTo(i)}},drawCircle:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"circle");e(s).attr(t).appendTo(i)}},drawEllipse:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"ellipse");e(s).attr(t).appendTo(i)}},drawRect:function(t,i){if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var s=document.createElementNS(this.svgLink,"rect");e(s).attr(t).appendTo(i)}},drawCylinder:function(t,i,s){var a,o,r;if(e("#"+t.id).length>0)e("#"+t.id).attr(t);else{var n=t.x,l=t.y,d=t.id,h=t.fill,c=h;this.checkColorFormat(h)||(h=ej.datavisualization.Chart.prototype.colorNameToHex(h));var u,p,m,g,_,f,b,v,x,y,w,S=2,C=0,T=0,L={svgRenderer:this};if(1==s.isColumn){var k=t.height;_=x=n,y=f=(P=(j=t.width/2)/4)<l?l-P:s.stacking?l+P:l-P,u=2*j,p=0,m=0,g=P<l||k<2*P?k:s.stacking?k-2*P:k,b=_,v=P<l?f+k:k<f?k+f:s.stacking?k+(l-P):k+f,C=100,(s.stacking=!0)&&(s.isLastSeries||(f=y=l+P,g=k<j/2?k:k-j/2))}else{var P,j;u=0,p=2*(P=t.height/2),m=k=t.width,g=0,b=(_=x=n+(j=P/4))+k,v=f=y=l,T=100,(s.stacking=!0)&&(s.isLastSeries||(b=_+k-2*j,m=k-2*j))}for(delete t.x,delete t.y,delete t.width,delete t.height,delete t.isColumn;S--;)w="M"+_.toString()+","+f.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,0 "+(-1*u).toString()+","+(-1*p).toString(),t.d=w,t.id=d+"_Region_"+S,t.fill=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(h,L),this.drawPath(t,i),_=b,f=v;w="M"+x.toString()+","+y.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,0 "+u.toString()+","+p.toString(),w+="l"+m.toString()+" "+g.toString(),w+="a"+j.toString()+","+P.toString()+" 0 1,1 "+(-1*u).toString()+","+(-1*p).toString()+" z",t.d=w,t.id=d+"_Region_2",-1==c.indexOf("url")&&(0==e("#"+(a=d)).length&&(o={id:a,x1:"0%",y1:"0%",x2:C.toString()+"%",y2:T.toString()+"%"},(r=[])[0]={colorStop:"0%",color:h},r[1]={colorStop:"30%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[2]={colorStop:"70%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,L)},r[3]={colorStop:"100%",color:h},this.drawGradient(o,r,i)),t.fill="url(#"+a+")"),this.drawPath(t,i)}},createGradientElement:function(e,t,i,s,a,o,r){var n;return"[object Array]"==Object.prototype.toString.call(t)?(this.drawGradient({id:this.svgObj.id+"_"+e+"Gradient",x1:i+"%",y1:s+"%",x2:a+"%",y2:o+"%"},t,r),n="url(#"+this.svgObj.id+"_"+e+"Gradient)"):n=t,n},drawGradient:function(t,i,s){var a,o,r=this.createDefs(),n=document.createElementNS(this.svgLink,"linearGradient");for(e(n).attr(t),a=0;a<i.length;a++)o=document.createElementNS(this.svgLink,"stop"),e(o).attr({offset:i[a].colorStop,"stop-color":i[a].color,"stop-opacity":1}),e(o).appendTo(n);e(n).appendTo(r),e(r).appendTo(s)},drawText:function(t,i,s,a){var o,r,n,l,d,h;if(e("#"+t.id).length>0)this._textAttrReplace(t,i,a);else{if(o=document.createElementNS(this.svgLink,"text"),r=e(o),"array"==jQuery.type(i))for(n=0,r.attr(t),l=0;l<i.length;l++)(d=document.createElementNS(this.svgLink,"tspan")).textContent=i[l],e(d).attr({x:t.x,dy:n}),e(d).appendTo(o),a=this.enable3D?a.font:a,h=ej.EjSvgRender.utils._measureText(i[l],null,a),n=t.isTrackball?h.height+2:h.height;else o.textContent=i,r.attr(t);r.appendTo(s)}},_textAttrReplace:function(t,i,s){var a,o,r,n;if(e("#"+t.id).attr(t),"array"==jQuery.type(i))if(o=0,(a=e("#"+t.id).children("tspan")).length>0&&a.length==i.length)for(r=0;r<a.length;r++)e(n=a[r]).attr({x:t.x,dy:o}),n.textContent=i[r],o=ej.EjSvgRender.utils._measureText(i[r],null,s).height+2;else e("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,s);else e("#"+t.id).text(i)},drawImage:function(t,i){var s=document.createElementNS(this.svgLink,"image");s.setAttributeNS(null,"height",t.height),s.setAttributeNS(null,"width",t.width),s.setAttributeNS("http://www.w3.org/1999/xlink","href",t.href),s.setAttributeNS(null,"x",t.x),s.setAttributeNS(null,"y",t.y),s.setAttributeNS(null,"id",t.id),s.setAttributeNS(null,"visibility",t.visibility),ej.util.isNullOrUndefined(t.clippath)&&ej.util.isNullOrUndefined(t.preserveAspectRatio)||(s.setAttributeNS(null,"clip-path",t.clippath),s.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio)),e(s).appendTo(i)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(t){var i=document.createElementNS(this.svgLink,"clipPath");return e(i).attr(t),i},createForeignObject:function(t){var i=document.createElementNS(this.svgLink,"foreignObject");return e(i).attr(t),i},createGroup:function(t){var i=document.createElementNS(this.svgLink,"g");return e(i).attr(t),i},createPattern:function(e,t){var i=document.createElementNS(this.svgLink,t);for(var s in e)e.hasOwnProperty(s)&&i.setAttribute(s,e[s]);return i},createText:function(t,i){var s=document.createElementNS(this.svgLink,"text");return e(s).attr(t),ej.util.isNullOrUndefined(i)||(s.textContent=i),s},createPath:function(t){var i=document.createElementNS(this.svgLink,"path");return e(i).attr(t),i},createCircle:function(t){var i=document.createElementNS(this.svgLink,"circle");return e(i).attr(t),i},createLine:function(t){var i=document.createElementNS(this.svgLink,"line");return e(i).attr(t),i},_getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},hexFromRGB:function(t){var i,s=t.R,a=t.G,o=t.B;return t.A?"rgba("+s.toString()+","+a.toString()+","+o.toString()+","+t.A+")":(i=[s.toString(16),a.toString(16),o.toString(16)],e.each(i,(function(e,t){1===t.length&&(i[e]="0"+t)})),"#"+i.join("").toUpperCase())},checkColorFormat:function(e){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(e)},hexToRGB:function(e){var t;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(e)?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(e))?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},createDelegate:function(e,t){return function(i){t.apply(e,[i,this])}},drawClipPath:function(t,i){if(e(i).find("#"+t.id).length>0)e(i).find("#"+t.id).attr(t);else{var s=this.createDefs(),a=this.createClipPath({id:t.id});t.id=t.id+"_Rect",this.drawRect(t,a),this.append(a,s),this.append(s,i)}},drawCircularClipPath:function(e,t){var i=this.createDefs(),s=this.createClipPath({id:e.id});this.drawCircle(e,s),this.append(s,i),this.append(i,t)},append:function(t,i){e(t).appendTo(i)},_setAttr:function(t,i){e(t).attr(i)}},ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null},ej.EjSvgRender.utils={_decimalPlaces:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_getLabelContent:function(e,t,i){switch(t._categoryValueType){case"number":var s=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}");return ej.util.isNullOrUndefined(t.labelFormat)?t.labels[Math.floor(e)]:null!=s?t.labelFormat.replace("{value}",t.labels[Math.floor(e)]):ej.format(t.labels[Math.floor(e)],t.labelFormat,i);case"date":return ej.format(new Date(t.labels[Math.floor(e)]),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,i);case"string":return t.labels[Math.floor(e)];default:return""}},_getSeriesTemplateSize:function(t,i,s,a,o){var r,n,l,d,h,c=o.model.AreaType,u=o._id,p=e.inArray(s,o.model._visibleSeries);(r=0!=e("#template_group_"+u).length?e("#template_group_"+u):e("<div></div>").attr("id","template_group_"+u)).css("position","relative").css("z-index",1e3),n=e("#"+s.marker.dataLabel.template).clone(),e(n).attr("id",s.marker.dataLabel.template+"_"+p+"_"+i+"_"+u),(l=e(n)).css("position","absolute"),t.count=1,d={series:s,point:t},l.html(l.html().parseTemplate(d)),h="cartesianaxes"!=c&&s.enableAnimation&&"pyramid"!=s.type.toLowerCase()&&"funnel"!=s.type.toLowerCase()?"none":"block",l.css("display",h).appendTo(e(r)),e(r).appendTo("#"+u),t.size={height:l.height(),width:l.width()},a?((ej.util.isNullOrUndefined(s.LeftLabelMaxHeight)||s.LeftLabelMaxHeight<t.size.height)&&(s.LeftLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.LeftLabelMaxWidth)||s.LeftLabelMaxWidth<t.size.width)&&(s.LeftLabelMaxWidth=t.size.width)):((ej.util.isNullOrUndefined(s.RightLabelMaxHeight)||s.RightLabelMaxHeight<t.size.height)&&(s.RightLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(s.RightLabelMaxWidth)||s.RightLabelMaxWidth<t.size.width)&&(s.RightLabelMaxWidth=t.size.width))},getMinPointsDelta:function(t,i,s){var a=i,o=Number.MAX_VALUE;return e.each(a.model._visibleSeries,(function(i,r){var n,l,d;"visible"==r.visibility.toLowerCase()&&t.name==r._xAxisName&&(1!=(n=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal()).length||a.currentSeries&&a.currentSeries._yAxisName.toLowerCase()!=r._yAxisName.toLowerCase()?e.each(n,(function(e,t){if(e>0&&t.xValue){var i=t.xValue-n[e-1].xValue;0!=i&&(o=Math.min(o,i))}})):(l=ej.util.isNullOrUndefined(s)?r.xAxis.visibleRange.min:s,0!=(d=n[0].xValue-l)&&(o=Math.min(o,d))))})),o==Number.MAX_VALUE&&(o=1),o},_getSeriesMaxLabel:function(t){var i,s,a,o,r={width:0,height:0},n=e(this.svgObject).width(),l=[];if(t.labels.length>0){for(o=0;o<t.labels.length;o++)s=this._measureText(t.visibleLabels[o],n,t.marker.dataLabel.font),r.width<s.width&&(r.width=s.width),r.height<s.height&&(r.height=s.height);t.LabelMaxHeight=r.height,t.LabelMaxWidth=r.width}else for(l.push(t.rightsidePoints),l.push(t.leftsidePoints),a=0;a<l.length;a++){for(o=0;o<l[a].length;o++)s=this._measureText((i=l[a][o]).text?i.text:i.y,n,t.marker.dataLabel.font),r.width<s.width&&(r.width=s.width),r.height<s.height&&(r.height=s.height);0==a?(t.RightLabelMaxHeight=r.height,t.RightLabelMaxWidth=r.width):(t.LeftLabelMaxHeight=r.height,t.LeftLabelMaxWidth=r.width)}},_getHighestLabel:function(t,i,s){var a,o,r,n,l,d,h,c,u=0,p=[],m=0;if(ej.isNullOrUndefined(s))for(l=0==t.labels.length?t.visibleLabels:t.labels,d=0;d<l.length;d++){for(m=0,-1!=(h=0==t.labels.length?l[d].Text:l[d]).indexOf("<br>")?p=h.split("<br>"):p.push(h),c=0;c<p.length;c++)m<(r=this._measureText(o=p[c],e(i.svgObject).width(),t.font).width)&&(m=r,a=o);u<m&&(u=m,n=a)}else if(s&&("string"==typeof s&&-1!=s.indexOf("<br>")||"object"==typeof s))for(m=0,p="object"==typeof s?s:s.split("<br>"),c=0;c<p.length;c++)m<(r=this._measureText(o="object"==typeof p[c]?p[c].Text:p[c],i,t.font).width)&&(m=r,a=o),n=a;return n},_getMaxLabelWidth:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T;this.chartObj=i;var L,k,P,j,D={width:0,height:0,maxHeight:0,maxWidth:0},A="",O=i.svgRenderer.vmlNamespace,I=t.visibleRange,R=t.labelIntersectAction?t.labelIntersectAction.toLowerCase():"",M=t.labelPlacement,E=t.opposedPosition,V=t.orientation.toLowerCase(),N=i.model.requireInvertedAxes?"vertical"==V:"horizontal"==V,F=t.roundingPlaces,B=t.labelRotation,z=(V=t.orientation,0),Y=t.visibleLabels,X=Y.length;if(t.visible){for(s=0;s<X;s++)t.visibleLabels[s].y=0,"string"==typeof t.visibleLabels[s].Text&&-1!=t.visibleLabels[s].Text.indexOf("<br>")&&"vertical"==t.orientation?(L=t.visibleLabels[s].Text.split("<br>"),k=this._getHighestLabel(t,e(this.svgObject).width(),L),re=this._measureText(k,e(this.svgObject).width(),t.font,t.labelRotation)):re=this._measureText(t.visibleLabels[s].Text,e(this.svgObject).width(),t.font,t.labelRotation),D.width<re.width&&(D.width=re.width,A=t.visibleLabels[s].Text),D.height<re.height&&(D.height=re.height);if((t.enableTrim||"trim"==R&&"vertical"!=t.orientation)&&(D.width=D.width>(a=t.maximumLabelWidth)?a:D.width),D.rows=1,D.maxWidth=D.width,D.maxHeight=D.height,!O&&(B||R)&&(o=0,"rotate45"==R?o=45:"rotate90"==R&&(o=90),t.rotationValue=B=null!=B||"vertical"==V?B:o,B)){if(A=ej.isNullOrUndefined(A)?"":A,r=this._measureText(A,e(this.svgObject).width(),t.font,t.labelRotation),(t.enableTrim||"trim"==R)&&r.width>a&&""!=A)for(pe=A,h=1;h<pe.toString().length;h++)if(pe=pe.toString().substring(0,h)+"... ",(fe=this._measureText(pe,e(i.svgObject).width(),t.font)).width>=a){A=pe=pe.toString().substring(0,h-1)+"... ";break}A=(R||t.enableTrim)&&B?"string"==typeof A&&-1!=A.indexOf("<br>")?this._getHighestLabel(t,i,null):A:this._getHighestLabel(t,i,null),u=this.rotatedLabel(t,i,B,A),t.labelIntersectAction&&"multiplerows"==t.labelIntersectAction.toLowerCase()&&(z=D.height+u.height),D.height=t.rowsCount&&t.rowsCount>1&&90!=B&&t.enableTrim?t.rowsCount*D.height:u.height,D.width=u.width}if(t.labelIntersectAction)if(!t.rowsCount||"none"!=R&&"trim"!=R&&"hide"!=R&&0!=B||"wrap"==R&&!t.enableTrim||"wrapbyword"==R&&!t.enableTrim||"multiplerows"==R&&!t.enableTrim){if("wrap"==R||"wrapbyword"==R){if("betweenticks"==(M=M||ej.datavisualization.Chart.LabelPlacement.BetweenTicks).toLowerCase()?(l=1+(t.labels.length>1?-.5:0),l=F?parseFloat(l.toFixed(F)):parseFloat(l.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(I.interval)?1:ej.EjSvgRender.utils._decimalPlaces(I.interval))),n=Math.ceil((l-I.min)/(I.max-I.min)*t.length)):n=Math.ceil(t.length/Y.length),"horizontal"==t.orientation){var H=0,W=0,U=t.labels.length>0&&"datetimecategory"!=t.valueType?t.labels:t.visibleLabels,$=t.width?t.width/U.length:(t.length-(i.svgWidth-t.length)-20)/U.length;for(t.labelsCollection=[],y=0;y<U.length;y++){var G=0,q=[],Z=[],Q="object"==typeof U[y]?U[y].Text:U[y];for("string"==typeof Q&&-1!=Q.indexOf("<br>")?Z=Q.split("<br>"):Z.push(Q),w=0;w<Z.length;w++)for(G=(d=ej.EjAxisRenderer.prototype.rowscalculation(Z[w],i.model.m_AreaBounds,t,$,null)).length+G,h=0;h<d.length;h++)q.push(d[h]);B&&(A=this._getHighestLabel(t,i,q),W<(c=this._measureText(A,e(i.svgObject).width(),t.font).width)&&(W=c,de=A)),H=Math.max(G,H),t.labelsCollection[y]=q}u=this.rotatedLabel(t,i,B,de)}n=n<0?Math.ceil(t.length/Y.length):n,ue=Math.round(D.width/n),D.rows=B?ue-1:ue+1,D.rows<0&&(D.rows=0),p=H&&!B?H:D.rows,H>ue&&!B&&(p-=1),D.height=B?u.height+p*u.height:D.height+p*D.height}else if("multiplerows"==R){var K=i._getLegendSpace(),J=i.model.border.width,ee=e(i.svgObject).width()-i.model.margin.left-i.model.margin.right,te=""!=(j=(P=t.title).text)&&t.visible?this._measureText(j,ee,P.font).height+2*i.model.elementSpacing:0,ie=i.model.elementSpacing+te+t.majorTickLines.size+t.axisLine.width,se=i._getYValues(i.model._visibleSeries[0].points),ae=Math.max.apply(Math,se),oe=i.model._axes[1],re=this._measureText(ae,e(this.svgObject).width(),oe.font,oe.labelRotation),ne=K.rightLegendWidth+ie+re.width+i.model.margin.right+i.model.margin.left+2*J,le=e(i.svgObject).width()-ne;if(N){var de,he=0,ce=[],ue=0;for(W=0,s=0;s<Y.length;s++){g=[],"string"==typeof(m=Y[s]).Text&&-1!=m.Text.indexOf("<br>")?g=m.Text.split("<br>"):g.push(m),_=g.length,f=!1,z=Math.max(z,he),he=m.y=D.height;var pe,me=(pe=this._measureText(m.Text,e(this.svgObject).width(),t.font)).height,ge=Math.abs(Math.floor((m.Value-I.min)/I.delta*le));if(ce.length>0)for(b=ce,v=!0,x=0;x<b.length&&v;x++){G=0;var _e=b[x];for(y=0;_e&&y<_e.length;y++)for(w=0;w<_;w++){var fe=ej.EjSvgRender.utils._measureText(1==_?g[w].Text:g[w],e(this.svgObject).width(),t.font).width,be=(me=ej.EjSvgRender.utils._measureText(g[w],e(this.svgObject).width(),t.font).height,y==_e.length?_e[y-1]:_e[y]),ve=Math.abs(Math.floor((be.Value-I.min)/I.delta*le)),xe=ej.EjSvgRender.utils._measureText(be.Text,e(this.svgObject).width(),t.font).width;if(ve+(t.isInversed?-xe/2:xe/2)>=ge-(fe/=2))he=m.y+me,m.y+=me,G++,x+1==b.length&&(v=!1);else if(y+1==_e.length){v=w!=_-1;break}}}if(m.y=he,null==ce[ue=he/me-1]&&(ce[ue]=[]),1==_)ce[ue].push(m);else for(w=0;w<_;w++)null==ce[ue]&&(ce[ue]=[]),ce[ue].push({Text:g[w],Value:m.Value}),w!=_-1&&(ue+=1,he=m.y+me)}D.height=D.height>(z=ce.length*me)?D.height:z,me>0&&(D.rows=E?Math.round((z+me)/me):Math.round(z/me)),D.rows=B?D.rows-1:D.rows,D.rows<1&&(D.rows=1)}if(!N){for(S=0,s=0;s<t.visibleLabels.length;s++){for(fe=(pe=this._measureText((m=t.visibleLabels[s]).Text,e(this.svgObject).width(),t.font)).width,me=pe.height,ge=Math.abs(Math.floor((m.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),C=0;C<s;C++)_e=t.visibleLabels[C],Math.abs(Math.floor((_e.Value-t.visibleRange.min)/t.visibleRange.delta*t.length))+this._measureText(_e.Text,e(this.svgObject).width(),t.font).height/2>ge-me/2&&t.visibleLabels[C].y==m.y&&(m.y=S=m.y+fe,f=!0);T=S}D.width=D.width+T+(f?5:0)}}}else 0==B&&(D.rows=t.rowsCount,D.height=t.rowsCount*D.height)}return D},rotatedLabel:function(e,t,i,s,a){var o=(t=a?this.chartObj:t||this.chartObj).svgRenderer.createText({"font-size":e.font.size,transform:"rotate("+i+",0,0)","font-family":e.font.fontFamily,"font-style":e.font.fontStyle,rotateAngle:"rotate("+i+"deg)","text-anchor":"middle"},s);return{height:Math.ceil(this._measureBounds(o,t).height),width:Math.ceil(this._measureBounds(o,t).width)}},_getTransform:function(e,t,i){var s,a,o,r;return i?(s=t.x,a=e.y,o=t.width,r=e.height):(s=e.x,a=t.y,o=e.width,r=t.height),{x:s,y:a,width:o,height:r}},_calculateroundedCorner:function(e,t,i,s,a,o){var r,n,l,d,h,c=t.x,u=t.y,p=this.chartObj.model.enableCanvasRendering&&!o?5/4:0,m=t.width,g=t.height;return"object"!=typeof e||ej.util.isNullOrUndefined(e)?r=n=l=d=e:(r=e.topLeft,n=e.bottomLeft,l=e.topRight,d=e.bottomRight),r=ej.util.isNullOrUndefined(t.rx)?r:t.rx,n=ej.util.isNullOrUndefined(t.rx)?n:t.rx,h="M "+c+" "+(r+u)+" Q "+c+" "+u+" "+(c+r)+" "+u+" ",i&&"top"==s&&(h+="L "+(c+m/2-2.5+p)+" "+u+" L "+(c+m/2+p-a)+" "+(u-5)+" L "+(c+m/2+2.5+p)+" "+u+" "),h+="L "+(c+m-(l=ej.util.isNullOrUndefined(t.ry)?l:t.ry))+" "+u+" Q "+(c+m)+" "+u+" "+(c+m)+" "+(u+l)+" ",i&&"right"==s&&(h+="L "+(c+m)+" "+(u+g/2-2.5+p)+" L "+(c+m+5)+" "+(u+g/2+p-a)+" L "+(c+m)+" "+(u+g/2+2.5+p)+" "),h+="L "+(c+m)+" "+(u+g-(d=ej.util.isNullOrUndefined(t.ry)?d:t.ry))+" Q "+(c+m)+" "+(u+g)+" "+(c+m-d)+" "+(u+g)+" ",i&&"bottom"==s&&(h+="L "+(c+m/2-2.5+p)+" "+(u+g)+" L "+(c+m/2+p-a)+" "+(u+g+5)+" L "+(c+m/2+2.5+p)+" "+(u+g)+" "),h+="L "+(c+n)+" "+(u+g)+" Q "+c+" "+(u+g)+" "+c+" "+(u+g-n)+" ",i&&"left"==s&&(h+="L "+c+" "+(u+g/2-2.5+p)+" L "+(c-5)+" "+(u+g/2+p-a)+" L "+c+" "+(u+g/2+2.5+p)+" "),h+"L "+c+" "+(r+u)+" z"},browserInfo:function(){var e={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var s in i)if(i.hasOwnProperty(s)&&(t=navigator.userAgent.match(i[s]))){e.name=t[1].toLowerCase(),e.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(e.name="msie");break}return e.isMSPointerEnabled="msie"==e.name&&e.version>9&&window.navigator.msPointerEnabled,e.pointerEnabled=window.navigator.pointerEnabled,e},_measureText:function(t,i,s){var a,o,r,n,l,d=e(document).find("#measureTex");e("#measureTex").css("display","block"),0==d.length?(a=document.createElement("text"),e(a).attr({id:"measureTex"}),document.body.appendChild(a)):a=d[0];var h=null,c=null,u=null,p=null;if("string"==typeof t&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(o=t.split(" "),r=0;r<o.length;r++)-1==o[r].indexOf("<br/>")&&(o[r]=o[r].replace(/[<>]/g,"&"));t=o.join(" ")}return/<\/?[a-z][\s\S]*>/.test(t)?e(a).html(t):a.textContent=t,null!=s&&null==s.size&&(h=(n=(n=s).split(" "))[0],c=n[1],u=n[2],p=n[3]),null!=s&&(a.style.fontSize=s.size>0?s.size+"px":s.size?s.size:c,a.style.fontStyle&&(a.style.fontStyle=s.fontStyle?s.fontStyle:h),a.style.fontFamily=s.fontFamily?s.fontFamily:u,-1==window.navigator.userAgent.indexOf("MSIE 8.0")&&(a.style.fontWeight=s.fontWeight?s.fontWeight:p)),a.style.backgroundColor="white",a.style.position="absolute",a.style.top=-100,a.style.left=0,a.style.visibility="hidden",a.style.whiteSpace="nowrap",i&&(a.style.maxwidth=i+"px"),l={width:a.offsetWidth,height:a.offsetHeight},e("#measureTex").css("display","none"),l},_trimText:function(e,t,i){var s,a,o;for(a=(s=e.toString()).length,o=1;o<a;o++)if(s=e.substring(0,o)+"...",ej.EjSvgRender.utils._measureText(s,null,i).width>=t)return s.substring(0,o-1)+"... ";return e},_measureBounds:function(t,i){i.model.enableCanvasRendering?e(document.body).append(t):(i.svgRenderer.append(t,i.svgObject),i.svgRenderer.append(i.svgObject,i.element));var s=t.getBoundingClientRect(),a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,width:s.right-s.left,height:s.bottom-s.top};return e(t).remove(),a},_drawAxesBoundsClipPath:function(t,i,s){var a,o=e(t),r=this._getTransform(i.xAxis,i.yAxis,s.model.requireInvertedAxes),n="polaraxes"==s.model.AreaType?e(s.svgObject).width():r.width,l="polaraxes"==s.model.AreaType?e(s.svgObject).height():r.height,d=s.model.requireInvertedAxes?i.yAxis.plotOffset:i.xAxis.plotOffset,h=s.model.requireInvertedAxes?i.xAxis.plotOffset:i.yAxis.plotOffset;"polaraxes"==s.model.AreaType?s.svgRenderer.drawCircularClipPath(a={id:t?t.id+"_ClipRect":"",cx:s.model.centerX,cy:s.model.centerY,r:s.model.Radius,fill:"white","stroke-width":1,stroke:"transparent"},t):s.svgRenderer.drawClipPath(a={id:t?t.id+"_ClipRect":"",x:0-d,y:0-h,width:n+2*d,height:l+2*h,fill:"white","stroke-width":1,stroke:"transparent"},t),a.id.indexOf("_Rect")&&(a.id=a.id.replace("_Rect","")),o.attr("clip-path","url(#"+a.id+")")},_getStringBuilder:function(){var e=[],t=0;return{append:function(i){return e[t++]=i,this},remove:function(t,i){return e.splice(t,i||1),this},insert:function(t,i){return e.splice(t,0,i),this},toString:function(t){return e.join(t||"")}}},_addRegion:function(t,i,s,a,o){var r=s.type,n=e.inArray(s,t.model._visibleSeries);n>=0&&t.model.chartRegions.push({SeriesIndex:n,Region:{PointIndex:o,Bounds:i},type:r})},AddRegion:function(e,t,i){i&&e.model.chartRegions.push({isStripLine:i,Region:{Bounds:t}})},_getSvgXY:function(e,t,i,s){var a,o;return s.model.requireInvertedAxes?(a=e+i.yAxis.x,o=t+i.xAxis.y):(a=e+i.xAxis.x,o=t+i.yAxis.y),{X:a,Y:o}},_getPoint:function(e,t){var i,s,a,o=e.xValue,r="boxandwhisker"==t.type?e.YValues:e.YValues[0],n=t._isTransposed?t.xAxis.height:t.xAxis.width,l=t._isTransposed?t.yAxis.width:t.yAxis.height;return e.location={},t._hiloTypes&&(i=e.YValues[1],i="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==i?1:i,t.xAxis.logBase):i,i=this._getPointXY(i,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.low=(t._isTransposed?i:1-i)*l),s="logarithmic"==t.xAxis._valueType?ej.EjSvgRender.utils._logBase(0==o?1:o,t.xAxis.logBase):o,a="logarithmic"==t.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==r?1:r,t.xAxis.logBase):r,s=this._getPointXY(s,t.xAxis.visibleRange,t.xAxis.isInversed),a=this._getPointXY(a,t.yAxis.visibleRange,t.yAxis.isInversed),e.location.X=t._isTransposed?a*l:s*n,e.location.Y=t._isTransposed?(1-s)*n:(1-a)*l,e.location},_getPointXY:function(e,t,i){var s=0;return s=(e-t.min)/t.delta,s=isNaN(s)?0:s,i?1-s:s},_dateTimeLabelFormat:function(e,t){switch(e.toLowerCase()){case"years":return t._labelFormat="MMM, yyyy";case"months":case"weeks":return t._labelFormat="dd, MMM";case"days":return t._labelFormat="dd/MM/yyyy";case"hours":return t._labelFormat="dd, hh:mm";case"minutes":return t._labelFormat="hh:mm";case"seconds":return t._labelFormat="mm:ss";case"milliseconds":return t._labelFormat="ss:fff";default:return t._labelFormat="dd/MM/yyyy"}},_getFontString:function(e){return null==e&&(e={}),e.FontFamily||(e.FontFamily="Arial"),e.FontStyle||(e.FontStyle="Normal"),e.Size||(e.Size="12px"),e.FontStyle+" "+e.Size+" "+e.FontFamily},_valueToVector:function(e,t){return this._coefficientToVector(this._valueToPolarCoefficient(e,t))},TransformToVisible:function(e,t,i,s){t="logarithmic"==e.xAxis._valueType&&t>0?Math.log(t,e.xAxis.logBase):t,i="logarithmic"==e.xAxis._valueType&&i>0?Math.log(i,e.yAxis.logBase):i;var a=s.model.Radius*this._valueToCoefficient(e.yAxis,i),o=this._valueToVector(e.xAxis,t);return{X:s.model.centerX+a*o.X,Y:s.model.centerY+a*o.Y}},Transform3DToVisible:function(e,t,i,s){if(null!=e.xAxis&&null!=e.yAxis){if(t=t="logarithmic"==e.xAxis._valueType.toLowerCase()&&t>0?math.log(t,void 0):t,i=i,s.model.requireInvertedAxes){var a=s.model.m_AreaBounds.Y;return{X:s.model.m_AreaBounds.X+e.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s),Y:a+e.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s))}}return a=e.yAxis.y,{X:t=e.xAxis.x+Math.round(e.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(e.xAxis,t,s)),Y:i=a+Math.round(e.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(e.yAxis,i,s)))}}return new(void 0)(0,0)},_valueToPolarCoefficient:function(e,t){var i,s,a;return"category"!=e._valueType?(i=e.visibleRange.max-e.visibleRange.interval-e.visibleRange.min,s=e.visibleLabels.length-1):(i=e.visibleRange.delta,s=e.visibleLabels.length),a=(t-e.visibleRange.min)/i,a*=1-1/s,a=isNaN(a)?0:a,e.isInversed?a:1-a},_coefficientToVector:function(e){var t=Math.PI*(1.5-2*e);return{X:Math.cos(t),Y:Math.sin(t)}},_valueToCoefficient:function(e,t,i){var s;return s=((s=i&&"polaraxes"==i.model.AreaType?t:e._valueType&&"logarithmic"==e._valueType.toLowerCase()?ej.EjSvgRender.utils._logBase(0==t?1:t,e.logBase):t)-e.visibleRange.min)/e.visibleRange.delta,e.isInversed?1-s:s},_getBoundingClientRect:function(t,i,s,a){var o,r,n=t.getBoundingClientRect(),l=e("#"+i.svgObject.id)[0].getBoundingClientRect();return a?(o=this._getTransform(s.xAxis,s.yAxis,!0).x,r=this._getTransform(s.xAxis,s.yAxis,!0).y):(o=this._getTransform(s.xAxis,s.yAxis,!1).x,r=this._getTransform(s.xAxis,s.yAxis,!1).y),{x:n.left-(o+l.left),y:n.top-(r+l.top),width:n.right-n.left,height:n.bottom-n.top}},_minMax:function(e,t,i){return e>i?i:e<t?t:e},_inside:function(e,t){return""!==e&&e<=t.max&&e>=t.min},_logBase:function(e,t){return Math.log(e)/Math.log(t)},_correctRect:function(e,t,i,s){return{X:Math.min(e,i),Y:Math.min(t,s),Width:Math.abs(i-e),Height:Math.abs(s-t)}},_getValuebyPoint:function(e,t,i,s){var a=s?i.xAxis.height:i.xAxis.width,o=s?i.yAxis.width:i.yAxis.height,r=i.xAxis.isInversed?1-e/a:e/a,n=i.yAxis.isInversed?1-t/o:t/o;return r=r*i.xAxis.visibleRange.delta+i.xAxis.visibleRange.min,n=n*i.yAxis.visibleRange.delta+i.yAxis.visibleRange.min,{PointX:r="logarithmic"==i.xAxis._valueType?Math.pow(i.xAxis.logBase,r):r,PointY:n="logarithmic"==i.yAxis._valueType?Math.pow(i.yAxis.logBase,n):n}}},ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(e){return this.vector||(this.vector=new((new ej.Ej3DRender).vector3D),this.matrixobj=new((new ej.Ej3DRender).matrix3D),this.bsptreeobj=new((new ej.Ej3DRender).BSPTreeBuilder),this.polygon=new((new ej.Ej3DRender).polygon3D)),{mViewport:e,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity(),Depth:0}},transform:function(e){this.setCenter(this.vector.vector3D(e.mViewport.Width/2,e.mViewport.Height/2,e.Depth/2),e),this.setViewMatrix(this.matrixobj.transform(0,0,e.Depth),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.turn(-this.ToRadial*e.Rotation)),e),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(e.viewMatrix,this.matrixobj.tilt(-this.ToRadial*e.Tilt)),e),this.updatePerspective(e.PerspectiveAngle,e),e.needUpdate=!0},updatePerspective:function(e,t){var i=(t.mViewport.Width+t.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(e%181))/2))+t.Depth/1;t.Perspective[0][0]=i,t.Perspective[1][1]=i,t.Perspective[2][3]=1,t.Perspective[3][3]=i},degreeToRadianConverter:function(e){return e*Math.PI/180},toScreen:function(e,t,i,s){return i=i||this.result,s?(this.matrixobj=s,e=s.getMatrixVectorMutiple(i(t,s),e)):(t.chartObj=this.matrixobj,e=this.matrixobj.getMatrixVectorMutiple(i(t),e)),{x:e.x,y:e.y}},setViewMatrix:function(e,t){t.viewMatrix!=e&&(t.viewMatrix=e,t.needUpdate=!0)},setCenteredMatrix:function(e,t){t.viewMatrix!=e&&(t.centeredMatrix=e,t.needUpdate=!0)},result:function(e,t){var i=e.chartObj?e.chartObj:this.matrixobj;return i||(i=t),e.needUpdate?(e.resultMatrix=i.getMatrixMultiplication((this.matrixobj?this.matrixobj:t).getInvertal(e.centeredMatrix),e.Perspective),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.viewMatrix),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.centeredMatrix),e.needUpdate=!1,e.resultMatrix):e.resultMatrix},setCenter:function(e,t){t.centeredMatrix=this.matrixobj.transform(-e.x,-e.y,-e.z),t.needUpdate=!0},toPlane:function(e,t,i){var s=this.vector.vector3D(e.x,e.y,0),a=this.vector.vector3DPlus(s,this.vector.vector3D(0,0,1));return s=this.vector.vector3DMultiply(i.centeredMatrix,s),a=this.vector.vector3DMultiply(i.centeredMatrix,a),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),s),a=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),a),s=this.polygon.getPoint(s,this.vector.vector3DMinus(a-s)),s=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.viewMatrix),s),this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.centeredMatrix),s)}},ej.EjSvgRender.chartSymbol={_drawSeriesType:function(e,t,i){var s=i.model.series[t.SeriesIndex].type.toLowerCase(),a=i.legendItem.drawType;switch(s=ej.util.isNullOrUndefined(a)?s:a){case ej.datavisualization.Chart.Type.Line:return ej.util.isNullOrUndefined(a)?this._drawLine(e,t,i,i.gLegendItemEle):this._drawStraightLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepLine:return this._drawStepLine(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.StackingArea100:case ej.datavisualization.Chart.Type.Area:case ej.datavisualization.Chart.Type.RangeArea:return this._drawArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepArea:return this._drawStepArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar100:case ej.datavisualization.Chart.Type.StackingBar:return this._drawBar(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pie:return this._drawPie(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Doughnut:return this._drawDoughnut(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Hilo:return this._drawHilo(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.HiloOpenClose:return this._drawHiloOpenClose(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Candle:return this._drawCandle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pyramid:return this._drawPyramid(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Funnel:return this._drawFunnel(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Spline:return this._drawSpline(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.SplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea100:return this._drawSplineArea(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.RangeColumn:return this._drawRangeColumn(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:return this._drawCircle(e,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:case ej.datavisualization.Chart.Type.StackingColumn100:case ej.datavisualization.Chart.Type.Waterfall:return this._drawColumn(e,t,i,i.gLegendItemEle);default:return this._drawRectangle(e,t,i,i.gLegendItemEle)}},_drawCircle:function(e,t,i,s){var a=i.svgRenderer,o=t.ShapeSize,r=Math.sqrt(o.height*o.height+o.width*o.width)/2,n=t.Style;return a.drawCircle({id:t.ID,cx:e.startX,cy:e.startY,r:r,fill:n.Color,"stroke-width":n.BorderWidth,stroke:n.BorderColor,opacity:n.Opacity,visibility:n.Visibility,lgndCtx:t.context},s),e.startX-r},_drawLeftArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2+a.width)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2+a.width)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX-a.width/2)+" "+e.startY+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2+a.width)+" "+(e.startY+a.height/4)+" z"},s)},_drawRightArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX-a.width/2+a.width)+" "+e.startY+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width/2+a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX-a.width/2)+" "+(e.startY+a.height/4)+" z"},s)},_drawUpArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX-a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+e.startX+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2+a.height)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height)+" z"},s)},_drawDownArrow:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2-a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+e.startX+" "+(e.startY-a.height/2+a.height)+" L "+(e.startX-a.width/2)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2+a.height/2)+" L "+(e.startX-a.width/2+a.width/4)+" "+(e.startY-a.height/2)+" z"},s)},_drawCross:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+a.width/2)+" "+e.startY+" M "+e.startX+" "+(e.startY+a.height/2)+" L "+e.startX+" "+(e.startY+-a.height/2)},s)},_drawHorizLine:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+a.width/2)+" "+e.startY},s)},_drawVertLine:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+e.startX+" "+(e.startY+a.height/2)+" L "+e.startX+" "+(e.startY+-a.height/2)},s)},_drawTriangle:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+(e.startY+a.height/2)+" L "+e.startX+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/2)+" z"},s)},_drawInvertedTriangle:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+a.width/2)+" "+(e.startY-a.height/2)+" L "+e.startX+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width/2)+" "+(e.startY-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY-a.height/2)+" z"},s)},_drawHexagon:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+-a.width/4)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/4)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+e.startY+" L "+(e.startX+a.width/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+e.startY+" z"},s)},_drawWedge:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({"stroke-linecap":"miter","stroke-miterlimit":a.width/4,id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX-a.width)+" "+e.startY+" L "+(e.startX+a.width)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/4*3)+" "+e.startY+" L "+(e.startX+a.width)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.width)+" "+e.startY+" z"},s)},_drawPentagon:function(e,t,i,s){for(var a,o=i.svgRenderer,r=t.ShapeSize,n=Math.sqrt(r.height*r.height+r.width*r.width)/2,l=ej.EjSvgRender.utils._getStringBuilder(),d=0;d<=5;d++){var h=Math.PI/180*(72*d),c=n*Math.cos(h),u=n*Math.sin(h);l.append(0==d?"M "+(e.startX+c)+" "+(e.startY+u)+" ":"L "+(e.startX+c)+" "+(e.startY+u)+" ")}l.append("z"),a=l.toString(),o.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:a},s)},_drawStar:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+a.width/3)+" "+(e.startY+-a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/6)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/6)+" L "+(e.startX+-a.width/3)+" "+(e.startY+-a.height/2)+" L "+e.startX+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/3)+" "+(e.startY+-a.height/2)+" z"},s)},_drawRectangle:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/2)+" z"},s)},_drawTrapezoid:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/4)+" L "+(e.startX+-a.width/2+a.width)+" "+(e.startY+-a.height/2)+" L "+(e.startX+-a.width/2+a.width)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+(e.startY+a.height/4)+" L "+(e.startX+-a.width/2)+" "+e.startY+" z"},s)},_drawDiamond:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:"M "+(e.startX+-a.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+e.startY+" L "+e.startX+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2)+" "+e.startY+" z"},s)},_drawEllipse:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawEllipse({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,cx:e.startX,cy:e.startY,rx:a.width,ry:a.height/2},s)},_drawImage:function(e,t,i,s){var a=t.ShapeSize;i.svgRenderer.drawImage({id:i.svgObject.id+"_image"+t.PointIndex,height:a.height,width:a.width,href:t.Imageurl,x:e.startX+-a.width/2,y:e.startY+-a.width/2,visibility:"visible",lgndCtx:t.context},s)},_drawStraightLine:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+a.height/10)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/10),lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawLine:function(e,t,i,s){var a,o=i.svgRenderer,r=t.ShapeSize,n=t.ElementSpace;if(!0===i.model.enableCanvasRendering){a="M "+(e.startX+-r.width/2+-n/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+n/4)+" "+(e.startY+r.height/10);var l={id:t.ID,fill:t.Style.Color,"stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},d="M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",h={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:d,lgndCtx:!0};o.drawPath(l,s),o.drawPath(h,s)}else a="M "+(e.startX+-r.width/2+-n/4)+" "+(e.startY+r.height/10)+" L "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" M "+(e.startX+Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" L "+(e.startX+r.width/2+n/4)+" "+(e.startY+r.height/10)+" M "+(e.startX-Math.floor(r.width/3))+" "+(e.startY+r.height/10)+" a "+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+2*Math.floor(r.width/3)+" 0 a"+Math.floor(r.width/3)+" "+Math.floor(r.width/3)+" 0 1 0 "+-2*Math.floor(r.width/3)+" 0",o.drawPath(l={id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:a,lgndCtx:!0},s);return e.startX+-r.width/2+-n/4},_drawColumn:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/5*3)+" "+(e.startY-a.height/5)+" L "+(e.startX+-a.width/10*3)+" "+(e.startY-a.height/5)+" L "+(e.startX+-a.width/10*3)+" "+(e.startY+a.height/2)+" L "+(e.startX-a.height/5*3)+" "+(e.startY+a.height/2)+" Z M "+(e.startX+-a.width/10-a.width/20)+" "+(e.startY-a.height/4-o/2)+" L "+(e.startX+a.width/10+a.width/20)+" "+(e.startY-a.height/4-o/2)+" L "+(e.startX+a.width/10+a.width/20)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/10-a.width/20)+" "+(e.startY+a.height/2)+" Z M "+(e.startX+a.width/10*3)+" "+e.startY+" L "+(e.startX+a.width/5*3)+" "+e.startY+" L "+(e.startX+a.width/5*3)+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/10*3)+" "+(e.startY+a.height/2)+" Z",lgndCtx:!0},s),e.startX-a.width/5*3},_drawRangeColumn:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/5)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+-a.width/5)+" "+(e.startY-a.height/2-o/4)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2+-o/4)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2+o/4)+" Z",lgndCtx:!0},s),e.startX+-a.width/5},_drawBar:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY-a.height/5*3)+" L "+(e.startX+a.width/10*3)+" "+(e.startY-a.height/5*3)+" L "+(e.startX+a.width/10*3)+" "+(e.startY-a.height/10*3)+" L "+(e.startX-a.width/2+-o/4)+" "+(e.startY-a.height/10*3)+" Z M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY-a.height/5+o/20)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY-a.height/5+o/20)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/10+o/20)+" L "+(e.startX-a.width/2+-o/4)+" "+(e.startY+a.height/10+o/20)+" Z M "+(e.startX-a.width/2+-o/4)+" "+(e.startY+a.height/5+o/10)+" L "+(e.startX+-a.width/4)+" "+(e.startY+a.height/5+o/10)+" L "+(e.startX+-a.width/4)+" "+(e.startY+a.height/2+o/10)+" L "+(e.startX-a.width/2+-o/4)+" "+(e.startY+a.height/2+o/10)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawStepLine:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2-o/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2+a.width/10)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2+a.width/10)+" "+e.startY+" L "+(e.startX+-a.width/10)+" "+e.startY+" L "+(e.startX+-a.width/10)+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/5)+" "+(e.startY+a.height/2)+" L "+(e.startX+a.width/5)+" "+(e.startY+-a.height/2)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2)+"L "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" L"+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/2),lgndCtx:!0},s),e.startX+-a.width/2-o/4},_drawSpline:function(e,t,i,s){var a=t.ShapeSize;return i.svgRenderer.drawPath({id:t.ID,fill:"transparent","stroke-width":2*t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/2)+" "+(e.startY+a.height/5)+" Q "+e.startX+" "+(e.startY-a.height)+" "+e.startX+" "+(e.startY+a.height/5)+" M "+e.startX+" "+(e.startY+a.height/5)+" Q "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" "+(e.startX+a.width/2)+" "+(e.startY-a.height/2),lgndCtx:!0},s),e.startX-a.width/2},_drawSplineArea:function(e,t,i,s){var a=t.ShapeSize;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/2)+" "+(e.startY+a.height/5)+" Q "+e.startX+" "+(e.startY-a.height)+" "+e.startX+" "+(e.startY+a.height/5)+" Z M "+e.startX+" "+(e.startY+a.height/5)+" Q "+(e.startX+a.width/2)+" "+(e.startY+a.height/2)+" "+(e.startX+a.width/2)+" "+(e.startY-a.height/2)+"  Z",lgndCtx:!0},s),e.startX-a.width/2},_drawArea:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX-a.width/2-o/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/4+-o/8)+" "+(e.startY-a.height/2)+" L "+e.startX+" "+(e.startY+a.height/4)+" L "+(e.startX+a.width/4+o/8)+" "+(e.startY+-a.height/2+a.height/4)+" L "+(e.startX+a.height/2+o/4)+" "+(e.startY+a.height/2)+" Z",lgndCtx:!0},s),e.startX-a.width/2-o/4},_drawStepArea:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+a.height/2)+" L "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+-a.height/2)+" L "+(e.startX-a.width/4)+" "+(e.startY-a.height/2)+" L "+(e.startX-a.width/4)+" "+(e.startY-a.height/4)+" L "+(e.startX+a.width/4)+" "+(e.startY-a.height/4)+" L "+(e.startX+a.width/4)+" "+e.startX+" L "+(e.startX+a.width/2+o/4)+" "+e.startY+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/2)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawPyramid:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/4)+" "+(e.startY+a.height/2+o/8)+" L "+e.startX+" "+(e.startY+-a.height/2+-o/8)+" L "+(e.startX+a.width/2+o/4)+" "+(e.startY+a.height/2+o/8)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/4},_drawFunnel:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2+-o/5)+" "+(e.startY+-a.height/2+-o/4)+" L "+(e.startX+-a.width/5)+" "+(e.startY+a.height/4)+" L "+(e.startX+-a.width/5)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+a.width/5)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+a.width/5)+" "+(e.startY+a.height/4)+" L "+(e.startX+a.width/2+o/5)+" "+(e.startY+-a.height/2+-o/4)+" Z",lgndCtx:!0},s),e.startX+-a.width/2+-o/5},_drawCandle:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+-a.width/2)+" "+(e.startY+a.height/4+o/8)+" L "+(e.startX+a.width/2)+" "+(e.startY+a.height/4+o/8)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2+o/8)+" L "+(e.startX+-a.width/2)+" "+(e.startY+-a.height/2+o/8)+" Z M "+e.startX+" "+(e.startY+-a.height/2+o/8)+" L "+e.startX+" "+(e.startY+-a.height/2+-o/4)+" M "+e.startX+" "+(e.startY+a.height/4+o/8)+" L "+e.startX+" "+(e.startY+a.height/4+o/2),lgndCtx:!0},s),e.startX+-a.width/2},_drawHilo:function(e,t,i,s){var a=t.ShapeSize,o=t.ElementSpace;return i.svgRenderer.drawPath({id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:"M "+(e.startX+a.width/2)+" "+(e.startY+a.height/2+o/4)+" L "+(e.startX+a.width/2)+" "+(e.startY+-a.height/2+-o/4),lgndCtx:!0},s),e.startX+a.width/2},_drawHiloOpenClose:function(e,i,s,a){var o=s.svgRenderer,r=i.ShapeSize,n=(t(18,12,4.0710678118654755,270),i.ElementSpace);return o.drawPath({id:i.ID,fill:"transparent","stroke-width":i.Style.BorderWidth,stroke:i.Style.Color,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:"M "+e.startX+" "+(e.startY-r.height/10*3)+" L "+(e.startX-r.width/2-n/4)+" "+(e.startY-r.height/10*3)+" M "+e.startX+" "+(e.startY-r.height/2-n/4)+" L "+e.startX+" "+(e.startY+r.height/2+n/4)+" M "+e.startX+" "+(e.startY+r.height/10*3)+" L "+(e.startX+r.width/2+n/4)+" "+(e.startY+r.height/10*3),lgndCtx:!0},a),e.startX-r.width/2},_drawDoughnut:function(e,i,s,a){var o=s.svgRenderer,r=i.ShapeSize,n=i.ElementSpace,l=Math.sqrt(r.height*r.width)/2,d=t(e.startX,e.startY,l+=n/5,270),h=t(e.startX+r.width/10,e.startY,l,270),c=(n=i.ElementSpace,{id:i.ID,cx:e.startX,cy:e.startY,r:l/2,lgndCtx:!0,fill:"white","stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility});return o.drawPath({id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:"M "+e.startX+" "+e.startY+" L "+(e.startX+l)+" "+e.startY+" A "+l+" "+l+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+l)+" "+(e.startY-r.height/10)+" A "+l+" "+l+" 0 0 0 "+h[0]+" "+h[1]+" Z",lgndCtx:!0},a),o.drawCircle(c,a),e.startX-l},_drawPie:function(e,i,s,a){var o=s.svgRenderer,r=i.ShapeSize,n=i.ElementSpace,l=Math.sqrt(r.height*r.width)/2,d=t(e.startX,e.startY,l+=n/5,270),h=t(e.startX+r.width/10,e.startY,l,270);return n=i.ElementSpace,o.drawPath({id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:"M "+e.startX+" "+e.startY+" L "+(e.startX+l)+" "+e.startY+" A "+l+" "+l+" 0 1 1 "+d[0]+" "+d[1]+" Z M "+(e.startX+r.width/10)+" "+(e.startY-r.height/10)+" L"+(e.startX+l)+" "+(e.startY-r.height/10)+" A "+l+" "+l+" 0 0 0 "+h[0]+" "+h[1]+" Z",lgndCtx:!0},a),e.startX-l}},ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultHighContrast:["#F93A00","#44E2D6","#DDD10D","#0AA368","#0556CB","#AB40B2","#5F930A","#D12E41","#E0670E","#008FFF"],defaultOffice:["#005277","#8BC652","#6A4B82","#E94649","#6FAAB0","#F7B74F","#C4C24A","#EF863F","#69D2E7","#FFD13E"],defaultMaterial:["#663AB6","#EB3F79","#F8AB1D","#B82E3D","#049CB1","#F2424F","#C2C924","#3DA046","#074D67","#02A8F4"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},ej.EjSvgRender.themes={flatlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},highcontrast01:{highlightColor:"white",background:"#111111",legend:{font:{color:"#ffffff"},title:{font:{color:"#ffffff"}}},title:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#ffffff"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultHighContrast,colors:ej.EjSvgRender.seriesPalette.defaultHighContrast},material:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMaterial,colors:ej.EjSvgRender.seriesPalette.defaultMaterial},office365:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultOffice,colors:ej.EjSvgRender.seriesPalette.defaultOffice}},e.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery),ej.axisTypes={},ej.EjAxisRenderer=function(){};var _sideBySeriesPadding=function(e,t,i,s){for(var a,o,r=ej.DataManager(e.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),n=!1,l=r.length,d=(s.orientation.toLowerCase(),0);d<l;d++)if(-1!=(a=r[d].type.toLowerCase()).indexOf("column")||-1!=a.indexOf("bar")||-1!=a.indexOf("waterfall")||"candle"==a||-1!=a.indexOf("hilo")||-1!=a.indexOf("box")){n=!0;break}return"polaraxes"!=e.model.AreaType&&n?(s.m_minPointsDelta=void 0,t-=o=.5*ej.EjSvgRender.utils.getMinPointsDelta(s,e,t),i=i+o>Number.MAX_VALUE?Number.MAX_VALUE:i+o,s.padding=o):s.padding=0,{startPadding:t,endPadding:i}};ej.EjStripline=function(e){this.chart=e},function(e){function t(t,i){var s=function(){};return s.prototype=new t,e.extend(s.prototype,i),s}var i,s,a,o,r;ej.EjAxisRenderer.prototype={_seriesMinMax:function(t,i,s,a,o){var r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L=i.orientation.toLowerCase(),k=s.length;if(o.seriesCollection=ej.util.isNullOrUndefined(o.seriesCollection)?{}:o.seriesCollection,k>0&&t.model._hasSeriesPoints&&s[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){var P,j,D,A,O,I,R,M,E,V,N,F={maxX:null,minX:null},B={maxY:null,minY:null},z=F.maxX,Y=F.minX,X=B.maxY,H=B.minY;for(l=0;l<k;l++){if(M=s[l].visibility.toLowerCase(),E=s[l].points.length,r=0,"visible"===M)for(s[l]._visiblePoints=[],p=0;p<E;p++)(null!=(n=s[l].points[p]).x&&null!=n.x&&("object"==typeof n.y||!isNaN(n.y))&&null!=n.y&&null!=n.y||n.showIntermediateSum||n.showTotalSum||0==n.isEmpty)&&(s[l]._visiblePoints[r]=n,s[l]._visiblePoints[r].actualIndex=p,r++);i.maxPointLength=E}for(l=0;l<k;l++)if(d=s[l],(V=s[l]._visiblePoints.length)>0&&(M=s[l].visibility.toLowerCase(),E=s[l].points.length,"visible"===M&&E>0))if("horizontal"==L&&!t.model.requireInvertedAxes||"vertical"==L&&t.model.requireInvertedAxes){for(D=P=s[l]._visiblePoints[0].xValue,p=0;p<V;p++)D>(m=s[l]._visiblePoints[p].xValue)&&(D=m),P<m&&(P=m);s[l].minX=D,s[l].maxX=P,null==Y&&V>0&&(z=s[l].maxX,Y=s[l].minX),Y>s[l].minX&&(Y=s[l].minX),z<s[l].maxX&&(z=s[l].maxX)}else{var W,U,$,G,q,Z=-1!=d.type.toLowerCase().indexOf("spline"),Q=0,K=s[l]._visiblePoints;for(Z&&(h=d._name=d.name||"series"+l,o.seriesCollection[h]={},K=ej.ejSplineSeries.prototype._isVisiblePoints(d),U=o.seriesCollection[h].naturalSpline=ej.ejSplineSeries.prototype.naturalSpline(K,d,0,i),"splinerangearea"==d.type.toLowerCase()&&($=o.seriesCollection[h].naturalSpline1=ej.ejSplineSeries.prototype.naturalSpline(K,d,1,i)),o.seriesCollection[h].controlPoints=[],G=ej.ejSplineSeries.prototype.getBezierControlPoints,q=K.filter((function(e){return!ej.isNullOrUndefined(e.YValues[0])&&!isNaN(e.YValues[0])}))),A=j=Z?q[0].YValues[0]:K[0].YValues[0],p=0;p<K.length;p++)if(m=K[p],s[l]._hiloTypes&&"splinerangearea"!=d.type.toLowerCase())for(g=0;g<2;g++)j>m.YValues[g]&&(j=m.YValues[g]),A<m.YValues[g]&&(A=m.YValues[g]);else if("boxandwhisker"==d.type.toLowerCase()){for(c=K[p].YValues[0][0],u=K[p].YValues[0][0],_=0;_<m.YValues[0].length;_++)c>m.YValues[0][_]&&(c=m.YValues[0][_]),u<m.YValues[0][_]&&(u=m.YValues[0][_]);j=c>j?j:c,A=u<A?A:u}else Z?0!=p&&m.visible&&K[p-1].visible?(o.seriesCollection[h].controlPoints.push(G(K[p-1],m,U[p-1],U[p],0,d,this)),"splinerangearea"==d.type.toLowerCase()&&(f=G(K[p-1],m,$[p-1],$[p],1,d,this),o.seriesCollection[h].controlPoints[Q].controlPoint1.YValues[1]=f.controlPoint1.YValues[0],o.seriesCollection[h].controlPoints[Q].controlPoint2.YValues[1]=f.controlPoint2.YValues[0]),W=o.seriesCollection[h].controlPoints[Q++],j=Math.min(j,m.YValues[0],W.controlPoint1.YValues[0],W.controlPoint2.YValues[0]),A=Math.max(A,m.YValues[0],W.controlPoint1.YValues[0],W.controlPoint2.YValues[0]),"splinerangearea"==d.type.toLowerCase()&&(j=Math.min(j,m.YValues[1],W.controlPoint1.YValues[1],W.controlPoint2.YValues[1]),A=Math.max(A,m.YValues[1],W.controlPoint1.YValues[1],W.controlPoint2.YValues[1]))):(0!=p&&(-1!=d.type.toLowerCase().indexOf("stacking")||"splinerangearea"==d.type.toLowerCase())&&(o.seriesCollection[h].controlPoints.push(G(K[p-1],m,U[p-1],U[p],0,d,this)),"splinerangearea"==d.type.toLowerCase()&&(f=G(K[p-1],m,$[p-1],$[p],1,d,this),o.seriesCollection[h].controlPoints[Q].controlPoint1.YValues[1]=f.controlPoint1.YValues[0],o.seriesCollection[h].controlPoints[Q].controlPoint2.YValues[1]=f.controlPoint2.YValues[0]),W=o.seriesCollection[h].controlPoints[Q++]),j=Math.min(j,isNaN(m.YValues[0])?j:m.YValues[0]||null),A=Math.max(A,m.YValues[0]||null),"splinerangearea"==d.type.toLowerCase()&&(j=Math.min(j,isNaN(m.YValues[1])?j:m.YValues[1]||null),A=Math.max(A,m.YValues[1]||null))):(j>m.YValues[0]&&(j=m.YValues[0]),A<m.YValues[0]&&(A=m.YValues[0]));s[l].minY=j,s[l].maxY=A,null==H&&V>0&&(X=s[l].maxY,H=s[l].minY),H>s[l].minY&&(H=s[l].minY),X<s[l].maxY&&(X=s[l].maxY),("column"==(N=s[l].type)||"bar"==N)&&i.startFromZero&&(H=H<0?H:0)}"horizontal"==L&&!t.model.requireInvertedAxes||"vertical"==L&&t.model.requireInvertedAxes?(this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[i.name]&&((H>(x=this.chartObj.model.indicatorRange[i.name]).min||null==H)&&(H=x.min),(X<x.max||null==X)&&(X=x.max)),z==Y&&(z+=1),"double"==a?(b=_sideBySeriesPadding(t,Y,z,i),i.range=this._getDoubleAutoRange(i,Y=b.startPadding,z=b.endPadding,z-Y)):i.range=this._getLogAutoRange(i,Y,z,z-Y)):(this.chartObj.model.stackedValue[i.name]&&(v=!0,H>(x=this.chartObj.model.stackedValue[i.name]).min&&(H=x.min),X<x.max&&(X=x.max)),this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[i.name]&&((H>(x=this.chartObj.model.indicatorRange[i.name]).min||null==H)&&(H=x.min),(X<x.max||null==X)&&(X=x.max)),X==H&&(X<0?X=0:X<=1&&X>0?H=0:(H=0,X+=1)),"column"!=N&&"bar"!=N||i.startFromZero||(y=i.range&&i.range.max||X,X+=w=i.range&&i.range.interval||this.calculateNumericNiceInterval(y-H,i,null,y),H-w<0&&H>0||v?H=0:H-=w),S=X-H,v=!1,i.range="double"==a?this._getDoubleAutoRange(i,H,X,S):this._getLogAutoRange(i,H,X,S))}else i.setRange?(R=(I=null==i.range.max||null==i.range.max?5:i.range.max)-(O=null==i.range.min||null==i.range.min?0:i.range.min),i.range="double"==a?this._getDoubleAutoRange(i,O,I,R):this._getLogAutoRange(i,O,I,R)):i.range={min:0,max:5,interval:1,Delta:4};(C=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={range:i.range,axis:i},this.chartObj._trigger("axesRangeCalculate",C),i.range={min:(T=C.data.range).min,max:T.max,interval:T.interval,delta:T.max-T.min}},_calculateTrendLineRange:function(e,t,i){for(var s,a,o,r,n,l,d=i.length,h=0;h<d;h++)if(o=(a=i[h]).trendlines,"cartesianaxes"==e.model.AreaType&&(t.name==a._xAxisName||t.name==a._yAxisName))for(n=o.length,s=0;s<n;s++)"visible"===(r=o[s]).visibility.toLowerCase()&&(t.name==a._xAxisName?(l=r.type.toLowerCase(),(new ej.trendlineTypes[l]).calculateTrendLineSegment(a,r,t,e)):t.name==a._yAxisName&&!t.setRange&&r.points&&r.points.length>1&&(t.range.min=t.range.min>r.minY?r.minY:t.range.min,t.range.max=t.range.max<r.maxY?r.maxY:t.range.max));return!1},AlignRangeStart:function(e,t,i){var s,a,o,r,n,l,d,h=new Date(e);return"days"==i.toLowerCase()?(s=Math.floor(Math.floor(e.getDate()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),s,0,0,0)):"hours"==i.toLowerCase()?(a=Math.floor(Math.floor(e.getHours()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),a,0,0)):"milliseconds"==i.toLowerCase()?(o=Math.floor(Math.floor(e.getMilliseconds()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),o)):"seconds"==i.toLowerCase()?(r=Math.floor(Math.floor(e.getSeconds()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),r,0)):"minutes"==i.toLowerCase()?(n=Math.floor(Math.floor(e.getMinutes()/t)*t),h=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),n,0,0)):"months"==i.toLowerCase()?(l=Math.floor(Math.floor(e.getMonth()/t)*t),h=new Date(e.getFullYear(),l,e.getDate(),0,0,0)):"years"==i.toLowerCase()&&(d=Math.floor(Math.floor(e.getFullYear()/t)*t),h=new Date(d,e.getMonth(),e.getDate(),0,0,0)),h},_increaseDateTimeInterval:function(e,t,i){var s=new Date(e);return"days"==i.toLowerCase()?s.setDate(e.getDate()+t):"hours"==i.toLowerCase()?s.setHours(e.getHours()+t):"milliseconds"==i.toLowerCase()?s.setMilliseconds(e.getMilliseconds()+t):"seconds"==i.toLowerCase()?s.setSeconds(e.getSeconds()+t):"minutes"==i.toLowerCase()?s.setMinutes(e.getMinutes()+t):"months"==i.toLowerCase()?s.setMonth(e.getMonth()+t):"years"==i.toLowerCase()?s.setYear(e.getFullYear()+t):"weeks"==i.toLowerCase()&&s.setDate(e.getDate()+7*t),s},_calculatePadding:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_="string"!=typeof e.range.min||isNaN(Date.parse(e.range.min))?e.range.min.getTime():Date.parse(e.range.min),f="string"!=typeof e.range.max||isNaN(Date.parse(e.range.max))?e.range.max.getTime():Date.parse(e.range.max),b=this._increaseDateTimeInterval(new Date(_),e.range.interval,e._intervalType).getTime()-_,v=e.rangePadding.toLowerCase();if(!this.chartObj.zoomed&&!e.setRange)if(_=new Date(_),f=new Date(f),t=e._intervalType.toLowerCase(),"none"==e.rangePadding.toLowerCase())_=_.getTime(),f=f.getTime();else if("additional"==v||"round"==v)switch(t){case"years":i=_.getFullYear(),s=f.getFullYear(),"additional"==e.rangePadding.toLowerCase()?(_=new Date(i-e.range.interval,1,1,0,0,0).getTime(),f=new Date(s+e.range.interval,1,1,0,0,0).getTime()):(_=new Date(i,0,0,0,0,0).getTime(),f=new Date(s,11,30,23,59,59).getTime());break;case"months":a=_.getMonth(),o=f.getMonth(),"round"==v?(_=new Date(_.getFullYear(),a,0,0,0,0).getTime(),f=new Date(f.getFullYear(),o,new Date(f.getFullYear(),f.getMonth(),0).getDate(),23,59,59).getTime()):(_=new Date(_.getFullYear(),a+-e.range.interval,1,0,0,0).getTime(),f=new Date(f.getFullYear(),o+e.range.interval,2==o?28:30,0,0,0).getTime());break;case"weeks":case"days":r=_.getDate(),n=f.getDate(),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),r,0,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),n,23,59,59).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),r+-e.range.interval,0,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),n+e.range.interval,0,0,0).getTime());break;case"hours":l=_.getHours()/e.range.interval*e.range.interval,d=f.getHours()+(_.getHours()-l),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),l,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),d,59,59).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),l+-e.range.interval,0,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),d+e.range.interval,0,0).getTime());break;case"minutes":h=_.getMinutes()/e.range.interval*e.range.interval,c=f.getMinutes()+(_.getMinutes()-h),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHour(),h,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHour(),c,59).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),h+-e.range.interval,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),h+e.range.interval,0).getTime());break;case"seconds":u=_.getSeconds()/e.range.interval*e.range.interval,p=f.getSeconds()+(_.getSeconds()-u),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),u,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHour(),f.getMinutes(),p,0).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),u+-e.range.interval,0).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),f.getMinutes(),p+e.range.interval,0).getTime());break;case"milliseconds":m=_.getMilliseconds()/e.range.interval*e.range.interval,g=f.getMilliseconds()+(_.getMilliseconds()-m),"round"==v?(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),_.getSeconds(),m).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),f.getMinutes(),f.getSeconds(),g).getTime()):(_=new Date(_.getFullYear(),_.getMonth(),_.getDay(),_.getHours(),_.getMinutes(),_.getSeconds(),m+-e.range.interval).getTime(),f=new Date(f.getFullYear(),f.getMonth(),f.getDay(),f.getHours(),f.getMinutes(),f.getSeconds(),g+e.range.interval).getTime())}e.actualRange.interval=b,e.actualRange.min=_,e.actualRange.max=f,e._interval=e.range.interval,e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.range.min=new Date(_),e.range.max=new Date(f),this._calculateVisibleRange(e)},_calculateVisibleRange:function(t,i,s){var a,o,r,n,l;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<(a=t.actualRange).min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max),n=new Date(o),l=new Date(r),o==r&&(n=new Date(Date.parse(n)-2592e6),l=new Date(Date.parse(l)+2592e6));var d=Math.min(n.getTime(),l.getTime()),h=Math.max(n.getTime(),l.getTime()),c=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,n,l):{interval:t._interval,intervalType:t._intervalType},u=this._increaseDateTimeInterval(n,c.interval,c.intervalType).getTime()-d;if(s)return{min:d,max:h,interval:u};t._intervalType=c.intervalType,t.visibleRange.min=d,t.visibleRange.max=h,t.visibleRange.interval=u,t.visibleRange.delta=Math.abs(t.visibleRange.max-t.visibleRange.min),t._interval=c.interval}},_calculateAxisLabels:function(t){for(var i,s,a=this.chartObj.zoomed||t.zoomed||!t.setRange?this.AlignRangeStart(new Date(t.enableAutoIntervalOnZooming?t.visibleRange.min:t.actualRange.min),t._interval,t._intervalType).getTime():t.visibleRange.min;a<=t.visibleRange.max;)a>=t.visibleRange.min&&a<=t.visibleRange.max&&(i="Weeks"!==t._intervalType||t.labelFormat?ej.format(new Date(a),t.labelFormat?t.labelFormat:ej.EjSvgRender.utils._dateTimeLabelFormat(t._intervalType,t),this.chartObj.model.locale):this.getWeekFormat(a),(s=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:i,Value:a},axis:t},this.chartObj._trigger("axesLabelRendering",s),t.visibleLabels.push({Value:a,Text:s.data.label.Text})),a=this._increaseDateTimeInterval(new Date(a),t._interval,t._intervalType).getTime(),t.visibleLabels[t.visibleLabels.length-1]=t.visibleLabels[t.visibleLabels.length-1];t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},getWeekFormat:function(e){var t=new Date(e),i=new Date(t.getFullYear(),0,1);return"Week "+Math.ceil(((t-i)/864e5+i.getDay()+1)/7)},calculateDateTimeNiceInterval:function(e,t,i){var s=Math.abs((t.getTime()-i.getTime())/864e5),a=this.calculateNumericNiceInterval(s/365,e,"years");return a<=1&&s>=365&&(a=1),a>=1?{interval:a,intervalType:"Years"}:(0==(a=this.calculateNumericNiceInterval(s/30,e,"months"))&&(a=1),a>=1?{interval:a,intervalType:"Months"}:(0==(a=this.calculateNumericNiceInterval(s/7,e,"weeks"))&&(a=1),a>=1?{interval:a,intervalType:"Weeks"}:(0==(a=this.calculateNumericNiceInterval(s,e,"days"))&&(a=1),a>=1?{interval:a,intervalType:"Days"}:(0==(a=this.calculateNumericNiceInterval(24*s,e,"hours"))&&(a=1),a>=1?{interval:a,intervalType:"Hours"}:(0==(a=this.calculateNumericNiceInterval(1440*s,e,"minutes"))&&(a=1),a>=1?{interval:a,intervalType:"Minutes"}:(0==(a=this.calculateNumericNiceInterval(86400*s,e,"seconds"))&&(a=1),a>=1?{interval:a,intervalType:"Seconds"}:(0==(a=this.calculateNumericNiceInterval(864e5*s,e,"milliseconds"))&&(a=1),a>=1?{interval:a,intervalType:"Milliseconds"}:void 0)))))))},calculateNumericNiceInterval:function(e,t,i,s){var a,o,r=this.GetActualDesiredIntervalsCount(t,t.length),n=e/r;if("double"==t._valueType&&null!=t.desiredIntervals)return n;var l=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(n,10))),d=[10,5,2,1],h=s||t.range&&t.range.max;for(a=0;a<d.length;a++){if(r<e/(o=l*d[a]))return"datetime"==t._valueType?ej.util.isNullOrUndefined(t.intervalType)||t.intervalType.toLowerCase()!=i?n:Math.ceil(n):ej.util.isNullOrUndefined(t.range)||ej.util.isNullOrUndefined(t.range.max)?n:n>h?o:n;n=o}return n},GetActualDesiredIntervalsCount:function(e,t){if(ej.util.isNullOrUndefined(e.desiredIntervals)){var i=("horizontal"==e.orientation.toLowerCase()?.533:1)*e.maximumLabels;return Math.max(t*(i/100),1)}return e.desiredIntervals},_calculateRange:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C;if(!this.chartObj.zoomed){if(a=new Date,s.seriesCollection=ej.util.isNullOrUndefined(s.seriesCollection)?{}:s.seriesCollection,o=t.orientation.toLowerCase(),i.length>0&&this.chartObj.model._hasSeriesPoints&&i[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){var T,L,k,P,j,D={maxX:null,minX:null},A={maxY:null,minY:null};for(r=0;r<i.length;r++){if(n=i[r],(j=i[r].points.length)>0&&"visible"===i[r].visibility.toLowerCase()&&i[r].points.length>0){for(l=-1!=n.type.toLowerCase().indexOf("spline"),"vertical"==o&&l?(m=0,g=i[r]._visiblePoints,l&&(_=n._name=n.name||"series"+r,s.seriesCollection[_]={},g=ej.ejSplineSeries.prototype._isVisiblePoints(n),h=s.seriesCollection[_].naturalSpline=ej.ejSplineSeries.prototype.naturalSpline(g,n,0,t),"splinerangearea"==n.type.toLowerCase()&&(c=s.seriesCollection[_].naturalSpline1=ej.ejSplineSeries.prototype.naturalSpline(g,n,1,t)),s.seriesCollection[_].controlPoints=[],u=ej.ejSplineSeries.prototype.getBezierControlPoints,p=g.filter((function(e){return!ej.isNullOrUndefined(e.YValues[0])&&!isNaN(e.YValues[0])}))),k=L=l?p[0].YValues[0]:g[0].YValues[0]):(P=T=new Date(i[r].points[0].xValue),k=L=i[r].points[0].YValues[0]),f=0;f<j;f++)l&&"vertical"==o?(b=g[f],0!=f&&b.visible&&g[f-1].visible?(s.seriesCollection[_].controlPoints.push(u(g[f-1],b,h[f-1],h[f],0,n,this)),"splinerangearea"==n.type.toLowerCase()&&(v=u(g[f-1],b,c[f-1],c[f],1,n,this),s.seriesCollection[_].controlPoints[m].controlPoint1.YValues[1]=v.controlPoint1.YValues[0],s.seriesCollection[_].controlPoints[m].controlPoint2.YValues[1]=v.controlPoint2.YValues[0]),d=s.seriesCollection[_].controlPoints[m++],L=Math.min(L,b.YValues[0],d.controlPoint1.YValues[0],d.controlPoint2.YValues[0]),k=Math.max(k,b.YValues[0],d.controlPoint1.YValues[0],d.controlPoint2.YValues[0]),"splinerangearea"==n.type.toLowerCase()&&(L=Math.min(L,b.YValues[1],d.controlPoint1.YValues[1],d.controlPoint2.YValues[1]),k=Math.max(k,b.YValues[1],d.controlPoint1.YValues[1],d.controlPoint2.YValues[1]))):(0!=f&&(-1!=n.type.toLowerCase().indexOf("stacking")||"splinerangearea"==n.type.toLowerCase())&&(s.seriesCollection[_].controlPoints.push(u(g[f-1],b,h[f-1],h[f],0,n,this)),"splinerangearea"==n.type.toLowerCase()&&(v=u(g[f-1],b,c[f-1],c[f],1,n,this),s.seriesCollection[_].controlPoints[m].controlPoint1.YValues[1]=v.controlPoint1.YValues[0],s.seriesCollection[_].controlPoints[m].controlPoint2.YValues[1]=v.controlPoint2.YValues[0]),d=s.seriesCollection[_].controlPoints[m++]),L=Math.min(L,isNaN(b.YValues[0])?L:b.YValues[0]||null),k=Math.max(k,b.YValues[0]||null),"splinerangearea"==n.type.toLowerCase()&&(L=Math.min(L,isNaN(b.YValues[1])?L:b.YValues[1]||null),k=Math.max(k,b.YValues[1]||null)))):(null!=P&&null!=P?(P>i[r].points[f].xValue&&(P=i[r].points[f].xValue),T<i[r].points[f].xValue&&(T=i[r].points[f].xValue)):P=T=new Date(i[r].points[f+1].xValue),L>i[r].points[f].YValues[0]&&(L=i[r].points[f].YValues[0]),k<i[r].points[f].YValues[0]&&(k=i[r].points[f].YValues[0]));i[r].minX=P,i[r].maxX=T,i[r].minY=L,i[r].maxY=k,(!t.maxPointLength||t.maxPointLength<j)&&(t.maxPointLength=j)}(D.minX=null==D.minX&&"number"!=typeof i[r].minX?i[r].minX:D.minX)>i[r].minX&&(D.minX="number"!=typeof i[r].minX?i[r].minX:D.minX),(D.maxX=null==D.maxX&&"number"!=typeof i[r].maxX?i[r].maxX:D.maxX)<i[r].maxX&&(D.maxX="number"!=typeof i[r].maxX?i[r].maxX:D.maxX),A.minY>i[r].minY&&(A.minY=i[r].minY),A.maxY<i[r].maxY&&(A.maxY=i[r].maxY)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[t.name]&&(x=this.chartObj.model.indicatorRange[t.name],(D.minX>new Date(x.min)||null==D.minX)&&(D.minX=new Date(x.min)),(D.maxX<new Date(x.max)||null==D.maxX)&&(D.maxX=new Date(x.max))),D.minX=null==D.minX?a:D.minX,D.maxX=null==D.maxX?new Date((new Date).setMonth(a.getMonth()+5)):D.maxX,D.minX==D.maxX&&(D.minX=new Date(Date.parse(D.minX)-2592e6),D.maxX=new Date(Date.parse(D.maxX)+2592e6)),y=_sideBySeriesPadding(this.chartObj,D.minX.getTime(),D.maxX.getTime(),t),D.minX=new Date(y.startPadding),D.maxX=new Date(y.endPadding),w=this.calculateDateTimeNiceInterval(t,D.minX,D.maxX),t._intervalType=t.intervalType?t.intervalType:w.intervalType,"auto"==t.intervalType&&(t._intervalType=t.intervalType=w.intervalType),(null==t.setAxisInterval||null==t.setAxisInterval)&&(t.setAxisInterval=!(!t.range||!t.range.interval)),t._setInterval&&!this.chartObj._chartResize&&t.range&&t._setInterval!=t.range.interval&&(t._setInterval=null),t.setRange?(t.range.max||(t.range.max=D.maxX),t.range.min||(t.range.min=D.minX),"string"==typeof t.range.min&&-1!=t.range.min.indexOf("/Date(")&&(t.range.min=new Date(parseInt(t.range.min.substr(6)))),"string"==typeof t.range.max&&-1!=t.range.max.indexOf("/Date(")&&(t.range.max=new Date(parseInt(t.range.max.substr(6)))),new Date(t.range.min).getTime()==new Date(t.range.max).getTime()&&(t.range.max=new Date(Date.parse(t.range.max)+864e5)),w=this.calculateDateTimeNiceInterval(t,new Date(t.range.min),new Date(t.range.max)),t._intervalType=t.intervalType?t.intervalType:w.intervalType,t.setAxisInterval||(t.range.interval=w.interval,t._setInterval=w.interval),t.actual_Range=e.extend(!0,{},t.range),t.setRange=!0,t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:t._setInterval?w.interval:t.range.interval||t.actual_Range.interval}):t.range={min:D.minX,max:D.maxX,interval:w.interval}}else t.setRange?(t.range.min=null==t.range.min?a:t.range.min,t.range.max=null==t.range.max?new Date((new Date).setMonth(a.getMonth()+5)):t.range.max,t.range.interval=null==t.range.interval?1:t.range.interval,t._intervalType="Months"):(t.range={min:a,max:new Date((new Date).setMonth(a.getMonth()+5)),interval:1},t._intervalType=ej.util.isNullOrUndefined(t.intervalType)?"Months":t.intervalType);(S=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={range:t.range,axis:t},this.chartObj._trigger("axesRangeCalculate",S),t.range={min:(C=S.data.range).min,max:C.max,interval:C.interval,delta:C.max-C.min}}},_calculateRanges:function(e,t,i,s){this.chartObj=e,this._saveRange(e,t),this._calculateRange(t,i,s),t._range=t.range,e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._calculatePadding(t),this._calculateAxisLabels(t)},_saveRange:function(e,t){(e.zoomed||e.resetZooming)&&(t.range=null!=t.range&&null!=t.range.min&&null!=t.range.max?t.range:t._range),t._initialRange&&(t._initialRange!=t.range&&null!=t.range?t.setRange=!0:null==t.range&&(t.setRange=!1)),t._initialRange=null==t.range?{min:null,max:null,interval:null}:{min:t.range.min,max:t.range.max,interval:t.range.interval}}},i=t(ej.EjAxisRenderer),ej.axisTypes.datetime=i,s=t(ej.EjAxisRenderer,{_calculateRange:function(e,t,i,s){e.zoomed||this._seriesMinMax(e,t,i,"double",s)},_getDoubleAutoRange:function(t,i,s){var a,o,r;return t.setRange?(ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=s),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=i),t.actual_Range=e.extend(!0,{},t.range),t.setRange=!0):t.range={min:i,max:s},o=this.calculateNumericNiceInterval(a=t.range.max-t.range.min,t),ej.EjSvgRender.utils._decimalPlaces(o)>20&&(r=o.toString(),o=parseFloat(r.substring(0,r.indexOf("."))+r.substring(r.indexOf("."),22))),(ej.util.isNullOrUndefined(t.range.interval)||t.range.interval<0)&&(t.range.interval=o),t.range.delta=a,t.range},_calculatePadding:function(e,t,i){var s,a,o=i.min,r=i.max,n=t.rangePadding.toLowerCase(),l=i.interval;t.setRange||e.zoomed||("normal"==n?(s=0,o<0?(o=0,.365*l>=l+(s=i.min+i.min/20)%l&&(s-=l),s%l<0&&(s=s-l-s%l)):(s=o<5/6*r?0:o-(r-o)/2)%l>0&&(s-=s%l),.365*l>=l-(a=r>0?r+(r-o)/20>Number.MAX_VALUE?Number.MAX_VALUE:r+(r-o)/20:r-(r-o)/20)%l&&(a=a+l>Number.MAX_VALUE?Number.MAX_VALUE:a+l),a%l>0&&(a=a+l-a%l>Number.MAX_VALUE?Number.MAX_VALUE:a+l-a%l),s<=0&&(l=this.calculateNumericNiceInterval(a-s,t),a=Math.ceil(a/l)*l>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(a/l)*l),o=t.roundingPlaces?parseFloat(s.toFixed(t.roundingPlaces)):parseFloat(s.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(l)?1:ej.EjSvgRender.utils._decimalPlaces(l))),r=t.roundingPlaces?parseFloat(a.toFixed(t.roundingPlaces)):parseFloat(a.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(l)?1:ej.EjSvgRender.utils._decimalPlaces(l)))):("additional"==n||"round"==n)&&(o=Math.floor(o/l)*l,r=Math.ceil(r/l)*l>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(r/l)*l,"additional"==n&&(o-=l,r=r+l>=Number.MAX_VALUE?Number.MAX_VALUE:r+l))),t.actualRange.min=o,t.actualRange.max=r,t.actualRange.interval=l,t.range.min=o,t.range.max=r,t.range.interval=l,t.actualRange.delta=r-o>=Number.MAX_VALUE?r:r-o,this._calculateVisibleRange(t),t.rangePadding=t._rangePadding},_calculateVisibleRange:function(t,i,s){var a,o,r,n,l;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){if(a=t.actualRange,t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<a.min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max),n=Math.abs(r-o),l=t.enableAutoIntervalOnZooming?this.calculateNumericNiceInterval(n,t):t.actualRange.interval,s)return{min:Math.min(o,r),max:Math.max(o,r),delta:n,interval:l};t.visibleRange.min=Math.min(o,r),t.visibleRange.max=Math.max(o,r),t.visibleRange.delta=n,t.visibleRange.interval=l,t.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g=i.roundingPlaces,_=this.chartObj.model.locale;for(i.visibleRange.min=parseFloat(i.visibleRange.min.toPrecision(14)),i.visibleRange.max=parseFloat(i.visibleRange.max.toPrecision(14)),s=t.zoomed||i.zoomed||i.padding?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;s<=i.visibleRange.max;s+=i.visibleRange.interval)if(ej.EjSvgRender.utils._inside(s,i.visibleRange)){if(s==d)break;d=s,o=s.toString().split(0).length-1>10?10:20,s=parseFloat(s.toFixed(!g&&g>o?g:o)),r=g?s:parseFloat(s.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),l=g?parseFloat(s.toFixed(g)):parseFloat(s.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),(a=i.labelFormat)?null!=a.match("{value}")?l=a.replace("{value}",l):0!=a.indexOf("e")&&0!=a.indexOf("E")||-1!=a.indexOf("ej.format")?(-1!=a.indexOf("ej.format")&&(a=a.substring(a.indexOf("(")+1,a.indexOf(")"))),l=ej.format(l,a,_)):(h=a.match(/(\d+)/g),l=l.toExponential(h=null==h?6:h>20?20:h)):l=i.isStacked100?l+"%":_?l.toLocaleString(_):l,(n=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:l,Value:s},axis:i},t._trigger("axesLabelRendering",n),i.visibleLabels.push({Value:r,Text:n.data.label.Text})}for(c=0,u=i.visibleLabels,p=0;p<u.length;p++)"string"==typeof u[p].Text&&(m=u[p].Text.split("<br>").length,c=Math.max(m,c));i.rowsCount=c,i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(e,t,i,s){this.chartObj=e,this._saveRange(e,t),this._calculateRange(e,t,i,s),t._range=t.range,e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._calculatePadding(e,t,t.range),t.maximumLabels>0&&this._calculateAxisLabels(e,t)}}),ej.axisTypes.double=s,a=t(ej.EjAxisRenderer,{_getRoundValue:function(e,t,i){return(i?Math.ceil(e/t):Math.floor(e/t))*t},calculateLogNiceInterval:function(e,t){for(var i,s=this.GetActualDesiredIntervalsCount(t,t.length),a=e,o=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(a,10))),r=[10,5,2,1],n=0;n<r.length;n++){if(s<e/(i=o*r[n]))return a;a=i}return a},_getLogAutoRange:function(t,i,s,a){var o,r,n,l,d=ej.EjSvgRender.utils._logBase(i,t.logBase);return d=e.isNumeric(d)?d:i,o=ej.EjSvgRender.utils._logBase(s,t.logBase),o=e.isNumeric(o)?o:s,r=this._getRoundValue(d,1,!1),n=this._getRoundValue(o,1,!0),0==r&&0==n&&(r=ej.EjSvgRender.utils._logBase(s-s/2,t.logBase),n=ej.EjSvgRender.utils._logBase(s+s/2,t.logBase)),l=this.calculateLogNiceInterval(a=n-r,t),t.actual_Range={min:r,max:n,interval:l,Delta:a},r=Math.pow(t.logBase,Math.floor(d)),a=(n=Math.pow(t.logBase,Math.ceil(o)))-r,t.setRange?(ej.util.isNullOrUndefined(t.range.interval)&&(t.range.interval=l),ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=n),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=r),t.actual_Range=e.extend(!0,{},t.range),ej.util.isNullOrUndefined(t.actual_Range.max)||(t.actual_Range.max=ej.EjSvgRender.utils._logBase(t.actual_Range.max,t.logBase),t.actual_Range.max=this._getRoundValue(t.actual_Range.max,1,!0)),ej.util.isNullOrUndefined(t.range.min)||(t.actual_Range.min=ej.EjSvgRender.utils._logBase(t.actual_Range.min,t.logBase),t.actual_Range.min=this._getRoundValue(t.actual_Range.min,1,!1)),t.setRange=!0,t.range):t.range={min:r,max:n,interval:l,Delta:a}},_calculateLogRange:function(e,t,i,s){e.zoomed||this._seriesMinMax(e,t,i,"logarithmic",s)},_calculateLogPadding:function(e,t,i){var s=i.min,a=i.max,o=i.interval;t.actualRange.min=s,t.actualRange.max=a,t.actualRange.interval=o,t.actualRange.delta=a-s,this._calculateVisibleRange(t)},_calculateVisibleRange:function(t,i,s){var a,o,r;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<(a=t.actualRange).min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max);var n=Math.abs(r-o),l=t.enableAutoIntervalOnZooming&&this.calculateLogNiceInterval(n,t),d=ej.util.isNullOrUndefined(t.roundingPlaces)?0==ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval):t.roundingPlaces;if(l=parseFloat(t.visibleRange.interval.toFixed(d)),s)return{min:Math.min(o,r),max:Math.max(o,r),interval:l};t.visibleRange.interval=l,t.visibleRange.min=Math.min(o,r),t.visibleRange.max=Math.max(o,r),t.visibleRange.delta=n,t.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(t,i){for(var s,a,o=i.roundingPlaces,r=t.zoomed||i.zoomed?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;r<=i.visibleRange.max;r+=i.visibleRange.interval)if(ej.EjSvgRender.utils._inside(r,i.visibleRange)){var n=i.labelFormat?i.labelFormat.match("{value}"):null,l=Math.pow(i.logBase,r),d=l.toString().split(0).length-1>10?10:20;l=parseFloat(l.toFixed(!o&&o>d?o:d)),s=i.labelFormat?null!=n?i.labelFormat.replace("{value}",l):ej.format(l,i.labelFormat,t.model.locale):l,(a=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:s,Value:r},axis:i},t._trigger("axesLabelRendering",a),i.visibleLabels.push({Value:r,Text:a.data.label.Text})}i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(e,t,i,s){this.chartObj=e,this._calculateLogRange(e,t,i,s),e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._calculateLogPadding(e,t,t.actual_Range),this._calculateAxisLabels(e,t)}}),ej.axisTypes.logarithmic=a,o=t(ej.EjAxisRenderer,{_calculateCategoryRange:function(t,i){var s,a,o,r,n,l;if(!this.chartObj.model.excludeDataUpdate||(null==this.chartObj.model.legendCollapsed?!this.chartObj.zoomed:this.chartObj.model.legendCollapsed)){var d,h,c,u,p={maxX:null,minX:0},m=[],g=t.isIndexed,_=this.chartObj.model.locale;if(i.length>0&&this.chartObj.model._hasSeriesPoints&&i[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){for(s=0;s<i.length;s++){for(u=i[s].points.length,a=0;a<u;a++)d="date"==i[s]._xAxisValueType?ej.format(new Date(i[s].points[a].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,_):i[s].points[a].x,g?m[a]=0==s?d:m[a]+", "+d:e.inArray(d,m)<0&&m.push(d);(!t.maxPointLength||t.maxPointLength<u)&&(t.maxPointLength=u)}for(o=0;o<i.length;o++){for(i[o]._pointCollection=[],r=0;r<i[o].points.length;r++)i[o]._pointCollection.push(i[o].points[r].x),d="date"==i[o]._xAxisValueType?ej.format(new Date(i[o].points[r].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,_):i[o].points[r].x,i[o].points[r].xValue=g?r:e.inArray(d,m);i[o].minX=0,i[o].maxX="date"==i[o]._xAxisValueType?i[o]._pointCollection.length-1:m.length-1,0==o&&(p.maxX=i[o].maxX,t.labels="date"==i[o]._xAxisValueType?i[o]._pointCollection:m,t._categoryValueType=i[o]._xAxisValueType),p.maxX<i[o].maxX&&(p.maxX=i[o].maxX,t.labels=[],t.labels=m)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[t.name]&&((p.minX>(n=this.chartObj.model.indicatorRange[t.name]).min||null==p.minX)&&(p.minX=n.min),(p.maxX<n.max||null==p.maxX)&&(p.maxX=n.max)),c=p.maxX-p.minX,h=t.setRange&&t.range.interval?Math.ceil(t.range.interval):this._calculateActualInterval(c,t),t.range={min:p.minX,max:p.maxX,interval:h,Delta:c}}else(l=t.labels.length)>0?(h=this._calculateActualInterval(c=l-1,t),t.range={min:0,max:l-1,interval:h,Delta:c}):t.range||(t.range={min:0,max:6,interval:1,Delta:6})}var f,b=0,v=t.labelIntersectAction,x=t.labelRotation;if(!("rotate45"==v&&"rotate90"==v||0!=x&&null!=x))for(f=0;f<t.labels.length;f++)"string"==typeof t.labels[f]&&(l=t.labels[f].split("<br>").length,b=Math.max(l,b));t.rowsCount=b},_calculateActualInterval:function(e,t){return null==t.categoryInterval?Math.max(1,Math.floor(e/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(e){var t,i;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||e.zoomed||(t=0,"polaraxes"!==this.chartObj.model.AreaType&&(t=null==e.labelPlacement||""===e.labelPlacement||"betweenticks"==e.labelPlacement.toLowerCase()?-.5:0),this.chartObj.scrollsvgObj||(t<0?(e.range.min=e.range.min+t,e.range.max=e.range.max-t,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range):(i=_sideBySeriesPadding(this.chartObj,e.range.min,e.range.max,e),e.range.min=i.startPadding,e.range.max=i.endPadding,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range))),this._calculateVisibleRange(e)},_calculateVisibleRange:function(t,i,s){var a,o,r;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<(a=t.actualRange).min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max);var n=Math.abs(r-o),l=this._calculateActualInterval(n,t),d=Math.min(o,r),h=Math.max(o,r);if(s)return{min:d,max:h,interval:l};n=Math.abs(r-o),t.visibleRange.interval=l,t.visibleRange.min=d,t.visibleRange.max=h,t.visibleRange.delta=n,t.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(t){for(var i,s,a=t.visibleRange.interval,o=t.visibleRange.min-t.visibleRange.min%t.range.interval;o<=t.visibleRange.max;o+=a)ej.EjSvgRender.utils._inside(o,t.visibleRange)&&(i=Math.round(o),t.visibleLabels.push({Value:i,Text:ej.EjSvgRender.utils._getLabelContent(i,t,this.chartObj.model.locale)}),(s=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",s),t.visibleLabels[t.visibleLabels.length-1]=s.data.label);t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateRanges:function(e,t,i){this.chartObj=e,this._saveRange(e,t),this._calculateCategoryRange(t,i),t._range=t.range,e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),this._applyRangePadding(t),this._calculateAxisLabels(t)}}),ej.axisTypes.category=o,r=t(ej.EjAxisRenderer,{_calculateDateTimeCategoryRange:function(t,i){for(var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v={minX:0,MaxX:null},x=[],y=[],w=[],S=[],C=[],T=0;T<i.length;T++){for(i[T]._pointCollection=[],l=[],i[T]._points=[],i[T]._xPoints=[],i[T]._yPoints=[],m=i[T].points.length,f=0;f<m;f++)d=isNaN(new Date(i[T].points[f].x).getTime())?null:new Date(i[T].points[f].x).getTime(),-1!=l.indexOf(d)&&(i[T].points[f].xValue=l.indexOf(d)),l.push(d),i[T]._xPoints.push(d),i[T]._yPoints.push(i[T].points[f].y),null!=d&&S.push(d);for(ej.isNullOrUndefined(t.intervalType)&&(r=this.calculateDateTimeNiceInterval(t,new Date(Math.min.apply(null,S)),new Date(Math.max.apply(null,S))),t.intervalType=r.intervalType.toLowerCase()),g=0;g<l.length;g++){if(s=new Date(l[g]),-1==i[T]._points.indexOf(s.getTime())&&i[T]._points.push(s.getTime()),e.inArray(l[g],i[T]._xPoints),i[T]._pointCollection.push(new Date(i[T].points[g].x)),0==T)i[T].points[g].x==i[T].points[g].xValue&&(i[T].points[g].xValue=g);else for(b=0;b<T;b++){if((a=e.inArray(new Date(i[T].points[g].x).getTime(),i[b]._points))>=0){i[T].points[g].xValue=0==b?a:i[b].points[a].xValue;break}if(b==T-1){i[T].points[g].xValue=i[T].points[g].x==i[T].points[g].xValue?t.maxPointLength++:i[T].points[i[T].points[g].xValue].xValue;break}}switch(0==T||e.inArray(s.getTime(),w),t.intervalType){case"auto":-1==x.indexOf(s.getTime())&&x.push(s.getTime());break;case"years":c=s.getFullYear();break;case"months":p=s.getFullYear(),h=s.getMonth(),g<=0?c=g+1:c+=p!=(u=new Date(l[g-1]).getFullYear())?12-n+h:h-n,n=h;break;case"days":p=s.getMonth(),h=s.getDate(),g<=0?c=g+1:(c+=p!=(u=new Date(l[g-1]).getMonth())?new Date(s.getFullYear(),u,1).getDate()-n+h:h-n,p==u&&(c=this._diffDate(s,new Date(l[g-1]),1)>new Date(s.getFullYear(),u,0).getDate()?y[y.length-1]+1:c)),n=h;break;case"hours":p=s.getDate(),h=s.getHours(),g<=0?c=g+1:(c+=p!=(u=new Date(l[g-1]).getDate())?24-n+h:h-n,p==u&&(c=this._diffDate(s,new Date(l[g-1]),24)>24?y[y.length-1]+1:c)),n=h;break;case"minutes":p=s.getHours(),h=s.getMinutes(),g<=0?c=g+1:(c+=p!=(u=new Date(l[g-1]).getHours())?60-n+h:h-n,p==u&&(c=this._diffDate(s,new Date(l[g-1]),1440)>60?y[y.length-1]+1:c)),n=h;break;case"seconds":p=s.getMinutes(),h=s.getSeconds(),g<=0?c=g+1:(c+=p!=(u=new Date(l[g-1]).getMinutes())?60-n+h:h-n,p==u&&(c=this._diffDate(s,new Date(l[g-1]),86400)>60?y[y.length-1]+1:c)),n=h;break;case"milliseconds":p=s.getSeconds(),h=s.getMilliseconds(),g<=0?c=g+1:(c+=p!=(u=new Date(l[g-1]).getSeconds())?1e3-n+h:h-n,p==u&&(c=this._diffDate(s,new Date(l[g-1]),864e5)>1e3?y[y.length-1]+1:c)),n=h}"auto"!=t.intervalType&&-1==x.indexOf(s.getTime())&&x.push(s.getTime()),-1==y.indexOf(c=0==T?c:y[y.length-1]+c)&&y.push(c),C.push(c),w.push(new Date(l[g]).getTime())}t.maxPointLength||(t.maxPointLength="auto"!=t.intervalType?y.length:x.length)}for(_=0;_<i.length;_++)t.setRange||(t.range={min:null,max:null,interval:null}),ej.isNullOrUndefined(t.m_minPointsDelta)||(t.m_minPointsDelta=void 0),i[_].minX=ej.isNullOrUndefined(t.range.min)||t.range.min<v.minX?0:t.range.min,i[_].maxX=ej.isNullOrUndefined(t.range.max)||t.range.max>x.length-1?x.length-1:t.range.max,v.MaxX=i[_].maxX,v.minX=i[_].minX,t.labels=x,t.dateLabels=C,t._categoryValueType="date";if(v.minX==v.MaxX&&"onticks"==t.labelPlacement.toLowerCase()&&(v.MaxX+=1),i.length>0)o=v.MaxX-v.minX,r=null==t.range.interval||null==t.range.interval||t.range.interval<1?1:Math.ceil(t.range.interval),t.range={min:v.minX,max:v.MaxX,interval:r,Delta:o};else if(!t.setInterval)for(t.range={min:0,max:6,interval:1,Delta:6},t.dateLabels=[],b=0;b<=t.range.max;b++)t.labels.push(""),t.dateLabels.push("")},_diffDate:function(e,t,i){var s;return s=Math.abs(e.getTime()-t.getTime())/864e5,Math.round(s*i)},_calculateAxisLabels:function(t){for(var i,s,a,o,r=t.visibleRange.interval,n=[],l=this.chartObj.model.series.length,d=t.visibleRange.min-t.visibleRange.min%t.range.interval;d<=t.visibleRange.max;d+=r)ej.EjSvgRender.utils._inside(d,t.visibleRange)&&(i=Math.round(d),s=t.dateLabels,ej.util.isNullOrUndefined(s)||(s[s.length-1]-s[i]>=r&&t.visibleRange.max<d+r&&(t.visibleRange.max+=d+r-t.visibleRange.max),a=e.inArray(s[i],n)),(a<0||"auto"==t.intervalType||0==l)&&i<t.labels.length&&("auto"!=t.intervalType&&n.push(s[i]),t.visibleLabels.push({Value:i,Text:t.labelFormat||""==t.labels[Math.floor(i)]?ej.EjSvgRender.utils._getLabelContent(i,t,this.chartObj.model.locale):ej.format(new Date(t.labels[Math.floor(i)]),ej.EjSvgRender.utils._dateTimeLabelFormat(t.intervalType,t),this.chartObj.model.locale)}),(o=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",o),t.visibleLabels[t.visibleLabels.length-1]=o.data.label));t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateActualInterval:function(e,t){return null==t.categoryInterval?Math.max(1,Math.floor(e/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(e){var t,i;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||(t=0,"polaraxes"!==this.chartObj.model.AreaType&&(t=null==e.labelPlacement||"betweenticks"==e.labelPlacement.toLowerCase()?-.5:0),t<0?(e.range.min=e.range.min+t,e.range.max=e.range.max-t,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range):(i=_sideBySeriesPadding(this.chartObj,e.range.min,e.range.max,e),e.range.min=i.startPadding,e.range.max=i.endPadding,e.range.delta=e.range.max-e.range.min,e.actualRange=e.range)),this._calculateVisibleRange(e)},_calculateVisibleRange:function(t,i,s){var a,o,r;if(this.chartObj=i||this.chartObj,t.visibleRange=s?t.visibleRange:e.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,r=t.isInversed?(o=t.actualRange.max-t.zoomPosition*t.actualRange.delta)-t.zoomFactor*t.actualRange.delta:(o=t.actualRange.min+t.zoomPosition*t.actualRange.delta)+t.zoomFactor*t.actualRange.delta,o<(a=t.actualRange).min&&(r+=a.min-o,o=a.min),r>a.max&&(o-=r-a.max,r=a.max);var n=Math.abs(r-o),l=this._calculateActualInterval(n,t),d=Math.min(o,r),h=Math.max(o,r);if(s)return{min:d,max:h,interval:l};n=Math.abs(r-o),t.visibleRange.interval=l,t.visibleRange.min=d,t.visibleRange.max=h,t.visibleRange.delta=n,t.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateRanges:function(e,t,i){this.chartObj=e,this._saveRange(e,t),this._calculateDateTimeCategoryRange(t,i),e.model._drawTrendline&&this._calculateTrendLineRange(e,t,i),t._range=t.range,this._applyRangePadding(t),this._calculateAxisLabels(t)}}),ej.axisTypes.datetimecategory=r,ej.EjAxisRenderer.prototype={_drawGridLines:function(e,t,i){"cartesianaxes"==this.model.AreaType?"horizontal"==t.orientation.toLowerCase()?this._drawXAxisGridLine(e,t,i):this._drawYAxisGridLine(e,t,i):"horizontal"==t.orientation.toLowerCase()&&0==e?(this._drawPolarGridLine(t),this._drawPolarLabels(t)):1==e&&this._drawPolarCircle(t)},_drawAxes:function(e,t){"cartesianaxes"==this.model.AreaType&&(t.visible&&"horizontal"==t.orientation.toLowerCase()&&(this._drawXAxisLabels(e,t),this._drawXTitle(e,t)),t.visible&&"vertical"==t.orientation.toLowerCase()&&(this._drawYAxisLabels(e,t),this._drawYTitle(e,t)))},_getSharpPath:function(e){return e%2==0?0:.5},_drawAxisLine:function(t){var i,s,a=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLine"}),o=ej.EjSvgRender.utils._getStringBuilder();if(t.visible&&t.axisLine.visible&&(this.svgRenderer.drawPath(h={id:this.svgObject.id+"_YAxisLines",fill:"none","stroke-width":t.axisLine.width,stroke:t.axisLine.color,opacity:t.axisLine.opacity,"stroke-dasharray":t.axisLine.dashArray,d:"M "+this.model.centerX+" "+this.model.centerY+" L "+this.model.centerX+" "+(this.model.centerY-this.model.Radius)},a),e(a).appendTo(this.gPolarAxisEle)),t.visible&&t.majorTickLines.visible){for(a=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisMajorTicks"}),s=0;s<t.visibleLabels.length;s++){var r=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[s].Value,this),n={};n.X1=this.model.centerX,n.Y1=this.model.centerY-r,n.X2=n.X1-t.majorTickLines.size,n.Y2=n.Y1,o.append("M "+n.X1+" "+n.Y1+" L "+n.X2+" "+n.Y2+" ")}i=o.toString(),this.svgRenderer.drawPath(h={id:this.svgObject.id+"_YAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:i},a),e(a).appendTo(this.gPolarAxisEle)}if(t.visible){a=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels"});var l=t.font,d=t.visibleLabels.length;for(s=0;s<d;s++){r=(this.model.Radius||this.model._radius)*ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[s].Value,this);var h,c=t.visibleLabels[s].Text,u=ej.EjSvgRender.utils._measureText(c,null,t.font);this.svgRenderer.drawText(h={id:this.svgObject.id+"_"+t.name+"_YLabel_"+s,x:this.model.centerX-t.majorTickLines.size-this.model.elementSpacing/3,y:this.model.centerY-r+u.height/5,fill:l.color,"font-size":l.size,"font-family":l.fontFamily,"font-style":l.fontStyle,"font-weight":l.fontWeight,opacity:l.opacity,"text-anchor":"end"},c,a),t.visibleLabels[s].region={bounds:{x:h.x-u.width,y:h.y,width:u.width,height:u.height},labelText:c}}e(a).appendTo(this.gPolarAxisEle)}},_drawPolarLabels:function(t){var i,s,a,o;if(!t.visible)return 0;var r,n,l=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels"}),d=this.model.Radius+t.majorTickLines.size,h=t.font,c=t.visibleLabels.length;for(i=0;i<c;i++)if(s=ej.EjSvgRender.utils._valueToPolarCoefficient(t,t.visibleLabels[i].Value),a=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[i].Value),!isNaN(a.X)&&!isNaN(a.Y)){var u=t.visibleLabels[i].Text,p=this.model.centerX+d*a.X,m=this.model.centerY+d*a.Y,g=p<this.model.centerX?"end":p>this.model.centerX?"start":"middle",_=ej.EjSvgRender.utils._measureText(u,this.model.m_AreaBounds.Height,t.font);.25==s?(p-=this.model.elementSpacing/2,m+=_.height/4):.5==s?m+=_.height:.75==s?(p+=this.model.elementSpacing/2,m+=_.height/4):1==s||0==s?m-=_.height/2:.25<s&&s<.5?(p-=this.model.elementSpacing/2,m+=_.height/2):.5<s&&s<=.75?(p+=this.model.elementSpacing/2,m+=_.height/2):0<s&&s<.25?p-=this.model.elementSpacing/2:p+=this.model.elementSpacing/2,0==i&&(r=p),i==c-1&&"category"!=t._valueType&&(n=ej.EjSvgRender.utils._measureText(u,null,h).width,(n+=p)>r&&(u="")),this.svgRenderer.drawText(o={id:this.svgObject.id+"_"+t.name+"_XLabel_"+i,x:p,y:m,fill:h.color,"font-size":h.size,"font-family":h.fontFamily,"font-style":h.fontStyle,"font-weight":h.fontWeight,opacity:h.opacity,"text-anchor":g},u,l),t.visibleLabels[i].region={bounds:{x:"middle"==g?o.x-_.width/2:"end"==g?o.x-_.width:o.x,y:o.y,width:_.width,height:_.height},labelText:u}}e(l).appendTo(this.gXaxisEle)},_drawPolarCircle:function(t){var i,s,a,o,r,n,l,d,h,c;if(t.majorGridLines.visible)if(i=ej.EjSvgRender.utils._getStringBuilder(),s=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid"}),this.model.isPolar)for(a=0;a<t.visibleLabels.length;a++){var u=t.visibleLabels[a],p=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,u.Value,this);this.svgRenderer.drawCircle({id:this.svgObject.id+"_YAxisGridLines_"+a,cx:this.model.centerX,cy:this.model.centerY,r:p,fill:"transparent","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:this.vmlRendering?.3:t.majorGridLines.opacity},s)}else{for(a=0;a<t.visibleLabels.length;a++)for(u=t.visibleLabels[a],p=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,u.Value,this),o=0;o<this.model._axes[0].visibleLabels.length;o++)r=this.model._axes[0],n=ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[o].Value),isNaN(n.X)||isNaN(n.Y)||(l=o+1<r.visibleLabels.length?ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[o+1].Value):ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[0].Value),i.append("M "+(d={X:this.model.centerX+p*n.X,Y:this.model.centerY+p*n.Y}).X+" "+d.Y+" L "+(h={X:this.model.centerX+p*l.X,Y:this.model.centerY+p*l.Y}).X+" "+h.Y+" "));t.majorGridLines.visible&&(c=i.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:c},s))}e(s).appendTo(this.gYaxisEle)},_drawPolarGridLine:function(t){var i,s,a,o,r,n,l,d,h,c,u,p,m=this.model,g=m.legend,_=ej.EjSvgRender.utils._measureText(g.title.text,null,g.title.font).height,f=g.position.toLowerCase(),b=0,v=0,x=ej.EjSvgRender.utils._getStringBuilder(),y=ej.EjSvgRender.utils._getStringBuilder(),w=g.border.width,S=t.visibleLabels.length,C=m.border.width,T=m.title,L=m.title.subTitle,k=!(!T.enableTrim||"wrap"!=T.textOverflow&&"wrapandtrim"!=T.textOverflow),P=!(""==L.text||!L.visible||!L.enableTrim||"wrap"!=L.textOverflow&&"wrapandtrim"!=L.textOverflow);if(g.visible&&"custom"!=f&&("right"==f||"left"==f?b=("right"==f?m.margin.right:m.margin.left)+m.LegendActualBounds.Width+2*(w+C):v=("top"==f?m.margin.top:m.margin.bottom)+m.LegendActualBounds.Height+_+2*(w+C)),a=m.svgHeight-(i=(m.title.text&&m.title.visible?m._titleLocation.Y+(k?m._titleLocation.size.height:0)+(P?m._subTitleLocation.size.height:0):0)+v),m.centerX=.5*(s=m.svgWidth-b)+("left"===f?b:0),m.centerY=.5*a+("top"===f?i:T.text&&T.visible?m._titleLocation.Y+(k?m._titleLocation.size.height:0)+(P?m._subTitleLocation.size.height:0):0),d=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid"}),m.finalSize={width:s,height:a},m.Radius=Math.abs(Math.min(m.finalSize.width,m.finalSize.height)/2-2*m.elementSpacing-t.majorTickLines.size-t._LableMaxWidth.maxHeight),t.majorGridLines.visible)for(c=0;c<S;c++)o=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[c].Value),(r={}).X1=m.centerX,r.Y1=m.centerY,r.X2=m.centerX+m.Radius*o.X,r.Y2=m.centerY+m.Radius*o.Y,x.append("M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ");if(t.visible&&t.majorTickLines.visible)for(h=m.Radius,c=0;c<S;c++)o=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[c].Value),(r={}).X1=m.centerX+h*o.X,r.Y1=m.centerY+h*o.Y,r.X2=r.X1+t.majorTickLines.size*o.X,r.Y2=r.Y1+t.majorTickLines.size*o.Y,-1==(u="M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ").indexOf("NaN")&&y.append(u);t.majorGridLines.visible&&(n=x.toString(),p={id:this.svgObject.id+"_XAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:n},-1==n.indexOf("NaN")&&(this.svgRenderer.drawPath(p,d),e(d).appendTo(this.gXaxisEle))),t.visible&&t.majorTickLines.visible&&(l=y.toString(),this.svgRenderer.drawPath(p={id:this.svgObject.id+"_XAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:l},d),e(d).appendTo(this.gXaxisEle))},_drawXAxisTickLine:function(t,i,s,a){var o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x=ej.EjSvgRender.utils._getStringBuilder(),y=ej.EjSvgRender.utils._getStringBuilder(),w=Math.floor(i.x),S=(Math.floor(i.x+i.width),i._opposed),C=[],T=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),L=i.labelBorder,k=a.axes[i.name]._validCross;for(0!=t&&!k&&("inside"==i.labelPosition&&"inside"==i.tickLinesPosition||"inside"==i.labelPosition&&"inside"!=i.tickLinesPosition)&&i.y!=this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y&&i.y!=this.model.m_AreaBounds.Y?(d=S?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),S?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)):0==t||k||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?d=i._y?i.showNextToAxisLine?i.y:i._y:Math.floor(i.y+i.majorTickLines.size-5):(d=S?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),S?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)),s||(h=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTicklines_"+t})),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,c=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,U=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&c<0&&(U=U>0?i.visibleLabels.length+1:U),N=0;N<U;N++)if(l=i.visibleLabels[N]?i.visibleLabels[N].Value:i.visibleLabels[N-1].Value+i.range.interval,u=i.labels.length>0&&c<0?l+c:l,u=i.roundingPlaces?u:parseFloat(u.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(u,i.visibleRange)){if(i.hidePartialLabels&&(0==N||N==U-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(p=this._getSharpPath(i.minorTickLines.width),this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){f=u;var P=i.visibleRange.max,j=i.visibleRange.min,D=Math.pow(i.logBase,f-i.visibleRange.interval),A=Math.pow(i.logBase,f);for(f=ej.EjSvgRender.utils._logBase(D+(A-D)/(i.minorTicksPerInterval+1),i.logBase),_=0;_<i.minorTicksPerInterval;_++)f<P&&f>j&&(n=Math.ceil((f-j)/(P-j)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(g=Math.floor(n+w),m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?S?Math.floor(d-i.minorTickLines.size):Math.floor(i.minorTickLines.size+d):S?Math.floor(d+i.minorTickLines.size):d-Math.floor(i.minorTickLines.size),x.append("M "+(g+p)+" "+(m+p)+" L "+(g+p)+" "+(d+p)+" ")))}else for(_=0,f=u;_<i.minorTicksPerInterval;_++)(f+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&f>i.visibleRange.min&&(n=Math.ceil((f-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?S?Math.floor(d-i.minorTickLines.size):Math.floor(i.minorTickLines.size+d):S?Math.floor(d+i.minorTickLines.size):Math.floor(d-i.minorTickLines.size),b=Math.floor(n+w),x.append("M "+(b+p)+" "+(m+p)+" L "+(b+p)+" "+(d+p)+" ")));if(i.majorTickLines.visible||i.majorGridLines.visible||L.width>0){var O=this._getSharpPath(i.majorTickLines.width),I=(this._getSharpPath(i.majorGridLines.width),C[N]=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(u,i.visibleRange,i.isInversed)*i.width));i.majorTickLines.visible&&(Y=i.majorTickLines.size+i.axisLine.width/2,R="inside"==i.tickLinesPosition&&"inside"==i.labelPosition||"inside"==i.tickLinesPosition&&"inside"!=i.labelPosition?S?d+Y:d-Y:(S?d-Y:Y+d)-(T?S?this.model.scrollerSize:-this.model.scrollerSize:0),y.append("M "+(Math.floor(I+w)+O)+" "+(Math.floor(R)+O)+" L "+(Math.floor(I+w)+O)+" "+(Math.floor(d+(S?-i.axisLine.width/2:i.axisLine.width/2))+O)+" "))}}if(L.width>0){var R,M,E,V,N,F,B=ej.EjSvgRender.utils._getStringBuilder(),z=T?this.model.scrollerSize:0,Y=i.axisLine.width,X=i.labelPosition.toLowerCase(),H=L.width,W=i._LableMaxWidth.height+i.axisLine.width/2+2,U=i.visibleLabels.length;for(d=i.y,i.tickLinesPosition==X&&(W+=i.majorTickLines.size),"inside"==X?(R=d+Y,M=S?d+W:d-W):(R=S?d-Y:Y+d+(i.zoomFactor<1&&this.model.zooming.enableScrollbar&&0==t?this.model.scrollerSize:0),M=S?d-W-z:d+W+z),N=0;N<U;N++)F=(C[C.length-1]-C[C.length-2])/2,!ej.util.isNullOrUndefined(C[N])&&C.length>=1&&!isNaN(F)&&("category"==i._valueType&&"betweenticks"==i.labelPlacement.toLowerCase()?(E=C[N]+w,V=C[N]+2*F+w):(E=C[N]-F+w,V=C[N]+F+w),V=Math.floor(V),M=Math.floor(M),E=Math.floor(E),R=Math.floor(R),E<i.x?B.append("M "+Math.floor(w)+" "+M+" L "+V+" "+M+" "):V>i.width+i.x?(B.append("M "+E+" "+R+" L "+E+" "+M+" L "+Math.floor(i.width+w)+" "+M+" "),V-H<=i.width+i.x&&B.append("M "+Math.floor(i.width+w)+" "+M+" L "+(i.x+i.width)+" "+R)):(0==N&&B.append("M "+i.x+" "+M+" L "+E+" "+M+" "),B.append("M "+E+" "+R+" L "+E+" "+M+" L "+V+" "+M+" "),N==U-1&&B.append("M "+V+" "+R+" L "+V+" "+M+" M "+V+" "+M+" L "+(i.x+i.width)+" "+M)));v={id:this.svgObject.id+"_XAxisLabelBorder_"+t,fill:"transparent","stroke-width":L.width,stroke:L.color,d:B.toString()},this.svgRenderer.drawPath(v,s),e(s).appendTo(this.gXaxisEle)}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(r=x.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_XAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:r},s||h)),i.majorTickLines.visible&&i.visible&&(o=y.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_XAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:o},s||h)),"inside"==i.tickLinesPosition&&e(h).appendTo(this.gXaxisEle)},_drawXAxisGridLine:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S=ej.EjSvgRender.utils._getStringBuilder(),C=ej.EjSvgRender.utils._getStringBuilder(),T=[],L=this.model.elementSpacing+5,k=i._opposed,P=Math.floor(i.x),j=Math.floor(i.x+i.width),D=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid_"+t}),A=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisAlternateGridBand_"+t}),O=s.axes[i.name]._validCross;if(0==t||O||"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?"inside"!=i.labelPosition||"inside"==i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?0==t||O||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?(l=Math.floor(i.y),d=Math.floor(i.y)):(l=k?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),d=k?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)):l=d=k?Math.floor(i.y-i._LableMaxWidth.height)+L:i.showNextToAxisLine?Math.floor(i.y+i._LableMaxWidth.height)-L:Math.floor(i.y+i._LableMaxWidth.height):(l=k?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),d=k?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)),i.visible&&i.axisLine.visible){var I=i.axisLine.offset>0?i.axisLine.offset:0,R=this._getSharpPath(i.axisLine.width);s.axes[i.name]._lineOption=[{id:this.svgObject.id+"_XAxisLine_"+t,x1:P-i.plotOffset+R+I,y1:l+R,x2:j+i.plotOffset-I+R,y2:d+R,"stroke-dasharray":i.axisLine.dashArray,"stroke-width":i.axisLine.width,stroke:i.axisLine.color,opacity:i.axisLine.opacity||1},this.gXaxisEle]}else s.axes[i.name]._lineOption=[null,this.gXaxisEle];for(i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,h=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,c=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&h<0&&(c=c>0?i.visibleLabels.length+1:c),x=0;x<c;x++)if(n=i.visibleLabels[x]?i.visibleLabels[x].Value:i.visibleLabels[x-1].Value+i.range.interval,u=i.labels.length>0&&h<0?n+h:n,u=i.roundingPlaces?u:parseFloat(u.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(u,i.visibleRange)){if(i.hidePartialLabels&&(0==x||x==c-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(this._getSharpPath(i.minorTickLines.width),p=this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){_=u;var M=i.visibleRange.max,E=i.visibleRange.min,V=Math.pow(i.logBase,_-i.visibleRange.interval),N=(Math.pow(i.logBase,_)-V)/(i.minorTicksPerInterval+1),F=V+N;for(_=ej.EjSvgRender.utils._logBase(F,i.logBase),g=0;g<i.minorTicksPerInterval;g++)_<M&&_>E&&(r=Math.ceil((_-E)/(M-E)*i.width),i.minorGridLines&&i.minorGridLines.visible&&(m=Math.floor(r+P),S.append("M "+(m+p)+" "+(l+p)+" L "+(m+p)+" "+(Math.floor(k?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+p)+" "))),F+=N,_=ej.EjSvgRender.utils._logBase(F,i.logBase)}else for(g=0,_=u;g<i.minorTicksPerInterval;g++)(_+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&_>i.visibleRange.min&&(r=Math.ceil((_-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorGridLines&&i.minorGridLines.visible&&S.append("M "+(Math.floor(r+P)+p)+" "+(l+p)+" L "+(Math.floor(r+P)+p)+" "+(Math.floor(k?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+p)+" "));if(i.majorTickLines.visible||i.majorGridLines.visible){this._getSharpPath(i.majorTickLines.width);var B=this._getSharpPath(i.majorGridLines.width),z=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(u,i.visibleRange,i.isInversed)*i.width),Y=Math.floor(z+P);if(i.zoomed&&(T[0]=i.x),0==x&&Y==Math.floor(this.model.m_AreaBounds.X)){T.push(Y+B);continue}if(x==c-1&&"transparent"!=this.model.chartArea.border.color&&this.model.chartArea.border.width>0){if(Y==Math.floor(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width))continue;i.zoomed&&(T[c]=Y+B)}if(i.majorGridLines.visible&&C.append("M "+(Y+B)+" "+(Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height)+B)+" L "+(Y+B)+" "+(Math.floor(this.model.m_AreaBounds.Y)+B)+" "),"category"!=i._valueType.toLowerCase()&&x==c-1)continue;T.push(Y+B)}}if("transparent"!=i.alternateGridBand.odd.fill||"transparent"!=i.alternateGridBand.even.fill){for(f=this.model.m_AreaBounds.Height,0===T.length&&(b={id:this.svgObject.id+"_XAxis"+t+"_Alternateeven0",x:i.x,y:Math.floor(this.model.m_AreaBounds.Y),width:i.width,height:f,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},this.svgRenderer.drawRect(b,A)),x=1;x<T.length;x+=2)y=(y=T[x+1]-T[x])||"onticks"==i.labelPlacement.toLowerCase()?y:i.width+i.x-T[x],x==T.length-1&&i.zoomed&&(y=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-T[T.length-1]-i.plotOffset),v={id:this.svgObject.id+"_XAxis"+t+"_Alternateodd"+[x],x:T[x],y:Math.floor(this.model.m_AreaBounds.Y),width:y,height:f,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},y>0&&this.svgRenderer.drawRect(v,A);for(x=0;x<T.length;x+=2)y=(y=T[x+1]-T[x])||"onticks"==i.labelPlacement.toLowerCase()?y:i.width+i.x-T[x],0==x&&i.zoomed&&(y=T[1]-i.x),x==T.length-1&&i.zoomed&&(y=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-T[T.length-1]-i.plotOffset),b={id:this.svgObject.id+"_XAxis"+t+"_Alternateeven"+[x],x:T[x],y:Math.floor(this.model.m_AreaBounds.Y),width:y,height:f,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},y>0&&this.svgRenderer.drawRect(b,A);e(A).appendTo(D)}i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(o=S.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_XAxisMinorGridLines_"+t,fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:o},D)),a=C.toString(),i.majorGridLines.visible&&""!=(w={id:this.svgObject.id+"_XAxisMajorGridLines_"+t,fill:"none","stroke-width":i.majorGridLines.width,stroke:i.majorGridLines.color,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,d:a}).d&&this.svgRenderer.drawPath(w,D),e(D).appendTo(this.svgObject)},_drawYAxisTickLine:function(t,i,s,a){var o,r,n,l,d,h,c,u,p,m,g,_,f="",b="",v=0,x=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),y=i._opposed,w=[],S=i.labelBorder;1!=t&&("inside"==i.labelPosition&&"inside"==i.tickLinesPosition||"inside"==i.labelPosition&&"inside"!=i.tickLinesPosition)&&i.x!=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&i.x!=this.model.m_AreaBounds.X?(r=y||a?i.showNextToAxisLine?i.x:Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),y||a?i.showNextToAxisLine||Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing)):1==t||a||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?r=i.showNextToAxisLine?i.showNextToAxisLine||"inside"!=i.tickLinesPosition?i.x:i.x+i.majorTickLines.size:i._x:(r=Math.floor(i.x+i.majorTickLines.size),Math.floor(i.x+i.majorTickLines.size));var C=Math.floor(i.y+i.height),T=(Math.floor(i.y),ej.EjSvgRender.utils._getStringBuilder()),L=ej.EjSvgRender.utils._getStringBuilder();for(this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTicklines_"+t}),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,n=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,l=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&n<0&&(l=l>0?i.visibleLabels.length+1:l),O=0;O<l;O++)if(o=i.visibleLabels[O]?i.visibleLabels[O].Value:i.visibleLabels[O-1].Value+i.range.interval,d=i.labels.length>0&&n<0?o+n:o,d=i.roundingPlaces?d:parseFloat(d.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(d,i.visibleRange)){if(i.hidePartialLabels&&(0==O||O==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(c=this._getSharpPath(i.minorTickLines.width),this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){p=d;var k=i.visibleRange.max,P=i.visibleRange.min,j=Math.pow(i.logBase,p-i.visibleRange.interval),D=(Math.pow(i.logBase,p)-j)/(i.minorTicksPerInterval+1),A=j+D;for(p=ej.EjSvgRender.utils._logBase(A,i.logBase),u=0;u<i.minorTicksPerInterval;u++)p<k&&p>P&&(h=Math.ceil((p-P)/(k-P)*i.height),i.minorTickLines&&i.minorTickLines.visible&&i.minorTickLines.visible&&(m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?y?i.minorTickLines.size:-i.minorTickLines.size:y?-i.minorTickLines.size:i.minorTickLines.size,T.append("M "+(Math.floor(m+r)+c)+" "+(Math.floor(-1*h+C)+c)+" L "+(r+c)+" "+(Math.floor(-1*h+C)+c)+" "))),A+=D,p=ej.EjSvgRender.utils._logBase(A,i.logBase)}else for(u=0,p=d;u<i.minorTicksPerInterval;u++)(p+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&p>i.visibleRange.min&&(h=(p-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorTickLines.visible&&(m="inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?y?i.minorTickLines.size:-i.minorTickLines.size:y?-i.minorTickLines.size:i.minorTickLines.size,T.append("M "+(Math.floor(m+r)+c)+" "+(Math.floor(-1*h+C)+c)+" L "+(r+c)+" "+(Math.floor(-1*h+C)+c)+" ")));(i.majorTickLines.visible||i.majorGridLines.visible||S.width>0)&&(g=this._getSharpPath(i.minorTickLines.width),this._getSharpPath(i.majorGridLines.width),v=w[O]=ej.EjSvgRender.utils._getPointXY(d,i.visibleRange,i.isInversed)*i.height,i.majorTickLines.visible&&("inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"!=i.tickLinesPosition&&"inside"==i.labelPosition?N=(y?i.majorTickLines.size+i.axisLine.width/2:-(i.majorTickLines.size+i.axisLine.width/2))+(x?y?this.model.scrollerSize:y-this.model.scrollerSize:0):("inside"==i.tickLinesPosition&&"inside"!=i.labelPosition||"inside"==i.tickLinesPosition&&"inside"==i.labelPosition)&&(N=y?-(i.majorTickLines.size+i.axisLine.width/2):i.majorTickLines.size+i.axisLine.width/2),L.append("M "+(Math.floor(N+r)+g)+" "+(Math.floor(-1*v+C)+g)+" L "+(Math.floor(r+i.axisLine.width/2)+g)+" "+(Math.floor(-1*v+C)+g)+" ")))}if(S.width>0){var O,I,R,M,E,V=ej.EjSvgRender.utils._getStringBuilder(),N=i.axisLine.width/2,F=x?this.model.scrollerSize:0,B=i._LableMaxWidth.maxWidth+10;for(r=i.x,i.tickLinesPosition==i.labelPosition&&(B+=i.majorTickLines.size),Math.floor(r-B),M="outside"==i.labelPosition?y?Math.floor(r+B)+F:Math.floor(r-B)-F:y?Math.floor(r-B):Math.floor(r+B),O=0;O<l;O++)E=(w[w.length-1]-w[w.length-2])/2,!ej.util.isNullOrUndefined(w[O])&&w.length>1&&!isNaN(E)&&("category"==i._valueType&&"betweenticks"==i.labelPlacement.toLowerCase()?(I=Math.floor(-1*w[O]+C),R=Math.floor(-1*w[O]-2*E+C)):(I=Math.floor(-1*w[O]+E+C),R=Math.floor(-1*w[O]-E+C)),I>C?V.append("M "+M+" "+C+" L "+M+" "+R+" "):R<this.model.m_AreaBounds.Y?V.append("M "+Math.floor(N+r)+" "+I+" L "+M+" "+I+" L "+M+" "+this.model.m_AreaBounds.Y+" "):(V.append("M "+Math.floor(N+r)+" "+I+" L "+M+" "+I+" L "+M+" "+R+" "),O==l-1&&V.append("M "+Math.floor(N+r)+" "+R+" L "+M+" "+R+" ")));_={id:this.svgObject.id+"_YAxisLabelBorder_"+t,fill:"none","stroke-width":S.width,stroke:S.color,d:V.toString()},this.svgRenderer.drawPath(_,s),e(s).appendTo(this.gYaxisEle)}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(b=T.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:b},s)),i.majorTickLines.visible&&i.visible&&(f=L.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:f},s))},_drawYAxisGridLine:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w="",S=0,C=Math.floor(i.y+i.height),T=Math.floor(i.y),L=i._opposed,k=[],P=s.axes[i.name]._validCross,j=i.name.replace(/[^a-zA-Z0-9]/g,"");1!=t&&!P&&("inside"==i.labelPosition&&"inside"==i.tickLinesPosition||"inside"==i.labelPosition&&"inside"!=i.tickLinesPosition)&&i.x!=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&i.x!=this.model.m_AreaBounds.X?(r=L?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),n=L?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing)):1==t||P||"inside"==i.labelPosition||"inside"!=i.tickLinesPosition||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?(r=Math.floor(i.x),n=Math.floor(i.x)):(r=L?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size),n=L?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size));var D=ej.EjSvgRender.utils._getStringBuilder(),A=ej.EjSvgRender.utils._getStringBuilder(),O=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid_"+t}),I=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisAlternateGridBand_"+t});if(i.visible&&i.axisLine.visible){var R=i.axisLine.offset>0?i.axisLine.offset:0,M=this._getSharpPath(i.axisLine.width);s.axes[i.name]._lineOption=[{id:this.svgObject.id+j+"_YAxisLine_"+t,x1:r+M,y1:T-i.plotOffset+R+M,x2:n+M,y2:C+i.plotOffset-R+M,"stroke-width":i.axisLine.width,"stroke-dasharray":i.axisLine.dashArray,stroke:i.axisLine.color,opacity:i.axisLine.opacity||1},this.gYaxisEle]}else s.axes[i.name]._lineOption=[null,this.gYaxisEle];for(i.axisBottomLine&&i.axisBottomLine.visible&&this.svgRenderer.drawLine({id:this.svgObject.id+j+"_YAxisBottomLine_"+t,x1:this.model.m_AreaBounds.X,y1:C,x2:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width,y2:C,"stroke-width":i.axisBottomLine.width,stroke:i.axisBottomLine.color},O),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,l=i.labels.length>0&&"betweenticks"==i.labelPlacement.toLowerCase()?-.5:0,d=i.visibleLabels.length,b=0;b<d;b++)if(o=i.visibleLabels[b].Value,h=i.labels.length>0&&l<0?o+l:o,h=i.roundingPlaces?h:parseFloat(h.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(h,i.visibleRange)){if(i.hidePartialLabels&&(0==b||b==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(this._getSharpPath(i.minorTickLines.width),u=this._getSharpPath(i.minorGridLines.width),"logarithmic"==i._valueType){m=h;var E=i.visibleRange.max,V=i.visibleRange.min,N=Math.pow(i.logBase,m-i.visibleRange.interval),F=(Math.pow(i.logBase,m)-N)/(i.minorTicksPerInterval+1),B=N+F;for(m=ej.EjSvgRender.utils._logBase(B,i.logBase),p=0;p<i.minorTicksPerInterval;p++)m<E&&m>V&&(c=Math.ceil((m-V)/(E-V)*i.height),i.minorGridLines.visible&&D.append("M "+(Math.floor(this.model.m_AreaBounds.X)+u)+" "+(Math.floor(-1*c+C)+u)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+u)+" "+(Math.floor(-1*c+C)+u)+" ")),B+=F,m=ej.EjSvgRender.utils._logBase(B,i.logBase)}else for(p=0,m=h;p<i.minorTicksPerInterval;p++)(m+=i.visibleRange.interval/(i.minorTicksPerInterval+1))<i.visibleRange.max&&m>i.visibleRange.min&&(c=(m-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorGridLines.visible&&D.append("M "+(Math.floor(this.model.m_AreaBounds.X)+u)+" "+(Math.floor(-1*c+C)+u)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+u)+" "+(Math.floor(-1*c+C)+u)+" "));if((i.majorTickLines.visible||i.majorGridLines.visible)&&(this._getSharpPath(i.minorTickLines.width),g=this._getSharpPath(i.majorGridLines.width),i.majorGridLines.visible)){S=ej.EjSvgRender.utils._getPointXY(h,i.visibleRange,i.isInversed)*i.height;var z=Math.floor(this.model.m_AreaBounds.X)+g,Y=Math.floor(-1*S+C),X=Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+g;if(0==b){if(Y==Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height))continue;i.zoomed&&(k[0]=Y+g)}if(b==i.visibleLabels.length-1&&"transparent"!=this.model.chartArea.border.color&&this.model.chartArea.border.width>0&&Y==Math.floor(this.model.m_AreaBounds.Y)){k.push(Y+g);continue}if(A.append("M "+z+" "+(Y+g)+" L "+X+" "+(Y+g)+" "),0==b)continue;k.push(Y+g)}}if("transparent"!=i.alternateGridBand.odd.fill||"transparent"!=i.alternateGridBand.even.fill){for(_=this.model.m_AreaBounds.Width,i.zoomed&&(k[k.length]=i.y),b=1;b<k.length;b+=2)v=k[0]-k[1],b==k.length-1&&i.zoomed&&(v=k[k.length-2]-i.y),f={id:this.svgObject.id+"_YAxisAlternateodd"+[b],x:Math.floor(this.model.m_AreaBounds.X),y:k[b],width:_,height:v,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(f,I);for(b=0;b<k.length;b+=2)v=k[0]-k[1],b==k.length-1&&i.zoomed&&(v=k[k.length-2]-i.y),0==b&&i.zoomed&&(v=i.y+i.height-k[0]-i.plotOffset),x={id:this.svgObject.id+"_YAxisAlternateeven"+[b],x:Math.floor(this.model.m_AreaBounds.X),y:k[b],width:_,height:v,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(x,I);e(I).appendTo(O)}i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(w=D.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisMinorGridLines_"+t,fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:w},O)),a=A.toString(),i.majorGridLines.visible&&""!=(y={id:this.svgObject.id+"_YAxisMajorGridLines_"+t,fill:"none","stroke-width":i.majorGridLines.width,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,stroke:i.majorGridLines.color,d:a}).d&&this.svgRenderer.drawPath(y,O),e(O).appendTo(this.svgObject)},textOverflowMultiLevelLabels:function(e,t,i,s,a,o,r,n,l,d){var h,c,u,p,m,g=n.y,_=0;if("wrap"==a||"wrapandtrim"==a){for(u=(c=(h=d._wrap(e,t,i,a,o,r)).text).length,m=0;m<u;m++)n.y+=r.height,d.model.enable3D||(n.id+="_"+m,d.svgRenderer.drawText(n,c[m],l)),"wrapandtrim"==a&&c[m].indexOf("...")>-1&&(d.model.enable3D&&0==_&&(n.y-=r.height),p=h.unTrimmedText,r=ej.EjSvgRender.utils._measureText(c[m],null,o),d.model.axisMultiLevelLabelRegions.push({trimText:c[m],labelText:p[_],Bounds:{X:n.x-r.width/2,Y:n.y,Width:r.width,Height:r.height}}),_++);return c}return i="trim"==a?ej.EjSvgRender.utils._trimText(s,t,o):s,d.model.enable3D||(g=n.y+r.height),"vertical"==e.orientation.toLowerCase()&&(g=n.y-r.height/4),r=ej.EjSvgRender.utils._measureText(i,null,o),d.model.axisMultiLevelLabelRegions.push({trimText:i,labelText:s,Bounds:{X:n.x-r.width/2,Y:g,Width:r.width,Height:r.height}}),i},_triggerMultiLevelLabelsRendering:function(t,i,s,a,o,r,n){var l=e.extend({},ej.EjSvgRender.commonChartEventArgs);return l.data={text:t,location:{x:i,y:s},textOverflow:a,font:o,border:r},n._trigger("multiLevelLabelRendering",l),l.data},_drawXAxisMultiLevelLabels:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R=this.svgObject.id,M=i.visibleRange,E=this.svgRenderer.createGroup({id:R+"_XAxisMultiLevelLabels_"+t,"clip-path":"url(#"+this.svgObject.id+"_XAxis_Clippath_"+t+")"}),V=this.model.m_AreaBounds,N=i.opposedPosition,F=i.labelPosition.toLowerCase(),B=10,z=i._isScroll?this.model.scrollerSize:0;for(b=i.y+(u=i.majorTickLines.size+i._LableMaxWidth.height+i.labelBorder.width)+z,N?b="outside"==F?i.y-u-i._multiLevelLabelHeight-5-z:i.y+u-5:"inside"==F&&(b=i.y-u-i._multiLevelLabelHeight),this.svgRenderer.drawClipPath({id:this.svgObject.id+"_XAxis_Clippath_"+t,x:f=i.x,y:b,width:v=i.width+this.model.chartArea.border.width,height:x=i._multiLevelLabelHeight+B-2,fill:"white","stroke-width":1,stroke:"Gray"},E),s=0;s<i.multiLevelLabels.length;s++)if("string"==typeof(d=i.multiLevelLabels[s]).start&&-1!=d.start.indexOf("/Date(")&&(d.start=parseInt(d.start.substr(6))),"string"==typeof d.end&&-1!=d.end.indexOf("/Date(")&&(d.end=parseInt(d.end.substr(6))),d.visible&&(d.start>=M.min&&d.start<=M.max||d.end>=M.min&&d.end<=M.max||d.start<M.min&&d.end>M.max)){if(h=d.font,P=(T=d.border).width,g=d._level,_=d.textOverflow.toLowerCase(),T.type.toLowerCase(),k=d.textAlignment.toLowerCase(),c=Math.ceil(ej.EjSvgRender.utils._getPointXY(d.start,M,i.isInversed)*i.width),p=Math.ceil(ej.EjSvgRender.utils._getPointXY(d.end,M,i.isInversed)*i.width),i.isInversed&&(c=(p=(c-=p)+p)-c),D=d.text,l=ej.EjSvgRender.utils._measureText(D,null,h),r=ej.util.isNullOrUndefined(d.maximumTextWidth)?p-c-P-B:d.maximumTextWidth-B,a=c+i.x+5,o=u+i.y,o=N?"outside"==F?i.y-u-i.multiLevelLabelHeight[g]-B-i.prevHeight[g]-z:i.y+u-5+i.prevHeight[g]:"inside"==F?i.y-u-i.multiLevelLabelHeight[g]-i.prevHeight[g]:u+i.y+i.prevHeight[g]+z,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(f,b,v,x),this.svgRenderer.ctx.clip()),"center"==k?(a+=r/2,y="middle"):"far"==k?(a=a+r-P/2,y="end"):(y="start",a+=P/2),D=(j=this._triggerMultiLevelLabelsRendering(D,a,o,_,h,d.border,this)).text,a=j.location.x,o=j.location.y,_=j.textOverflow.toLowerCase(),h=j.font,T=j.border,L=j.border.type.toLowerCase(),P=j.border.width,m={id:R+"_XAxisMultiLevelLabels_Text_"+t+"_"+s,x:a,y:"curlybrace"==L?o+10:o,fill:h.color?h.color:i.multiLevelLabelsFontColor,"font-size":h.size,"font-family":h.fontFamily,"font-style":h.fontStyle,"font-weight":h.fontWeight,opacity:h.opacity,"text-anchor":y},n=D,"none"!=_&&(n=this.textOverflowMultiLevelLabels(i,r,n,D,_,h,l,m,E,this)),"wrap"!=_&&"wrapandtrim"!=_&&(m.y+=l.height,l.height<i.multiLevelLabelHeight[g]&&(m.y=m.y+i.multiLevelLabelHeight[g]/2-l.height/2),this.svgRenderer.drawText(m,n,E)),o=N?"inside"==F?u+i.y+i.prevHeight[g]-5:i.y-u-i.multiLevelLabelHeight[g]-B+2-i.prevHeight[g]-z:"inside"==F?i.y-u-i.multiLevelLabelHeight[g]-3-i.prevHeight[g]:u+i.y+i.prevHeight[g]+z,this.model.multiLevelLabelRegions.push({bounds:{x:a=c+i.x,y:o+=P,height:w=i.multiLevelLabelHeight[g]+5,width:S=r+B+P},axisIndex:t,multiLevelLabel:d}),A="","rectangle"==L)this.svgRenderer.drawRect({id:R+"_XAxisMultiLevelLabels_Rect_"+t+"_"+s,x:a,y:o,width:S,height:w,fill:"transparent",stroke:T.color?T.color:i.multiLevelLabelsColor,"stroke-width":P},E);else{switch(L){case"withouttopandbottomborder":A="M "+a+" "+o+" L "+a+" "+(o+w)+" M "+(a+S)+" "+o+" L "+(a+S)+" "+(o+w);break;case"withouttopborder":A="M "+a+" "+(o+(C=!N&&"outside"==F||N&&"inside"==F?w:0))+" L "+(a+S)+" "+(o+C)+" M "+a+" "+o+" L "+a+" "+(o+w)+" M "+(a+S)+" "+o+" L "+(a+S)+" "+(o+w);break;case"brace":"near"==k?(I=m.x,O=m.x+l.width+2):"center"==k?(I=m.x-l.width/2-2<=V.X+c?V.X+c+B:m.x-l.width/2-2,O=m.x+l.width/2+2>V.X+p?V.X+p-B:m.x+l.width/2+2):(I=m.x-l.width-2,O=m.x),A=!N&&"outside"==F||N&&"inside"==F?"M "+a+" "+o+" L "+a+" "+(o+w/2)+" M "+a+" "+(o+w/2)+" L "+(I-2)+" "+(o+w/2)+" M "+O+" "+(o+w/2)+" L "+(a+S)+" "+(o+w/2)+" M "+(a+S)+" "+(o+w/2)+" L "+(a+S)+" "+o:"M "+a+" "+(o+w)+" L "+a+" "+(o+w/2)+" M "+a+" "+(o+w/2)+" L "+I+" "+(o+w/2)+" M "+O+" "+(o+w/2)+" L "+(a+S)+" "+(o+w/2)+" M "+(a+S)+" "+(o+w)+" L "+(a+S)+" "+(o+w/2);break;case"curlybrace":o=i.y+u+i.prevHeight[g],A=S<30?"M "+(a+S/2-5)+" "+(o+10)+" L "+(a+S/2)+" "+(o+15)+" L "+(a+S/2+5)+" "+(o+10):N||"center"==k?"M "+a+" "+o+" C "+a+" "+o+" "+(a+5)+" "+(o+10)+" "+(a+10)+" "+(o+10)+" L "+(a+S/2-5)+" "+(o+10)+" L "+(a+S/2)+" "+(o+15)+" L "+(a+S/2+5)+" "+(o+10)+" L "+(a+S-10)+" "+(o+10)+" C "+(a+S-10)+" "+(o+10)+" "+(a+S)+" "+(o+5)+" "+(a+S)+" "+o:"near"==k?"M "+a+" "+o+" C "+a+" "+o+" "+(a+5)+" "+(o+10)+" "+(a+10)+" "+(o+10)+" L "+(a+15)+" "+(o+15)+" L "+(a+15+5)+" "+(o+10)+" L "+(a+S-10)+" "+(o+10)+" C "+(a+S-10)+" "+(o+10)+" "+(a+S)+" "+(o+5)+" "+(a+S)+" "+o:"M "+a+" "+o+" C "+a+" "+o+" "+(a+5)+" "+(o+10)+" "+(a+10)+" "+(o+10)+" L "+(a+S-20)+" "+(o+10)+" L "+(a+S-15)+" "+(o+15)+" L "+(a+S-10)+" "+(o+10)+" L "+(a+S-10)+" "+(o+10)+" C "+(a+S-10)+" "+(o+10)+" "+(a+S)+" "+(o+5)+" "+(a+S)+" "+o}A&&this.svgRenderer.drawPath({id:R+"_XAxisMultiLevelLabels_Rect_"+t+"_"+s,d:A,stroke:T.color?T.color:i.multiLevelLabelsColor,"stroke-width":T.width,fill:"none"},E)}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore(),e(E).appendTo(this.gXaxisEle)}},_drawYAxisMultiLevelLabels:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R=this.svgObject.id,M=i.visibleRange,E=this.svgRenderer.createGroup({id:R+"_YAxisMultiLevelLabels_"+t,"clip-path":"url(#"+this.svgObject.id+"_YAxis_Clippath_"+t+")"}),V=i.opposedPosition,N=i.labelPosition.toLowerCase(),F=i._multiLevelLabelHeight,B=i.majorTickLines.size+i._LableMaxWidth.width+i.labelBorder.width+10,z=i._isScroll?this.model.scrollerSize:0;for(k=i.y,this.svgRenderer.drawClipPath({id:this.svgObject.id+"_YAxis_Clippath_"+t,x:L=V?"outside"==N?i.x+B-5+z:i.x-F-B+5:"outside"==N?i.x-F-B-z:i.x+B-5,y:i.y,width:P=F+5,height:j=i.height+5,fill:"white","stroke-width":1,stroke:"Gray"},E),s=0;s<i.multiLevelLabels.length;s++)if((l=e.extend(!0,{},this.model.multiLevelLabelsDefault,i.multiLevelLabels[s])).visible&&(l.start>=M.min&&l.start<=M.max||l.end>=M.min&&l.end<=M.max||l.start<M.min&&l.end>M.max)){if(d=l.font,S=l.border,m=l._level,g=l.maximumTextWidth,p=l.textOverflow.toLowerCase(),S.type.toLowerCase(),T=l.textAlignment.toLowerCase(),h=Math.ceil(ej.EjSvgRender.utils._getPointXY(l.start,M,i.isInversed)*i.height),c=Math.ceil(ej.EjSvgRender.utils._getPointXY(l.end,M,i.isInversed)*i.height),i.isInversed&&(h=(c=(h-=c)+c)-h),I=l.text,n=ej.EjSvgRender.utils._measureText(I,null,d),r=c-h-S.width,_=ej.util.isNullOrUndefined(g)?i.multiLevelLabelHeight[m]+5:g-5,a=i.x-B-i.prevHeight[m]-i.multiLevelLabelHeight[m]/2+S.width-2.5,o=i.height+i.y-h-r/2,a=V?"outside"==N?i.x+B+i.multiLevelLabelHeight[m]/2+i.prevHeight[m]+S.width+z:i.x-B-i.multiLevelLabelHeight[m]/2-i.prevHeight[m]+S.width+2.5:"inside"==N?i.x+B+i.multiLevelLabelHeight[m]/2+i.prevHeight[m]-2.5:a+0-z,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(L,k,P,j),this.svgRenderer.ctx.clip()),I=(D=this._triggerMultiLevelLabelsRendering(I,a,o="far"==T?o+r/2-n.height/2:"near"==T?o-r/2+n.height:o+n.height/4,p,d,l.border,this)).text,a=D.location.x,o=D.location.y,p=D.textOverflow,d=D.font,u={id:R+"_YAxisMultiLevelLabels_Text_"+t+"_"+s,x:"curlybrace"==(C=(S=D.border).type.toLowerCase())?V?a+0+10:a+0-10:a+0,y:o,fill:d.color?d.color:i.multiLevelLabelsFontColor,"font-size":d.size,"font-family":d.fontFamily,"font-style":d.fontStyle,"font-weight":d.fontWeight,opacity:d.opacity,"text-anchor":"middle"},f=I,"none"!=p&&(f=this.textOverflowMultiLevelLabels(i,_,f,I,p,d,n,u,E,this)),"wrap"!=p&&"wrapandtrim"!=p&&this.svgRenderer.drawText(u,f,E),A="",this.model.multiLevelLabelRegions.push({bounds:{x:a=a-2.5-i.multiLevelLabelHeight[m]/2,y:o=i.y+i.height-c+S.width,height:b=c-h,width:v=i.multiLevelLabelHeight[m]+5},axisIndex:t,multiLevelLabel:l}),"rectangle"==C)this.svgRenderer.drawRect({id:R+"_YAxisMultiLevelLabels_Rect_"+t+"_"+s,x:a,y:o,width:v,height:b,fill:"transparent",stroke:S.color?S.color:i.multiLevelLabelsColor,"stroke-width":S.width},E);else{switch(C){case"withouttopandbottomborder":A="M "+a+" "+(o+b)+" L "+(a+v)+" "+(o+b)+" M "+a+" "+o+" L "+(a+v)+" "+o;break;case"withouttopborder":A="M "+a+" "+(o+b)+" L "+(a+v)+" "+(o+b)+" M "+a+" "+o+" L "+(a+v)+" "+o+" M "+(a+(w=!V&&"outside"==N||V&&"inside"==N?0:v))+" "+(o+b)+" L "+(a+w)+" "+o;break;case"brace":x=u.y-n.height/2-4,y=u.y+n.height/4+2,A=!V&&"outside"==N||V&&"inside"==N?"M "+(a+v)+" "+o+" L "+(a+v/2)+" "+o+" M "+(a+v/2)+" "+o+" L "+(a+v/2)+" "+x+" M "+(a+v/2)+" "+y+" L "+(a+v/2)+" "+(o+b)+" M "+(a+v/2)+" "+(o+b)+" L "+(a+v)+" "+(o+b):"M "+a+" "+o+" L "+(a+v/2)+" "+o+" M "+(a+v/2)+" "+o+" L "+(a+v/2)+" "+x+" M "+(a+v/2)+" "+y+" L "+(a+v/2)+" "+(o+b)+" M "+(a+v/2)+" "+(o+b)+" L "+a+" "+(o+b);break;case"curlybrace":a=i.x-B-i.prevHeight[m],O=b-10,A=b<30?V?" M "+((a=i.x+B+i.prevHeight[m])+10)+" "+(o+(O=b-10)/2)+"  L "+(a+15)+" "+(o+O/2+5)+" L "+(a+10)+" "+(o+O/2+10):"M "+(a-10)+" "+(o+b/2-5)+" L "+(a-15)+" "+(o+b/2)+" L "+(a-10)+" "+(o+b/2+5):V?"M "+(a=i.x+B+i.prevHeight[m])+" "+o+" C "+a+" "+o+" "+(a+10)+" "+o+" "+(a+10)+" "+(o+10)+" L "+(a+10)+" "+(o+(O=b-10)/2)+"  L "+(a+15)+" "+(o+O/2+5)+" L "+(a+10)+" "+(o+O/2+10)+" L "+(a+10)+" "+(o+O)+" C"+(a+10)+" "+(o+O)+" "+(a+5)+" "+(o+O+10)+" "+a+" "+(o+O+10):"center"==T?"M "+a+" "+o+" C "+a+" "+o+" "+(a-10)+" "+o+" "+(a-10)+" "+(o+10)+" L "+(a-10)+" "+(o+O/2)+" L "+(a-15)+" "+(o+O/2+5)+" L "+(a-10)+" "+(o+O/2+10)+" L "+(a-10)+" "+(o+O)+" C "+(a-10)+" "+(o+O)+" "+(a-5)+" "+(o+O+10)+" "+a+" "+(o+O+10):"far"==T?"M "+a+" "+o+" C "+a+" "+o+" "+(a-10)+" "+o+" "+(a-10)+" "+(o+10)+" L "+(a-10)+" "+(o+O-10)+"  L "+(a-15)+" "+(o+O-5)+" L "+(a-10)+" "+(o+O)+" L "+(a-10)+" "+(o+O)+" C"+(a-10)+" "+(o+O)+" "+(a-10)+" "+(o+O+10)+" "+a+" "+(o+O+10):"M "+a+" "+o+" C "+a+" "+o+" "+(a-10)+" "+o+" "+(a-10)+" "+(o+10)+" L "+(a-15)+" "+(o+10+5)+" L "+(a-10)+" "+(o+10+10)+" L "+(a-10)+" "+(o+O)+" C"+(a-10)+" "+(o+O)+" "+(a-5)+" "+(o+O+10)+" "+a+" "+(o+O+10)}A&&this.svgRenderer.drawPath({id:R+"_YAxisMultiLevelLabels_Rect_"+t+"_"+s,d:A,stroke:S.color?S.color:i.multiLevelLabelsColor,"stroke-width":S.width,fill:"none"},E)}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore(),e(E).appendTo(this.gYaxisEle)}},_getLabelCollection:function(e,t,i,s,a){var o,r,n,l,d=[],h=[];for("string"==typeof e&&-1!=e.indexOf("<br>")?d=e.split("<br>"):d.push(e),s=s<=0?i.width/i.labels.length:s,o=d.length,n=0;n<o;n++)for(r=this.rowscalculation(d[n].toString(),t,i,s,a),l=0;l<r.length;l++)h.push(r[l]);return h},_drawXAxisLabels:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,F,B,z,Y,X,H,W,U,$,G,q,Z,Q,K,J,ee,te,ie,se,ae,oe,re,ne=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),le=(this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),this.model.m_AreaBounds),de=this.model.enableCanvasRendering,he=i.name.replace(/[^a-zA-Z0-9]/g,""),ce=i._opposed,ue=i.alignment.toLowerCase(),pe=i.labelIntersectAction,me=i.labelPlacement.toLowerCase(),ge=!1,_e=0,fe="inside"==i.tickLinesPosition,be=i._LableMaxWidth,ve=be.height,xe=0==be.rows?1:be.rows,ye=this.svgRenderer.vmlNamespace,we=i.axisLine.width,Se=i.font,Ce=i.rotationValue,Te=le.Width,Le=le.X,ke=i.labelIntersectAction.toLowerCase(),Pe=e(this.svgObject).width(),je=i.maximumLabelWidth,De=i.visibleRange,Ae=Te,Oe=i.majorTickLines.size,Ie=i.visibleLabels,Re=i.valueType&&i.valueType.toLowerCase(),Me=i.width,Ee=i.isInversed,Ve=i.majorTickLines.width,Ne=!1,Fe=this.model.scrollerSize,Be=i.rotateOn.toLowerCase(),ze="inside"==i.labelPosition,Ye=0,Xe=[],He=[],We=[];for(P=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),this.edgeLabel=!1,0!=t&&(ze&&fe||ze&&!fe)&&i.y!=le.Height+le.Y&&i.y!=le.Y?i.y=ce?Math.floor(i.y-ve):Math.floor(i.y+ve):0!=t&&ze&&fe&&i.y!=le.Height+le.Y&&i.y!=le.Y?i.y=ce?Math.floor(i.y-Oe):Math.floor(i.y+Oe):(i._y=Math.floor(i.y),i.y=i.showNextToAxisLine?Math.floor(i.y):ce?Math.floor(le.Y):Math.floor(le.Height+le.Y)),j=0;j<Ie.length;j++)if(x=(v=Ie[j]).displayText=ej.util.isNullOrUndefined(v.displayText)?v.Text:v.displayText,ej.EjSvgRender.utils._inside(v.Value,De)){if(h=Me/Ie.length,ej.isNullOrUndefined(Re)||j<Ie.length-1&&"datetimecategory"==Re&&"wrap"==ke&&"betweenticks"==me&&(m=Ie[j+1],v.Value-=.5,g=m.Value-.5),D=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(v.Value,De,Ee)*Me)),ej.isNullOrUndefined(Re)||(j<Ie.length-1&&"datetimecategory"==Re&&"wrap"==ke&&"betweenticks"==me?(p=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(g,De,Ee)*Me)),h=(u=i.x+p+(Ve+.5))-(c=0==j?i.x+D+(Ve-.5):i.x+D+(Ve+.5))):"datetimecategory"==Re&&"wrap"==ke&&"betweenticks"==me?(h=Me+i.x-u,c=u):"datetimecategory"==Re&&"wrap"==ke&&"onticks"==me&&(h=Me/i.labels.length)),i._gap=c,this.edgeLabel=!1,$e="string"==typeof x&&-1!=x.indexOf("<br>")?ej.EjSvgRender.utils._getHighestLabel(i,Pe,x):x,Ue=(Ge=ej.EjSvgRender.utils._measureText($e,Ae,i.font)).width,_e=0,ge=!1,"trim"==ke||i.enableTrim){if("onticks"==me)if(j!=Ie.length-1){for(A=v,O=Ie[j+1],We=[],He=[],"string"==typeof(m=Ie[j+1]).Text&&-1!=m.Text.indexOf("<br>")||"string"==typeof v.Text&&-1!=v.Text.indexOf("<br>")?(We=v.Text.split("<br>"),He=m.Text.split("<br>")):(He.push(m.Text),We.push(v.displayText?v.displayText:v.Text)),V=0;V<He.length;V++)for(ae=(Ze=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(m.Value,De,Ee)*Me)))-(Qe=ej.EjSvgRender.utils._measureText(He[V],Te,Se).width)/2,_e=0,_=!0,I=0;I<We.length&&_;I++)for(Ue=ej.EjSvgRender.utils._measureText(We[I],Ae,i.font).width;ae<D+Ue/2&&_e<2;)for(_e++,Qe>Ue?(f=He[V],Ne=!1):(f=We[I],Ne=!0),r=f,(R={}).displayText=f,X=1;X<r.length;X++)if(r=R.displayText.substring(0,X)+"... ",b=ej.EjSvgRender.utils._measureText(r,Te,Se).width,Ne){if((ae=Ze-Qe/2)<D+(0==j&&"shift"==i.edgeLabelPlacement?b:b/2)){X-1!=0&&(r=r.toString().substring(0,X-1)+"... "),Ue=b,x=R.displayText=A.displayText=r,We[I]=r;break}}else if((ae=Ze-b/2)<D+(j+1==Ie.length-1&&"shift"==i.edgeLabelPlacement?b:Ue/2)){X-1!=0&&(r=r.toString().substring(0,X-1)+"... "),Qe=b,R.displayText=O.displayText=r,He[V]=r,_=!1;break}}else j==Ie.length-1&&(We=He);else if("betweenticks"==me)for(M=i.enableTrim?je:h,We=[],"string"==typeof x&&-1!=x.indexOf("<br>")?We=x.split("<br>"):We.push(x),E=We.length,V=0;V<E;V++)if(v.displayText=We[V],(Ue=(Ge=ej.EjSvgRender.utils._measureText(We[V],Ae,i.font)).width)>M&&""!=We[V]){for(X=1;X<We[V].toString().length;X++)if(We[V]=v.displayText.toString().substring(0,X)+"... ",(Ue=ej.EjSvgRender.utils._measureText(We[V],Te,Se).width)>=M){if(We[V]=We[V].toString().substring(0,X-1)+"... ",v.displayText=We[V],j==Ie.length-1&&D+i.x+Ue/2>Pe&&M==h){M-=Ue/2,X=1;continue}break}v.displayText=We[V]}("double"!=i._valueType||"string"==typeof v.displayText)&&($e=We.length>0?ej.EjSvgRender.utils._getHighestLabel(i,Pe,We,null):$e,Ge=ej.EjSvgRender.utils._measureText($e,Te,Se))}else Ge="string"==typeof x&&-1!=x.indexOf("<br>")?ej.EjSvgRender.utils._measureText($e,Te,Se):ej.EjSvgRender.utils._measureText(v.displayText,Te,Se);if(l=Ge.width/2,n=Ge.height,Ue=Ge.width,d=i.majorGridLines.width>Ve?i.majorGridLines.width:Ve,!ej.util.isNullOrUndefined(v.Text)){if(ze&&fe||ze&&!fe&&"multiplerows"==ke?o=ce?i.y+Oe+n/2+we/2+ve/(2*xe)-5:i.y-Oe-we/2-ve/(2*xe)+5:ze&&!fe?o=ce?i.y+n/2+we/2+ve/(2*xe)-5:i.y-we/2-ve/(2*xe)+5:!ze&&!fe||!ze&&fe&&"multiplerows"==ke?(o=ce?i.y-Oe+n/2-we/2-ve/(2*xe)-5:i.y+Oe+we/2+ve/(2*xe)+5,o+=P?ce?-Fe:Fe:0):!ze&&fe&&(o=ce?i.y+n/2-we/2-ve/(2*xe)-5:i.y+we/2+ve/(2*xe)+5,o+=P?ce?-Fe:Fe:0),ze&&!fe?(90==Ce||"rotate90"==ke)&&(o=ce?o:o-Oe):!ze&&fe?(90==i.labelRotation||"rotate90"==ke)&&(o-=Oe):ze&&fe&&(90==i.labelRotation||"rotate90"==ke)&&(o=ce?o:o-Oe),N={id:this.svgObject.id+"_"+he+"_XLabel_"+j,x:a="near"==ue?D+i.x+d+("category"==Re&&"onticks"!=me?-Me/i.actualRange.delta/2+3:-Ge.width-3):"far"==ue?D+i.x+("category"==Re&&"onticks"!=me?+Me/i.actualRange.delta/2-Ge.width:+d+3):D+i.x-l,y:o,fill:Se.color,"font-size":Se.size,"font-family":Se.fontFamily,"font-style":Se.fontStyle,"font-weight":Se.fontWeight,opacity:Se.opacity},i.edgeLabelPlacement&&90!=Ce&&-90!=Ce&&270!=Ce&&-270!=Ce)switch(w=i.edgeLabelPlacement.toLowerCase(),S=Ie.length-1,w){case"shift":0==j?N.x<i.x&&(N.x=a=N.x+(C=i.x-N.x),this.diff=C,this.edgeLabel=!0):j==S&&N.x+Ge.width>i.x+i.width&&(N.x=a=N.x-(C=N.x+Ge.width-(i.x+i.width)),this.diff=C,this.edgeLabel=!0);break;case"hide":(0==j&&N.x<i.x||j==S&&N.x+Ue>Te+Le)&&(x="")}if(("wrap"==ke||"wrapbyword"==ke)&&(z=this._getLabelCollection(x,Ae,i,h,N),F=ej.EjSvgRender.utils._getHighestLabel(i,e(this.svgObject).width(),z,null),Ue=ej.EjSvgRender.utils._measureText(F,Te,Se).width),0==Ce||ye||(v.displayText="string"==typeof v.displayText&&-1!=v.displayText.indexOf("<br>")?ej.EjSvgRender.utils._getHighestLabel(i,Pe,v.displayText):v.displayText,this.labelRotation(i,a+l,o,N,v,Ce)),i.labelIntersectAction||i.enableTrim){if(this.diff=ej.util.isNullOrUndefined(this.diff)?0:this.diff,"none"==ke&&!i.enableTrim){"string"==typeof x&&-1!=x.indexOf("<br>")?(B=x.split("<br>"),N.y=ze?ce?N.y:N.y-n*(B.length-1):ce?N.y-n*(B.length-1):N.y,0!=Ce&&(N.x=N.x+Ue/2,N["text-anchor"]=Be),this.svgRenderer.drawText(N,B,de?$e:ne)):(("start"==Be||"end"==Be)&&0!=Ce&&-360!=Ce&&360!=Ce&&(N.x=N.x+Ue/2,N["text-anchor"]=Be),this.svgRenderer.drawText(N,x,de?$e:ne)),Ie[j].region=this.calculateRegion(x,Se,N,v),this.model.xAxisLabelRegions.push(Ie[j].region),ze?e(ne).appendTo(this.gXaxisTickEle):e(ne).appendTo(this.gXaxisEle);continue}if(!("wrap"!=ke&&"wrapbyword"!=ke||i.enableTrim)){for(B=[],z=[],"string"==typeof x&&-1!=x.indexOf("<br>")?B=x.split("<br>"):B.push(x),L="",h=h<=0?Me/Ie.length:h,Y=0;Y<B.length;Y++)for(T=this.rowscalculation(B[Y].toString(),Ae,i,h,N),X=0;X<T.length;X++)z.push(T[X]),L+=T[X];N.x=N.x+l,-1!=L.indexOf("...")||(L=x);var Ue,$e=ej.EjSvgRender.utils._getHighestLabel(i,Pe,z,null),Ge=ej.EjSvgRender.utils._measureText($e,Te,Se);N.x=N.x-(Ue=Ge.width)/2,N.y=ze?ce?N.y:N.y-n*(z.length-1):ce?N.y-n*(z.length-1):N.y,0!=Ce&&-360!=Ce&&360!=Ce&&(N["text-anchor"]=Be,N.x=N.x+Ue/2),this.svgRenderer.drawText(N,z,de?$e:ne),s=ej.EjSvgRender.utils._measureText(z[0],null,Se),Ie[j].region={bounds:{x:N.x,y:N.y,width:Ue,height:(y=s.height*z.length)-y/z.length},labelText:v.Text,displayText:L},Ie[j].displayText=L,this.model.xAxisLabelRegions.push(Ie[j].region);continue}if("hide"==ke)for(H=Ie.length-1,W=0;W<j;W++){if(ie=Ie[W],te=0,se=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(ie.Value,De,i.isInversed)*i.width)),k=ej.EjSvgRender.utils._measureText(ie.displayText,Ae,i.font).width,ae=se+(i.isInversed?-k/2:k/2),ae=0==W?ae+this.diff:ae,U=0==k?k:Ue,(j!=H||j==H&&Ue<=k)&&(U/=2),"shift"==w&&j==H){var qe=Ie[j],Ze=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(qe.Value,De,i.isInversed)*i.width)),Qe=ej.EjSvgRender.utils._measureText(qe.displayText,Ae,i.font).width,Ke=Ze+(i.isInversed?Qe/2:-Qe/2);(i.isInversed?ae<=Ke-this.diff:ae>=Ke-this.diff)&&(x=v.displayText="")}"hide"==ke&&(i.isInversed?ae<D+U:ae>D-U)&&(v.displayText=x="")}else if("multiplerows"==ke&&!i.enableTrim){if($=[],"string"==typeof(G=v).Text&&-1!=G.Text.indexOf("<br>")?$=G.Text.split("<br>"):$.push(G.Text),q=$.length,""==x&&"hide"==i.edgeLabelPlacement)for(Z=0;Z<q;Z++)$[Z]="";if(re=ej.EjSvgRender.utils._getHighestLabel(i,Pe,$),Ue=0!=Ce?ej.EjSvgRender.utils.rotatedLabel(i,null,Ce,re).width:ej.EjSvgRender.utils._measureText(re,Te,Se).width,H=i.visibleLabels.length-1,Ue/=2,Xe.length>0)for(Q=Xe,K=0;K<Q.length&&!ge;K++)for(J=Q[K],ee=0;J&&ee<J.length;ee++)for(oe=0;oe<q;oe++){if(te=0,Ue=0!=Ce?ej.EjSvgRender.utils.rotatedLabel(i,null,Ce,$[oe]).width:ej.EjSvgRender.utils._measureText($[oe],Te,Se).width,ie=J[ee],se=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(ie.Value,De,i.isInversed)*i.width)),0!=Ce?Ue=ej.EjSvgRender.utils.rotatedLabel(i,null,Ce,ie.Text).width:k=ej.EjSvgRender.utils._measureText(ie.Text,Ae,i.font).width,j!=H&&(Ue=Math.floor(Ue/2)),"category"==i.valueType&&0==ie.Value&&"shift"==w&&Ue>=i.maximumLabelWidth&&(se=i.x),ae=se+(i.isInversed?-k/2:k/2),(this.edgeLabel||1==Q.length)&&(ae+=this.diff),i.isInversed?ae<D+Ue:ae>D-Ue){if(ce){N.y=te=ze?N.y+n:N.y-n,(_e+=1)<Ye&&(_e+=Ye,Ye=0),K+1==Q.length&&(ge=!0);break}N.y=te=ze?N.y-n:N.y+n,(_e+=1)<Ye&&(_e+=Ye,Ye=0),K+1==Q.length&&(ge=!0);break}if(ee+1==J.length){oe==q-1?ge=!0:(Ye++,ge=!1);break}}if(null==te)if(null==Xe[0]&&(Xe[0]=[]),1==q)Xe[0].push(G);else for(oe=0;oe<q;oe++)null==Xe[oe]&&(Xe[oe]=[]),Xe[oe].push({Text:$[oe],Value:G.Value});else if(null==Xe[_e]&&(Xe[_e]=[]),1==q)Xe[_e].push(G);else for(oe=0;oe<q;oe++)null==Xe[_e]&&(Xe[_e]=[]),Xe[_e].push({Text:$[oe],Value:G.Value}),oe!=q-1&&(_e+=1);N.y=ze?ce?N.y:N.y-n*($.length-1):ce?N.y-n*($.length-1):N.y,0!=Ce&&-360!=Ce&&360!=Ce&&(re=ej.EjSvgRender.utils._getHighestLabel(i,Pe,$),Ue=0!=Ce?ej.EjSvgRender.utils.rotatedLabel(i,null,Ce,re).width:ej.EjSvgRender.utils._measureText(re,Te,Se).width,N["text-anchor"]=Be,N.x=N.x+Ue/2),this.svgRenderer.drawText(N,$,ne)}}this.edgeLabel||this.zoomed||i.zoomed||Ce||"rotate90"==pe||"rotate45"==pe||!(D+i.x+Ue/2>e(this.svgObject).width())||(e(N).attr("x",e(this.svgObject).width()-2),e(N).attr("text-anchor","end")),i.visibleLabels[j].y=N.y,this.model.enableCanvasRendering&&ze&&("rotate45"==i.labelIntersectAction||"rotate90"==i.labelIntersectAction)&&(N.y=N.y-Ue),"trim"!=ke&&!i.enableTrim||"double"==i._valueType&&"string"!=typeof v.displayText?"multiplerows"!=ke&&("string"==typeof x&&-1!=x.indexOf("<br>")?(B=x.split("<br>"),N.y=ze?ce?N.y:N.y-n*(B.length-1):ce?N.y-n*(B.length-1):N.y,(0!=Ce||"rotate45"==pe||"rotate90"==pe)&&(N.x=N.x+Ue/2,N["text-anchor"]=Be),this.svgRenderer.drawText(N,B,de?$e:ne)):("start"==Be&&0!=Ce&&-360!=Ce&&360!=Ce&&(N.x=N.x+Ue/2,N["text-anchor"]=Be),this.svgRenderer.drawText(N,x,de?$e:ne))):(N.y=ze?ce?N.y:N.y-n*(We.length-1):ce?N.y-n*(We.length-1):N.y,v.displayText=We.length>0?We.join(""):x,-1!=v.displayText.indexOf("...")||(v.displayText=x),0!=Ce&&"middle"!=Be&&(N.x=N.x+Ue/2,N["text-anchor"]=Be),this.svgRenderer.drawText(N,We.length>0?We:x,de?$e:ne)),j!=Ie.length-1&&("trim"==ke||i.enableTrim)&&(N.x=N.x-Ue/2),i.visibleLabels[j].region=this.calculateRegion(x,Se,N,v,We||B,$e,ke),this.model.xAxisLabelRegions.push(i.visibleLabels[j].region)}}e(ne).appendTo(this.gXaxisEle)},calculateRegion:function(e,t,i,s,a,o,r){var n;"trim"==r&&a.length>0?-1!=(n=a.join("")).indexOf("...")||(n=s.Text):n=o||e;var l=a&&a.length>0?a.length:1,d=l>1&&o?ej.EjSvgRender.utils._measureText(o,null,t):ej.EjSvgRender.utils._measureText(n,null,t);return{bounds:{x:i.x,y:i.y,width:d.width,height:d.height*l},trimText:n,labelText:s.Text}},rowscalculation:function(e,t,i,s,a){var o,r,n,l,d,h,c,u=ej.EjSvgRender.utils._measureText,p=i.font,m=u(e,t,p).width,g=e.toString(),_=g.length,f=[],b=0,v=i.labelIntersectAction,x=g.split(" "),y=x.length;if("wrap"==v){if(m>s)for(r=1;r<=g.length;r++)(m=u(e=g.substring(0,r),t,p).width)>s&&(e=g.substring(0,r-1),f[b]=e,o=(g=g.slice(r-1,_)).split(" "),g=x.indexOf(o[0])>-1?g:"-"+g,n=u(e,t,p).width,b++,r=0);a&&(a.x="datetimeCategory"==i.valueType&&"betweenticks"==i.labelPlacement.toLowerCase()?i._gap:a.x),f[b]=e}else for(l=0,b=0;b<y;b++)if((h=u(d=x[b],t,p).width)<s&&m>s){for(;b<y;){if(!((h=u(d,t,p).width)+(c=x[b+1]?u(x[b+1],t,p).width:0)<=s&&c>0)){l=Math.max(l,h);break}d=d.concat(" "+x[b+1]),b++}f.push(d)}else{if(!(m>s)){f.push(e);break}n=u(d=ej.EjSvgRender.utils._trimText(d,s,p),t,p).width,l=Math.max(l,n),f.push(d)}return f},labelRotation:function(t,i,s,a,o,r,n){var l,d=t._opposed,h=t.rotateOn.toLowerCase(),c=t.labelIntersectAction.toLowerCase(),u=0,p=o.displayText?o.displayText:o.Text,m=r>360?r-360:r<-360?r+360:r,g="rotate("+m+","+i+","+s+")";if(e(a).attr("transform",g),e(a).attr("labelRotation",m),e(a).attr("labelPosition",t.labelPosition),"wrap"==c||"wrapbyword"==c){var _=this._getLabelCollection(p,this.model.m_AreaBounds.width,t,t.width/t.labels.length,a);p=ej.EjSvgRender.utils._getHighestLabel(t,e(this.svgObject).width(),_,null)}var f=this.svgRenderer.createText(a,p),b=Math.round(ej.EjSvgRender.utils._measureBounds(f,this).height),v=ej.EjSvgRender.utils._measureText(p,null,t.font).height;u=Math.ceil(ej.EjSvgRender.utils._measureBounds(f,this).height-ej.EjSvgRender.utils._measureText(p,null,t.font).height),u=t._LableMaxWidth.height-u-ej.EjSvgRender.utils._measureText(p,null,t.font).height,l="inside"!=t.labelPosition?d?u/2:-u/2:d?-u/2:u/2,"end"==h&&(l+=m<0&&m>-180||m>180?-b/2:(b-v)/2),"start"==h&&(l+=m<0&&m>-180||m>180?b/2:-(b-v)/2),g="rotate("+m+","+i+","+(s+(this.model.enableCanvasRendering&&t.opposedPosition?-l:l))+")",this.edgeLabel&&90==r&&(s=0==n?a.y+this.diff:a.y-this.diff),e(a).attr({transform:g,y:s+(this.model.enableCanvasRendering&&t.opposedPosition?-l:l)})},_drawYAxisLabels:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M=i.name.replace(/[^a-zA-Z0-9]/g,""),E=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels_"+t,cursor:"default"}),V=i._opposed,N="inside"==i.labelPosition,F="inside"==i.tickLinesPosition,B=this.model.enableCanvasRendering,z=i._isScroll&&!(null!=i.scrollbarSettings.pointsLength&&i.scrollbarSettings.pointsLength<i.maxPointLength),Y=i.font,X=i.visibleRange,H=i.axisLine.width,W=i._LableMaxWidth,U=(R=this.model.m_AreaBounds).Width,$=i.maximumLabelWidth,G=this.model.scrollerSize,q=i.labelIntersectAction.toLowerCase(),Z=i.visibleLabels,Q=X,K=i.isInversed,J=i.height,ee=i.labelRotation,te=i.alignment.toLowerCase();for(1!=t&&(N&&F||N&&!F&&i.x!=R.Width+R.X&&i.x!=R.X)?i.x=V?N&&F?Math.floor(i.x):Math.floor(i.x+W.width+this.model.elementSpacing):i.showNextToAxisLine?Math.floor(i.x):Math.floor(i.x-W.width-this.model.elementSpacing):1==t||i.x==R.Width+R.X&&i.x!=R.X||N||!F?(i._x=Math.floor(i.x),i.x=i.showNextToAxisLine?Math.floor(i.x):V?Math.floor(R.X+R.Width):Math.floor(R.X)):(i._x=Math.floor(i.x),i.x=V?Math.floor(i.x+i.majorTickLines.size):i.showNextToAxisLine?Math.floor(i.x-i.majorTickLines.size):Math.floor(R.X)),k=0;k<Z.length;k++)if(x=Z[k],ej.EjSvgRender.utils._inside(x.Value,Q)){if(l=Math.abs(ej.EjSvgRender.utils._getPointXY(x.Value,Q,K)*J),c=ej.EjSvgRender.utils._measureText(x.Text,R.Height,Y).height,A=x.displayText=x.Text,v=ej.EjSvgRender.utils._measureText(A,U,Y).width,N&&F?(p=V?i.x-i.majorTickLines.size-H/2-5:i.x+H/2+5+i.majorTickLines.size,m=V?"end":"start"):N&&!F?(p=V?i.x-H/2-5:i.x+H/2+5,m=V?"end":"start"):F&&!N?(p=V?H/2+i.x+5:i.x-H/2-5,m=V?"start":"end",p-=z?V?-G:G:0):(p=V?i.majorTickLines.size+H/2+i.x+5:i.x-H/2-5-i.majorTickLines.size,m=V?"start":"end",p-=z?V?-G:G:0),T=i.majorGridLines.width>i.majorTickLines.width?i.majorGridLines.width:i.majorTickLines.width,b={id:this.svgObject.id+"_"+M+"_YLabel_"+k,x:p,y:L="far"==te?-l+(i.y+J)-T-3:"near"==te?-l+(i.y+J)+c/2+T+3:-l+(i.y+J)+c/4,fill:Y.color,"font-size":Y.size,"font-family":Y.fontFamily,"font-style":Y.fontStyle,"font-weight":Y.fontWeight,opacity:Y.opacity,"text-anchor":ej.util.isNullOrUndefined(ee)||0==ee?m:"middle"},P=[],"string"==typeof(A=x.displayText?x.displayText:x.Text)&&-1!=A.indexOf("<br>")?(P=A.split("<br>"),j=A=ej.EjSvgRender.utils._getHighestLabel(i,R.Height,P),v=ej.EjSvgRender.utils._measureText(A,U,Y).width):P.push(A),i.edgeLabelPlacement)switch(d=i.edgeLabelPlacement.toLowerCase(),h=Z.length-1,d){case"shift":0==k?b.y>i.y+J&&(b.y=L=b.y-(g=b.y-(i.y+J)),this.diff=g,this.edgeLabel=!0):k==h&&b.y-c/2<i.y&&(b.y=L=b.y+(g=i.y-(b.y-c/2)),this.diff=g,this.edgeLabel=!0);break;case"hide":(0==k&&b.y>i.y+J||k==h&&b.y-c/2<R.Y)&&(A=x.Text="",1==P.length&&(P[0]=A))}if(ej.util.isNullOrUndefined(ee)||0==ee||this.svgRenderer.vmlNamespace||(A=x.displayText?x.displayText:x.Text,A=j||A,f="rotate("+(_=ee>360?ee-360:ee<-360?ee+360:ee)+","+(p=N?V?p-v/2:p+v/2:V?p+v/2:p-v/2)+","+L+")",e(b).attr("transform",f),e(b).attr("labelRotation",_),a=this.svgRenderer.createText(b,A),o=Math.ceil(ej.EjSvgRender.utils._measureBounds(a,this).width-ej.EjSvgRender.utils._measureText(A,null,Y).width),f="rotate("+_+","+(p+(u=N?V?-o/2:o/2:V?o/2:-o/2))+","+L+")",e(b).attr({transform:f,x:p+u})),i.labelIntersectAction||i.enableTrim){if("none"==q&&!i.enableTrim){this.svgRenderer.drawText(b,P.length>0?P:x.Text,B&&j?j:E),s=ej.EjSvgRender.utils._measureText(A,null,Y),r={bounds:n={x:i.opposedPosition?b.x:b.x-s.width,y:b.y,width:s.width,height:s.height},trimText:A,labelText:x.Text},i.visibleLabels[k].region={bounds:n,trimText:A,labelText:x.Text},this.model.yAxisLabelRegions.push(r);continue}if(i.enableTrim)for(D=0;D<P.length;D++)if(A=P[D],(v=ej.EjSvgRender.utils._measureText(A,null,Y).width)>$&&""!=A){for(O=1;O<A.toString().length;O++)if(A=x.displayText.toString().substring(0,O-1)+"...",(v=ej.EjSvgRender.utils._measureText(A,U,Y).width)>=$){A=A.toString().substring(0,O-1)+"...";break}x.displayText=P[D]=A}for(I=0;I<k;I++)y=Z[I],w=Math.abs(ej.EjSvgRender.utils._getPointXY(y.Value,X,K)*J),S=ej.EjSvgRender.utils._measureText(y.Text,R.Height,Y).height,C=-1*w+(i.y+J)+S/4,C+=K?S/2:-S/2,this.edgeLabel&&(C=0==I?C-S/4:C),"hide"==q&&""!=y.Text.toString()&&(K?C>b.y-c/4:C<b.y+c/4)?A=x.Text="":"multiplerows"==q&&(K?C>b.y-c/4:C<b.y+c/4)&&y.x==b.x&&(b.x=y.x+V?N?-W.maxWidth-5:W.maxWidth+5:N?W.maxWidth+5:-W.maxWidth-5)}Z[k].x=b.x,this.svgRenderer.drawText(b,P.length>0?P:A,E),s=ej.EjSvgRender.utils._measureText(A,null,Y),r={bounds:n={x:V?b.x:b.x-s.width,y:b.y,width:s.width,height:s.height},trimText:A,labelText:x.Text},Z[k].region={bounds:n,trimText:A,labelText:x.Text},this.model.yAxisLabelRegions.push(r)}e(E).appendTo(this.gYaxisEle)},trimText:function(e,t,i){return t--,(e=e.substring(0,t-i.length))+i},_drawXTitle:function(t,i){var s,a,o;if(""!=i.title.text&&i.title.text&&i.title.visible){var r,n,l,d=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis_Title_"+t,cursor:"default"}),h=ej.EjSvgRender.utils._measureText(i.title.text,i.width,i.title.font),c=h.height/2,u=i._opposed,p=i.title.text,m=i._LableMaxWidth,g="middle",_=this.model.elementSpacing,f=i.title.enableTrim,b=i._isScroll||this.model.zooming.enableScrollbar&&i.scrollbarSettings.visible&&(i.zoomFactor<1||i.zoomPosition>0),v=i.title.maximumTitleWidth,x=i.title.position.toLowerCase(),y=i.title.alignment.toLowerCase(),w=i.title.isReversed,S=i.tickLinesPosition.toLowerCase(),C=i.labelPosition.toLowerCase(),T=this.model.m_AreaBounds,L=i.title.offset,k=this.model.scrollerSize;if(f&&(ej.util.isNullOrUndefined(v)||v>0||isNaN(v)))for(s=v||i.width-2*_;h.width>s;)if(p=this.trimText(p,p.length,"..."),h=ej.EjSvgRender.utils._measureText(p,i.width,i.title.font),"..."==p){p="";break}if(a=e.extend({},ej.EjSvgRender.commonChartEventArgs),r=_+m.height+c+i._multiLevelLabelHeight+i.majorTickLines.size+i.axisLine.width,"inside"!=S||"inside"!=C||0!=t&&i.y!=T.Height+T.Y&&i.y!=T.Y?0!=t&&i.y!=T.Width+T.X&&i.y!=T.X||"inside"==S||"inside"!=C?0!=t&&i.y!=T.Width+T.X&&i.y!=T.X||"inside"!=S||"inside"==C?"inside"!=S&&"inside"!=C||1!=t?r="inside"==x?_:_+m.height+c+i.majorTickLines.size+i.axisLine.width+i._multiLevelLabelHeight:"inside"==S||"inside"!=C||i.showNextToAxisLine||(r="inside"==x?_+m.height+c+i._multiLevelLabelHeight+i.axisLine.width:_+c+i.majorTickLines.size+i.axisLine.width+_+_):r="inside"==x?_+c+i.majorTickLines.size+i.axisLine.width:_+m.height+c+i._multiLevelLabelHeight+i.axisLine.width:r="inside"==x?_+m.height+c+i._multiLevelLabelHeight+i.axisLine.width:_+i.majorTickLines.size+i.axisLine.width:r="inside"==x?_+m.height+c+i._multiLevelLabelHeight+i.majorTickLines.size+i.axisLine.width:_+c+i.axisLine.width,"far"==y?(n=w?i.x+L:i.x+i.width+L,g=w?"start":"end"):"near"==y?(n=w?i.x+i.width+L:i.x+L,g=w?"end":"start"):n=i.x+i.width/2+L,a.data={title:i.title.text,location:{x:n,y:r},axes:i},this._trigger("axesTitleRendering",a),o={id:this.svgObject.id+"_XAxisTitle_"+t,x:a.data.location.x,y:l="inside"==x?(u?"inside"==S&&"outside"==C?i.y+a.data.location.y-(b?k:0)-i.majorTickLines.size:i.y+a.data.location.y-(b?k:0):"outside"==S&&"inside"==C?(b?k:0)+(i.y-a.data.location.y)+i.majorTickLines.size:(b?k:0)+(i.y-a.data.location.y))+h.height/3.5:(u?"inside"==S&&"outside"==C?i.y-a.data.location.y-(b?k:0)-i.majorTickLines.size:i.y-a.data.location.y-(b?k:0):"outside"==S&&"inside"==C?(b?k:0)+(a.data.location.y+i.y)-i.majorTickLines.size:(b?k:0)+(a.data.location.y+i.y))+h.height/3.5,fill:i.title.font.color,"font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":g},this.model.enableCanvasRendering){var P=jQuery.uaMatch(navigator.userAgent),j=!!navigator.userAgent.match(/Trident\/7\./),D=P.browser.toLowerCase();"msie"==D||j||(o.y=u?o.y+c/2+1:o.y+c/2+("mozilla"==D?1:-2))}e(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).length>0?e(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).attr(o):f?f&&(ej.util.isNullOrUndefined(v)||v>0||isNaN(v))&&(this.model.xAxisTitleRegion.push({Bounds:{X:"middle"==g?o.x-h.width/2:"end"==g?o.x-h.width:o.x,Y:o.y,Width:h.width,Height:h.height},trimText:p,labelText:i.title.text}),this.svgRenderer.drawText(o,p,d)):this.svgRenderer.drawText(o,a.data.title,d),this.model.enableCanvasRendering||this.svgRenderer.drawRect({id:this.svgObject.id+"_XAxisTitleBorder_"+t,x:a.data.location.x-("start"==g?0:"end"==g?h.width:h.width/2)-_,y:l-h.height+h.height/4,width:h.width+2*_,height:h.height,fill:"transparent",class:"e-xaxistitleborder"},d),e(d).appendTo(this.gXaxisEle)}},_drawYTitle:function(t,i){var s,a,o,r,n;if(""!=i.title.text&&i.title.text&&i.title.visible){var l,d,h=i._opposed,c=this.model.elementSpacing,u="middle",p=this.model.series.isTransposed,m=i.majorTickLines.size,g=i.title.position.toLowerCase(),_=i._LableMaxWidth,f=this.model.m_AreaBounds,b=i.axisLine,v=i.tickLinesPosition.toLowerCase(),x=i.labelPosition.toLowerCase(),y=i.title.text,w=i.title.enableTrim,S=i._isScroll,C=i.title.maximumTitleWidth,T=i.title.offset,L=i.title.alignment.toLowerCase(),k=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTitleGroup_"+t,cursor:"default"}),P=ej.EjSvgRender.utils._measureText(i.title.text,i.height,i.title.font);if("inside"!=v||"inside"!=x||1!=t&&i.x!=f.Width+f.X&&i.x!=f.X?1!=t&&i.x!=f.Width+f.X&&i.x!=f.X||"inside"==v||"inside"!=x?1!=t&&i.x!=f.Width+f.X&&i.x!=f.X||"inside"!=v||"inside"==x?("inside"!=i.tickLinesPosition&&"inside"!=i.labelPosition||1!=t)&&(l="inside"==g?h?i.x-(c+b.width+m):i.x+(c+(i.showNextToAxisLine?0:_.width)+b.width+m):h?i.x+(3*c+i._multiLevelLabelHeight+_.width+m+b.width):i.x-(3*c+_.width+i._multiLevelLabelHeight+m+b.width)):l="inside"==g?h?i.x-(3*c+m+b.width):i.x+(3*c+m+b.width)+(i.showNextToAxisLine?"inside"==x?-i._multiLevelLabelHeight:i._multiLevelLabelHeight:-c):h?i.x+(3*c+i._multiLevelLabelHeight+_.width+b.width):i.x-(3*c+_.width+b.width+i._multiLevelLabelHeight):l="inside"==g?h?i.x-(3*c+_.width+i._multiLevelLabelHeight+b.width):i.x+(3*c+_.width+i._multiLevelLabelHeight+b.width):h?i.x+(3*c+m+b.width):i.x-(3*c+m+b.width):l="inside"==g?h?i.x-(3*c+_.width+i._multiLevelLabelHeight+m+b.width):i.x+(3*c+_.width+i._multiLevelLabelHeight+m+b.width):h?i.x+(3*c+b.width-5):i.x-(3*c+b.width),s=ej.EjSvgRender.utils._measureText(y,i.height,i.title.font),w&&(ej.util.isNullOrUndefined(C)||C>0||isNaN(C)))for(a=C||i.height-2*c;s.width>a;)if(y=this.trimText(y,y.length,"..."),s=ej.EjSvgRender.utils._measureText(y,i.height,i.title.font),"..."==y){y="";break}if(l=i.opposedPosition?l:l-(S?this.model.scrollerSize:0),8===document.documentMode&&(l=h?l+s.width/2-c:l-s.width/2+c),(o=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={title:i.title.text,location:{x:P.width/2,y:0},axes:i},this._trigger("axesTitleRendering",o),d=o.data.location.y+(i.y+i.height)+i.height/-2,"near"==L?(d=i.y+i.height-T,u=h||p?"end":"start"):"far"==L?(d=i.y-T,u=h||p?"start":"end"):"center"==L&&(d=i.y+i.height/2-T),n={id:this.svgObject.id+"_YAxisTitle_"+t,x:l,y:d,fill:i.title.font.color,labelRotation:r=h?90:-90,transform:"rotate("+r+","+l+","+d+")","font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":u,"dominant-baseline":"middle"},this.model.enableCanvasRendering){var j=jQuery.uaMatch(navigator.userAgent),D=!!navigator.userAgent.match(/Trident\/7\./),A=j.browser.toLowerCase();"msie"==A||D||(n.x=h?n.x-P.height/4+1:n.x+P.height/4+("mozilla"==A?1:-2))}e(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).length>0?e(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).attr(n):w?w&&(ej.util.isNullOrUndefined(C)||C>0||isNaN(C))&&(this.model.yAxisTitleRegion.push({Bounds:this.svgRenderer.vmlNamespace?{X:n.x-s.width/2,Y:n.y+s.height/2,Width:s.width,Height:s.height}:{X:n.x-s.height/2,Y:n.y+s.width/2,Width:s.height/2,Height:s.width},trimText:y,labelText:i.title.text}),this.svgRenderer.drawText(n,y,k)):this.svgRenderer.drawText(n,o.data.title,k),this.model.enableCanvasRendering||this.svgRenderer.drawRect({id:this.svgObject.id+"_YAxisTitleBorder_"+t,x:n.x-s.height+s.height/2,y:n.y-("start"==u?s.width:"end"==u?0:s.width/2)-c,width:s.height,height:s.width+2*c,fill:"transparent",class:"e-yaxistitleborder"},k),e(k).appendTo(this.gYaxisEle)}}},ej.EjStripline.prototype={_drawStripline:function(e,t,i,s){var a,o,r,n,l,d,h,c=ej.util.isNullOrUndefined(e.valueType)?e._valueType.toLowerCase():e.valueType.toLowerCase();"string"==typeof t.start&&"string"==typeof t.end&&(t.start=-1!=t.start.indexOf("/Date(")?new Date(parseInt(t.start.substr(6))):t.start,t.end=-1!=t.end.indexOf("/Date(")?new Date(parseInt(t.end.substr(6))):t.end),"datetimecategory"==c?(a=null!=t.start&&"number"!=typeof t.start?e.labels.indexOf(t.start.getTime()):t.start,o=null!=t.end&&"number"!=typeof t.end?e.labels.indexOf(t.end.getTime()):t.end):(a=t.start<e.visibleRange.min?e.visibleRange.min:t.start,o=t.end>e.visibleRange.max?e.visibleRange.max:t.end);var u,p=0,m=t.isRepeat,g=t.repeatEvery,_=t.repeatUntil,f=t.borderWidth,b=t.width;if(t.visible)if(this.model._stripeline=!0,r=t.startFromAxis,n="over"==t.zIndex?this.gStriplineOver:this.gStriplineBehind,n=ej.util.isNullOrUndefined(n)?"":n,l=!0,d=0,"horizontal"==e.orientation.toLowerCase())if(p=-90,ej.util.isNullOrUndefined(a)&&(ej.util.isNullOrUndefined(o)||ej.util.isNullOrUndefined(b)))l=!1;else if(a=r?ej.util.isNullOrUndefined(t.offset)?e.visibleRange.min:e.visibleRange.min+t.offset:"date"==jQuery.type(a)?a.getTime():a,ej.util.isNullOrUndefined(o)||"date"!=jQuery.type(o)||(o=o.getTime()),m&&!ej.util.isNullOrUndefined(g)&&(b||f))for(h=ej.util.isNullOrUndefined(_)?o||e.visibleRange.max:"datetime"==e._valueType?_.getTime():_;a<h;)o="datetime"===e._valueType?this._getDatetimeValue(o,a,b,e,b?null:o,t,c):a+b,u=this._getHorizontalValue(a,o,e,b,t,r,c),l&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,n,t,e),d++,a="datetime"===e._valueType?this._getDatetimeValue(o,a,g,e,null,t,c):a+g;else u=this._getHorizontalValue(a,o,e,b,t,r,c),l&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,n,t,e);else if(ej.util.isNullOrUndefined(a)&&(ej.util.isNullOrUndefined(o)||ej.util.isNullOrUndefined(b)))l=!1;else if(a=r?ej.util.isNullOrUndefined(t.offset)?e.visibleRange.min:e.visibleRange.min+t.offset:"date"==jQuery.type(a)?a.getTime():a,ej.util.isNullOrUndefined(o)||"date"!=jQuery.type(o)||(o=o.getTime()),m&&!ej.util.isNullOrUndefined(g)&&(b||f))for(h=ej.util.isNullOrUndefined(_)?o||e.visibleRange.max:_;a<h;)u=this._getVerticalValue(a,o=a+b,e,b,t,r),l&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,n,t,e),d++,a+=g;else u=this._getVerticalValue(a,o,e,b,t,r),l&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,p,i,d,s,n,t,e)},_getHorizontalValue:function(e,t,i,s,a,o,r){var n=(o?(e-i.visibleRange.min)/i.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(e,i.visibleRange,i.isInversed))*i.width+i.x,l=ej.EjSvgRender.utils._getPointXY(t,i.visibleRange,i.isInversed)*i.width+i.x,d=ej.EjSvgRender.utils._getPointXY("datetime"===r?this._getDatetimeValue(t,e,s,i,s?null:t,a,r):e+(ej.util.isNullOrUndefined(a.width)?0:a.width),i.visibleRange,i.isInversed)*i.width+i.x,h=(i.isInversed?l<d:l>d)?Math.abs(n-l):Math.abs(n-d);return this._calculateHorizontalStripline(h,n,i,a)},_getVerticalValue:function(e,t,i,s,a,o){var r=i.y+i.height-(o?(e-i.visibleRange.min)/i.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(e,i.visibleRange,i.isInversed))*i.height,n=i.y+i.height-ej.EjSvgRender.utils._getPointXY(ej.util.isNullOrUndefined(t)?0:t,i.visibleRange,i.isInversed)*i.height,l=i.y+i.height-ej.EjSvgRender.utils._getPointXY(e+(ej.util.isNullOrUndefined(s)?0:s),i.visibleRange,i.isInversed)*i.height,d=(i.isInversed?n>l:n<l)?Math.abs(r-n):Math.abs(r-l);return this._calculateVerticalStripline(d,r,i,a)},_calculateHorizontalStripline:function(e,t,i,s){var a=this.chart.model.m_AreaBounds.Height,o=e||s.borderWidth||0,r=i.isInversed?t-e:t,n=this.chart.model.m_AreaBounds.Y,l=ej.EjSvgRender.utils._measureText(s.text,null,s.font).height;return"middletop"==s.textAlignment?(textX=r+l,textY=Math.abs(n+a/2)):"middlecenter"==s.textAlignment?(textX=Math.floor(r+o/2)+l/3,textY=Math.abs(n+a/2)):"middlebottom"==s.textAlignment&&(textX=r+o-l,textY=Math.abs(n+a/2)),{x:r,y:n,height:a,width:o,textX:textX,textY:textY}},_calculateVerticalStripline:function(e,t,i,s){var a,o,r=e,n=this.chart.model.m_AreaBounds.X,l=this.chart.model.m_AreaBounds.Width,d=t+(i.isInversed?0:-e),h=ej.EjSvgRender.utils._measureText(s.text,l,s.font).height;return"middletop"==s.textAlignment?(a=n+l/2,o=d+h):"middlecenter"==s.textAlignment?(a=n+l/2,o=Math.abs(d+r/2)+h/3):"middlebottom"==s.textAlignment&&(a=n+l/2,o=d+r-h),{x:n,y:d,height:r,width:l,textX:a,textY:o}},_getDatetimeValue:function(e,t,i,s,a,o,r){var n,l=o.sizeType.toLowerCase(),d=null===a;if("datetime"!==r)return"pixel"===o.sizeType?t:d?t+i:e;switch(n=new Date(t),"auto"===l&&(l=s._intervalType.toLowerCase()),l){case"years":return d?new Date(n.setFullYear(n.getFullYear()+i)):e;case"months":return d?new Date(n.setMonth(n.getMonth()+i)):e;case"days":return d?new Date(n.setDate(n.getDate()+i)):e;case"hours":return d?new Date(n.setHours(n.getHours()+i)):e;case"minutes":return d?new Date(n.setMinutes(n.getMinutes()+i)):e;case"seconds":return d?new Date(n.setSeconds(n.getSeconds()+i)):e;default:return t}},_drawAxisStriplines:function(e,t,i,s,a,o,r,n,l,d,h,c,u){var p,m;if(ej.util.isNullOrUndefined(c.imageUrl)){var g={id:h.id+"_striplineRect_"+n+"_"+d+"_"+l,x:e,y:t,width:s,height:i,fill:c.color,opacity:c.opacity,"stroke-width":c.borderWidth,stroke:0==c.borderWidth?"transparent":c.borderColor},_={id:h.id+"_striplineRectText_"+n+"_"+d+"_"+l,x:a,y:o,fill:c.font.color,transform:"rotate("+r+","+a+","+o+")",labelRotation:r,"font-size":c.font.size,"font-family":c.font.fontFamily,"font-style":c.font.fontStyle,"font-weight":c.font.fontWeight,opacity:c.font.opacity,"text-anchor":"middle"};ej.EjSvgRender.utils.AddRegion(this.chart,{X:e,Y:t,Width:s,Height:i},"over"==c.zIndex),this.chart.model.enableCanvasRendering?(p=this.chart.svgObject.getContext("2d"),m="horizontal"==u.orientation.toLowerCase()?{X:u.x,Y:t,Width:u.width,Height:this.chart.model.m_AreaBounds.Height}:{X:e,Y:u.y,Width:this.chart.model.m_AreaBounds.Width,Height:u.height},p.save(),p.beginPath(),p.rect(m.X,m.Y,m.Width,m.Height),p.clip(),this.svgRenderer.drawRect(g,h),this.svgRenderer.drawText(_,c.text,h),p.closePath(),p.restore()):(this.svgRenderer.drawRect(g,h),this.svgRenderer.drawText(_,c.text,h))}else this.svgRenderer.drawImage({height:i,width:s,href:c.imageUrl,x:e,y:t,id:h.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"},h)}}}(jQuery),ej.EjLegendRender=function(e){this.chartObj=e},function(e){ej.EjLegendRender.prototype={sumofArray:function(e){for(var t=0,i=e.length,s=0;s<i;s++)t+=e[s];return t},legendRectSpace:function(e,t){var i=e.Width-10,s=e.Height-10,a=!1;return Math.ceil(t.Width)>=i&&Math.ceil(t.Height)>=s&&(a=!0),a},drawLegendTitle:function(){var e=this.chartObj,t=e.model,i=t.legend,s=i.isReversed,a=t.elementSpacing,o=i.title,r=ej.EjSvgRender.utils._measureText,n=o.font,l=t.LegendBounds.Width,d=r(o.text,null,n),h=d.width,c=d.height,u=o.textAlignment.toLowerCase(),p=0,m=a+c/2;switch(u){case"far":p=s?p:l-h-p;break;case"center":p=l/2-h/2}p<0&&(p=0,l=h),l<h+p&&(l=h+p),e.svgRenderer.drawText({id:e.svgObject.id+"_LegendTitleText",x:s&&"near"==u?l-h-p:p,y:m,fill:n.color,"font-size":n.size,"font-style":n.fontStyle,"font-family":n.fontFamily,"font-weight":n.fontWeight,"text-anchor":"start",direction:"ltr",lgndCtx:!0},o.text,this.chartObj.gLegendEle)},drawLegendItem:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=this.chartObj,T=C.model,L=T.legend,k=L.isReversed,P=L.textOverflow.toLowerCase(),j=L.textWidth,D=T.LegendBounds,A=T.elementSpacing,O=L.border.width,I=ej.EjSvgRender.utils._measureText,R=ej.EjSvgRender,M=C.svgRenderer,E=t.Font,V=T.symbolShape,N=T.enableCanvasRendering,F=L.itemStyle,B=t.PointIndex,z=t.SeriesIndex,Y=T.series[z],X=C.svgObject,H=t.LegendStyle,W=(jQuery.uaMatch(navigator.userAgent),navigator.userAgent.match(/Trident\/7\./),Y.type.toLowerCase()),U=Y.drawType;if(p=I(t.Text,D.Width,E).height,"object"==typeof t.Text&&k){for(_=0,x=0;x<t.Text.length;x++)f=t.Text[x],_<(b=ej.EjSvgRender.utils._measureText(f,D.Width,E).width)&&(_=b,v=f);m=I(v,null,E).width}else m=I(t.Text,null,E).width;for(d in g={startX:k?m+i+A:i+F.width/2,startY:s+(p>F.height?p:F.height)/2},V)if(t.Shape.toLowerCase()==d.toLowerCase()){h="seriestype"==d.toLowerCase()?"SeriesType":d;break}if("SeriesType"==h&&(("radar"==W||"polar"==W)&&(h="rangecolumn"==(c="scatter"==U.toLowerCase()?Y.marker.shape:c=U).toLowerCase()?"RangeColumn":c.capitalizeFirstString()),"scatter"==W&&(h=(c=Y.marker.shape).capitalizeFirstString()),t.drawType&&(h="SeriesType"),C.vmlRendering&&("pie"==W||"doughnut"==W||"pieofpie"==W)&&(h="Circle")),"None"==h&&(h="pie"==W||"doughnut"==W||"pieofpie"==W?"Circle":"Rectangle"),a=ej.util.isNullOrUndefined(B)?z:B,C.gLegendItemEle=M.createGroup({id:X.id+"_Legend"+a,cursor:"pointer"}),t.CommonEventArgs.data.gLegendItemEle=C.gLegendItemEle,(n=e.extend(!0,{},t.CommonEventArgs.data)).model=C.model,!t.CommonEventArgs.cancel){if(l=R.chartSymbol["_draw"+h](g,n.style,n,C.gLegendItemEle),o=H.Color&&"gray"!==H.Color.toString().toLowerCase()&&N||H.Color&&"gray"!==H.Color.toLowerCase()?E.color:"gray",u=(r=t).Text.length,("seriestype"==L.shape||"seriesType"==L.shape)&&(i=k?i-A/2:i+A/2),y={id:this.chartObj.svgObject.id+"_LegendItemText"+a,x:k?i:F.width+i+A/2,y:g.startY,fill:o,"font-size":E.size,"font-style":E.fontStyle,"font-family":E.fontFamily,"font-weight":E.fontWeight,"text-anchor":"start",direction:"ltr"},N&&(y.lgndCtx=!0),y.y=g.startY+p/4,"wrap"==P||"wrapandtrim"==P)for(y.y=y.y-p,w=0;w<u;w++)y.y=y.y+p,M.drawText(y,r.Text[w],C.gLegendItemEle),"wrapandtrim"==P&&T.legendTextRegion.push({bounds:{x:y.x+D.X,y:y.y+D.Y,height:p*u,width:j},trimText:r.Text,labelText:r.displayText});else"trim"==P&&T.legendTextRegion.push({bounds:{x:y.x+D.X,y:y.y+D.Y,height:p+A,width:j},trimText:r.Text,labelText:r.displayText}),M.drawText(y,r.Text,C.gLegendItemEle);M.append(C.gLegendItemEle,C.gLegendEle),S={LegendBound:{X:D.X+O,Y:D.Y+O},ItemBound:{X:i=l?k?g.startX-m-A:l:i,Y:s,_Width:t.Bounds._Width,Width:t.Bounds.Width,Height:t.Bounds.Height}},g.startX=k?Math.abs(g.startX-m-A/2):g.startX,T.legendRegion.push({LegendItem:t,Location:g,SymbolShape:h,Style:t.CommonEventArgs.data.style,Bounds:S})}},drawLegend:function(t){var i,s,a,o,r,n,l,d,h,c,u,p=this.chartObj,m=p.model,g=m.legend,_=g.isReversed,f=m.LegendViewerBounds,b=m.LegendBounds,v=m.LegendActualBounds,x=m.AreaType,y=g.position.toLowerCase(),w=g.alignment.toLowerCase(),S=m.elementSpacing,C=(r=m.title).font.size,T=r.subTitle,L=r.subTitle.font.size,k=g.title,P=g.border.width,j=ej.EjSvgRender.utils._measureText,D=m.margin,A=m.border.width,O=m.legendCollection,I=O.length,R=m.svgWidth-2*A,M=m.svgHeight-2*A,E=g.itemPadding>0?g.itemPadding:0,V=10,N=10,F=""!=T.text&&T.visible&&r.visible?j(T.text,R-D.left-D.right,T.font).height+S:0,B=m._titleLocation?m._titleLocation.Y:0+F,z=j(k.text,null,k.font),Y=z.height,X=z.width,H=m._rowDefinitions,W=0,U=m._columnDefinitions,$=this.sumofArray(H.farSizes),G=this.sumofArray(H.nearSizes),q=(this.sumofArray(U.farSizes),this.sumofArray(U.nearSizes)),Z=!1,Q=m.m_AreaBounds,K=g.enableScrollbar,J=e(p.legendContainer),ee=e("#ScrollerParent_vertical_"+p._id).length>0?18:0,te=e("#ScrollerParent_horizontal_"+p._id).length>0?18:0,ie=e(p.legendSvgContainer),se=10,ae=(T=m.title.subTitle,(r=m.title).visible?1.2*parseInt(C):0),oe=T.visible?1.2*parseInt(L):0;if(ae=m.titleWrapTextCollection&&m.titleWrapTextCollection.length>1?m._titleLocation._height*m.titleWrapTextCollection.length-1:ae,oe=m.subTitleWrapTextCollection&&m.subTitleWrapTextCollection.length>1?m._subTitleLocation.size.height:oe,m.legend.border&&!T.text&&(oe=0,se=5),"right"==y||"left"==y?V=10:N=K?M>200?10:M>100?5:0:10,f.Height+=Y,b.Height+=Y,g.visible){if("custom"!=y){if("cartesianaxes"==x)switch(y){case"bottom":b.Y=Q.Y+Q.Height+q-S/2+te;break;case"top":b.Y=0==B?A+S:ae+10+oe+se+S;break;case"right":b.X=Q.X+Q.Width+$+2*S;break;case"left":b.X=Q.X-G-v.Width-S/2-2*P-ee}else switch(y){case"bottom":b.Y=M-(v.Height+P)-S;break;case"top":b.Y=0==B?A+S:ae+10+oe+se+S;break;case"right":b.X=R-v.Width;break;case"left":b.X=A}if(!m.enable3D&&"cartesianaxes"==x&&null!=t._crossAxisOverlap)for(n=0,l=m._axes.length;n<l;n++){var re=m._axes[n],ne=t.axes[re.name]._bounds,le="horizontal"===re.orientation.toLowerCase();"top"==y&&le&&re._opposed&&re.y-ne<b.Y+b.Height?b.Y-=b.Y+b.Height-re.y+ne:"bottom"==y&&le&&!re._opposed&&re.y+ne>b.Y?b.Y+=re.y+ne-b.Y:"left"==y&&!le&&re._opposed&&re.x-ne<b.X+b.Width?b.X+=re.x+ne-b.X:"right"==y&&!le&&!re._opposed&&re.x+ne>b.X&&(b.X-=b.X+b.Width-re.x+ne)}if("left"==y||"right"==y)if(K)switch(w){case"center":b.Y=Q.Height/2-v.Height/2+Q.Y-P;break;case"near":b.Y=Q.Y;break;case"far":b.Y=Q.Y+Q.Height-v.Height-2*P}else switch(w){case"center":b.Y=M/2-(v.Height+2*P)/2+S/2;break;case"near":b.Y=A+2*S;break;case"far":b.Y=M-(v.Height+P)-2*S}else switch(w){case"center":b.X=R/2-(v.Width+2*P)/2-S/4;break;case"near":b.X=_?R-(v.Width+P)-2*S:A+2*S;break;case"far":b.X=_?A+2*S:R-(v.Width+P)-2*S}}else b.Y=g.location.y<M?g.location.y:0,b.X=g.location.x<R?g.location.x:0;if(K)if("right"==y||"left"==y){if(b.Y<Q.Y||v.Height+2*P>=Q.Height)for(d=2*P,c=0;c<I;c++)if((d+=O[c].Bounds.Height+E)>Q.Height){v.Height=Q.Height-2*P,b.Y=Q.Y;break}}else if(2*P+v.Width>=R)for(h=2*P,c=0;c<I;c++)if((h+=O[c].Bounds.Width+E)>R){v.Width=R-2*P-v.vScrollSize-2*A,b.X=R/2-(v.Width+2*P)/2+S/2;break}for(p.legendSvgContainer.setAttribute("height",b.Height),p.legendSvgContainer.setAttribute("width",Math.max(X,b.Width)),a=i=V,o=s=N,""!=k.text&&k.text&&(this.drawLegendTitle(),o=s=N+Y),c=0;c<I;c++)!(g.rowCount<g.columnCount||g.rowCount==g.columnCount)||"top"!=y&&"bottom"!=y&&"custom"!=y?(o+O[c].Bounds.Height+E+Y+A>b.Height+s&&(o=s,a+=W+E),this.drawLegendItem(O[c],a,o),o+=O[c].Bounds.Height+E,W=Math.max(W,O[c].Bounds.Width)):(a+O[c].Bounds.Width>b.Width+i&&(a=V,o+=O[c].Bounds.Height+E),this.drawLegendItem(O[c],a,o),a+=O[c].Bounds.Width+E);var de=p.legendContainer[0].offsetLeft,he=e(p.element).offset(),ce=p.vmlRendering?de<=0?b.X:de-he.left:e(p.svgObject).offset().left-he.left,ue=p.vmlRendering?ce:b.X+(ce<=0?0:ce);J.attr("style",""),J.show(),g._ejScroller||J.css(_?{direction:"rtl"}:{direction:"ltr"}),J.css({position:"absolute",background:g.background,left:ue,top:b.Y,width:v.Width,height:v.Height,"border-width":g.border.width,"border-color":g.border.color,"border-style":"solid"}),J.addClass("e-legendborder"),ie.css({height:b.Height,width:b.Width}),b.Height=b.Height-(20-2*N),u=this.legendRectSpace(b,v),K&&(g._ejScroller?!u&&(b.Width>Math.ceil(v.Width)||b.Height>Math.ceil(v.Height))?(e("#"+J[0].id).ejScroller({scrollTop:p.scrolltop,scrollLeft:p.scrollleft,height:v.Height,width:v.Width}),Z=!0,b.Height>Math.ceil(v.Height)&&0==v.vScrollSize&&J.css({width:v.Width+(J[0].offsetWidth+5*P-J[0].clientWidth)})):(e("#"+J[0].id).ejScroller("instance").destroy(),g._ejScroller=!1):!u&&b.Width>Math.ceil(v.Width)&&b.Height>Math.ceil(v.Height)?(J.css({overflow:"scroll"}),Z=!0):(!u&&b.Height>Math.ceil(v.Height)&&v.vScrollSize>=0&&(J[0].style.overflowY="scroll",J[0].style.overflowX="hidden",0==v.vScrollSize&&J.css({width:v.Width+(J[0].offsetWidth-2*P-J[0].clientWidth)}),Z=!0),!u&&b.Width>Math.ceil(v.Width)&&v.hScrollSize>=0&&(J[0].style.overflowX="scroll",J[0].style.overflowY="hidden",0==v.hScrollSize&&J.css({height:v.Height+(J[0].offsetHeight-2*P-J[0].clientHeight)}),Z=!0))),p.svgRenderer.append(p.gLegendEle,p.legendSvgContainer),Z||J.css({width:v.Width-v.vScrollSize,height:v.Height-v.hScrollSize}),g._ejScroller||(null!=p.scrolltop&&J.scrollTop(p.scrolltop),null!=p.scrollleft&&J.scrollLeft(p.scrollleft))}else J.hide()}}}(jQuery),ej.seriesTypes={},ej.EjSeriesRender=function(){},ej.indicatorTypes={},ej.EjIndicatorRender=function(){},ej.trendlineTypes={},ej.EjTrendLineRenderer=function(){},function(e){function t(t,i){var s=function(){};return s.prototype=new t,e.extend(s.prototype,i),s}ej.EjTrendLineRenderer.prototype={draw:function(t,i,s){var a,o;return this.chartObj=s,a=e.inArray(t,i.trendlines),t._isTransposed=s.model.requireInvertedAxes,t.xAxis=i.xAxis,t.yAxis=i.yAxis,o=t.type.toLowerCase(),t.points.length>1&&("linear"==o||"movingaverage"==o?this.calculateLineDirection(t,i,a):this.calculateSplineDirection(t,i,a)),!1},calculateSplineDirection:function(e,t,i){for(var s,a,o=ej.EjSvgRender.utils._getStringBuilder(),r=!0,n=e.points,l=ej.EjSeriesRender.prototype.naturalSpline(n,t),d=null,h=null,c=-1,u=n.length,p=0;p<u;p++){if(a=p,h=n[p],null!=d){var m,g,_=ej.EjSeriesRender.prototype.getBezierControlPoints(d,h,l[c],l[a],0,t,this);m=_.controlPoint1,g=_.controlPoint2;var f=ej.EjSvgRender.utils._getPoint(d,e),b=ej.EjSvgRender.utils._getPoint(h,e),v=ej.EjSvgRender.utils._getPoint(m,e),x=ej.EjSvgRender.utils._getPoint(g,e);r?(o.append("M "+f.X+" "+f.Y+" C "+v.X+" "+v.Y+" "+x.X+" "+x.Y+" "+b.X+" "+b.Y+" "),r=!1):o.append("C "+v.X+" "+v.Y+" "+x.X+" "+x.Y+" "+b.X+" "+b.Y+" ")}d=h,c=a}return s=o.toString(),this._drawLinePath(e,t,s,i),!1},calculateLineDirection:function(e,t,i){for(var s,a,o=ej.EjSvgRender.utils._getStringBuilder(),r=!1,n=e.points.length,l=0;l<n;l++)s=ej.EjSvgRender.utils._getPoint(e.points[l],e),r?o.append("L "+s.X+" "+s.Y+" "):(o.append("M "+s.X+" "+s.Y+" "),o.append("L "+s.X+" "+s.Y+" "),r=!0);return a=o.toString(),this._drawLinePath(e,t,a,i),!1},_drawLinePath:function(e,t,i,s){var a,o=[];return o[0]=e.xAxis.x,o[1]=e.yAxis.y,""!=i&&(a={id:this.chartObj.svgObject.id+"_"+e.seriesIndex+"_"+s+"_"+e.name.replace(/[^a-zA-Z ]/g,""),fill:"none","stroke-dasharray":e.dashArray,"stroke-width":e.width,stroke:e.fill,opacity:e.opacity,d:i},e.id=a.id,this.chartObj.svgRenderer.drawPath(a,t.gTrendGroupEle,o)),this.chartObj.svgRenderer.append(t.gTrendGroupEle,this.chartObj.gTrendlinesGroupEle[e.seriesIndex]),!1},calculateTrendLineSegment:function(t,i,s,a){var o,r=a.model,n=e.extend([],t.points),l=i.type.toLowerCase();switch(i.xAxis=t.xAxis?t.xAxis:r.primaryXAxis,i.yAxis=t.yAxis?t.yAxis:r.primaryYAxis,i.backwardForecast=i.backwardForecast<0?0:i.backwardForecast,i.forwardForecast=i.forwardForecast<0?0:i.forwardForecast,n=n.sort((function(e,t){return e.xValue>t.xValue?1:t.xValue>e.xValue?-1:0})),l){case"linear":this.updateTrendSource(n,i),this.calculateLinearTrendline(t,i,s);break;case"exponential":this.updateExponentialTrendSource(n,i),this.calculateExponentialTrendline(t,i,s);break;case"logarithmic":this.updateLogarithmicTrendSource(n,i),this.calculateLogarithmicTrendline(t,i,s);break;case"power":this.updatePowerTrendSource(n,i),this.calculatePowerTrendline(t,i,s);break;case"polynomial":i.polynomialOrder=(o=t.points.length)<=i.polynomialOrder?o:i.polynomialOrder,i.polynomialOrder=i.polynomialOrder<2?2:i.polynomialOrder,i.polynomialOrder=i.polynomialOrder>6?6:i.polynomialOrder,o>1&&(this.updateTrendSource(n,i),this.calculatePolynomialTrendline(t,i,s));break;case"movingaverage":this.updateMovingAverageTrendSource(n,i),this.calculateMovingAverageTrendline(t,i,s)}return t.points.length>1&&i.points&&this.calculateTrendLineRange(i,s),!1},updateTrendSource:function(e,t){var i,s,a,o=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<o;a++)(i=e[a]).isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),t.xValues.push(s),t.yValues.push(i.y));return this.calculateSumXAndYValue(t),!1},calculateLinearTrendline:function(e,t,i){var s,a,o,r=t.xValues.length;return t.points=[],r>1&&("datetime"==i._valueType.toLowerCase()?(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType),a=this._increaseDateTimeInterval(t.xPoints[r-1],t.forwardForecast,i._intervalType)):(s=t.xPoints[0]-t.backwardForecast,a=t.xPoints[r-1]+t.forwardForecast),o=t.slope*a+t._intercept,t.points.push({x:s,xValue:s,y:t.slope*s+t._intercept,YValues:[],visible:!0}),t.points.push({x:a,xValue:a,y:o,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y),!1},calculateTrendLineRange:function(e,t){var i,s,a=e.points.length;for(e.minY=e.points[0].y,e.maxY=e.points[a-1].y,t.setRange||(e.backwardForecast>0&&"category"!=t._valueType&&a>1&&(t.range.min=t.range.min>e.points[0].x?e.points[0].x:t.range.min,t.visibleRange.min=t.range.min),e.forwardForecast>0&&a>1&&(t.range.max=t.range.max<e.points[a-1].x?e.points[a-1].x:t.range.max,t.visibleRange.max=t.range.max)),s=0;s<a;s++)i=e.points[s].y,e.minY=Math.min(e.minY,i),e.maxY=Math.max(e.maxY,i);return!1},calculateSumXAndYValue:function(e){for(var t,i,s=e.xPoints.length,a=e.type.toLowerCase(),o=0,r=0,n=0,l=0,d=0,h=e.xValues,c=e.yValues,u=0;u<s;u++)o+=h[u],r+=c[u],d+=h[u]*c[u],l+=h[u]*c[u],n+=h[u]*h[u];if(ej.util.isNullOrUndefined(e.intercept)||"linear"!=a&&"exponential"!=a&&"polynomial"!=a)t=(s*l-o*r)/(s*n-o*o),i="exponential"==a||"power"==a?Math.exp((r-t*o)/s):(r-t*o)/s,e._intercept=i;else{switch(a){case"polynomial":t=(d-Math.log(e.intercept)*o)/n*3;break;case"linear":t=(d-e.intercept*o)/n;break;case"exponential":t=(d-Math.log(e.intercept)*o)/n}e._intercept=e.intercept}return e.slope=t,!1},_increaseDateTimeInterval:function(e,t,i){var s=new Date(e);return e="object"==typeof e?e:s,"days"==i.toLowerCase()?s.setDate(e.getDate()+t):"hours"==i.toLowerCase()?s.setHours(e.getHours()+t):"milliseconds"==i.toLowerCase()?s.setMilliseconds(e.getMilliseconds()+t):"seconds"==i.toLowerCase()?s.setSeconds(e.getSeconds()+t):"minutes"==i.toLowerCase()?s.setMinutes(e.getMinutes()+t):"months"==i.toLowerCase()?s.setMonth(e.getMonth()+t):"years"==i.toLowerCase()&&s.setYear(e.getFullYear()+t),s}},ej.ejLinear=t(ej.EjTrendLineRenderer),ej.trendlineTypes.linear=ej.ejLinear,ej.Exponential=t(ej.EjTrendLineRenderer,{updateExponentialTrendSource:function(e,t){var i,s,a,o=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<o;a++)(i=e[a]).isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),t.xValues.push(s),t.yValues.push(Math.log(i.y)));return this.calculateSumXAndYValue(t),!1},calculateExponentialTrendline:function(e,t,i){var s,a,o,r,n,l,d=t.xValues.length,h=Math.round(d/2);if(t.points=[],d>1){"datetime"==i._valueType.toLowerCase()?(r=(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType)).getTime(),a=t.xPoints[h-1],n=new Date(a).getTime(),l=(o=this._increaseDateTimeInterval(t.xPoints[d-1],t.forwardForecast,i._intervalType)).getTime()):(s=r=t.xPoints[0]-t.backwardForecast,a=n=t.xPoints[h-1],o=l=t.xPoints[d-1]+t.forwardForecast);var c=t._intercept*Math.exp(t.slope*s),u=t._intercept*Math.exp(t.slope*a),p=t._intercept*Math.exp(t.slope*o);t.points.push({x:s,xValue:r,y:c,YValues:[],visible:!0}),t.points.push({x:a,xValue:n,y:u,YValues:[],visible:!0}),t.points.push({x:o,xValue:l,y:p,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y,t.points[2].YValues[0]=t.points[2].y}return!1}}),ej.trendlineTypes.exponential=ej.Exponential,ej.Logarithmic=t(ej.EjTrendLineRenderer,{updateLogarithmicTrendSource:function(e,t){var i,s,a,o,r=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<r;a++)(i=e[a]).isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),o=isFinite(Math.log(s))?Math.log(s):s,t.xValues.push(o),t.yValues.push(i.y));return this.calculateSumXAndYValue(t),!1},calculateLogarithmicTrendline:function(e,t,i){var s,a,o,r,n,l,d=t.xValues.length,h=Math.round(d/2);if(t.points=[],d>1){"datetime"==i._valueType.toLowerCase()?(r=(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType)).getTime(),a=t.xPoints[h-1],n=new Date(a).getTime(),l=(o=this._increaseDateTimeInterval(t.xPoints[d-1],t.forwardForecast,i._intervalType)).getTime()):(s=r=t.xPoints[0]-t.backwardForecast,a=n=t.xPoints[h-1],o=l=t.xPoints[d-1]+t.forwardForecast);var c=t._intercept+t.slope*(isFinite(Math.log(s))?Math.log(s):s),u=t._intercept+t.slope*(isFinite(Math.log(a))?Math.log(a):a),p=t._intercept+t.slope*(isFinite(Math.log(o))?Math.log(o):o);t.points.push({x:s,xValue:r,y:c,YValues:[],visible:!0}),t.points.push({x:a,xValue:n,y:u,YValues:[],visible:!0}),t.points.push({x:o,xValue:l,y:p,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y,t.points[2].YValues[0]=t.points[2].y}return!1}}),ej.trendlineTypes.logarithmic=ej.Logarithmic,ej.Power=t(ej.EjTrendLineRenderer,{updatePowerTrendSource:function(e,t){var i,s,a,o=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],a=0;a<o;a++)(i=e[a]).isEmpty||(t.xPoints.push(i.xValue),s="number"==typeof i.xValue?i.xValue:Date.parse(i.xValue),t.xValues.push(Math.log(s)),t.yValues.push(Math.log(i.y)));return this.calculateSumXAndYValue(t),!1},calculatePowerTrendline:function(e,t,i){var s,a,o,r,n,l,d,h=t.xValues.length,c=Math.round(h/2);if(t.points=[],h>1){"datetime"==i._valueType.toLowerCase()?(r=(s=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType)).getTime(),a=t.xPoints[c-1],n=new Date(a).getTime(),l=(o=this._increaseDateTimeInterval(t.xPoints[h-1],t.forwardForecast,i._intervalType)).getTime()):(s=r=(d=t.xPoints[0]-t.backwardForecast)>-1?d:0,a=n=t.xPoints[c-1],o=l=t.xPoints[h-1]+t.forwardForecast);var u=t._intercept*Math.pow(s,t.slope),p=t._intercept*Math.pow(a,t.slope),m=t._intercept*Math.pow(o,t.slope);t.points.push({x:s,xValue:r,y:u,YValues:[],visible:!0}),t.points.push({x:a,xValue:n,y:p,YValues:[],visible:!0}),t.points.push({x:o,xValue:l,y:m,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y,t.points[2].YValues[0]=t.points[2].y}return!1}}),ej.trendlineTypes.power=ej.Power,ej.Polynomial=t(ej.EjTrendLineRenderer,{calculatePolynomialTrendline:function(e,t,i){var s,a,o,r,n,l,d,h,c,u=t.polynomialOrder;for(t.polynomialSlopes=new Array(u+1),s=t.xValues.length,h=0;h<s;h++)for(l=t.xValues[h],a=t.yValues[h],c=0;c<=u;++c)t.polynomialSlopes[c]||(t.polynomialSlopes[c]=0),t.polynomialSlopes[c]+=Math.pow(l,c)*a;for(o=new Array(1+2*u),r=new Array(u+1),n=0;n<u+1;n++)r[n]=new Array(3);for(h=0;h<s;++h)for(l=1,d=t.xValues[h],c=0;c<o.length;++c)o[c]||(o[c]=0),o[c]+=l,l*=d;for(h=0;h<=u;++h)for(c=0;c<=u;++c)r[h][c]=o[h+c];return this.gaussJordanEliminiation(r,t.polynomialSlopes)||(t.polynomialSlopes=null),this.createPolynomialSegments(e,i,t),!1},createPolynomialSegments:function(e,t,i){var s,a,o,r=i.polynomialSlopes;if(null!=r){var n,l=i.xValues.length,d=(Math.round(l/2),1),h=r.length,c=t._valueType.toLowerCase();for(i.points=[],s=1;s<=h;s++)1==s?("datetime"==c?n=(a=this._increaseDateTimeInterval(i.xPoints[0],-i.backwardForecast,t._intervalType)).getTime():a=n=i.xPoints[0]-i.backwardForecast,o=this.getPolynomialYValue(r,n)):s==r.length?("datetime"==c?n=(a=this._increaseDateTimeInterval(i.xPoints[l-1],i.forwardForecast,t._intervalType)).getTime():a=n=i.xPoints[l-1]+i.forwardForecast,o=this.getPolynomialYValue(r,n)):(d+=(l+i.forwardForecast)/r.length,"category"==c?a=n=i.xPoints[0]+(d-1):(a=n=i.xPoints[parseInt(d)-1],"datetime"==c&&l>d&&(n=new Date(a).getTime())),o=this.getPolynomialYValue(r,n)),(1==s||s==r.length||"category"==c||l>d)&&(i.points.push({x:a,xValue:n,y:o,YValues:[],visible:!0}),i.points[i.points.length-1].YValues[0]=i.points[i.points.length-1].y)}return!1},getPolynomialYValue:function(e,t){for(var i=0,s=0;s<e.length;s++)i+=e[s]*Math.pow(t,s);return i},gaussJordanEliminiation:function(e,t){for(var i,s,a,o,r,n,l,d=e.length,h=new Array(d),c=new Array(d),u=new Array(d),p=0;p<d;++p)u[p]=0;for(n=0;n<d;++n){var m=0,g=0,_=0;for(a=0;a<d;++a)if(1!=u[a])for(r=0;r<d;++r)0==u[r]&&Math.abs(e[a][r])>=m&&(m=Math.abs(e[a][r]),g=a,_=r);if(++u[_],g!=_){for(a=0;a<d;++a)o=e[a],e[g][a]=e[_][a],e[_][a]=o;i=t[g],t[g]=t[_],t[_]=i}if(c[n]=g,h[n]=_,0==e[_][_])return!1;for(s=1/e[_][_],e[_][_]=1,a=0;a<d;++a)e[_][a]*=s;for(t[_]*=s,a=0;a<d;++a)if(a!=_){for(o=e[a][_],e[a][_]=0,r=0;r<d;++r)e[a][r]-=e[_][r]*o;t[a]-=t[_]*o}}for(n=d-1;n>=0;--n)if(c[n]!=h[n])for(g=0;g<d;++g)l=e[c[n]],e[g][c[n]]=e[g][h[n]],e[g][h[n]]=l;return!0}}),ej.trendlineTypes.polynomial=ej.Polynomial,ej.MovingAverage=t(ej.EjTrendLineRenderer,{updateMovingAverageTrendSource:function(e,t){var i,s=e.length;for(t.xPoints=[],t.xValues=[],t.yValues=[],i=0;i<s;i++)t.xPoints.push(e[i].xValue),t.xValues.push(i+1),t.yValues.push(e[i].isEmpty?null:e[i].y);return!1},calculateMovingAverageTrendline:function(e,t){var i,s,a,o,r,n,l,d=t.xPoints.length,h=t.period>=d?d-1:t.period;for(h=h<2?2:h,t.points=[],i=0;i<d-1;i++){for(a=o=r=0,s=i;o<h;s++)o++,ej.util.isNullOrUndefined(t.yValues[s])&&r++,a+=t.yValues[s];a=h-r<=0?null:a/(h-r),ej.util.isNullOrUndefined(a)||isNaN(a)||(t.points.push({x:n=t.xPoints[h-1+i],xValue:n,y:a,YValues:[],visible:!0}),t.points[(l=t.points.length)-1].YValues[0]=t.points[l-1].y)}}}),ej.trendlineTypes.movingaverage=ej.MovingAverage,ej.EjIndicatorRender.prototype={draw:function(t,i){var s,a,o,r,n;if(this.chartObj=i,s=null,"cartesianaxes"==this.chartObj.model.AreaType&&(s="translate("+t.xAxis.x+","+t.yAxis.y+")"),a=e.inArray(t,this.chartObj.model.indicators),this.gIndicatorGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_indicatorGroup_"+a,transform:s}),t._points.length>0)for(o=0;o<t.segment.length;o++)n={fill:(r=t.segment[o]).fill,width:r.width,opacity:t.opacity},r.isIndicator=!0,r.xAxis=t.xAxis,r.yAxis=t.yAxis,"line"==r.type?this.calculateDirection(r,n,a):this.drawColumn(r,n,t)},_drawLinePath:function(e,t,i,s){""!=i&&this.chartObj.svgRenderer.drawPath({name:"line",id:this.chartObj.svgObject.id+"_"+s+"_"+e.name,fill:"none","stroke-dasharray":e.dashArray,"stroke-width":t.width,stroke:t.fill,"stroke-linecap":e.lineCap,"stroke-linejoin":e.lineJoin,opacity:t.opacity,d:i},this.gIndicatorGroupEle),this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},calculateDirection:function(e,t,i){var s,a,o=0,r=0;this.chartObj.model.enableCanvasRendering&&(o=e.xAxis.x,r=e.yAxis.y),e.points=ej.DataManager(e.points,ej.Query().sortBy("xValue")).executeLocal();var n,l,d=ej.EjSeriesRender.prototype._isVisiblePoints(e),h=ej.EjSvgRender.utils._getStringBuilder(),c=!1;for(a=0;a<d.length;a++)(l=d[a]).visible?(s=ej.EjSvgRender.utils._getPoint(l,e),c?h.append("L "+(s.X+o)+" "+(s.Y+r)+" "):(h.append("M "+(s.X+o)+" "+(s.Y+r)+" "),c=!0)):c=!1;n=h.toString(),this._drawLinePath(e,t,n,i)},drawColumn:function(t,i,s){var a,o,r=t,n=e.inArray(s,this.chartObj.model.indicators);r.index=n;var l=Math.max(t.yAxis.visibleRange.min,0),d={Start:-.35,End:.35},h=ej.EjSeriesRender.prototype._isVisiblePoints(r),c=this,u=c.chartObj;for(a=0;a<h.length;a++){var p=a,m=h[a],g=m.YValues[0],_=l;if(m.visible){var f=ej.EjSeriesRender.prototype.calculateSides(m,d),b=ej.EjSeriesRender.prototype.getRectangle(f.x1,g,f.x2,_,r,u),v=Math.min(0,b.Width),x=Math.min(0,b.Height);b.Width<1e-4&&(b.Width=1e-4),(0==v||0==x)&&b.Width>0&&(this.chartObj.svgRenderer.drawRect({id:this.chartObj.svgObject.id+"_"+n+"_"+r.name,x:b.X+c.chartObj.canvasX,y:b.Y+c.chartObj.canvasY,width:b.Width,height:b.Height,fill:h[a].fill?h[a].fill:i.fill,"stroke-width":r.border.width,plot:g<0?"negative":"positive",opacity:r.histogram.opacity,stroke:h[a].fill?h[a].fill:r.border.color},this.gIndicatorGroupEle),o=ej.EjSvgRender.utils._getSvgXY(b.X,b.Y,r,c.chartObj),this._addRegion(c.chartObj,{X:o.X,Y:o.Y,Width:b.Width,Height:b.Height},r,m,p))}}this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},_addRegion:function(e,t,i,s,a){i.index>=0&&e.model.chartRegions.push({SeriesIndex:i.index,Region:{PointIndex:a,Bounds:t},type:i.type,isIndicator:!0})},calculateSegment:function(t,i){var s,a,o,r,n,l,d,h,c,u;if(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},t.period=parseInt(t.period),t.period<t._points.length&&t.period>0){for((s=e.extend(!0,{},t)).name="upperseries",s.fill=t.upperLine.fill,s.width=t.upperLine.width,s.type="line",a=0;a<t._points.length;a++)t._points[a].YValues.length=1,t._points[a].YValues[0]=t._points[a].y=70;for(s.points=e.extend(!0,[],t._points),o=i._getXValues(s.points),r=i._getYValues(s.points),t.xRange.min=Math.min.apply(Math,o),t.xRange.max=Math.max.apply(Math,o),t.yRange.min=Math.min.apply(Math,r),t.yRange.max=Math.max.apply(Math,r),t.segment.push(s),(n=e.extend(!0,{},t)).name="lowerSeries",n.width=t.lowerLine.width,n.fill=t.lowerLine.fill,n.type="line",l=0;l<t._points.length;l++)t._points[l].YValues[0]=t._points[l].y=30;n.points=e.extend(!0,[],t._points),r=i._getYValues(n.points),t.yRange.min=Math.min(Math.min.apply(Math,r),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,r),t.yRange.max),t.segment.push(n),(d=e.extend(!0,{},t)).name="signalSeries",d.width=t.width,d.fill=t.fill,d.type="line";var p=0,m=0,g=0,_=0,f=t.period;for(m=t._points[0].close,c=1;c<=f;++c)(p=t._points[c].close)>m?g+=p-m:p<m&&(_+=m-p),m=p,t._points[c-1].YValues[0]=t._points[c-1].y=null;for(t._points[f].YValues[0]=t._points[f].y=100-100/(1+(g/=f)/(_/=f)),u=f+1;u<t._points.length;u++)(p=t._points[u].close)>m?(g=(g*(f-1)+(p-m))/f,_=_*(f-1)/f):p<m&&(_=(_*(f-1)+(m-p))/f,g=g*(f-1)/f),m=p,t._points[u].YValues[0]=t._points[u].y=100-100/(1+g/_);for(d.points=e.extend(!0,[],t._points),h=[],c=f,u=0;c<d.points.length;c++,u++)h[u]=d.points[c].y;t.yRange.min=Math.min(Math.min.apply(Math,h),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,h),t.yRange.max),t.segment.push(d),this.calculateIndicatorRange(i,t)}},calculateIndicatorRange:function(e,t){null==e.model.indicatorRange[t.xAxisName]?(e.model.indicatorRange[t.xAxisName]={},e.model.indicatorRange[t.xAxisName]={min:t.xRange.min,max:t.xRange.max}):(e.model.indicatorRange[t.xAxisName].min>t.xRange.min&&(e.model.indicatorRange[t.xAxisName].min=t.xRange.min),e.model.indicatorRange[t.xAxisName].max<t.xRange.max&&(e.model.indicatorRange[t.xAxisName].max=t.xRange.max)),void 0===e.model.indicatorRange[t.yAxisName]?(e.model.indicatorRange[t.yAxisName]={},e.model.indicatorRange[t.yAxisName]={min:t.yRange.min,max:t.yRange.max}):(e.model.indicatorRange[t.yAxisName].min>t.yRange.min&&(e.model.indicatorRange[t.yAxisName].min=t.yRange.min),e.model.indicatorRange[t.yAxisName].max<t.yRange.max&&(e.model.indicatorRange[t.yAxisName].max=t.yRange.max))}},ej.ejRSI=t(ej.EjIndicatorRender),ej.indicatorTypes.rsi=ej.ejRSI,ej.ejMACD=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={};var _=t._points.length,f=t.longPeriod,b=t.shortPeriod,v=t.trigger,x=f-b,y=[],w=[],S=[],C=[],T=[],L=f+v;if(L<=t._points.length&&L-2>=0&&b<=f&&b>0){for(y=this.calculateEMA(t._points,b,!0),w=this.calculateEMA(t._points,f,!0),n=0;n<w.length;n++)S.push(y[n+x]-w[n]);for((s=e.extend(!0,{},t)).name="macdSeries",s.fill=t.macdLine.fill,s.width=t.macdLine.width,s.type="line",s.xAxis=t.xAxis,s.yAxis=t.yAxis,o=f-1,r=0,n=0;r<_;r++)r<o?t._points[r].YValues[0]=t._points[r].y=null:(t._points[r].YValues[0]=t._points[r].y=S[n],n+=1);for(s.points=e.extend(!0,[],t._points),C=this.calculateEMA(S,v,!1),(a=e.extend(!0,{},t)).name="signalSeries",a.fill=t.fill,a.width=t.width,a.type="line",a.xAxis=t.xAxis,a.yAxis=t.yAxis,o=f+v-2,r=0,n=0;r<_;r++)r<o?t._points[r].YValues[0]=t._points[r].y=null:(t._points[r].YValues[0]=t._points[r].y=C[n],n+=1);for(a.points=e.extend(!0,[],t._points),(l=e.extend(!0,{},t)).border={},l.name="histogramSeries",l.fill=t.histogram.fill,l.opacity=t.histogram.opacity,l.fill=t.histogram.fill,l.border=t.histogram.border,l.type="column",l.xAxis=t.xAxis,l.yAxis=t.yAxis,d=0,h=o;h<_;d++,h++)T.push(S[d+(v-1)]-C[d]);for(d=0,h=o;h<_;d++,h++)t._points[h].YValues[0]=t._points[h].y=T[d];switch(l.points=e.extend(!0,[],t._points),c=i._getXValues(s.points),t.xRange.min=Math.min.apply(Math,c),t.xRange.max=Math.max.apply(Math,c),t.macdType){case"line":t.yRange.min=Math.min.apply(Math,S),t.yRange.max=Math.max.apply(Math,S),t.segment.push(s),m=Math.min.apply(Math,C),g=Math.max.apply(Math,C),t.yRange.min=t.yRange.min<m?t.yRange.min:m,t.yRange.max=t.yRange.max>g?t.yRange.max:g,t.segment.push(a);break;case"histogram":u=Math.min.apply(Math,T),p=Math.max.apply(Math,T),t.yRange.min=t.yRange.min<u?t.yRange.min:u,t.yRange.max=t.yRange.max>p?t.yRange.max:p,t.segment.push(l);break;case"both":u=Math.min.apply(Math,T),p=Math.max.apply(Math,T),t.yRange.min=t.yRange.min<u?t.yRange.min:u,t.yRange.max=t.yRange.max>p?t.yRange.max:p,t.segment.push(l),t.yRange.min=Math.min.apply(Math,S),t.yRange.max=Math.max.apply(Math,S),t.segment.push(s),m=Math.min.apply(Math,C),g=Math.max.apply(Math,C),t.yRange.min=t.yRange.min<m?t.yRange.min:m,t.yRange.max=t.yRange.max>g?t.yRange.max:g,t.segment.push(a)}this.calculateIndicatorRange(i,t)}},calculateEMA:function(e,t,i){var s,a,o,r=0,n=0,l=e.length,d=[],h=[],c=2/(t+1);if(i){for(s=0;s<t;s++)d.push(e[s].close),r+=d[s];for(h.push(n=r/t),a=n,o=t;o<l;o++)h.push(a=(e[o].close-a)*c+a)}else{for(s=0;s<t;s++)d.push(e[s]),r+=d[s];for(h.push(n=r/t),a=n,o=t;o<l;o++)h.push(a=(e[o]-a)*c+a)}return h}}),ej.indicatorTypes.macd=ej.ejMACD,ej.ejSMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="trendSeries",s.width=t.width,s.fill=t.fill,s.type="line";var l,d,h=[],c=[],u=[],p=t._points.length,m=t.period;if(!(m<=0||p<m)){for(r=0;r<p;r++)h.push(t._points[r].close);for(a=h.length;a>=m;){for(l=0,n=0;n<m;n++)l+=h[n];c.push(l/=m),h.splice(0,1),a=h.length}for(o=0;o<p;o++)t._points[o].YValues[0]=t._points[o].y=o<m-1?null:c[o-(m-1)];for(s.points=e.extend(!0,[],t._points),d=i._getXValues(s.points),r=m-1,n=0;r<s.points.length;r++,n++)u[n]=s.points[r].y;t.xRange.min=Math.min.apply(Math,d),t.xRange.max=Math.max.apply(Math,d),t.yRange.min=Math.min.apply(Math,u),t.yRange.max=Math.max.apply(Math,u),t.segment.push(s),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.sma=ej.ejSMA,ej.ejEMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n,l;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="trendSeries",s.type="line",s.xAxis=t.xAxis,s.yAxis=t.yAxis;var d,h=[],c=[],u=t._points.length,p=t.period,m=0;if(!(u<p||p<=0)){for(a=2/(p+1),n=0;n<p;n++)h.push(t._points[n].close),m+=h[n];for(c.push(m/p),l=p;l<u;l++)c.push((t._points[l].close-c[l-p])*a+c[l-p]);for(o=0;o<u;o++)o<p-1?t._points[o].YValues[0]=t._points[o].y=null:o>=p-1&&(t._points[o].YValues[0]=t._points[o].y=c[o-(p-1)]);for(s.points=e.extend(!0,[],t._points),d=i._getXValues(s.points),r=[],n=p,l=0;n<s.points.length;n++,l++)r[l]=s.points[n].y;t.xRange.min=Math.min.apply(Math,d),t.xRange.max=Math.max.apply(Math,d),t.yRange.min=Math.min.apply(Math,r),t.yRange.max=Math.max.apply(Math,r),t.segment.push(s),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.ema=ej.ejEMA,ej.ejSTOCHASTIC=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){function s(e,i,s){t._points.length>=e+i&&function(e,i,s){for(var a,o,r,n,l,d=e+(i-1),h=[],c=[],u=0;u<t._points.length;u++)h.push(v[u].y);for(a=h.length;a>=d;){for(l=0,o=e-1;o<e+i-1;o++)l+=h[o];c.push((l/=i).toFixed(2)),h.splice(0,1),a=h.length}for(r=d-1,n=0;n<t._points.length;n++)s[n].YValues[0]=s[n].y=n<r?null:Number(c[n-r])}(e,i,s)}var a,o,r,n,l,d,h,c,u;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={};var p=t.kPeriod,m=t.dPeriod,g=t.period;if(!(g<1||m<1||p<1||g>t._points.length||m>t._points.length||p>t._points.length)){for((a=e.extend(!0,{},t)).name="upperseries",a.type="line",a.fill=t.upperLine.fill,a.width=t.upperLine.width,o=0;o<t._points.length;o++)t._points[o].YValues.length=1,t._points[o].YValues[0]=t._points[o].y=80;for(a.points=e.extend(!0,[],t._points),r=i._getXValues(a.points),n=i._getYValues(a.points),t.xRange.min=Math.min.apply(Math,r),t.xRange.max=Math.max.apply(Math,r),t.yRange.min=Math.min.apply(Math,n),t.yRange.max=Math.max.apply(Math,n),t.segment.push(a),(l=e.extend(!0,{},t)).name="lowerSeries",l.width=t.lowerLine.width,l.fill=t.lowerLine.fill,l.type="line",d=0;d<t._points.length;d++)t._points[d].YValues[0]=t._points[d].y=20;l.points=e.extend(!0,[],t._points),r=i._getXValues(l.points),n=i._getYValues(l.points),t.xRange.min=Math.min(Math.min.apply(Math,r),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,r),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,n),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,n),t.yRange.max),t.segment.push(l),(h=e.extend(!0,{},t)).name="periodSeries",h.width=t.periodLine.width,h.fill=t.periodLine.fill,h.type="line";var _=[],f=[],b=[],v=[];for(c=0;c<t._points.length;c++)f[c]=t._points[c].low,_[c]=t._points[c].high,b[c]=t._points[c].close;!function(e,i,s){t._points.length>e&&function(e,i,s){for(var a,o,r,n=e+i,l=[],d=[],h=0,c=0,u=0;u<e-1;++u)d.push(0),l.push(0);for(u=e-1;u<t._points.length;++u){for(r=Number.MAX_VALUE,o=Number.MIN_VALUE,a=0;a<e;++a)r=Math.min(r,f[u-a]),o=Math.max(o,_[u-a]);d.push(o),l.push(r)}for(u=0;u<n-1;++u)s[u].YValues.length=1,s[u].YValues[0]=s[u].y=null;for(u=e-1;u<t._points.length;++u)h=0,c=0,h+=b[u]-l[u],c+=d[u]-l[u],s[u].YValues.length=1,s[u].YValues[0]=s[u].y=h/c*100}(e,i,s)}(g,p,t._points),v=t._points,s(g,p,t._points),v=t._points,h.points=e.extend(!0,[],t._points),r=i._getXValues(h.points),n=i._getYValues(h.points),t.xRange.min=Math.min(Math.min.apply(Math,r),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,r),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,n),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,n),t.yRange.max),t.segment.push(h),(u=e.extend(!0,{},t)).name="trendSeries",u.width=t.width,u.fill=t.fill,u.type="line",s(g+p-1,m,t._points),u.points=e.extend(!0,[],t._points),t.segment.push(u),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.stochastic=ej.ejSTOCHASTIC,ej.ejbollingerBand=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={};var f=0,b=0,v=t._points.length,x=t.standardDeviations,y=t.period,w=Math.round(y),S=[],C=[],T=[];if(w<v&&w>0){for(g=0;g<w;g++)f+=t._points[g].close;for(s=f/y,g=0;g<v;++g)if(g>=w-1&&g<v){g-y>=0?(S[g]=s=(f+=t._points[g].close-t._points[g-w].close)/y,C[g]=Math.pow(t._points[g].close-s,2),b+=C[g]-C[g-w]):(S[g]=s,C[g]=Math.pow(t._points[g].close-s,2),b+=C[g]);var L=Math.sqrt(b/y),k=S[g]-x*L,P=S[g]+x*L;if(g+1==w)for(a=0;a<w-1;a++)T[a]={X:t._points[a].X,mb:S[g],lb:k,ub:P,visible:!0};T[g]={X:t._points[g].X,mb:S[g],lb:k,ub:P,visible:!0}}else g<y-1&&(S[g]=s,C[g]=Math.pow(t._points[g].close-s,2),b+=C[g]);for((o=e.extend(!0,{},t)).name="upperseries",o.fill=t.upperLine.fill,o.width=t.upperLine.width,o.type="line",r=0;r<t._points.length;r++)r>=w-1?(t._points[r].YValues.length=1,t._points[r].YValues[0]=t._points[r].y=T[r].ub):t._points[r].YValues[0]=t._points[r].y=null;for(o.points=e.extend(!0,[],t._points),n=i._getXValues(o.points),l=[],g=w;g<o.points.length;g++)l.push(o.points[g].y);for(_=l,t.xRange.min=Math.min.apply(Math,n),t.xRange.max=Math.max.apply(Math,n),t.yRange.min=Math.min.apply(Math,_),t.yRange.max=Math.max.apply(Math,_),t.segment.push(o),(d=e.extend(!0,{},t)).name="lowerSeries",d.width=t.lowerLine.width,d.fill=t.lowerLine.fill,d.type="line",h=0;h<t._points.length;h++)h>=w-1?(t._points[h].YValues.length=1,t._points[h].YValues[0]=t._points[h].y=T[h].lb):t._points[h].YValues[0]=t._points[h].y=null;for(d.points=e.extend(!0,[],t._points),n=i._getXValues(d.points),c=[],g=w;g<d.points.length;g++)c.push(d.points[g].y);for(_=c,t.xRange.min=Math.min(Math.min.apply(Math,n),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,n),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,_),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,_),t.yRange.max),t.segment.push(d),(u=e.extend(!0,{},t)).name="trendSeries",u.width=t.width,u.fill=t.fill,u.type="line",p=0;p<t._points.length;p++)p>=w-1?(t._points[p].YValues.length=1,t._points[p].YValues[0]=t._points[p].y=T[p].mb):t._points[p].YValues[0]=t._points[p].y=null;for(u.points=e.extend(!0,[],t._points),n=i._getXValues(u.points),m=[],g=w;g<u.points.length;g++)m.push(u.points[g].y);_=m,t.xRange.min=Math.min(Math.min.apply(Math,n),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,n),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,_),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,_),t.yRange.max),t.segment.push(u),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.bollingerband=ej.ejbollingerBand,ej.ejATR=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n,l,d,h,c;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},s=[],a=o=r=0;var u,p=0,m=t.period;if(!(m<=0||m>t._points.length)){for(c=0;c<m;c++)a=t._points[c].high-t._points[c].low,c>0&&(o=Math.abs(t._points[c].high-t._points[c-1].close),r=Math.abs(t._points[c].low-t._points[c-1].close)),u=Math.max(a,o,r),s[c]={X:t._points[c].X,YValues:(p+=u)/m};for(c=m;c<t._points.length;++c)a=t._points[c].high-t._points[c].low,o=Math.abs(t._points[c].high-t._points[c-1].close),r=Math.abs(t._points[c].low-t._points[c-1].close),u=Math.max(a,o,r),s[c]={X:t._points[c].X,YValues:(s[c-1].YValues*(m-1)+u)/m};for((n=e.extend(!0,{},t)).name="trendSeries",n.width=t.width,n.fill=t.fill,n.type="line",l=0;l<t._points.length;l++)l>=m-1?(t._points[l].YValues.length=1,t._points[l].YValues[0]=t._points[l].y=s[l].YValues):t._points[l].YValues[0]=t._points[l].y=null;for(n.points=e.extend(!0,[],t._points),d=i._getXValues(n.points),h=[],c=m;c<n.points.length;c++)h.push(n.points[c].y);t.xRange.min=Math.min.apply(Math,d),t.xRange.max=Math.max.apply(Math,d),t.yRange.min=Math.min.apply(Math,h),t.yRange.max=Math.max.apply(Math,h),t.segment.push(n),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.atr=ej.ejATR,ej.ejaccumulationDistribution=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n,l,d,h,c;for(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},s=[],a=0,o=0;o<t._points.length;o++)n=((r=t._points[o].close)-t._points[o].low-(t._points[o].high-r))/(t._points[o].high-t._points[o].low),a+=(isNaN(n)?0:n)*t._points[o].volume,s[o]=a;for((l=e.extend(!0,{},t)).name="trendseries",l.fill=t.fill,l.width=t.width,l.type="line",d=0;d<t._points.length;d++)t._points[d].YValues[0]=t._points[d].y=s[d];l.points=e.extend(!0,[],t._points),h=i._getXValues(l.points),c=i._getYValues(l.points),t.xRange.min=Math.min.apply(Math,h),t.xRange.max=Math.max.apply(Math,h),t.yRange.min=Math.min.apply(Math,c),t.yRange.max=Math.max.apply(Math,c),t.segment.push(l),this.calculateIndicatorRange(i,t)}}),ej.indicatorTypes.accumulationdistribution=ej.ejaccumulationDistribution,ej.ejTMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n,l,d;this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="trendSeries",s.width=t.width,s.fill=t.fill,s.type="line";var h,c=[],u=[],p=[],m=[],g=[],_=0,f=t._points.length,b=t.period;if(!(b<1)&&b<f){for(l=0;l<f;l++)c.push(t._points[l].close);for(a=c.length;a>=b;){for(_=0,d=0;d<b;d++)_+=c[d];_/=b,u.push(parseFloat(_.toFixed(2))),c.splice(0,1),a=c.length}for(r=0;r<f;r++)if(r<b-1){for(_=0,d=0;d<r+1;d++)_+=t._points[d].close;_/=r+1,m[r]=parseFloat(_.toFixed(2))}else m[r]=u[r-(b-1)];for(o=m.length;o>=b;){for(h=0,d=0;d<b;d++)h+=m[d];p.push(h/=b),m.splice(0,1),o=m.length}for(r=0;r<f;r++)t._points[r].YValues[0]=t._points[r].y=r<b-1?null:p[r-(b-1)];for(s.points=e.extend(!0,[],t._points),n=i._getXValues(s.points),l=b-1,d=0;l<s.points.length;l++,d++)g[d]=s.points[l].y;t.xRange.min=Math.min.apply(Math,n),t.xRange.max=Math.max.apply(Math,n),t.yRange.min=Math.min.apply(Math,g),t.yRange.max=Math.max.apply(Math,g),t.segment.push(s),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.tma=ej.ejTMA,ej.ejMomentum=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m;if(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},(s=e.extend(!0,{},t)).name="upperseries",s.fill=t.upperLine.fill,s.width=t.upperLine.width,s.type="line",o=t._points.length,(a=t.period)>0&&a<o-1){for(c=0;c<o;c++)t._points[c].YValues.length=1,t._points[c].YValues[0]=t._points[c].y=100;for(s.points=e.extend(!0,[],t._points),r=i._getXValues(s.points),n=i._getYValues(s.points),t.xRange.min=Math.min.apply(Math,r),t.xRange.max=Math.max.apply(Math,r),t.yRange.min=Math.min.apply(Math,n),t.yRange.max=Math.max.apply(Math,n),t.segment.push(s),(l=e.extend(!0,{},t)).name="trendSeries",l.width=t.width,l.fill=t.fill,l.type="line",d=t.period,p=0;p<t._points.length;++p)h=t._points,p<d||(t._points[p].YValues[0]=t._points[p].y=h[p].close/h[p-d].close*100);for(c=0;c<d&&c<t._points.length;c++)t._points[c].YValues[0]=t._points[c].y=null;for(l.points=e.extend(!0,[],t._points),r=i._getXValues(l.points),u=[],p=d,m=0;p<l.points.length;p++,m++)u[m]=l.points[p].y;t.xRange.min=Math.min(Math.min.apply(Math,r),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,r),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,u),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,u),t.yRange.max),t.segment.push(l),this.calculateIndicatorRange(i,t)}}}),ej.indicatorTypes.momentum=ej.ejMomentum,ej.EjSeriesRender.prototype={getOrigin:function(e,t,i){if(i.axes[t.xAxis.name]._validCross){var s=e.chartObj._getCrossAxis(e.chartObj.model._axes,!0,t.xAxis.crossesInAxis);if(e.chartObj.model.requireInvertedAxes?t.xAxis.name:t.yAxis.name===s.name)return t.xAxis._crossValue}return"splinerangearea"==t.type.toLowerCase()?Math.max(t.points[0].YValues[1],0):Math.max(t.yAxis.visibleRange.min,0)},setLineSeriesStyle:function(t){var i=e.inArray(t,this.chartObj.model._visibleSeries),s=this.chartObj.model.seriesColors[i];return{SeriesInterior:t.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,0,0,0,100,this.chartObj.gSeriesEle),SeriesBorder:this.chartObj.model.seriesBorderColors[i]}},getSeriesName:function(e){return e.name?e.name.replace(/\s/g,""):"series"},drawAreaPath:function(t,i,s,a){var o,r,n=this.chartObj.model.requireInvertedAxes,l=e.inArray(t,this.chartObj.model._visibleSeries),d=null,h=t.border;"cartesianaxes"==this.chartObj.model.AreaType&&(d="translate("+(o=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,n)).x+","+o.y+")"),this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+l,transform:d}),""!=s&&(r={id:this.chartObj.svgObject.id+"_Series"+l,fill:i.SeriesInterior,"fill-opacity":t.opacity,"stroke-width":h.width,stroke:h.color,"stroke-dasharray":h.dashArray,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,d:s},this.chartObj.dragPoint?(r.id=this.chartObj.svgObject.id+"_PreviewSeries"+l,r["fill-opacity"]=.6,this.chartObj.svgRenderer.drawPath(r,this.chartObj.model.enableCanvasRendering?this.chartObj.canvasElement:this.chartObj.gPreviewSeriesGroupEle,a)):this.chartObj.svgRenderer.drawPath(r,this.gSeriesGroupEle,a))},setAreaSeriesStyle:function(t){var i=e.inArray(t,this.chartObj.model._visibleSeries),s=this.chartObj.model.seriesColors[i];return{SeriesInterior:t.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,0,0,0,100,this.chartObj.gSeriesEle)}},naturalSpline:function(e,t,i,s){var a,o,r,n,l,d,h,c,u,p=e.length,m=[],g=[],_=[],f=[],b=[],v=ej.util.isNullOrUndefined(t.cardinalSplineTension)?.5:t.cardinalSplineTension<0?0:t.cardinalSplineTension>1?1:t.cardinalSplineTension,x="splinerangearea"==t.type.toLowerCase()?i:0;if(s&&"datetime"==s._valueType)for(a=e,c=0;c<a.length;c++)"object"==typeof(o=a[c].YValues[0])&&(a[c].YValues[0]=Date.parse(o));if("monotonic"==t.splineType){for(h=0;h<p-1;h++)m[h]=e[h+1].xValue-e[h].xValue,g[h]=e[h+1].YValues[x]-e[h].YValues[x],_[h]=g[h]/m[h];for(r=_.length,f[0]=_[0],f[p-1]=_[r-1],l=0;l<m.length;l++)r>l+1&&(f[l+1]=_[l]*_[l+1]<=0?0:3*(n=m[l]+m[l+1])/((n+m[l+1])/_[l]+(n+m[l])/_[l+1]))}else if("cardinal"==t.splineType)for(h=0;h<p;h++)f[h]=0==h?p>2?v*(e[h+2].xValue-e[h].xValue):0:h==p-1?p>2?v*(e[p-1].xValue-e[p-3].xValue):0:v*(e[h+1].xValue-e[h-1].xValue);else{for("clamped"==t.splineType?(d=(e[p-1].xValue-e[p-2].xValue)/(e[p-1].YValues[x]-e[p-2].YValues[x]),f[0]=3*(e[1].YValues[x]-e[0].YValues[x])/(e[1].xValue-e[0].xValue)-(e[1].xValue-e[0].xValue)/(e[1].YValues[x]-e[0].YValues[x])*3,b[0]=.5,f[e.length-1]=3*d-3*(e[e.length-1].YValues[x]-e[e.length-2].YValues[x])/(e[e.length-1].xValue-e[e.length-2].xValue),f[0]="Infinity"==Math.abs(f[0])?0:f[0],f[e.length-1]="Infinity"==Math.abs(f[e.length-1])?0:f[e.length-1]):(f[0]=b[0]=0,f[e.length-1]=0),h=1;h<p-1;h++){var y=e[h].xValue-e[h-1].xValue,w=e[h+1].xValue-e[h-1].xValue,S=e[h+1].xValue-e[h].xValue,C=e[h+1].YValues[x]-e[h].YValues[x]||null,T=e[h].YValues[x]-e[h-1].YValues[x]||null;0==y||0==w||0==S?(f[h]=0,b[h]=0):(f[h]=-(c=1/(y*f[h-1]+2*w))*S,b[h]=c*(6*(C/S-T/y)-y*b[h-1]))}for(u=p-2;u>=0;u--)f[u]=f[u]*f[u+1]+b[u]}return f},getDaysInMonth:function(e,t){return new Date(t,e+1,0).getDate()},getBezierControlPoints:function(t,i,s,a,o,r,n){var l,d,h,c,u,p,m,g,_=864e5,f=new Date(t.xValue),b=n.chartObj.model.hAxes.length,v=e.inArray(r,n.chartObj.model._visibleSeries),x=v!=b&&v<b?v:0;if("cardinal"==r.splineType){if(ej.util.isNullOrUndefined(n.chartObj.model.hAxes[x].intervalType)||"years"==n.chartObj.model.hAxes[x].intervalType.toLowerCase()||"auto"==n.chartObj.model.hAxes[x].intervalType.toLowerCase())h=s/(_*(u=(w=new Date(f.getFullYear()))%4!=0||w%100!=0&&w%400==0?365:366)),c=a/(_*u);else if("months"==n.chartObj.model.hAxes[x].intervalType.toLowerCase()){var y=new Date(f),w=y.getFullYear(),S=y.getMonth(),C=ej.EjSeriesRender.prototype.getDaysInMonth(S,w);h=s/(_*C),c=a/(_*C)}else h=s,c=a;l={xValue:t.xValue+s/3,YValues:[t.YValues[o]+h/3]},d={xValue:i.xValue-a/3,YValues:[i.YValues[o]-c/3]}}else if("monotonic"==r.splineType)l={xValue:t.xValue+(p=(i.xValue-t.xValue)/3),YValues:[t.YValues[o]+s*p]},d={xValue:i.xValue-p,YValues:[i.YValues[o]-a*p]};else{m=1/3,g=i.xValue-t.xValue,g*=g;var T=2*parseFloat(t.xValue)+parseFloat(i.xValue),L=parseFloat(t.xValue)+2*parseFloat(i.xValue);l={xValue:T*m,YValues:[m*(2*t.YValues[o]+i.YValues[o]-m*g*(s+.5*a))]},d={xValue:L*m,YValues:[m*(t.YValues[o]+2*i.YValues[o]-m*g*(.5*s+a))]}}return{controlPoint1:l,controlPoint2:d}},improveChartPerformance:function(e){for(var t,i,s,a=[],o=e.pointCollection&&e.dragPoint?e.pointCollection:e.points,r=this.chartObj.model.m_AreaBounds,n=0,l=e.xAxis.visibleRange.delta/r.Width,d=e.yAxis.visibleRange.delta/r.Height,h=o[0]&&o[0].xValue>l?0:l,c=o[0]&&o[0].y>d?0:d,u=0,p=0,m=o.length,g=0,_=0,f=!0,b=0,v=m>0&&o[0].xValue,x=0;x<m;x++)u=(t=o[x]).xValue,p=t.YValues[0],t.fill&&(e.pointFill=!0),f&&u!=v&&(f=v<u,v=u),(t.isEmpty||null==u||null==p||u!=u||p!=p||isNaN(u)||isNaN(p))&&(t.isEmpty=!0),null==u&&(t.xValue=e.xAxis.visibleRange.min),null==p&&(t.YValues[0]=e.yAxis.visibleRange.min),t.marker&&t.marker.visible&&g++,t.marker&&t.marker.dataLabel&&t.marker.dataLabel.visible&&_++,t.isEmpty&&n++,s=p-c,((i=u-h)>=l||-i>=l||s>=d||-s>=d)&&(t.visible=!t.isEmpty||t.visible||!1,a[b++]=t,u==u&&(h=u),p==p&&(c=p));return f&&(e._sorted=f),e._pointMarker=g,e._dataLabels=_,0==n&&e.marker&&!e.marker.dataLabel.visible?a:this._calculateEmptyPoints(e,a)},_isVisiblePoints:function(e){for(var t,i,s=e.pointCollection&&e.dragPoint?e.pointCollection:e.points,a=ej.util.isNullOrUndefined,o=s.length,r=0;r<o;r++)i=!a(s[r].isEmpty)&&s[r].isEmpty,s[r].visible=!!a(s[r].visible)||s[r].visible,a(s[r].xValue)?(s[r].isEmpty=!0,s[r].visible=!1,s[r].xValue=e.xAxis?e.xAxis.visibleRange.min:null):s[r].isEmpty=i,"object"!=typeof s[r].YValues[0]&&isNaN(s[r].YValues[0])||null==s[r].YValues[0]||"undefined"==s[r].YValues[0]||!e.isIndicator&&e._hiloTypes&&(isNaN(s[r].YValues[1])||null==s[r].YValues[1]||null==s[r].YValues[1])?(s[r].isEmpty=!0,s[r].visible=!1):(s[r].isEmpty=s[r].isEmpty,s[r].visible=s[r].isEmpty?!s[r].isEmpty:s[r].visible),a(s[r].x)||"date"==jQuery.type(s[r].xValue)&&(s[r].xValue=s[r].xValue.getTime());return t=e.emptyPointSettings?this._calculateEmptyPoints(e,s):s,"waterfall"==e.type.toLowerCase()&&this.chartObj.calculateWaterfallSeriesPoints(t),e._visiblePoints=t,t},_calculateEmptyPoints:function(t,i,s){var a,o,r,n,l,d,h=t.emptyPointSettings,c=h.style,u=c.color,p=ej.util.isNullOrUndefined,m=c.border.color,g=c.border.width,_=h.displayMode.toLowerCase(),f=h.visible,b=i.length,v=[];if(a=e.extend(!0,{},i,a),n=t.type.toLowerCase(),a.length=i.length,_="boxandwhisker"==n?"gap":_,f)if("gap"!=_)for(d=0;d<b;d++)if(a[d].actualIndex=p(s)?d:s.model._isPieOfPie?a[d].actualIndex:d,!(o=a[d]).isEmpty||p(o.x)&&"string"!=t._xAxisValueType)p(a[d].x)&&"string"!=t._xAxisValueType||v.push(o);else{switch(""!=u&&(o.fill=u),""!=m&&(o.border=o.border?o.border:{},o.border.color=m,o.border.width=g),_){case"average":t._hiloTypes?("splinerangearea"==n&&this._setsraPoint(a[d]),e.each(o.YValues,(function(e,t){o.YValues[e]=t=((a[d-1]?a[d-1].YValues[e]:0)+(a[d+1]?a[d+1].isEmpty?0:a[d+1].YValues[e]:0))/2,ej.EjSeriesRender.prototype._sethlocPoint(e,o,t)}))):(o.YValues[0]=r=((a[d-1]?a[d-1].y:0)+(a[d+1]?a[d+1].isEmpty?0:a[d+1].y:0))/2,o.y=r);break;case"zero":t._hiloTypes?("splinerangearea"==n&&this._setsraPoint(a[d]),e.each(o.YValues,(function(e){o.y=0,o.YValues[e]=0,ej.EjSeriesRender.prototype._sethlocPoint(e,o,0)}))):(l=-1!=n.indexOf("stackingspline")?a[d].YValues[0]:0,o.YValues[0]=l,o.y=l)}o.isEmpty=!1,o.visible=!0,v.push(o)}else for(d=0;d<b;d++)a[d].actualIndex=p(s)?d:s.model._isPieOfPie?a[d].actualIndex:d,"splinerangearea"==n&&this._setsraPoint(a[d]),v[d]=a[d];else for(d=0;d<b;d++)a[d].actualIndex=d,a[d].visible&&v.push(a[d]);return v},_setsraPoint:function(e){var t=ej.util.isNullOrUndefined;t(e.YValues[0])&&(e.YValues[0]=0),t(e.YValues[1])&&(e.YValues[1]=0)},_sethlocPoint:function(e,t,i){switch(e){case 0:t.high=i;break;case 1:t.low=i;break;case 2:t.open=i;break;case 3:t.close=i}},_calculatePolarAxesSegment:function(t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b=t._visiblePoints,v=ej.EjSvgRender.utils._getStringBuilder(),x=e.inArray(t,this.chartObj.model._visibleSeries),y=this.chartObj.model.centerX,w=this.chartObj.model.centerY,S=this._getSeriesPosition(t),C=t.drawType.toLowerCase(),T=(ej.EjSvgRender.utils._getStringBuilder(),this.setLineSeriesStyle(t),-1),L=null,k=null,P=null,j=null,D=null,A=this.chartObj;if((i=e.extend(!0,{},t.marker.size,i)).width<=10&&(i.width=i.height=1.5*this.chartObj.model.elementSpacing),"column"==t.drawType.toLowerCase()||"rangecolumn"==t.drawType.toLowerCase()){n=0,this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+x}),E=t.xAxis.visibleRange.interval,t.xAxis.labelPlacement=t.xAxis.labelPlacement?t.xAxis.labelPlacement:"betweenticks",l=0,("category"!=t.xAxis._valueType||"category"==t.xAxis._valueType&&"onticks"==t.xAxis.labelPlacement)&&(l=E/2),M=t.xAxis.isInversed?0:1;var O=E/=S.all,I=t._visiblePoints,R=I.length;for(h=0;h<R;h++)c=I[h].xValue-t.xAxis.visibleRange.min+(E*S.pos-l),c/=this.chartObj.model.sumofYValues,O=t.xAxis.visibleRange.interval/S.all,(d=I[h]).startAngle=2*Math.PI*c,d.endAngle=2*Math.PI*(c+O/this.chartObj.model.sumofYValues);I[I.length-1].startAngle||(I[I.length-1].startAngle=I[0].startAngle,I[I.length-1].endAngle=I[0].endAngle)}for(u=!1,p=0;p<b.length;p++){if("scatter"==C)m=ej.EjSvgRender.utils.TransformToVisible(t,b[p].xValue,b[p].y,this.chartObj),this.drawSymbol(x,t,p,m.X,m.Y);else if("line"==t.drawType.toLowerCase())m=ej.EjSvgRender.utils.TransformToVisible(t,b[p].xValue,b[p].y,this.chartObj),p<b.length-1&&b[p+1].visible?(g=ej.EjSvgRender.utils.TransformToVisible(t,b[p+1].xValue,b[p+1].y,this.chartObj),v.append("M "+m.X+" "+m.Y+" L "+g.X+" "+g.Y+" ")):p==b.length-1&&t.isClosed&&(g=ej.EjSvgRender.utils.TransformToVisible(t,b[0].xValue,b[0].y,this.chartObj),v.append("M "+m.X+" "+m.Y+" L "+g.X+" "+g.Y+" "));else if("column"==t.drawType.toLowerCase()){var M=t.xAxis.isInversed?0:1,E=(E=t.xAxis.visibleRange.interval)/S.all,V=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,b[p].y),N=-.5*Math.PI,F=b[p].startAngle+N,B=b[p].endAngle+N-1e-6;if(t.isStacking){$=y+(V=(K=t.stackedValue.StartValues[p])==(J=t.stackedValue.EndValues[p])?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,J))*Math.cos(F),G=w+V*Math.sin(F),q=y+V*Math.cos(B),Z=w+V*Math.sin(B);var z=y+(n=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,0==K&&0!=t.yAxis.visibleRange.min?t.yAxis.visibleRange.min:K))*Math.cos(F),Y=w+n*Math.sin(F),X=y+n*Math.cos(B),H=w+n*Math.sin(B);Q=this.chartObj.model.isPolar?"M "+$+" "+G+" A "+V+" "+V+" 0 0 "+M+" "+q+" "+Z+" L "+X+" "+H+" A "+n+" "+n+" 1 0 0 "+z+" "+Y+" z":"M "+$+" "+G+" L "+q+" "+Z+" L "+X+" "+H+" L "+z+" "+Y+" z"}else $=y+V*Math.cos(F),G=w+V*Math.sin(F),q=y+V*Math.cos(B),Z=w+V*Math.sin(B),Q=this.chartObj.model.isPolar?"M "+$+" "+G+" A "+V+" "+V+" 0 0 "+M+" "+q+" "+Z+" L "+y+" "+w+" z":"M "+$+" "+G+" L "+q+" "+Z+" L "+y+" "+w+" z";var W=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+"_"+x+p,this.chartObj.model.seriesColors[x],0,0,0,100,this.chartObj.gSeriesEle),U={id:this.chartObj.svgObject.id+"_Series"+x+"_Point"+p,fill:W,stroke:(ee=t.border).color,"stroke-dasharray":ee.dashArray,"stroke-width":ee.width,opacity:t.opacity,pointIndex:p,d:Q,start:b[p].startAngle-1.57,end:b[p].endAngle-1.57,radius:V,innerR:n};this.chartObj.model.isPolar&&(U.x=y,U.y=w,f={PointIndex:p,StartAngle:b[p].startAngle,EndAngle:b[p].endAngle,CenterX:y,CenterY:w,Radius:V,DRadius:n}),"radar"==t.type&&(f={PointIndex:p,Line1:{x:y,y:w},Line2:{x:$,y:G},Line3:{x:q,y:Z}},U.hasStackingInnerRadius=!!n),d=t._visiblePoints[p],(!ej.util.isNullOrUndefined(t.marker)&&t.marker.visible||!ej.util.isNullOrUndefined(t.marker)&&t.marker.dataLabel.visible)&&(d.symbolLocation={X:($+q)/2,Y:(G+Z)/2}),this.chartObj.svgRenderer.drawPath(U,this.gSeriesGroupEle)}else if("spline"==C)I=this.chartObj.dragPoint?t.pointCollection:this._isVisiblePoints(t),m=ej.EjSvgRender.utils.TransformToVisible(t,b[p].xValue,b[p].y,this.chartObj),p<b.length-1&&b[p+1].visible&&(g=ej.EjSvgRender.utils.TransformToVisible(t,b[p+1].xValue,b[p+1].y,this.chartObj),s=this.naturalSpline(b,t),a=T=p,L=(P=this.getBezierControlPoints(I[p],I[p+1],s[T],s[a],0,t,this)).controlPoint1,k=P.controlPoint2,j=ej.EjSvgRender.utils.TransformToVisible(t,L.xValue,L.YValues,A),D=ej.EjSvgRender.utils.TransformToVisible(t,k.xValue,k.YValues,A),v.append("M "+m.X+" "+m.Y+" C "+j.X+" "+j.Y+" "+D.X+" "+D.Y+" "+g.X+" "+g.Y+" "),t.isClosed&&p==b.length-1&&null!=m&&(o=ej.EjSvgRender.utils.TransformToVisible(t,b[0].xValue,b[0].y,A),a=T=0,L=(P=this.getBezierControlPoints(I[I.length-1],I[0],s[T],s[a],0,t,this)).controlPoint1,k=P.controlPoint2,j=ej.EjSvgRender.utils.TransformToVisible(t,L.xValue,L.YValues,A),D=ej.EjSvgRender.utils.TransformToVisible(t,k.xValue,k.YValues,A),v.append("M "+g.X+" "+g.Y+" C "+(j.X+A.canvasX)+" "+(j.Y+A.canvasY)+" "+(D.X+A.canvasX)+" "+(D.Y+A.canvasY)+" "+o.X+" "+o.Y+" ")));else if("rangecolumn"==t.drawType.toLowerCase()){var $,G,q,Z,Q,K,J,ee;M=t.xAxis.isInversed?0:1,E=(E=t.xAxis.visibleRange.interval)/S.all,N=-.5*Math.PI,F=b[p].startAngle+N,B=b[p].endAngle+N-1e-6,$=y+(V=(K=b[p].YValues[1])==(J=b[p].YValues[0])?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,J))*Math.cos(F),G=w+V*Math.sin(F),q=y+V*Math.cos(B),Z=w+V*Math.sin(B),z=y+(n=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,0==K&&0!=t.yAxis.visibleRange.min?t.yAxis.visibleRange.min:K))*Math.cos(F),Y=w+n*Math.sin(F),X=y+n*Math.cos(B),H=w+n*Math.sin(B),Q=this.chartObj.model.isPolar?"M "+$+" "+G+" A "+V+" "+V+" 0 0 "+M+" "+q+" "+Z+" L "+X+" "+H+" A "+n+" "+n+" 1 0 0 "+z+" "+Y+" z":"M "+$+" "+G+" L "+q+" "+Z+" L "+X+" "+H+" L "+z+" "+Y+" z",W=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+"_"+x+p,this.chartObj.model.seriesColors[x],0,0,0,100,this.chartObj.gSeriesEle),U={id:this.chartObj.svgObject.id+"_Series"+x+"_Point"+p,fill:W,stroke:(ee=t.border).color,"stroke-dasharray":ee.dashArray,"stroke-width":ee.width,opacity:t.opacity,pointIndex:p,d:Q,start:b[p].startAngle-1.57,end:b[p].endAngle-1.57,radius:V,innerR:n},this.chartObj.model.isPolar&&(U.x=y,U.y=w,f={PointIndex:p,StartAngle:b[p].startAngle,EndAngle:b[p].endAngle,CenterX:y,CenterY:w,Radius:V,DRadius:n}),"radar"==t.type&&(f={PointIndex:p,Line1:{x:X,y:H},Line2:{x:$,y:G},Line3:{x:q,y:Z},Line4:{x:z,y:Y}},U.hasStackingInnerRadius=!!n),d=t._visiblePoints[p],(!ej.util.isNullOrUndefined(t.marker)&&t.marker.visible||!ej.util.isNullOrUndefined(t.marker)||t.marker.dataLabel.visible)&&(d.symbolLocation={X:($+q)/2,Y:(G+Z)/2},this.chartObj.svgRenderer.drawPath(U,this.gSeriesGroupEle))}else if(t.isStacking){if(K=t.stackedValue.StartValues[p],J=t.stackedValue.EndValues[p],0==p)for(m=ej.EjSvgRender.utils.TransformToVisible(t,b[p].xValue,J,this.chartObj),_=b.length-1;_>=0;_--)K=t.stackedValue.StartValues[_],b[_].y=Math.max(t.yAxis.actualRange.min,K),m=ej.EjSvgRender.utils.TransformToVisible(t,b[_].xValue,b[_].y,this.chartObj),v.append((_==b.length-1?"M":"L")+" "+m.X+" "+m.Y+" ");p<=b.length-1&&(b[p].y=J,m=ej.EjSvgRender.utils.TransformToVisible(t,b[p].xValue,b[p].y,this.chartObj),v.append("L "+m.X+" "+m.Y+" "),p==b.length-1&&(t.isClosed?(g=ej.EjSvgRender.utils.TransformToVisible(t,b[0].xValue,t.stackedValue.EndValues[0],this.chartObj),o=ej.EjSvgRender.utils.TransformToVisible(t,b[0].xValue,t.stackedValue.StartValues[0],this.chartObj),r=ej.EjSvgRender.utils.TransformToVisible(t,b[p].xValue,t.stackedValue.StartValues[p],this.chartObj),v.append("L "+g.X+" "+g.Y+"  L "+o.X+" "+o.Y+"  L "+r.X+" "+r.Y+"  L "+o.X+" "+o.Y+" z ")):v.append("L "+y+" "+w+" ")))}else m=ej.EjSvgRender.utils.TransformToVisible(t,b[p].xValue,b[p].y,this.chartObj),0==p||u?v.append("M "+m.X+" "+m.Y+" "):p==b.length-1?t.isClosed?(g=ej.EjSvgRender.utils.TransformToVisible(t,b[0].xValue,b[0].y,this.chartObj),v.append("L "+m.X+" "+m.Y+" z")):v.append("L "+m.X+" "+m.Y+" L "+y+" "+w):v.append(b[p+1].visible?"L "+m.X+" "+m.Y+" ":"L "+m.X+" "+m.Y+" L "+y+" "+w+" z"),u=!b[p+1]||!b[p+1].visible;t.regionAdded||"column"==t.drawType.toLowerCase()||"rangecolumn"==t.drawType.toLowerCase()||(f={X:m.X-i.width/2,Y:m.Y-i.height/2,Width:i.width,Height:i.height},ej.EjSvgRender.utils._addRegion(this.chartObj,f,t,b[p],p)),(!t.regionAdded&&"column"==t.drawType.toLowerCase()&&this.chartObj.model.enableCanvasRendering||"rangecolumn"==t.drawType.toLowerCase()&&this.chartObj.model.enableCanvasRendering)&&ej.EjSvgRender.utils._addRegion(this.chartObj,f,t,null,null)}return(t.regionAdded||"column"!=t.drawType.toLowerCase()||this.chartObj.model.enableCanvasRendering)&&("rangecolumn"!=t.drawType.toLowerCase()||this.chartObj.model.enableCanvasRendering)||ej.EjSvgRender.utils._addRegion(this.chartObj,f,t,null,null),v.toString()},_calculateVisiblePoints:function(t,i){for(var s,a,o,r,n,l=[],d=[],h=ej.util.isNullOrUndefined,c=h(i)?t.points:i.model._isPieOfPie?t.pieCollections[t.collectionIndex]:t.points,u=c.length,p=0;p<u;p++)h((n=c[p])._visibility)&&(n._visibility="visible"),n.actualIndex=h(i)?p:i.model._isPieOfPie?n.actualIndex:p,n.visible=!n.isEmpty&&n.visible,h(n.visible)&&(n.visible=!0),n.y<0&&(n.YValues[0]=Math.abs(n.YValues[0])),h(n.x)&&"string"!=t._xAxisValueType&&(n.visible=!1,n.isEmpty=!0),h(n.y)&&(n.visible=!1,n.isEmpty=!0);if((o=e.extend(!0,{},c,o)).length=u,t.emptyPointSettings.visible)for(a=(r=this._calculateEmptyPoints(t,o,i)).length,s=0;s<a;s++)r[s].visible?(r[s].visible="hidden"!=r[s]._visibility,d.push(r[s]),r[s].visible&&l.push(r[s])):(r[s].y=((r[s-1]?r[s-1].y:0)+(r[s+1]?r[s+1].y:0))/2,isNaN(r[s].y)&&(r[s].y=((r[s-2]?r[s-2].y:0)+(r[s+2]?r[s+2].y:0))/2),r[s].YValues[0]=r[s].y,h(r[s].x)&&"string"!=t._xAxisValueType||(r[s].gapMode=!0,l.push(r[s])));else for(s=0;s<u;s++)d.push(o[s]),o[s].visible&&(o[s].visible="hidden"!=o[s]._visibility,o[s].visible&&l.push(o[s]));if("hidden"==t.visibility)for(p=0;p<d.length;p++)d[p].visible=!1;return t._visiblePoints=l,t.visiblePoints=d,{visiblePoints:l,legendPoints:d}},getMinMaxValue:function(e,t,i){var s,a=Math.min(e.x,t.x),o=Math.min(e.y,t.y),r=Math.max(e.x,t.x),n=Math.max(e.y,t.y);switch(i){case 0:case 360:s=n;break;case 90:s=a;break;case 180:s=o;break;case 270:s=r}return s},pieDoughnutCenter:function(t){var i,s=t.startAngle,a=t.endAngle;this.chartObj.model.centerCount++;var o=e.inArray(t,this.chartObj.model._visibleSeries),r=[-630,-540,-450,-360,-270,-180,-90,0,90,180,270,360,450,540,630],n=[],l=this.chartObj.model.circleCenterX[o],d=this.chartObj.model.circleCenterY[o];if(t.startAngle<t.endAngle)for(i=0;i<r.length;i++)r[i]>s&&r[i]<a&&(n[n.length]=r[i]%360<0?r[i]%360+360:r[i]%360);else for(i=0;i<r.length;i++)r[i]<s&&r[i]>a&&(n[n.length]=r[i]%360<0?r[i]%360+360:r[i]%360);if(1==this.chartObj.model.centerCount){var h=this.chartObj.model.circularRadius[o],c=2*Math.PI*(s-90)/360,u=2*Math.PI*(a-90)/360,p={x:this.chartObj.model.circleCenterX[o],y:this.chartObj.model.circleCenterY[o]},m={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(c),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(c)},g={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(u),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(u)};switch(n.length){case 0:var _,f=Math.abs(p.x-m.x)>Math.abs(p.x-g.x)?m.x:g.x,b=Math.abs(p.y-m.y)>Math.abs(p.y-g.y)?m.y:g.y;this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o]+(this.chartObj.model.circleCenterX[o]-(_={x:(p.x+f)/2,y:(p.y+b)/2}).x),this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o]+(this.chartObj.model.circleCenterY[o]-_.y);break;case 1:switch(w=2*Math.PI*(n[0]-90)/360,S={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(w),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(w)},n[0]){case 0:case 360:v={x:m.x,y:S.y},x={x:g.x,y:p.y};break;case 90:v={x:p.x,y:g.y},x={x:S.x,y:m.y};break;case 180:v={x:g.x,y:p.y},x={x:m.x,y:S.y};break;case 270:v={x:S.x,y:m.y},x={x:p.x,y:g.y}}this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o]+(this.chartObj.model.circleCenterX[o]-(_={x:(v.x+x.x)/2,y:(v.y+x.y)/2}).x>=h?0:this.chartObj.model.circleCenterX[o]-_.x),this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o]+(this.chartObj.model.circleCenterY[o]-_.y>=h?0:this.chartObj.model.circleCenterY[o]-_.y);break;case 2:var v,x,y=2*Math.PI*(n[0]-90)/360,w=2*Math.PI*(n[1]-90)/360,S={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(w),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(w)},C={x:this.chartObj.model.circleCenterX[o]+h*Math.cos(y),y:this.chartObj.model.circleCenterY[o]+h*Math.sin(y)};v=90==n[0]&&180==n[1]||270==n[0]&&0==n[1]?{x:C.x,y:S.y}:{x:S.x,y:C.y},x=90==n[0]||270==n[0]?{x:this.getMinMaxValue(m,g,n[0]),y:this.getMinMaxValue(m,g,n[1])}:{x:this.getMinMaxValue(m,g,n[1]),y:this.getMinMaxValue(m,g,n[0])},_={x:Math.abs(v.x-x.x)/2>=h?0:(v.x+x.x)/2,y:Math.abs(v.y-x.y)/2>=h?0:(v.y+x.y)/2},this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o]+(0==_.x||this.chartObj.model.circleCenterX[o]-_.x>=h?0:this.chartObj.model.circleCenterX[o]-_.x),this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o]+(0==_.y||this.chartObj.model.circleCenterY[o]-_.y>=h?0:this.chartObj.model.circleCenterY[o]-_.y)}}for(i=0;i<t.points.length;i++)o<this.chartObj.model._visibleSeries.length&&this.chartObj.model.centerCount>1&&this.chartObj.model._visibleSeries[o+1].startAngle==s&&this.chartObj.model._visibleSeries[o+1].endAngle==a&&(this.chartObj.model.circleCenterX[o]=this.chartObj.model.circleCenterX[o+1],this.chartObj.model.circleCenterY[o]=this.chartObj.model.circleCenterY[o+1]),this.chartObj.model.startX[i]=this.chartObj.model.startX[i]-(l-this.chartObj.model.circleCenterX[o]),this.chartObj.model.startY[i]=this.chartObj.model.startY[i]-(d-this.chartObj.model.circleCenterY[o])},_drawEmptyPieOfPie:function(e){var t=-.5*Math.PI,i=2*Math.PI+-.5*Math.PI-1e-6,s=e.model.circleCenterX[1],a=e.model.circleCenterY[1],o=e.model.circularRadius[1],r="M "+(s+o*Math.cos(t))+" "+(a+o*Math.sin(t))+" A "+o+" "+o+" 0 1 1 "+(s+o*Math.cos(i))+" "+(a+o*Math.sin(i))+" z",n=e.model.theme.toLowerCase();return{id:e.svgObject.id+"_Series0_EmptyCircle",fill:"none","stroke-width":1.5,stroke:n.indexOf("dark")>=0||n.indexOf("contrast")>=0?" #FFFFFF":"#000000","stroke-dasharray":"",d:r,opacity:1,radius:o,start:-1.57,end:2*Math.PI-1.57,cx:s,cy:a}},calculatingSliceAngle:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x=this.chartObj?this.chartObj:i,y=x.model,w=y.legend,S=e.inArray(t,y._visibleSeries),C=w.position.toLowerCase(),T=y.LegendActualBounds,L=t._visiblePoints,k=L.length,P=0,j=0,D=w.border.width,A=y.border.width,O=y.margin,I=y.elementSpacing,R=0,M=y.title.subTitle.text?y.title.subTitle:"";for(y.arcData=[],t.rightsidePoints=[],t.leftsidePoints=[],t.labels=[],y.sumofYValues=0,y.midPoint=0,o=t.type.toLowerCase(),r=t.gapWidth,v=0;v<L.length;v++)y.sumofYValues+=L[v].YValues[0];s=360!=(s=null!=t.endAngle&&"pieofpie"!=o?t.endAngle-t.startAngle:360)&&-360!=s?s%360:s,t.startAngle&&"pieofpie"!=o?(t.startAngle=t.startAngle%360,t.endAngle=t.startAngle+s,R=t.startAngle?y.sumofYValues/360*t.startAngle:0,R=Number((R/y.sumofYValues).toFixed(2)),R=isFinite(R)?R:0,y.itemCurrentXPos=R):t.endAngle=s,w.visible&&"custom"!=C&&("right"==C||"left"==C?P+=T.Width+2*D+I:j+=T.Height+2*D+I);var E=y.title.text&&y.title.visible?y._titleLocation.size.height+y.elementSpacing+(""==M?0:M.text&&M.visible&&M.enableTrim&&("wrap"==M.textOverflow||"wrapandtrim"==M.textOverflow)?y._subTitleLocation.size.height:0):0,V=.1*Math.min(e(x.svgObject).width(),e(x.svgObject).height()),N=e(x.svgObject).width()-(P+O.left+O.right+2*A)-("pieofpie"==o?r:0),F=e(x.svgObject).height()-(j+E+O.top+O.bottom+2*A);for(S=x.model._isPieOfPie?t.collectionIndex:S,"pieofpie"==o&&(N<V&&(n=V-N,N=V),r=n?r-n:e(x.svgObject).width()>=r?r:0),y.circleCenterX[S]=N*("pieofpie"==o?0==S?.25:.75:.5)+(1==S&&"pieofpie"==o?r:0)+O.left+(w.visible&&"left"===C?P:0),y.circleCenterY[S]=.5*F+O.top+E+(w.visible&&"top"===C?j+I:I),ej.util.isNullOrUndefined(x.model.pieGapWidth)||0==x.model.pieGapWidth||(y.circleCenterX[S]=0==S?y.circleCenterX[S]+x.model.pieGapWidth/2:y.circleCenterX[S]-x.model.pieGapWidth/2),t.startAngle="pieofpie"==o?0:t.startAngle,l=(s=t.endAngle-t.startAngle)/180,d=s/4*(Math.PI/180),h=0;h<k;h++)((a=t._visiblePoints[h]).visible||a.gapMode)&&(c="pieofpie"==o?a.actualIndex:h,u=a.YValues[0]/y.sumofYValues,u=isFinite(u)?u:0,0==h&&0==S&&"pieofpie"==o?(p=2*Math.PI*R,m=l*Math.PI*u+p,m=isNaN(m)?p:m,a.start=a.startAngle=d-(_=(m+p)/2),a.end=a.endAngle=d+_,a.midAngle=d):(a.startAngle=0==h?2*Math.PI*R:"pieofpie"==o?t.pieCollections[S][h-1].endAngle:m,m=a.endAngle=l*Math.PI*u+a.startAngle,m=a.endAngle=isNaN(m)?a.startAngle:m,a.start=a.startAngle,a.end=a.endAngle,a.midAngle=(a.endAngle+a.startAngle)/2),a.pointIndex=c,g=-.5*Math.PI,a.radian=a.midAngle%(2*Math.PI),"outsideextended"==t.labelPosition.toLowerCase()&&"pieofpie"!=o&&(a.radian<Math.PI?t.rightsidePoints.push(a):t.leftsidePoints.push(a)),R+=a.YValues[0]/y.sumofYValues,_=a.midAngle+g,a.actualIndex!=t.explodeIndex&&!t.explodeAll||x.vmlRendering?(y.startX[c]=y.circleCenterX[S],y.startY[c]=y.circleCenterY[S]):(y.startX[c]=y.circleCenterX[S]+Math.cos(_)*t.explodeOffset,y.startY[c]=y.circleCenterY[S]+Math.sin(_)*t.explodeOffset));if("outsideextended"==t.labelPosition.toLowerCase()&&(t.rightsidePoints=ej.DataManager(t.rightsidePoints,ej.Query().sortBy("radian")).executeLocal(),t.leftsidePoints=ej.DataManager(t.leftsidePoints,ej.Query().sortBy("radian")).executeLocal()),t.marker.dataLabel.template)if("outsideextended"==t.labelPosition.toLowerCase()){for(f=0;f<t.rightsidePoints.length;f++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.rightsidePoints[f],t.rightsidePoints[f].actualIndex,t,!1,x);for(b=0;b<t.leftsidePoints.length;b++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.leftsidePoints[b],t.leftsidePoints[b].actualIndex,t,!0,x)}else for(v=0;v<t._visiblePoints.length;v++)ej.EjSvgRender.utils._getSeriesTemplateSize(t._visiblePoints[v],t._visiblePoints[v].actualIndex,t,!0,x);else ej.EjSvgRender.utils._getSeriesMaxLabel(t);return t.finalSize={width:N,height:F},t.finalSize},_drawHiloPath:function(t,i,s,a,o,r){var n,l,d,h,c,u=e.inArray(t,this.chartObj.model._visibleSeries);this.chartObj.svgRenderer.drawPath({name:t.type,id:this.chartObj.svgObject.id+"_Series"+u+"_Point"+o,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":i.borderWidth,stroke:s,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:a},this.gSeriesGroupEle),c=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.chartObj.model.requireInvertedAxes),d=Math.min(r.point2.X,r.point1.X)+c.x-i.borderWidth,h=Math.min(r.point2.Y,r.point1.Y)+c.y,r.point1.Y!=r.point2.Y?(n=i.borderWidth+i.borderWidth/2,l=Math.abs(r.point1.Y-r.point2.Y)):(n=Math.abs(r.point2.X-r.point1.X),l=i.borderWidth+i.borderWidth/2),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:d,Y:h,Width:n,Height:l},t,null,o)},isIntersec:function(e,t){return!(t.Bottom<e.Top||t.Right<e.Left||t.Top>e.Bottom||t.Left>e.Right)},IntersectWith:function(t,i,s,a,o,r){var n,l,d,h,c,u,p;if((ej.util.isNullOrUndefined(t.model.rightsidebounds[o])||ej.util.isNullOrUndefined(t.model.leftsidebounds[o]))&&(t.model.leftsidebounds[o]=[],t.model.rightsidebounds[o]=[],t.model.leftsidebounds[o].points=[],t.model.rightsidebounds[o].points=[]),"outsideExtended"==a){for(d=o;d<t.model.bounds.length;d++)if("outsideextended"==t.model._visibleSeries[d].labelPosition.toLowerCase()){if(!ej.util.isNullOrUndefined(t.model.bounds[d].points.left)&&t.model.bounds[d].points.left.length>0)for(c=(h=t.model.bounds[d].points.left.length)-1;c>=0&&!ej.util.isNullOrUndefined(t.model.bounds[d].points.left[c]);c--)t.model.leftsidebounds[d].points[c]=t.model.bounds[d].points.left[c];if(!ej.util.isNullOrUndefined(t.model.bounds[d].points.right)&&t.model.bounds[d].points.right.length>0)for(h=t.model.bounds[d].points.right.length,l=0;l<h&&!ej.util.isNullOrUndefined(t.model.bounds[d].points.right[l]);l++)t.model.rightsidebounds[d].points[l]=t.model.bounds[d].points.right[l]}}else if(t.model.bounds[o].points.length>0||o>=0)for(d=o;d<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[d]);d++)if("outsideextended"!=t.model._visibleSeries[d].labelPosition.toLowerCase())for(h=t.model.bounds[d].points.length,c=0;c<h&&!ej.util.isNullOrUndefined(t.model.bounds[d].points[c]);c++)t.model.bounds[d].points[c].X<t.model.circleCenterX[o]?-1==e.inArray(t.model.bounds[d].points[c],t.model.leftsidebounds[d].points)&&(t.model.leftsidebounds[d].points[c]=t.model.bounds[d].points[c]):-1==e.inArray(t.model.bounds[d].points[c],t.model.rightsidebounds[d].points)&&(t.model.rightsidebounds[d].points[c]=t.model.bounds[d].points[c]);for(d=o;d<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[d]);d++)if(t.model.leftsidebounds[d].points.length>0&&(n=t.model.leftsidebounds[d].points).length>0)for(c=n.length-1;c>=0;c--)if(u=n[c],!ej.util.isNullOrUndefined(u)||u==s){if(u.SeriesIndex==s.SeriesIndex&&u.PointIndex==s.PointIndex){if("outside"==i.smartLabelPosition)continue;break}if(this.isIntersec(u,s))return!0;s.X<t.model.circleCenterX[o]&&u.X<t.model.circleCenterX[o]&&"none"!=t.model.series[o].marker.dataLabel.shape&&(p=Math.abs(u.Y-s.Y),r&&p<=r.height&&u.Bottom>s.Top&&u.Left<s.X&&(s.overlap=!0))}for(d=o;d<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[d]);d++)if((n=t.model.rightsidebounds[d].points).length>0)for(c=n.length-1;c>=0;c--)if(u=n[c],!ej.util.isNullOrUndefined(u)||u==s){if(u.SeriesIndex==s.SeriesIndex&&u.PointIndex==s.PointIndex){if("outside"==i.smartLabelPosition)continue;break}if(this.isIntersec(u,s))return!0;s.X>t.model.circleCenterX[o]&&u.X>t.model.circleCenterX[o]&&"none"!=t.model.series[o].marker.dataLabel.shape&&(p=Math.abs(u.Y-s.Y),r&&p<=r.height&&u.Bottom>s.Top&&u.X+(u.Right-u.Left)>s.X&&(s.overlap=!0))}return!1},_calculateArcData:function(e,t,i,s,a,o){a=e.model._isPieOfPie?o:a;var r,n,l,d,h=i.actualIndex,c=e,u=-.5*Math.PI;"doughnut"==s.type.toLowerCase()&&1==s._visiblePoints.length&&360==Math.abs(s.endAngle-s.startAngle)&&s.startAngle%90!=0?(r=parseFloat((i.startAngle+u).toFixed(3)),n=parseFloat((i.endAngle+u).toFixed(3))-1e-6):(r=i.startAngle+u,n=i.endAngle+u-1e-6);var p=s.endAngle-s.startAngle,m=Math,g=(r+n)/2;ej.util.isNullOrUndefined(i.currentMidAngle)&&(i.currentMidAngle=(r+n)/2);var _,f,b,v=p>0?1:0,x=(m=v?n-r<Math.PI?0:1:n-r>-1*Math.PI?0:1,c.model.circularRadius[a]),y=c.model.innerRadius[a];h!=s.explodeIndex&&!s.explodeAll||c.vmlRendering?(f=c.model.circleCenterX[a],b=c.model.circleCenterY[a]):(f=c.model.circleCenterX[a]+Math.cos(g)*s.explodeOffset,b=c.model.circleCenterY[a]+Math.sin(g)*s.explodeOffset);var w=f+x*Math.cos(r),S=b+x*Math.sin(r),C=f+x*Math.cos(n),T=b+x*Math.sin(n);if("doughnut"==s.type.toLowerCase()){var L=f+y*Math.cos(r),k=b+y*Math.sin(r),P=f+y*Math.cos(n),j=b+y*Math.sin(n),D=v?0:1;r<0&&6==Math.round(i.endAngle-i.startAngle)&&(P-=.01,C-=.01),_="M "+w+" "+S+" A "+x+" "+x+" 0 "+m+" "+v+" "+C+" "+T+" L "+P+" "+j+" A "+y+" "+y+" 1 "+m+" "+D+" "+L+" "+k+" z"}else(i.endAngle-i.startAngle).toFixed(4)==(2*Math.PI).toFixed(4)?(l=f,d=b,_="M "+w+" "+S+" A "+x+" "+x+" 0 "+m+" "+v+" "+C+" "+T):_="M "+w+" "+S+" A "+x+" "+x+" 0 "+m+" "+v+" "+C+" "+T+" L "+f+" "+b+" z";return{Direction:_,centerX:l,centerY:d}},getXCordinate:function(e,t,i){return e+t*Math.cos(i)},getYCordinate:function(e,t,i){return e+t*Math.sin(i)},getDoubleRange:function(e,t){var i,s;return e>t?(i=t,s=e):(i=e,s=t),{Start:i,End:s,Delta:s-i,Median:(i+s)/2,IsEmpty:isNaN(i)||isNaN(s)}},isDependentSeries:function(e){var t=e.type.toLowerCase(),i=this.chartObj.model.requireInvertedAxes;return!i||i&&e.isTransposed?-1!=t.indexOf("bar")&&!e._isTransposed||-1!=t.indexOf("column")||-1!=t.indexOf("waterfall")||-1!=t.indexOf("hilo")||-1!=t.indexOf("candle")||-1!=t.indexOf("boxandwhisker"):-1!=t.indexOf("bar")},getPointXYOrgin:function(e,t,i,s){var a;return i.isTransposed&&s.model.requireInvertedAxes||i._isTransposed?(a=(1-ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,e))*i.xAxis.height,{X:ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t)*i.yAxis.width,Y:a}):{X:a=ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,e)*i.xAxis.width,Y:(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t))*i.yAxis.height}},getRectangle:function(e,t,i,s,a,o){var r=this.getPointXYOrgin(e,t,a,o),n=this.getPointXYOrgin(i,s,a,o);return ej.EjSvgRender.utils._correctRect(r.X,r.Y,n.X,n.Y)},calculateMean:function(e,t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y=0,w=0,S=[],C=0;for(e.length>1&&e.sort((function(e,t){return e-t})),v=0;v<e.length;v++)y+=e[v];w=y/e.length,w=parseInt(w.toFixed(2)),S[C]=w,C++,"normal"==t.boxPlotMode.toLowerCase()?(s=e.slice(0,e.length%2==0?e.length/2:Math.floor(e.length/2)),r=Math.floor(s.length/2),d=s.length%2==0?(s[r-1]+s[r])/2:s[r],S[C]=d=e.length<=3?e[0]:d,C++,a=e.slice(e.length%2==0?e.length/2:Math.ceil(e.length/2),e.length),n=Math.floor(a.length/2),h=a.length%2==0?(a[n-1]+a[n])/2:a[n],S[C]=h=e.length<=3?e[e.length-1]:h,C++):("exclusive"==t.boxPlotMode.toLowerCase()||"inclusive"==t.boxPlotMode.toLowerCase())&&(s=(1-(p=(c="exclusive"==t.boxPlotMode.toLowerCase()?(e.length+1)/4:(e.length-1)/4)-(u=Math.floor(c))))*e[f="exclusive"==t.boxPlotMode.toLowerCase()?u-1:u]+p*e[f+1],S[C]=d=s=e.length<=3?e[0]:s,C++,a=(1-(_=(m="exclusive"==t.boxPlotMode.toLowerCase()?3*(e.length+1)/4:3*(e.length-1)/4)-(g=Math.floor(m))))*e[b="exclusive"==t.boxPlotMode.toLowerCase()?g-1:g]+_*e[b+1],S[C]=h=a=e.length<=3?e[e.length-1]:a,C++),l=Math.floor(e.length/2),S[C]=o=e.length%2==0?(e[l-1]+e[l])/2:e[l],C++;var T=h-d,L=h+1.5*T,k=d-1.5*T,P=e[e.length-1],j=e[0],D=[],A=0,O=0;for(x=0;x<e.length;x++)L<e[x]&&(A++,D[O]=e[x],O++,P=e[x-A]),k>e[x]&&(D[O]=e[x],O++,j=e[x+1]);return S[C]=j,S[++C]=P,C++,t._visiblePoints[i].boxPlotValues={Minimum:j,LowerQuartile:d,midvalue:o,UpperQuartile:h,Maximum:P,boxAverage:w,outliers:D},t._visiblePoints[i].boxPlotValues.quartileValues=S,{Minimum:j,LowerQuartile:d,midvalue:o,UpperQuartile:h,Maximum:P,boxAverage:w,outliers:D}},calculateBoxAndWhiskerPath:function(e,t,i,s,a,o,r){var n,l,d,h;a._visiblePoints[r].boxPlotLocation=[],a._visiblePoints[r].dataLabelLocation=[];var c,u,p,m,g,_=0,f=this,b=a._isTransposed,v=a.outlierSettings.shape.toLowerCase();for(n=0;n<a._visiblePoints[r].boxPlotValues.quartileValues.length;n++)u={xValue:o.xValue,YValues:a._visiblePoints[r].boxPlotValues.quartileValues[n]},p=ej.EjSvgRender.utils._getPoint(u,a),a._visiblePoints[r].boxPlotLocation[_]=p,a._visiblePoints[r].boxPlotLocation[_].xValue=u.xValue,a._visiblePoints[r].boxPlotLocation[_].YValues=u.YValues,a._visiblePoints[r].dataLabelLocation[_]=b?{X:p.X,Y:t.Y+t.Height/2+5}:{X:t.X+t.Width/2,Y:p.Y},_++;for(l=0;l<s.outliers.length&&"none"!=v;l++)m={xValue:o.xValue,YValues:s.outliers[l]},g=ej.EjSvgRender.utils._getPoint(m,a),a._visiblePoints[r].boxPlotLocation[_]=g,a._visiblePoints[r].boxPlotLocation[_].xValue=m.xValue,a._visiblePoints[r].boxPlotLocation[_].YValues=m.YValues,a._visiblePoints[r].boxPlotLocation[_].outlier=!0,b?g.Y=t.Y+t.Height/2:g.X=t.X+t.Width/2,a._visiblePoints[r].dataLabelLocation[_]=b?{X:g.X-a.outlierSettings.size.height,Y:t.Y+t.Height/2+a.outlierSettings.size.width,outlier:!0}:{X:t.X+t.Width/2,Y:g.Y,outlier:!0},_++;return c=a._visiblePoints[r].boxPlotLocation,a._isTransposed?(d="M "+(f.chartObj.canvasX+c[4].X)+" "+(f.chartObj.canvasY+t.Y)+" L "+(c[4].X+f.chartObj.canvasX)+" "+(t.Height+t.Y+f.chartObj.canvasY)+" M "+(f.chartObj.canvasX+c[4].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+" L "+(f.chartObj.canvasX+c[1].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+"  z",h="M "+(f.chartObj.canvasX+c[5].X)+" "+(f.chartObj.canvasY+t.Y)+" L "+(f.chartObj.canvasX+c[5].X)+" "+(t.Height+t.Y+f.chartObj.canvasY)+" M "+(f.chartObj.canvasX+c[5].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+" L "+(f.chartObj.canvasX+c[2].X)+" "+(f.chartObj.canvasY+t.Y+t.Height/2)+"  z"):(d="M "+(f.chartObj.canvasX+t.X)+" "+(f.chartObj.canvasY+c[4].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width)+" "+(f.chartObj.canvasY+c[4].Y)+" M "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[4].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[1].Y)+"  z",h="M "+(f.chartObj.canvasX+t.X)+" "+(f.chartObj.canvasY+c[5].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width)+" "+(f.chartObj.canvasY+c[5].Y)+" M "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[5].Y)+" L "+(f.chartObj.canvasX+t.X+t.Width/2)+" "+(f.chartObj.canvasY+c[2].Y)+"  z"),{upperWhisker:h,lowerWhisker:d,mean:a._isTransposed?"M "+(f.chartObj.canvasX+c[0].X-5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2-5)+" L "+(f.chartObj.canvasX+c[0].X+5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2+5)+" M "+(f.chartObj.canvasX+c[0].X+5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2-5)+" L "+(f.chartObj.canvasX+c[0].X-5)+" "+(f.chartObj.canvasY+t.Y+t.Height/2+5)+" z":"M "+(f.chartObj.canvasX+t.X+t.Width/2-5)+" "+(f.chartObj.canvasY+c[0].Y-5)+" L "+(f.chartObj.canvasX+t.X+t.Width/2+5)+" "+(f.chartObj.canvasY+c[0].Y+5)+" M "+(f.chartObj.canvasX+t.X+t.Width/2-5)+" "+(f.chartObj.canvasY+c[0].Y+5)+" L "+(f.chartObj.canvasX+t.X+t.Width/2+5)+" "+(f.chartObj.canvasY+c[0].Y-5)+" z"}},calculateSides:function(e,t){return{x1:e.xValue+t.Start,x2:e.xValue+t.End}},_getSeriesPosition:function(e){var t,i,s,a,o,r,n,l;if(ej.util.isNullOrUndefined(e.position)||this.chartObj.model.legendCollapsed){for(s=0,a=[],o=0;o<this.chartObj.model._visibleSeries.length;o++)("visible"===(n=this.chartObj.model._visibleSeries[o]).visibility.toLowerCase()&&"column"==n.drawType.toLowerCase()||"rangecolumn"==n.drawType.toLowerCase())&&a.push(n);for(r=0;r<a.length;r++)(n=a[r])._xAxisName==this.chartObj.model._axes[0].name&&n._yAxisName==this.chartObj.model._axes[1].name&&(n.isStacking?(t||(i=s,s++,t=!0),n.position=i):(n.position=s,s++));for(l=0;l<a.length;l++)a[l].all=s}return{all:e.all,pos:e.position}},getSideBySidePositions:function(t,i){var s,a,o,r,n,l=this,d=[],h=l.chartObj.model;return a=o=r=0,n=h._visibleSeries.length,(ej.util.isNullOrUndefined(t.position)||h.legendCollapsed||!i.spacingCalculated)&&(e.each(h.requireInvertedAxes?h.vAxes:h.hAxes,(function(e){var t,c,u,p=[];for(s=[],o=0;o<n;o++)"visible"===(t=h._visibleSeries[o]).visibility.toLowerCase()&&l.isDependentSeries(t)&&p.push(t);for(c=p.length,o=0;o<c;o++)s[e=h.requireInvertedAxes?p[o].yAxis.columnIndex:p[o].yAxis.rowIndex]||(s[e]=[],p[o].yAxis.position=null),s[e].push(p[o]);for(a=0;a<s.length;a++)if(!ej.util.isNullOrUndefined(s[a]))for(s[a].all=0,o=0;o<s[a].length;o++)-1!=(t=s[a][o]).type.toLowerCase().indexOf("stacking")?t.stackingGroup?ej.util.isNullOrUndefined(d[t.stackingGroup])?(s[a].all++,t.position=s[a].all,d[t.stackingGroup]=s[a].all):t.position=d[t.stackingGroup]:ej.util.isNullOrUndefined(t.yAxis.position)||h.legendCollapsed?(s[a].all++,t.position=s[a].all,t.yAxis.position=s[a].all,h.legendCollapsed=!1):t.position=t.yAxis.position:(s[a].all++,t.position=s[a].all);for(u=c>0&&p[0].columnWidth,r=0;r<c;r++)p[r].all=s[e=h.requireInvertedAxes?p[r].yAxis.columnIndex:p[r].yAxis.rowIndex].all,i.needSpace=i.needSpace||u!=p[r].columnWidth})),i.needSpace&&this.chartObj.model._sideBySideSeriesPlacement&&this._getColumnSpacing(s,i),i.spacingCalculated=!0),{all:t.all,pos:t.position}},getSideBySideInfo:function(e,t){var i;ej.util.isNullOrUndefined(e.xAxis.m_minPointsDelta)&&(this.chartObj.currentSeries=e,e.xAxis.m_minPointsDelta=ej.EjSvgRender.utils.getMinPointsDelta(e.xAxis,this.chartObj));var s=e.columnSpacing,a=e.columnWidth,o=this.getSideBySidePositions(e,t),r=o.all,n=t.needSpace&&this.chartObj.model._sideBySideSeriesPlacement,l=e.xAxis.m_minPointsDelta*(n?1:a),d=n?t[e.name||e._name].loc:(o.pos-1)/r-.5,h=this.getDoubleRange(d,d+(n?a:1)/r);return this.chartObj.model._sideBySideSeriesPlacement?(h.IsEmpty||(h=this.getDoubleRange(h.Start*l,h.End*l),h=this.getDoubleRange(h.Start+(i=s*h.Delta)/2,h.End-i/2)),h):this.getDoubleRange(-l/2,l/2)},_getColumnSpacing:function(e,t){for(var i,s,a,o,r,n=0,l=0,d=e.length;n<d;n++){var h=0,c={};for(i=e[n].length;l<i;l++)-1==(s=e[n][l]).type.toLowerCase().indexOf("stacking")?h+=s.columnWidth/s.all:c[a=s.stackingGroup]={width:Math.max(s.columnWidth,c[a]?c[a].width:0),all:s.all};for(o in c)h+=c[o].width/c[o].all;for(r=(1-h)/2-.5,l=0,i=e[n].length;l<i;l++)-1==(s=e[n][l]).type.toLowerCase().indexOf("stacking")?(t[s.name||(s._name="series"+n+l)]={loc:r},r+=s.columnWidth/s.all):null==c[a=s.stackingGroup].loc?(t[s.name||(s._name="series"+n+l)]={loc:r+(c[a].width-s.columnWidth)/2/s.all},c[a].loc=t[s.name||s._name].loc+s.columnWidth/2/s.all,r+=c[a].width/s.all):t[s.name||s._name]={loc:c[a].loc-s.columnWidth/2/s.all}}},_getPoint:function(e,t,i,s,a,o,r){var n=e.xValue,l=e.YValues[0];return n=(n-s.min)/s.delta,l=(l-o.min)/o.delta,{X:(a?1-n:n)*t,Y:(1-(r?1-l:l))*i}},_getLogPoint:function(e,t,i,s,a,o,r,n){var l=e.xValue,d=e.YValues[0];return l="logarithmic"==n.xAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==l?1:l,n.xAxis.logBase)-s.min)/s.delta:(l-s.min)/s.delta,d="logarithmic"==n.yAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==d?1:d,n.yAxis.logBase)-o.min)/o.delta:(d-o.min)/o.delta,{X:(a?1-l:l)*t,Y:(1-(r?1-d:d))*i}},_getTransposedPoint:function(e,t,i,s,a,o,r){var n=e.xValue,l=e.YValues[0];return n=(n-s.min)/s.delta,l=(l-o.min)/o.delta,{X:(r?1-l:l)*i,Y:(1-(a?1-n:n))*t}},_getTransposedLogPoint:function(e,t,i,s,a,o,r,n){var l=e.xValue,d=e.YValues[0];return l="logarithmic"==n.xAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==l?1:l,n.xAxis.logBase)-s.min)/s.delta:(l-s.min)/s.delta,d="logarithmic"==n.yAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==d?1:d,n.yAxis.logBase)-o.min)/o.delta:(d-o.min)/o.delta,{X:(r?1-d:d)*i,Y:(1-(a?1-l:l))*t}},draw:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S=ej.EjSvgRender.utils._getStringBuilder(),C=t.canvasX,T=t.canvasY,L=t.model.requireInvertedAxes,k=0,P=t.model.enableCanvasRendering,j=t,D="logarithmic"==i.xAxis._valueType.toLowerCase()||"logarithmic"==i.yAxis._valueType.toLowerCase(),A=i._isTransposed,O=A?i.xAxis.height:i.xAxis.width,I=A?i.yAxis.width:i.yAxis.height,R=i.xAxis.visibleRange,M=i.yAxis.visibleRange,E=i.xAxis.isInversed,V=i.yAxis.isInversed,N=this["_get"+(A?"Transposed":"")+(D?"Log":"")+"Point"];if(this.chartObj=t,x=this.setLineSeriesStyle(i),i._animationType="path",i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("xValue")).executeLocal()),i._visiblePoints=void 0,a={min:0,max:(s=this.improveChartPerformance(i)).length},i.pointFill)for(u=e.inArray(i,this.chartObj.model._visibleSeries),g=s.length-1,v=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,L),C=j.canvasX,T=j.canvasY,this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+u,transform:"translate("+v.x+","+v.y+")"}),o=0;o<g;o++)b=s[o],p=s[o+1],_||(_=this.chartObj.setStyle(this,i,u,o,void 0,s)),p.visible&&b.visible&&(h=ej.EjSvgRender.utils._getPoint(b,i),c=ej.EjSvgRender.utils._getPoint(p,i),S.append("M "+(h.X+C)+" "+(h.Y+T)+" L "+(c.X+C)+" "+(c.Y+T)+" ")),(f=this.chartObj.setStyle(this,i,u,o+1,void 0,s)).interior==_.interior&&o!=g-1&&p.visible||(r={name:i.type,id:this.chartObj.svgObject.id+"_Series"+u+"_Point"+k++,"stroke-dasharray":_.dashArray,fill:"none","stroke-width":_.width,"stroke-linecap":i.lineCap,"stroke-linejoin":i.lineJoin,stroke:_.interior,opacity:_.opacity,d:S.toString()},this.chartObj.svgRenderer.drawPath(r,this.gSeriesGroupEle),S=ej.EjSvgRender.utils._getStringBuilder(),_=f);else{for(P&&((m=t.svgRenderer.ctx).save(),m.beginPath(),"cartesianaxes"==t.model.AreaType&&(v="translate("+(v=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,L)).x+","+v.y+")"),t.svgRenderer._setLinePathStyle(f={"stroke-dasharray":i.dashArray,"stroke-width":i.width,stroke:x.SeriesInterior,"stroke-linecap":i.lineCap,"stroke-linejoin":i.lineJoin,opacity:i.opacity},v)),n=null,d=-1,y="M ",o=a.min;o<a.max;o++)!1!==(l=s[o]).visible?(null!=n&&s.length>d+1&&(p=s[d+1],h=N(n,O,I,R,E,M,V,i),c=N(p,O,I,R,E,M,V,i),P?(w&&(m.lineTo(c.X+C,c.Y+T),w=null),m.moveTo(h.X+C,h.Y+T),m.lineTo(c.X+C,c.Y+T),w=c):(S.append(y+(h.X+C)+" "+(h.Y+T)+" L "+(c.X+C)+" "+(c.Y+T)+" "),y="L ")),n=l,d=o):n=null;P?(m.stroke(),m.restore()):this._drawLinePath(i,x,S.toString())}this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle),i._visiblePoints=i._dataLabels>0||i.marker&&1==i.marker.dataLabel.visible&&i.enableSmartLabels?this._isVisiblePoints(i):s},doCircularAnimation:function(t,i,s,a,o){var r=i.type.toLowerCase();if("pie"==r||"doughnut"==r||"pieofpie"==r){var n,l,d=this,h=i.points[0]?i.points[0].startAngle:0,c=t.model._isPieOfPie?i.collectionIndex:0,u=i.emptyPointSettings.visible?i.visiblePoints:i._visiblePoints;o=ej.util.isNullOrUndefined(o)?1200:o,e.each(u,(function(s,u){n=u.startAngle,l=u.endAngle,t.model._radius=t.model._isPieOfPie?t.model.circularRadius[c]:t.model.circularRadius[a],u.startAngle=0,u.endAngle=u.startAngle,t.model.Radius=0;var p=e(t.gSeriesEle).find("#"+t.svgObject.id+"_SeriesGroup_"+a)[c].childNodes[s];"pie"==r||"pieofpie"==r?e(p).each((function(){this.StartAngle=h,this.EndAngle=h})).animate({StartAngle:n,EndAngle:l,pieRadius:t.model._radius},{duration:o,queue:!1,step:function(o,r){if("StartAngle"===r.prop.toString()?(u.startAngle=o,u.endAngle=u.startAngle):"pieRadius"==r.prop.toString()&&t.model?t.model.Radius=o:u.endAngle=o,t.model){var n=d._calculateArcData(t,s,u,i,a,c);t.svgRenderer._setAttr(e(p),{d:n.Direction}),t.model.Radius=t.model._radius}},complete:function(){d.circularAnimationComplete(s,t,i)}}):e(p).each((function(){this.StartAngle=h,this.EndAngle=h})).animate({StartAngle:n,EndAngle:l},{duration:o,queue:!1,step:function(o,r){if("StartAngle"===r.prop.toString()?(u.startAngle=o,u.endAngle=u.startAngle):u.endAngle=o,t.model){var n=d._calculateArcData(t,s,u,i,a);t.svgRenderer._setAttr(e(p),{d:n.Direction}),t.model.Radius=t.model._radius}},complete:function(){d.circularAnimationComplete(s,t,i)}})}))}},circularAnimationComplete:function(t,i,s){if(!ej.util.isNullOrUndefined(i.model)){var a,o,r,n=e.inArray(s,i.model._visibleSeries);if(i.gSeriesTextEle[n]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gSeriesTextEle[n].id),{visibility:"visible"}),i.gSymbolGroupEle[n]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gSymbolGroupEle[n].id),{visibility:"visible"}),i.gDataLabelEle[n]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gDataLabelEle[n].id),{visibility:"visible"}),s.marker.dataLabel.template)for(r=e(i.element[0].childNodes[0].childNodes),o=0;o<r.length;o++)e(r[o]).css("display","block");i.gConnectorEle[n]&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gConnectorEle[n].id),{visibility:"visible"}),i.gConnectorLinesGroup&&i.svgRenderer._setAttr(e(i.gSeriesEle).find("#"+i.gConnectorLinesGroup.id),{visibility:"visible"}),i.model.AnimationComplete=!0,s.AnimationComplete=!0,(a=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:s},i._trigger("animationComplete",a)}},_doLineSymbol:function(t,i,s,a,o,r,n){if("defs"!=t.tagName){var l=parseInt(s*i),d=null==this.chartObj?r:this.chartObj,h=ej.EjSvgRender.utils._getBoundingClientRect(t,d,a,o),c=h.x+h.width/2,u=h.y+h.height/2,p=e(t),m=d.svgRenderer._getAttrVal(p,"transform");m=ej.util.isNullOrUndefined(m)?" ":m,d.svgRenderer._setAttr(p,{transform:"scale(0)"}),p.delay(l).animate({scales:1},{duration:n,step:function(e){d.svgRenderer._setAttr(p,{transform:"translate("+c+" "+u+") scale("+e+") translate("+-c+" "+-u+")"+m})}})}},animateSymbol:function(t,i,s,a,o,r){if("defs"!=t.tagName){var n=null==this.chartObj?o:this.chartObj,l=ej.EjSvgRender.utils._getBoundingClientRect(t,n,s,a),d=l.x+l.width/2,h=l.y+l.height/2,c=e(t),u=n.svgRenderer._getAttrVal(c,"transform");u=ej.util.isNullOrUndefined(u)?" ":u,c.delay(i).each((function(){this.scale=.5})).animate({scales:1},{duration:r,step:function(e){n.svgRenderer._setAttr(c,{transform:"translate("+d+" "+h+") scale("+e+") translate("+-d+" "+-h+")"+u})}})}},animateCylinder:function(t,i,s,a,o){var r,n;i.isTransposed&&s?(r=a[0].width.animVal.value,t.model.series[0].type.indexOf("bar")>-1?(t.svgRenderer._setAttr(e(a),{x:r}),e(a).animate({x:0},o,(function(){}))):(n=a[0].height.animVal.value,t.svgRenderer._setAttr(e(a),{y:0}),e(a).animate({y:parseFloat(t.svgRenderer._getAttrVal(a,"y")),height:parseFloat(t.svgRenderer._getAttrVal(a,"height"))},{duration:o,step:function(i){t.svgRenderer._setAttr(e(a),{y:n-i}),t.svgRenderer._setAttr(e(a),{height:i})}}))):t.model.series[0].type.indexOf("bar")>-1?e(a).animate({width:parseFloat(t.svgRenderer._getAttrVal(a,"width"))},{duration:o,step:function(i){t.svgRenderer._setAttr(e(a),{width:i})}}):(n=a[0].height.animVal.value,t.svgRenderer._setAttr(e(a),{y:n}),e(a).animate({y:0},o,(function(){})))},animateRect:function(t,i,s,a,o){var r,n,l,d,h,c,u,p,m=i.animationType.toLowerCase(),g=ej.EjSvgRender.utils._getBoundingClientRect("smooth"==m?t[0]:t,a,i,s),_=e(t);i.isTransposed&&s||s?(c="smooth"==m?parseFloat(a.svgRenderer._getAttrVal(t,"width")):0,u=!0,"negative"===a.svgRenderer._getAttrVal(_,"plot")?(r=g.x+g.width,n=g.y+g.height):(r=g.x,n=g.y),l=") scale(",d=",1) translate("):(c="smooth"==m?parseFloat(a.svgRenderer._getAttrVal(t,"height")):0,u=!1,"negative"===a.svgRenderer._getAttrVal(_,"plot")?(r=g.x,n=g.y):(r=g.x+g.width,n=g.y+g.height),l=") scale(1,",d=") translate("),p=Math.abs(ej.EjSvgRender.utils._getPointXY(i.yAxis.visibleRange.min<0?0:i.yAxis.visibleRange.min,i.yAxis.visibleRange,i.yAxis.isInversed)*(u?i.yAxis.width:i.yAxis.height)),_.animate({scales:"smooth"==m?c:1},{duration:o,complete:function(){"waterfall"==i.type.toLowerCase()&&e("#"+a.svgObject.id+"_SeriesGroup_waterfallLine_"+i.index).attr("visibility","visible")},step:function(e){h=e,"smooth"==m?(e&&a.svgRenderer._setAttr(_,u?{width:p+e>=c?c:e}:{height:e}),a.svgRenderer._setAttr(_,u?{x:p+e>=c?c-e:p}:{y:c-p-e>=0?c-p-e:0})):a.svgRenderer._setAttr(_,{transform:"translate("+r+" "+n+l+h+d+-r+" "+-n+")"})}})},animateStackingRect:function(t,i,s,a,o){var r,n,l,d,h,c,u=e(t),p=ej.EjSvgRender.utils._getBoundingClientRect(t,a,i,s);i.isTransposed&&s||s?(h=ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0)*i.yAxis.width,r=h,n=p.y,l=") scale(",d=",1) translate("):(c=(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0))*i.yAxis.height,r=p.x,n=c,l=") scale(1,",d=") translate("),u.animate({scales:1},{duration:o,step:function(e){a.svgRenderer._setAttr(u,{transform:"translate("+r+" "+n+l+e+d+-r+" "+-n+")"})}})},_doLineAnimation:function(t,i,s){s=ej.util.isNullOrUndefined(s)?2e3:s;var a,o=t.model.primaryXAxis.isInversed,r=parseFloat(t.svgRenderer._getAttrVal(i,"width"));t.model.requireInvertedAxes?(a=parseFloat(t.svgRenderer._getAttrVal(i,"height")),e(i).animate({clipRectHeight:parseFloat(t.svgRenderer._getAttrVal(i,"height"))},{duration:s,step:function(s){t.svgRenderer._setAttr(e(i),{y:a-s}),t.svgRenderer._setAttr(e(i),{height:s})}})):e(i).animate({clipRectWidth:parseFloat(t.svgRenderer._getAttrVal(i,"width"))},{duration:s,step:function(s){o&&t.svgRenderer._setAttr(e(i),{x:r-s}),t.svgRenderer._setAttr(e(i),{width:s})}})},_drawLinePath:function(t,i,s){var a,o,r=this.chartObj.model.requireInvertedAxes,n=e.inArray(t,this.chartObj.model._visibleSeries),l=null;"cartesianaxes"==this.chartObj.model.AreaType&&(l="translate("+(a=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,r)).x+","+a.y+")"),this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+n,transform:l}),""!=s&&-1==s.indexOf("NaN")&&(o={id:this.chartObj.svgObject.id+"_Series"+n,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":t.width,stroke:i.SeriesInterior,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:s},this.chartObj.dragPoint?(o.id=this.chartObj.svgObject.id+"_PreviewSeries"+n,o.opacity=.6,this.chartObj.model.enableCanvasRendering?this.chartObj.svgRenderer.drawPath(o,this.chartObj.canvasElement,l):this.chartObj.svgRenderer.drawPath(o,this.chartObj.gPreviewSeriesGroupEle)):this.chartObj.svgRenderer.drawPath(o,this.gSeriesGroupEle))},_applySaturation:function(e,t){var i;return ej.EjSvgRender.prototype.checkColorFormat(t)||(t=e.colorNameToHex(t)),i=ej.EjSvgRender.prototype.hexToRGB(t),Math.round((299*parseInt(i.R)+587*parseInt(i.G)+114*parseInt(i.B))/1e3)>=128?"black":"white"},drawDataLabel:function(t,i,s,a,o,r,n,l){var d,h,c,u,p,m,g,_;s.marker=s.marker?s.marker:{};var f,b,v,x,y,w,S,C,T,L=t.yAxis.labelFormat,k=t._visiblePoints[i].boxPlotValues,P="waterfall"==t.type.toLowerCase()&&(s.showIntermediateSum||s.showTotalSum)?s.waterfallSum:s.y;s.text?b=s.text:L?L.indexOf("{value}")>-1?b=L.replace("{value}",P):0==L.indexOf("e")||0==L.indexOf("E")?(f=L.match(/(\d+)/g),b=P.toExponential(f=null==f?6:f>20?20:f)):b=ej.format(P,L,this.chartObj.model.locale):b=P;var j,D,A,O=this.chartObj,I=O.model,R=e.inArray(t,I._visibleSeries),M=e.extend(!0,{},t.marker,s.marker),E=M.dataLabel,V=I.m_AreaBounds,N=E.font,F=E.textPosition.toLowerCase(),B=E.textAnchor.toLowerCase(),z=t.type.toLowerCase(),Y=I.enableCanvasRendering,X=ej.seriesTypes[z].prototype.isRegion,H={size:ej.util.isNullOrUndefined(N.size)?"11px":N.size,fontStyle:ej.util.isNullOrUndefined(N.fontStyle)?"Normal":N.fontStyle,fontFamily:ej.util.isNullOrUndefined(N.fontFamily)?"Segoe UI":N.fontFamily},W=(a=a?a==I.m_AreaBounds.Width?a-15:a:a+15,ej.EjSvgRender.utils._measureText(b,null,H));degree=E.angle,padding=10,angle=degree>360?degree-360:degree<-360?degree+360:degree,"middle"==F&&(-90==angle||90==angle)&&W.width>O.model.chartRegions[r].Region.Bounds.Height&&(F="bottom");var U=this.textPosition(t,R,s,W,z,a,o,r,i,n,F),$=e.extend({},ej.EjSvgRender.commonChartEventArgs),G=E.enableContrastColor,q=I.chartArea.background.toLowerCase(),Z=I.background.toLowerCase();$.data={text:b,location:{x:U.x+O.canvasX,y:U.y+O.canvasY},seriesIndex:R,pointIndex:i},t.isStacking&&"area"==t.drawType&&("polar"==t.type||"radar"==t.type)&&($.data.text=t.stackedValue.EndValues[i]-t.stackedValue.StartValues[i]),O._trigger("displayTextRendering",$);var Q=null==M.dataLabel.offset.y?M.dataLabel.offset:M.dataLabel.offset.y,K=M.dataLabel.offset.x;if(W=ej.EjSvgRender.utils._measureText($.data.text,null,H),$.data.location.y="bottom"==F?$.data.location.y+Q:$.data.location.y-Q,K&&($.data.location.x=$.data.location.x+K),(90==angle||-90==angle)&&("bottom"==F?(B=-90==angle?"start":"end",$.data.location.y=$.data.location.y+padding/2):"top"==F&&("middle"==B||"start"==B?(B=-90==angle?"start":"end",$.data.location.y=$.data.location.y+padding):(B="end",$.data.location.y=$.data.location.y+2*padding))),!$.cancel){var J={id:O.svgObject.id+"_SeriesText"+i+R,x:$.data.location.x,y:$.data.location.y,fill:N.color,"font-size":N.size,"font-family":N.fontFamily,"font-style":N.fontStyle,"font-weight":N.fontWeight,opacity:N.opacity,"text-anchor":s.isCrop?"":B},ee=E.margin,te=W.width+ee.left+ee.right,ie=W.height+ee.top+ee.bottom,se={X:$.data.location.x,Y:$.data.location.y};if(ej.util.isNullOrUndefined(E.template)?(j=E.shape?E.shape:"None",e.each(I.symbolShape,(function(e){j.toLowerCase()==e.toLowerCase()&&(A=e)})),d=$.data.location.x-ee.left/2+ee.right/2,h=$.data.location.y-ee.top/2-ie/ee.top+ee.bottom/2,I.enableCanvasRendering&&degree%360!=0&&(J.y-=W.height/4,J.baseline="middle"),E.showEdgeLabels&&(v=Y?J.x-O.canvasX:J.x,x=Y?J.y-O.canvasY:J.y,(90==angle||-90==angle)&&(W.width=[W.height,W.height=W.width][0]),y=W.width,w=W.height,c=t._visiblePoints[t._visiblePoints.length-1]==s&&v+y/2>=O.model.m_AreaBounds.Width,(v-y/2<0||v<-y/2)&&c?(S=v-y/2,J.x=d=Math.abs(S)+(c?-10:v+10)):(v+y/2>V.textWidth||v+y/2>V.textWidth+y/2)&&(S=v-y/2,J.x=d=V.textWidth-y/2-10),x+w/2>V.textHeight||x+w/2>V.textHeight+w/2?J.y=5+(h=x-(S=x+w/2-V.textHeight)-10):(x-w/2<0||x<-w/2)&&(S=x-w/2,h+=Math.abs(S)+10,J.y=h+5)),t._enableSmartLabels&&(s.dataLabel={textX:J.x,textY:J.y,x:d,y:h,width:te,height:ie},s.margin={top:ee.top,bottom:ee.bottom}),C="array"==jQuery.type(I.seriesColors[R])?I.seriesColors[R][0].color:I.seriesColors[R],C=s.fill?"array"==jQuery.type(s.fill)?s.fill[0].color:s.fill:C,G&&(J.fill=this._applySaturation(O,D=X&&"top"!=F?C:"transparent"===q&&"transparent"===Z?"white":"transparent"!=q?q:Z)),s.y!=s.low||void 0===s.y&&void 0===s.low?"boxandwhisker"==z.toLowerCase()&&k.midvalue!=s.y?(u={id:O.svgObject.id+"_SeriesText"+i+R,x:ej.util.isNullOrUndefined(l)?$.data.location.x:d,y:ej.util.isNullOrUndefined(l)?$.data.location.y:h,fill:N.color,"font-size":N.size,"font-family":N.fontFamily,"font-style":N.fontStyle,"font-weight":N.fontWeight,opacity:N.opacity,"text-anchor":B},s.textOptionsBoxValues[p=s.textOptionsBoxValues.length]=u,0!=angle&&(s.textOptionsBoxValues[p].angle=angle),s.textOptionsBoxValues[p].drawText=$.data.text,s.textOptionsBoxValues[p].index=i,s.textOptionsBoxValues[p].xPos=ej.util.isNullOrUndefined(l)?d:d-ee.left/2+ee.right/2,s.textOptionsBoxValues[p].yPos=ej.util.isNullOrUndefined(l)?h:h-ee.top/2-ie/ee.top+ee.bottom/2,s.textOptionsBoxValues[p].seriesIndex=R,s.textOptionsBoxValues[p].width="None"==A?W.width:te,s.textOptionsBoxValues[p].height="None"==A?W.height:ie,s.textOptionsBoxValues[p].symbolName=A):(s.textOptions=J,0!=angle&&(s.textOptions.angle=angle),s.drawText=$.data.text,s.index=i,s.xPos=d,s.yPos=h,s.seriesIndex=R,s.width="None"==A?W.width:te,s.height="None"==A?W.height:ie,(90==angle||-90==angle)&&(s.width=[s.height,s.height=s.width][0]),s.symbolName=A):(s.xPosLow=d,s.yPosLow=h,s.widthLow="None"==A?W.width:te,s.heightLow="None"==A?W.height:ie,s.textOptionsLow=J,s.textOptionsLow.angle=angle,s.drawTextLow=$.data.text)):(se.X-=O.canvasX,se.Y-=O.canvasY,this.drawLabelTemplate(t,s,i,se,O)),(z.indexOf("column")>-1||z.indexOf("bar")>-1)&&G)if(m=O.model.chartRegions[r],g=n.stackingGroup,"top"==F&&z.indexOf("stacking")>-1){if(ej.util.isNullOrUndefined(t.stackingGroup)||""==t.stackingGroup)R<I._visibleSeries.length-1?(C="array"==jQuery.type(I.seriesColors[R+1])?I.seriesColors[R+1][0].color:I.seriesColors[R+1],D=C=s.fill?"array"==jQuery.type(s.fill)?s.fill[0].color:s.fill:C):D="transparent"===q&&"transparent"===Z?"white":"transparent"!=q?q:Z;else for(_ in g){if(_==t.stackingGroup&&R<g[_].length-1){C="array"==jQuery.type(I.seriesColors[R+1])?I.seriesColors[R+1][0].color:I.seriesColors[R+1],D=C=s.fill?"array"==jQuery.type(s.fill)?s.fill[0].color:s.fill:C;break}D="transparent"===q&&"transparent"===Z?"white":"transparent"!=q?q:Z;break}J.fill=this._applySaturation(O,D)}else T=ej.ejChart.isCollide(m,s,0,G,O),"bottom"!=F&&"middle"!=F||T.state||(J.fill=this._applySaturation(O,D="transparent"===q&&"transparent"===Z?"white":"transparent"!=q?q:Z))}},updateSmartLabelPosition:function(t,i,s,a,o,r,n,l,d,h){var c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A=[],O=d,I=O.model,R=I.legend,M=I.LegendActualBounds,E=R.position.toLowerCase(),V=new(ej.seriesTypes[t.type.toLowerCase()]),N="",F="",B=a.connector.connectorX,z=a.connector.connectorY,Y=a.midPoint.midX,X=a.midPoint.midY,H=r.startX,W=r.startY,U=e.extend(!0,{},t.marker,i.marker),$=U.dataLabel.template?0:4,G=o,q=t.startAngle>t.endAngle?-.01:.01,Z=U.dataLabel.connectorLine.type.toLowerCase(),Q=t.type.toLowerCase(),K=I._isPieOfPie?I.circularRadius[t.collectionIndex]:I.circularRadius[h],J="pieofpie"==Q?"inside":t.labelPosition.toLowerCase();if(ej.util.isNullOrUndefined(I.bounds[h])&&(I.bounds[h]=[],I.bounds[h].points=[],"outsideextended"==J&&(I.bounds[h].points.left=[],I.bounds[h].points.right=[])),"inside"==J&&ej.util.isNullOrUndefined(i.smartLabelPosition)){u=(Y+(u=(Y+H)/2))/2,p=(X+(p=(X+W)/2))/2,ee=i.isIntersected&&I.bounds[h].points[i.index]?I.bounds[h].points[i.index]:Y>H?{X:u,Y:p,Left:u,Top:p,Right:u+l.width,Bottom:p+l.height,SeriesIndex:h,PointIndex:s}:{X:u,Y:p,Left:u-l.width,Top:p,Right:u,Bottom:p+l.height,SeriesIndex:h,PointIndex:s};do{m=!1,this.IntersectWith(O,i,ee,"inside",h)&&(g=ee.Left,_=180*o/Math.PI,180*G/Math.PI-_>=270||(G+=q,i.isIntersected=!0,ee.Angle=G,Y>H?(ee.X=ee.Left=V.getXCordinate(H,K+n,G),ee.Right=ee.X+l.width):(ee.X=ee.Right=V.getXCordinate(H,K+n,G),ee.Left=ee.Right-l.width),ee.Y=ee.Top=V.getYCordinate(W,K+n,G),ee.Bottom=ee.Y+l.height,m=!0))}while(m);Y>H&&ee.X<H&&(ee.Right=g,ee.Left=g-l.width),I.bounds[h].points[s]=ee,i.isIntersected&&I.bounds[h].points[s].Angle&&(u=V.getXCordinate(H,K+n,I.bounds[h].points[s].Angle),p=V.getYCordinate(W,K+n,I.bounds[h].points[s].Angle),f=V.getXCordinate(H,K+n/3,o),b=V.getYCordinate(W,K+n/3,o),A.push({X:Y,Y:X}),A.push({X:f,Y:b}),A.push({X:u,Y:p}),i.isIntersected&&"bezier"==Z&&!O.vmlRendering&&(F=V.drawBezierSegment(A,t,s,O,h)),N="M "+Y+" "+X+" L "+f+" "+b+" M "+f+" "+b+" L "+u+" "+p)}else if("outside"==J||"outside"==i.smartLabelPosition){ee=Y>=H?{X:B,Y:z,Left:B,Top:z,Right:B+l.width,Bottom:z+l.height,SeriesIndex:h,PointIndex:s}:{X:B,Y:z,Left:B-l.width,Top:z,Right:B,Bottom:z+l.height,SeriesIndex:h,PointIndex:s};do{m=!1,this.IntersectWith(O,i,ee,"outside",h,l)&&(g=ee.Left,G+=q,i.isIntersected=!0,Y>H?(ee.X=ee.Left=V.getXCordinate(H,K+n,G),ee.Right=ee.X+l.width):(ee.X=ee.Right=V.getXCordinate(H,K+n,G),ee.Left=ee.Right-l.width),ee.Y=ee.Top=V.getYCordinate(W,K+n,G),ee.Bottom=ee.Y+l.height,m=!0)}while(m);Y>H&&ee.X<H&&(ee.Right=g,ee.Left=g-l.width),I.bounds[h].points[s]=ee,f=V.getXCordinate(H,K+n/3,o),b=V.getYCordinate(W,K+n/3,o),A.push({X:Y,Y:X}),A.push({X:f,Y:b}),A.push({X:ee.X,Y:ee.Y}),u=ee.X,p=ee.Y,n>0&&(u=Y<H?(c=ee.X-I.elementSpacing)-$:(c=ee.X+I.elementSpacing)+$,A.push({X:c,Y:ee.Y})),"bezier"!=Z||O.vmlRendering?N="M "+Y+" "+X+" L "+f+" "+b+" M "+f+" "+b+" L "+ee.X+" "+ee.Y+" M "+ee.X+" "+ee.Y+" L "+c+" "+ee.Y:F=V.drawBezierSegment(A,t,s,O,h)}else{v=Y,x=X,Y+=Math.cos(o)*(-K/10),X+=Math.sin(o)*(-K/10),y=K/4,A.push({X:Y,Y:X}),Y+=Math.cos(o)*y,X+=Math.sin(o)*y,A.push({X:Y,Y:X}),w=R.visible&&"left"==E?I.margin.left+M.Width:0,S=I.circleCenterX[h],Y<H?(Y=(S-K-2*y-t.LeftLabelMaxWidth>0?S-K-2*y+w:t.LeftLabelMaxWidth>v?v:t.LeftLabelMaxWidth+w)-l.width/2,C=A[1].X-t.LeftLabelMaxWidth,k=S-K-2*y-t.LeftLabelMaxWidth>0?y:t.LeftLabelMaxWidth>v?0:C>y/2*3?y:C/2,T=+l.width/2):(L=R.visible&&"right"==E?I.margin.right+M.Width:0,Y=(S+K+2*y+t.RightLabelMaxWidth<e(O.svgObject).width()-L?S+K+2*y-w:S+K+t.RightLabelMaxWidth>e(O.svgObject).width()?v:e(O.svgObject).width()-t.RightLabelMaxWidth-L)+l.width/2,C=e(O.svgObject).width()-t.RightLabelMaxWidth-A[1].X,k=S+K+2*y+t.RightLabelMaxWidth<e(O.svgObject).width()?y:S+K+t.RightLabelMaxWidth>e(O.svgObject).width()?0:C>y/2*3?y:C/2,T=-l.width/2),P=Math.sqrt(Math.pow(v-Y,2)+Math.pow(x-X,2))/10,a=(j=Y<H)?I.bounds[h].points.left:I.bounds[h].points.right;var ee={X:Y=j?Y+P:Y-P,Y:X,Left:Y,Top:X,Right:Y+l.width,Bottom:X+l.height,index:s,SeriesIndex:h,PointIndex:s},te=t.endAngle>t.startAngle;if(this.IntersectWith(O,i,ee,"outsideExtended",h)&&(A.push(Y<H?{X:Y+k+T,Y:X}:{X:Y-k+T,Y:X}),ee.Y=X=te||null==t.startAngle?a[a.length-1].Y+l.height+2:j?a[a.length-1].Y-l.height-2:a[a.length-1].Y+l.height+2,ee.Top=X,ee.Bottom=X+l.height),A.push({X:Y+T,Y:X}),S<A[0].X&&A[1].X>A[2].X&&(A[2].X=A[1].X),S>A[0].X&&A[1].X<A[2].X&&(A[2].X=A[1].X),j?(I.bounds[h].points.left||(I.bounds[h].points.left=[]),I.bounds[h].points.left.push(ee),A[A.length-1].X>A[A.length-2].X&&(A[A.length-2].X=A[A.length-1].X)):(I.bounds[h].points.right||(I.bounds[h].points.right=[]),I.bounds[h].points.right.push(ee),A[A.length-1].X<A[A.length-2].X&&(A[A.length-2].X=A[A.length-1].X)),N=ej.EjSvgRender.utils._getStringBuilder(),"bezier"!=Z||O.vmlRendering){for(D=0;D<A.length;D++)N.append(D==A.length-1?" ":"M "+A[D].X+" "+A[D].Y+" L "+A[D+1].X+" "+A[D+1].Y+" ");N=N.toString()}else F=V.drawBezierSegment(A,t,s,O,h);u=A[A.length-1].X+(Y<H?-$:$),p=A[A.length-1].Y}return{positionX:u,positionY:p,connectorDirection:N,isInterSected:i.isIntersected,bezierPath:F}},updateLabelPosition:function(t,i,s,a,o,r,n,l,d,h){var c,u,p,m,g,_,f,b=[],v=d,x=new(ej.seriesTypes[t.type.toLowerCase()]),y="",w=a.connector.connectorX,S=a.connector.connectorY,C=a.midPoint.midX,T=a.midPoint.midY,L=a.doughnutMidPoint.dMidX,k=a.doughnutMidPoint.dMidY,P=r.startX,j=r.startY,D=e.extend(!0,{},t.marker,i.marker),A=D.dataLabel.template?0:4,O=t.type.toLowerCase(),I=v.model.circularRadius[h],R="pieofpie"==O?"inside":t.labelPosition.toLowerCase();if(b.push({X:C,Y:T}),b.push({X:w,Y:S}),u=w,p=S,"outside"==R)n>0&&(u=w<P?(c=w-v.model.elementSpacing)-A:(c=w+v.model.elementSpacing)+A,b.push({X:c,Y:S})),"bezier"!=D.dataLabel.connectorLine.type.toLowerCase()||v.vmlRendering?y="M "+C+" "+T+" L "+w+" "+S+" M "+w+" "+S+" L "+c+" "+S:x.drawBezierSegment(b,t,s,v,h);else if("outsideextended"==R){if(m=C,C+=Math.cos(o)*(-I/10),T+=Math.sin(o)*(-I/10),g=I/4,(b=[]).push({X:C,Y:T}),w=C+Math.cos(o)*g,S=T+Math.sin(o)*g,b.push({X:w,Y:S}),_=!v.model.legend.visible||"left"!=v.model.legend.position.toLowerCase()&&"right"!=v.model.legend.position.toLowerCase()?0:v.model.elementSpacing,w=C<P?v.model.centerX-I-2*g-t.LeftLabelMaxWidth>0?v.model.centerX-I-2*g+_:t.LeftLabelMaxWidth>m?m:t.LeftLabelMaxWidth:v.model.centerX+I+2*g+t.RightLabelMaxWidth<e(v.svgObject).width()?v.model.centerX+I+2*g-_:v.model.centerX+I+t.RightLabelMaxWidth>e(v.svgObject).width()?m:e(v.svgObject).width()-t.RightLabelMaxWidth,b.push({X:w,Y:S}),y=ej.EjSvgRender.utils._getStringBuilder(),"bezier"!=D.dataLabel.connectorLine.type.toLowerCase()||v.vmlRendering){for(f=0;f<b.length;f++)y.append(f==b.length-1?" ":"M "+b[f].X+" "+b[f].Y+" L "+b[f+1].X+" "+b[f+1].Y+" ");y=y.toString()}else x.drawBezierSegment(b,t,s,v,h);u=b[b.length-1].X+(C<P?-A:A),p=b[b.length-1].Y}else"doughnut"==t.type.toLowerCase()?(u=(C+L)/2,p=(T+k)/2):(u=(C+(u=(C+P)/2))/2,p=(T+(p=(T+j)/2))/2);return{positionX:u,positionY:p,connectorDirection:y,points:b[b.length-1]}},updateSmartLabel:function(t,i,s,a){var o,r,n,l,d=!0,h="",c=i.labelPosition.toLowerCase(),u=e.extend(!0,{},i.marker,a.marker).dataLabel,p=t.model.m_AreaBounds,m=i.type.toLowerCase();return a._labelPlacement="","inside"==c||"outsideextended"==c?this.calculateInsideConnectorLines(s,a,i,t):this.compareDataLabels(a,s,t.model.outsideDataRegionPoints,i,t),o=t.model.enableCanvasRendering&&!u.template?t.pyrX:0,r=t.model.enableCanvasRendering&&!u.template?t.pyrY:0,"pyramid"==m?(t.model.actualHeight<a.yPos-r||a.xPos-o>p.Width&&"insideoverlap"==a._labelPlacement||"right"==t.model.legend.position&&u.template&&a.xPos+a.width>p.Width+t.model.LegendActualBounds.Width)&&(d=!1,a.drawTextacc=""):(a.yPos-r<0||a.xPos-o>p.Width&&"insideoverlap"==a._labelPlacement||"right"==t.model.legend.position&&u.template&&a.xPos+a.width>p.Width+t.model.LegendActualBounds.Width)&&(d=!1,a.drawTextacc=""),("outside"==c||"insideoverlap"==a._labelPlacement)&&d&&(h=this.drawConnectorLines(s,a,i,t)),u.template&&(n=e("#"+a.id),d?(l="insidenooverlap"==a._labelPlacement?a.textOptionsacc.y+t.pyrY:a.textOptionsacc.y+t.pyrY-t.model.elementSpacing,n.css("left","insidenooverlap"==a._labelPlacement?a.textOptionsacc.x+t.pyrX-a.width/2:a.textOptionsacc.x+t.pyrX).css("top",l),n.css("height",a.height).css("overflow","hidden")):n.css("display","none")),{xPos:a.xPos,yPos:a.yPos,textOptionsacc:a.textOptionsacc,connectorDirection:h.connectorDirection,bezierPath:h.bezierdir,drawTextacc:a.drawTextacc}},compareDataLabels:function(t,i,s,a,o){for(var r,n,l,d,h,c,u=e.extend(!0,{},a.marker,t.marker),p=u.dataLabel,m=o.model.elementSpacing,g=u.dataLabel.margin,_=a._visiblePoints.length,f=a.labelPosition.toLowerCase(),b=o.model.enableCanvasRendering?o.pyrX:0,v=o.model.enableCanvasRendering?o.pyrY:0,x=0,y=s.length;x<y;x++)if((l=this.isCollide(s[x],t,a)).state)if("inside"==f||"outsideextended"==f)for(t.textOptionsacc.y=t.yPos=t.textOptionsacc.y+l.height,c=p.template?{x:t.xPos,y:t.yPos}:{x:t.xPos-b,y:t.yPos-v},r=0,n=_;r<n;r++)o.isPointInPolygon(o.model.chartRegions[0].Region[r].Polygon,c)&&(t.textOptionsacc.x=t.xPos=t.textOptionsacc.x+t.width,c=p.template?{x:t.xPos,y:t.yPos}:{x:t.xPos-b,y:t.yPos-v});else t._labelPlacement="outside",t.textOptionsacc.y=t.yPos="pyramid"==a.type.toLowerCase()?t.yPos+l.height+m/2:t.yPos+l.height-m/2,t.textOptionsacc.y=t.textOptionsacc.y+t.height/4-m/2+g.top/2-g.bottom/2;h="rotate("+((d=p.angle)>360?d-360:d<-360?d+360:d)+","+t.textOptionsacc.x+","+t.textOptionsacc.y+")",e(t.textOptionsacc).attr("transform",h),e(t.textOptionsacc).attr({transform:h}),("inside"==f||"outsideextended"==f)&&(t.yPos=t.yPos+m/4,t.textOptionsacc.y=t.textOptionsacc.y+t.height/4+g.top/2-g.bottom/2),s[s.length]=t},calculateInsideConnectorLines:function(t,i,s,a){var o=i.Polygon,r=e.extend(!0,{},s.marker,i.marker).dataLabel,n=a.model.enableCanvasRendering?a.pyrX:0,l=a.model.enableCanvasRendering?a.pyrY:0,d=ej.EjSvgRender.utils._measureText(i.drawTextacc,null,r.font);a.isPointInPolygon(o,r.template?{x:i.xPos,y:i.yPos}:{x:i.xPos+d.width/2-n,y:i.yPos-i.height/2-l})?i._labelPlacement="insidenooverlap":(i._labelPlacement="insideoverlap",i.textOptionsacc["text-anchor"]="start",i.textOptionsacc.x=i.xPos=i.startX+(i.startX+70<a.model.m_AreaBounds.Width?70:a.model.m_AreaBounds.Width-i.startX),i.textOptionsacc.y=i.yPos=i.yLocation,a.model.enableCanvasRendering&&!r.template&&(i.textOptionsacc.x+=a.pyrX,i.textOptionsacc.y+=a.pyrY,i.xPos+=a.pyrX,i.yPos+=a.pyrY),this.compareDataLabels(i,t,a.model.outsideDataRegionPoints,s,a))},drawConnectorLines:function(t,i,s,a){var o="",r=new(ej.seriesTypes[s.type.toLowerCase()]),n=s._visiblePoints[t].startX,l=s._visiblePoints[t].startY,d="",h=e.inArray(s,a.model._visibleSeries),c=e.extend(!0,{},s.marker,i.marker).dataLabel,u=i.textOptionsacc.y-a.model.elementSpacing/2,p=a.model.enableCanvasRendering?a.pyrX:0,m=a.model.enableCanvasRendering?a.pyrY:0,g=[{X:n+p,Y:l+m},{X:i.textOptionsacc.x,Y:u}];return"bezier"!=c.connectorLine.type.toLowerCase()||a.vmlRendering?(d="M "+n+" "+l+" L "+i.textOptionsacc.x+" "+u,a.model.enableCanvasRendering&&!c.template&&(d="M "+n+" "+l+" L "+(i.textOptionsacc.x-p)+" "+(u-m))):o=r.drawBezierSegment(g,s,t,a,h),{connectorDirection:d,bezierdir:o}},isCollide:function(e,t,i){var s,a=0,o=0,r=i.type.toLowerCase();return(s=!(e.yPos+e.height<t.yPos||e.yPos>t.yPos+t.height||e.xPos+e.width/2<t.xPos-t.width/2||e.xPos-e.width>t.xPos+t.width))&&"pyramid"==r?(o=e.yPos+e.height-t.yPos,a=e.xPos+e.width-t.xPos):s&&"funnel"==r&&(o=e.yPos-(t.yPos+t.height),a=e.xPos+e.width-t.xPos),{state:s,height:o,width:a}},trimText:function(e,t,i){return t--,e.substr(0,t-i.length)+i},trimfunction:function(e,t,i,s,a,o){for(;t<i;)if(e=e.toString(),e=this.trimText(e,e.length,s),i=ej.EjSvgRender.utils._measureText(e,a,o).width,e==s){e="";break}return e},calculatePosition:function(e,t,i,s,a){return{rightEndX:t.x+i/2-s,rightEndY:t.y-a,leftEndX:t.x-i/2-s,leftEndY:t.y-a}},textOption:function(t,i,s,a,o,r,n,l,d,h,c){var u;if(!(u=e.extend(!0,{},t.marker,i.model._isPieOfPie?c.marker:t._visiblePoints[r].marker)).dataLabel.template){e("#"+i.svgObject.id+"series"+h+"_PointText"+r).remove();var p={id:i.svgObject.id+"series"+h+"_PointText"+r,x:l+a,y:d+s.height/4+o,fill:u.dataLabel.font.color,"font-size":u.dataLabel.font.size,"font-family":u.dataLabel.font.fontFamily,"font-style":u.dataLabel.font.fontStyle,"font-weight":u.dataLabel.font.fontWeight,opacity:u.dataLabel.font.opacity,"text-anchor":n,cursor:"default",degree:u.dataLabel.angle},m=u.dataLabel.angle,g="rotate("+(m>360?m-360:m<-360?m+360:m)+","+l+","+d+")";e(p).attr("transform",g),i.model.enableCanvasRendering&&e(p).attr("labelRotation",m),e(p).attr({transform:g})}return p},labelTrim:function(e,t,i,s,a,o,r,n,l,d){var h,c,u,p,m,g,_,f,b=-.5*Math.PI,v=(Math,this.calculatePosition(e,t,i,a,o)),x=e.model.series[l].startAngle,y=e.model.series[l].endAngle,w=y-x;if(l=e.model._isPieOfPie?d:l,_=w<0?(y/=360)?2*Math.PI*(y<0?1+y:y):0:x?2*Math.PI*(e.model.itemCurrentXPos<0?1+e.model.itemCurrentXPos:e.model.itemCurrentXPos):0,(x=(Math.atan2(v.rightEndY,v.rightEndX)-b-_)%(2*Math.PI))<0&&(x=2*Math.PI+x),(y=(Math.atan2(v.leftEndY,v.leftEndX)-b-_)%(2*Math.PI))<0&&(y=2*Math.PI+y),h=parseFloat(r.start.toFixed(14)),c=parseFloat(r.end.toFixed(14)),w>0?(ej.util.isNullOrUndefined(e.firstStartAngle[0])&&e.firstStartAngle.push(h),h=e.firstStartAngle[0]<0?e.model._isPieOfPie?h:2*Math.PI+h:h,c=e.firstStartAngle[0]<0?e.model._isPieOfPie?c:2*Math.PI+c:c):(h=h<0?e.model._isPieOfPie?h:2*Math.PI+h:h,c=c<0?e.model._isPieOfPie?c:2*Math.PI+c:c),c-=_,(h-=_)>2*Math.PI&&c>2*Math.PI?(x+=2*Math.PI,y+=2*Math.PI):h<2*Math.PI&&c>2*Math.PI&&(x<Math.PI/2&&(x+=2*Math.PI),y<Math.PI/2&&(y+=2*Math.PI)),x<0&&(y>0||null==y)&&(h=h<0?2*Math.PI+h:h,c=c<=0?2*Math.PI+c:c),u=e.model.circleCenterX[l]<t.x?Math.sqrt(Math.pow(Math.abs(v.rightEndX),2)+Math.pow(Math.abs(v.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(v.leftEndX),2)+Math.pow(Math.abs(v.leftEndY),2)),w<0&&(c=[h,h=c][0]),y>=h&&y<=c&&x>=h&&x<=c&&u<=e.model.circularRadius[l]&&u>0)p=!0;else for(p=!1;!p;){if("..."==(s=this.trimText(s,s.length,"..."))){s="";break}g=ej.EjSvgRender.utils._measureText(s,null,n),m=this.calculatePosition(e,t,g.width,a,o),(f=(Math.atan2(m.rightEndY,m.rightEndX)-b-_)%(2*Math.PI))<0&&(f=2*Math.PI+f),(y=(Math.atan2(m.leftEndY,m.leftEndX)-b-_)%(2*Math.PI))<0&&(y=2*Math.PI+y),u=e.model.circleCenterX[l]<t.x?Math.sqrt(Math.pow(Math.abs(m.rightEndX),2)+Math.pow(Math.abs(m.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(m.leftEndX),2)+Math.pow(Math.abs(m.leftEndY),2)),h>2*Math.PI&&c>2*Math.PI&&e.model._isPieOfPie?(h-=2*Math.PI,c-=2*Math.PI):0!=h&&h<2*Math.PI&&c>=2*Math.PI&&e.model._isPieOfPie&&(h-=2*Math.PI),y>=h&&y<=c&&f>=h&&f<=c&&u<=e.model.circularRadius[l]&&u>0&&(p=!0)}return s},drawDataLabelAcc:function(t,i,s,a,o,r){var n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=a.marker;if(a.visible&&(C&&C.dataLabel&&C.dataLabel.visible||(!C||!C.dataLabel)&&i.marker.dataLabel.visible)){var T,L,k,P,j,D,A,O,I,R,M,E,V,N,F=t,B=i.type.toLowerCase(),z=new ej.seriesTypes[B],Y=ej.util.isNullOrUndefined,X="pieofpie"==B?"inside":i.labelPosition.toLowerCase(),H=F.model,W=H.title,U=ej.EjSvgRender.utils._measureText,$=H.elementSpacing,G=i.marker,q=G.dataLabel,Z=q.margin,Q=q.font,K=q.connectorLine,J=K.type.toLowerCase(),ee=H.legend,te=ee.position.toLowerCase(),ie=H.LegendActualBounds,se=Y(a.text)?a.y:a.text,ae=q.enableWrap,oe=se,re=H._isPieOfPie?r:o,ne=0,le=0,de=H.background.toLowerCase(),he=q.enableContrastColor;if(("pyramid"==B||"funnel"==B)&&"outsideextended"==X&&(X="inside"),(j=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={text:se,series:i,pointIndex:s},F._trigger("displayTextRendering",j),R=(D=U(j.data.text,null,P={size:Q.size,fontStyle:Q.fontStyle,fontFamily:Q.fontFamily})).width+Z.left+Z.right,M=D.height+Z.top+Z.bottom,"pyramid"==B||"funnel"==B){var ce=H.title.text?U(H.title.text,e(this.svgObject).width()-H.margin.left-H.margin.right,H.title.font):0,ue=F.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(F.model.title.subTitle.text,e(this.svgObject).width()-F.model.margin.left-F.model.margin.right,F.model.title.subTitle.font):0,pe=""===F.model.title.subTitle.text?0:ue.height,me=$+H.margin.left+("left"===te)?ie.Width:0,ge=("top"===te?ie.Height:0)+(H.title.text&&H.title.visible?H._titleLocation.Y+ce.height+pe:H.margin.top+$);R+=10,n={X:a.xLocation+F.pyrX,Y:a.yLocation+F.pyrY},ne=a.xLocation,le=a.yLocation,l=e.extend(!0,{},G,l=a.marker?a.marker:G),k=a.connectorLine,O={positionX:ne,positionY:le}}if("pyramid"!=B&&"funnel"!=B){var _e,fe,be,ve,xe,ye,we,Se,Ce,Te,Le,ke=-.5*Math.PI,Pe=a.midAngle+ke,je=(ce=H.title.text?U(H.title.text,e(this.svgObject).width()-H.margin.left-H.margin.right,H.title.font):0,ue=F.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(F.model.title.subTitle.text,e(this.svgObject).width()-F.model.margin.left-F.model.margin.right,F.model.title.subTitle.font):0,pe=""===F.model.title.subTitle.text?0:ue.height,H.circularRadius[re]);be=Y(K.height)?U(j.data.text,null,Q).height:K.height,(F.model._isPieOfPie?a.actualIndex:i._visiblePoints[s].actualIndex)!=i.explodeIndex&&!i.explodeAll||F.vmlRendering?(ve=H.circleCenterX[re],xe=H.circleCenterY[re]):(ve=H.circleCenterX[re]+Math.cos(Pe)*i.explodeOffset,xe=H.circleCenterY[re]+Math.sin(Pe)*i.explodeOffset),ye=z.getXCordinate(ve,je,Pe),ye=0!=a.y?ye:parseFloat(ye.toFixed(12)),we=z.getYCordinate(xe,je,Pe),Se=z.getXCordinate(ve,H.innerRadius[o],Pe),Ce=z.getYCordinate(xe,H.innerRadius[o],Pe),Te=this.getXCordinate(ve,je+be,Pe),Te=0!=a.y?Te:parseFloat(Te.toFixed(12)),Le=this.getYCordinate(xe,je+be,Pe),q.template?L=a.size:(l=e.extend(!0,{},G,l=a.marker?a.marker:G),T=l.dataLabel.shape,L=U(j.data.text,e(F.svgObject).width(),Q),"none"!=T.toLowerCase()&&(L.height=L.height+Z.top+Z.bottom,L.width=L.width+Z.left+Z.right)),_e={midPoint:{midX:ye,midY:we},doughnutMidPoint:{dMidX:Se,dMidY:Ce},connector:{connectorX:Te,connectorY:Le}},fe={startX:ve,startY:xe},i._enableSmartLabels?(A=z.updateSmartLabelPosition(i,a,s,_e,Pe,fe,be,L,t,o),F.model.bounds[o].points[s]&&(d=F.model.bounds[o].points[s].overlap),O={positionX:ne=A.positionX,positionY:le=A.positionY,isInterSected:A.isInterSected},k=F.model._isPieOfPie||d?"":A.connectorDirection):(ne=(A=z.updateLabelPosition(i,a,s,_e,Pe,fe,be,L,t,o)).positionX,le=A.positionY,k=A.connectorDirection)}var De,Ae="inside"!=X&&"insidenooverlap"!=X||("pyramid"==B||"funnel"==B)&&"outside"==X?ne<H.circleCenterX[re]?"end":"start":"middle",Oe="inside"==X||"insidenooverlap"==X?0:ne<H.circleCenterX[re]?-D.width:D.width;if(me=0,ge=0,("pie"==B||"doughnut"==B||"pieofpie"==B)&&"inside"==X&&(Ae=""!=k?ne<H.circleCenterX[re]?"end":"start":"middle"),("pyramid"==B||"funnel"==B)&&"outside"==X&&(Ae="start"),pe=""===F.model.title.subTitle.text?0:ue.height,this.chartObj&&H.enableCanvasRendering&&("pyramid"==B||"funnel"==B)&&(me=("left"===te?ie.Width:0)+$+H.margin.left,ge=("top"===te?ie.Height:0)+(W.text?H._titleLocation.Y+ce.height+pe:H.margin.top+$)),De=this.textOption(i,F,D,me,ge,s=F.model._isPieOfPie?a.actualIndex:s,Ae,ne,le,o,a),V="array"==jQuery.type(H.pointColors[a.actualIndex])?H.pointColors[a.actualIndex][0].color:H.pointColors[a.actualIndex],V=a.fill?"array"==jQuery.type(a.fill)?a.fill[0].color:a.fill:V,q.template)n=Y(n)?{X:ne,Y:le}:n,z.drawLabelTemplate(i,a,a.actualIndex,n,t),"bezier"==J&&""!=A.bezierPath&&t.svgRenderer.drawPolyline(A.bezierPath,t.gConnectorEle[o]);else{if(e.each(H.symbolShape,(function(t){l=e.extend(!0,{},G,l=a.marker?a.marker:G),(T=l.dataLabel.shape).toLowerCase()==t.toLowerCase()&&(E=t)})),ne=me+ne-Z.left/2+Z.right/2+Oe/2,le=ge+le-Z.top/2+Z.bottom/2,("pyramid"==B||"funnel"==B)&&(a.xPos=O.positionX+me,a.yPos=O.positionY+ge,a.width="None"==E?D.width:R,a.height="None"==E?D.height:M,a.symbolName=q.template?"none":E,a.textOptionsacc=De,a.drawTextacc=j.data.text),H.enableCanvasRendering&&De.degree%360!=0&&(De.y-=D.height/4,De.baseline="middle"),he&&!i._enableSmartLabels&&(De.fill=this._applySaturation(F,N="inside"!=X?"transparent"===de?"white":de:V)),i._enableSmartLabels){var Ie,Re,Me=H.m_AreaBounds.Width+H.m_AreaBounds.X+H.margin.left,Ee=X,Ve=H.enableCanvasRendering,Ne="string"==typeof j.data.text?j.data.text:j.data.text.toString(),Fe=U(Ne,Ne.length,Q).width,Be=0,ze=0;ee.visible?("left"==te||"right"==te)&&(Ie=ie):Ie={Width:0},"pie"==B||"doughnut"==B||"pieofpie"==B?(("outside"==Ee||"outsideextended"==Ee||""!=k)&&(Ne=this.trimfunction(Ne,Re=H.circleCenterX[re]<De.x?Me-De.x+("right"==te?H.margin.right+H.elementSpacing:H.margin.left):"left"==te?De.x-H.margin.left-Ie.Width:De.x+H.margin.left,Fe,"...",Me,Q),ee.visible&&("top"==te||"bottom"==te)&&(Ne=this._overlapLegend(De,Ne,t,o))),"inside"==Ee&&""==k&&(""!=(Ne=this.labelTrim(F,De,Fe,Ne,ve,xe,a,Q,o,r))||F.model._isPieOfPie||(a.smartLabelPosition="outside",O={positionX:(A=z.updateSmartLabelPosition(i,a,s,_e,Pe,fe,be,L,t,o)).positionX,positionY:A.positionY,isInterSected:A.isInterSected},Ne=j.data.text,k=A.connectorDirection,De=this.textOption(i,F,D,me,ge,s,Ae=H.circleCenterX[re]<A.positionX?"start":"end",A.positionX,A.positionY,o,a),Ne=this.trimfunction(Ne,Re=H.circleCenterX[re]<A.positionX?"right"==te?Me-De.x-Ie:Me-De.x:"left"==te?De.x-Ie:De.x,Fe,"...",Me,Q),delete a.smartLabelPosition))):("pyramid"==B||"funnel"==B)&&(ne=(A=z.updateSmartLabel(t,i,s,a)).xPos,le=A.yPos,De=A.textOptionsacc,Ne=a.drawTextacc,(""!=(k=A.connectorDirection)||"bezier"==J)&&""!=Ne&&(Ne=Ne.toString(),(Re=Ve?Me-De.x:Me-De.x-F.pyrX)<Fe&&(Ne=this.trimfunction(Ne,Re,Fe,"...",Me,Q)))),h=U(Ne,null,Q),"pie"==B||"doughnut"==B||"pieofpie"==B?Oe="inside"!=X&&"insidenooverlap"!=X||O.isInterSected||""!=k?ne<H.circleCenterX[re]?-h.width:h.width:0:("pyramid"==B||"funnel"==B)&&(Oe="insidenooverlap"==a._labelPlacement?0:h.width),"pie"==B||"doughnut"==B||"pieofpie"==B?(ne=me+O.positionX-Z.left/2+Z.right/2+Oe/2,le=ge+O.positionY-Z.top/2+Z.bottom/2):(ne=ne-Z.left/2+Z.right/2+Oe/2,le=le-Z.top/2+Z.bottom/2),c=e("#"+F.svgObject.id+"_dataLabel_series"+o+"_point_"+s),u=e("#"+F.svgObject.id+"_connectorLine_series"+o+"_point_"+s),""!==Ne?(c.show(),u.show(),he&&(N="inside"!=Ee||""!=A.connectorDirection&&!ej.util.isNullOrUndefined(A.connectorDirection)||""!=A.bezierPath&&!ej.util.isNullOrUndefined(A.bezierPath)?"transparent"===de?"white":de:V,De.fill=this._applySaturation(F,N)),ae||d||z.dataLabelSymbol(o,i,s,ne,le,R,M,E,F),"bezier"!=J||""==A.bezierPath||ej.util.isNullOrUndefined(A.bezierPath)||t.svgRenderer.drawPolyline(A.bezierPath,t.gConnectorEle[o])):(c.hide(),u.hide(),k=""),ae||d||F.svgRenderer.drawText(De,Ne,F.gSeriesTextEle[o]),p=U(Ne,Ne.length,Q),U(j.data.text,null,Q),("pie"==B||"doughnut"==B||"pieofpie"==B)&&("inside"==Ee&&""==A.connectorDirection?(m=De.x-h.width/2,_=De.x+h.width/2,g=De.y-h.height/2,f=De.y+h.height/2):(H.circleCenterX[re]<De.x?(m=De.x,_=De.x+h.width):(m=De.x-h.width,_=De.x),g=De.y-h.height/2,f=De.y+h.height/3),_e={centerX:H.circleCenterX[re],minX:m,minY:g,maxX:_,maxY:f,width:p.width,height:p.height,labelPosition:Ee}),("funnel"==B||"pyramid"==B)&&(Be="left"==te?Be:0,ze=0,(""!=k||"bezier"==J)&&(m=De.x-Be,_=De.x+h.width-Be,g=De.y-h.height,f=De.y),_e=Ve?{minX:m+Be,maxX:_+Be,minY:g+ze,maxY:f+ze,width:p.width,height:p.height,labelPosition:Ee}:{minX:m+F.pyrX+Be,maxX:_+F.pyrX+Be,minY:g+F.pyrY+ze,maxY:f+F.pyrY+ze,width:p.width,height:p.height,labelPosition:Ee}),I={bounds:_e,trimmedText:Ne,text:j.data.text,type:B,font:Q},F.accDataLabelRegion.type=B,F.accDataLabelRegion.connectorDirection=k,ej.util.isNullOrUndefined(F.accDataLabelRegion[re])&&(F.accDataLabelRegion[re]=[]),F.accDataLabelRegion[re].length<i._visiblePoints.length&&F.accDataLabelRegion[re].push(I),Y(a.index)||!i.explode||Ve||F.accDataLabelRegion[re].splice(a.index,1,I),1==r&&F.accDataLabelRegion[re].length==i._visiblePoints.length&&(F.accDataLabelRegion[o]=e.merge(e.merge([],F.accDataLabelRegion[0]),F.accDataLabelRegion[1]))}else ae||d||(z.dataLabelSymbol(o,i,a.index,ne,le,R,M,E,F),F.svgRenderer.drawText(De,j.data.text,F.gSeriesTextEle[o]));if(ae)if(b=U(oe,null,P),Ne=(v=this.updateWrappedText(De,oe,b,a,B,ve,xe,je,H.innerRadius[o],X,q,"bezier"==J?i._enableSmartLabels?Y(A.bezierPath)?"":A.bezierPath.points:A.points:k)).text,De.x=parseFloat(v.x),De.y=parseFloat(v.y),""==Ne||d||(x="start"==De["text-anchor"]?parseFloat(De.x+v.width/2):Y(k)||""==k?parseFloat(De.x):parseFloat(De.x-v.width/2),z.dataLabelSymbol(o,i,s,x,De.y+v.height/2-b.height/2-5,v.width,v.height,E,F)),Y(k)||""==k||(("funnel"==B||"pyramid"==B)&&(me=H.enableCanvasRendering?this.chartObj.pyrX:0,ge=H.enableCanvasRendering?this.chartObj.pyrY:0),(y=k.split(" "))[(w="outsideextended"!=X||"pie"!=B&&"doughnut"!=B?y.length:y.length-2)-1]=De.y-ge+(v.height/2-b.height),y[w-2]=De.x-me,k=y.toString().replace(/,/g," ")),k=0==v.exceed?"":k,!H.enableCanvasRendering&&!this.chartObj.vmlRendering||"object"!=typeof Ne||d)d||F.svgRenderer.drawText(De,Ne,F.gSeriesTextEle[o]);else for(var Ye=0,Xe=De.y,He=De.x;Ye<Ne.length;Ye++)De.y=parseFloat(Xe)+Ye*D.height,De.x=He,F.svgRenderer.drawText(De,Ne[Ye],F.gSeriesTextEle[o])}("pyramid"==B||"funnel"==B)&&q.template&&i._enableSmartLabels&&(ne=(A=z.updateSmartLabel(t,i,s,a)).xPos,le=A.yPos,k=A.connectorDirection),(S=[])[0]=me,S[1]=ge,("bezier"!=J||F.vmlRendering||"pyramid"==B||"funnel"==B)&&""!=k&&k&&F.svgRenderer.drawPath({id:F.svgObject.id+"_connectorLine_series"+o+"_point_"+s,stroke:K.color?K.color:V,"stroke-width":K.width,d:k},F.gConnectorEle[o],S)}},_overlapLegend:function(t,i,s,a){var o=e(s.svgObject).height(),r=e(s.svgObject).width(),n=s.model.LegendActualBounds,l=s.model.elementSpacing,d=s.model.series[a].marker.dataLabel.margin,h=s.model.series[a].marker.dataLabel.shape,c="none"!=h?d.top:0,u="none"!=h?d.bottom:0,p=ej.EjSvgRender.utils._measureText(t).height,m=t.y+p+u,g=t.y-c,_=s.model.legend.position.toLowerCase(),f=s.model.title.subTitle,b=(d=s.model.margin,s.model.border.width),v=""==f.text?0:ej.EjSvgRender.utils._measureText(f.text,r-d.left-d.right,f.font).height+l,x=s.model._titleLocation?s.model._titleLocation.Y:0+v,y=i;return y="bottom"==_?m>o-s.model.LegendActualBounds.Height-l?"":y:g<(0==x?b+l:x+l)+n.Height?"":y,m>o&&(y=""),y},updateWrappedText:function(t,i,s,a,o,r,n,l,d,h,c,u){var p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j=this.chartObj,D=a,A={},O=s.width,I=s.height,R=t.x,M=!0,E=j.model.m_AreaBounds.X,V=t.y;if(ej.util.isNullOrUndefined(u)||""==u||("object"==typeof u?(w=u.X,S=u.Y):(x=u.split(" "))[(y="outsideextended"==h||"bezier"==c.connectorLine.type.toLowerCase()?x.length-2:x.length)-1].indexOf(",")>-1?(w=(C=x[y].split(","))[0],S=C[1]):(w=x[y-2],S=x[y-1])),"pie"==o||"doughnut"==o)if("inside"==h){d=ej.util.isNullOrUndefined(d)?0:d;var N=-.5*Math.PI,F=D.startAngle+N,B=D.endAngle+N,z=D.midAngle+N,Y=180/Math.PI*z%360,X=(Math,Math,"doughnut"==o?.75:.5);R=this.getXCordinate(r,l*X,z),V=this.getYCordinate(n,l*X,z);var H=this.getXCordinate(r,l,F),W=this.getYCordinate(n,l,F),U=this.getXCordinate(r,l,B),$=this.getYCordinate(n,l,B),G=this.getXCordinate(r,l,z),q=this.getYCordinate(n,l,z),Z=this.getXCordinate(r,d,z),Q=this.getYCordinate(n,d,z),K=this.getSegementMinMax([H,U,"doughnut"==o?Z:r,G],[W,$,"doughnut"==o?Q:n,q]);K.width=K.height>l?K.height:K.width,v=.75*K.width}else"outside"!=h&&"outsideextended"!=h||"pie"!=o&&"doughnut"!=o||""==u||(v=w<=r?w-E:j.svgWidth-E-w,R=w,V=S);else if(T=j.svgWidth,"outside"==h)v=T-w;else if(v=D.width,!j.isPointInPolygon(D.Polygon,{x:R+O,y:V})){v="funnel"==o?D.Polygon[3].x-D.Polygon[4].x:D.Polygon[1].x-D.Polygon[0].x,b=D.Polygon[3].y-D.Polygon[0].y;var J=Math.round(O/v)*I;(M=J>=b-10||v<=50)?v=T-R-E:(t["text-anchor"]="middle",R=("funnel"==o?D.Polygon[4].x:D.Polygon[0].x)+v/2+(j.model.enableCanvasRendering?j.pyrX:0),V=(D.Polygon[0].y+D.Polygon[3].y)/2-J/2+(j.model.enableCanvasRendering?j.pyrY:0),D._labelPlacement="insidenooverlap")}if("inside"!=h&&""==u&&ej.util.isNullOrUndefined(u))_="";else{for(p=null!=c.maximumLabelWidth?c.maximumLabelWidth:parseFloat(v),m=j._rowsCalculation({text:(_=i).toString(),font:c.font},p,void 0),f=e.extend([],_=m.textCollection),L=0;L<f.length-1;L++)f[L+1]=f[L].concat("<br/>",f[L+1]);f=f[f.length-1]}return(k=ej.EjSvgRender.utils._measureText(f,v,c.font)).height+=I/2,("pie"==o||"doughnut"==o)&&"inside"==h&&(V=V-k.height/2+I/2,_=k.height>K.height?"":_,""==(_=k.width>K.width?"":_)&&(k.width=0,k.height=0)),A="undefined"==this.currentBoundary?"undefined":this.currentBoundary,this.currentBoundary={X:R-k.width/2,Y:parseFloat(V),Height:k.height,Width:k.width},A&&"insidenooverlap"!=D._labelPlacement?(P=this.checkOverlapping(j,this.currentBoundary,A,o,_,g,Y,h,{startAngle:F,endAngle:B,radius:l,centerX:r,centerY:n}))[1]&&""!=P[2]?(R=(A=P[0]).X+A.Width/2,V=A.Y,_=P[2],k.height=P[0].Height,k.width=P[0].Width):_=P[2]:g=this.currentBoundary,M=""!=_&&M,this.currentBoundary=""==_?A:this.currentBoundary,{text:_,x:R,y:V,exceed:M,height:k.height,width:k.width}},checkOverlapping:function(e,t,i,s,a,o,r,n,l){var d,h,c,u=!1;return h=(d=this.getOverlapArea(t,i)).xOverlap,c=d.yOverlap,(u=d.overlap)&&("pie"==s||"doughnut"==s?"inside"==n.toLowerCase()?"X"==(h>=c?"Y":"X")?t.X+=(r>0&&r<180?-1:1)*(h+10):t.Y+=(r>90&&r<270?-1:1)*(c+10):t.Y-=c+10:t.Y="funnel"==s?i.Y-t.Height-10:i.Y+i.Height+10),"pie"!=s&&"doughnut"!=s&&"pieofpie"!=s||"inside"!=n.toLowerCase()?"funnel"==s?t.Y+t.Height>=i.Y&&(a=""):"pyramid"==s&&t.Y+t.Height<=i.Y+i.Height&&(a=""):(a=1==(d=this.getOverlapArea(t,o)).overlap?"":a,u=1==d.overlap||u,a=this.checkSegmentExceeding(t,l)?a:""),[{X:t.X,Y:t.Y,Height:t.Height,Width:t.Width},u,a]},getOverlapArea:function(e,t){var i=Math.max(0,Math.min(e.X+e.Width,t.X+t.Width)-Math.max(e.X,t.X)),s=Math.max(0,Math.min(e.Y+e.Height,t.Y+t.Height)-Math.max(e.Y,t.Y));return{overlap:i*s>0,xOverlap:i,yOverlap:s}},getSegementMinMax:function(e,t){var i,s,a,o;return e.sort((function(e,t){return e-t})),t.sort((function(e,t){return e-t})),{minX:i=e[0],maxX:s=e[3],minY:a=t[0],maxY:o=t[3],width:s-i,height:o-a}},checkSegmentExceeding:function(e,t){var i,s=!1,a=e.X+e.Width/2-t.centerX,o=e.Y+e.Height/2-t.centerY,r=Math.atan2(o,a);return Math.abs(Math.sqrt(a*a+o*o))<=t.radius&&(i=2*Math.PI,r=r<0?i+r:r,t.startAngle=t.startAngle<0?i+t.startAngle:t.startAngle,t.endAngle=t.endAngle<0?i+t.endAngle:t.endAngle,(r<=t.endAngle&&r>=t.startAngle||r<=i&&r>=t.startAngle&&t.endAngle<t.startAngle||r>0&&r<=t.endAngle&&t.startAngle>t.endAngle)&&(s=!0)),s},drawBezierSegment:function(e,t,i,s,a){for(var o,r,n=ej.EjSvgRender.utils._getStringBuilder(),l=new(ej.seriesTypes[t.type.toLowerCase()]),d=0;d<=16;d++)o=l.GetBezierPoint(d/16,e,0,e.length,t),n.append(o.X+","+o.Y+" ");if(r={id:s.svgObject.id+"_bezierLine_series"+a+"_point"+i,stroke:t.marker.dataLabel.connectorLine.color?t.marker.dataLabel.connectorLine.color:s.model.pointColors[i],"stroke-width":t.marker.dataLabel.connectorLine.width,fill:"none",points:n.toString()},t._enableSmartLabels)return r;s.svgRenderer.drawPolyline(r,s.gConnectorEle)},GetBezierPoint:function(e,t,i,s,a){var o=new(ej.seriesTypes[a.type.toLowerCase()]);if(1==s)return t[i];var r=o.GetBezierPoint(e,t,i,s-1,a),n=o.GetBezierPoint(e,t,i+1,s-1,a),l=(1-e)*(r.X?r.X:r.x)+e*(n.X?n.X:n.x),d=(1-e)*(r.Y?r.Y:r.y)+e*(n.Y?n.Y:n.y);return r.x?{x:l,y:d}:{X:l,Y:d}},drawLabelTemplate:function(t,i,s,a,o){var r,n,l,d,h,c,u,p,m,g,_,f;o&&(this.chartObj=o);var b,v,x,y=this.chartObj.model.m_AreaBounds.X,w=this.chartObj.model.m_AreaBounds.Y,S=this.chartObj.model.m_AreaBounds.Width,C=this.chartObj.model.m_AreaBounds.Height,T=e.inArray(t,this.chartObj.model._visibleSeries),L=this.chartObj.model.AreaType,k=this.chartObj.model.series[T],P=0,j=0,D=this.chartObj._id,A=e.extend(!0,{},t.marker,i.marker),O={interior:A.dataLabel.fill,opacity:A.dataLabel.opacity,borderColor:A.dataLabel.border.color,borderWidth:A.dataLabel.border.width};if("none"!=L||this.chartObj.model.enable3D){if((r=0!=e("#template_group_"+D).length?e("#template_group_"+D):e("<div></div>").attr("id","template_group_"+D)).css("position","relative").css("z-index",1e3),0==e("#"+A.dataLabel.template).length)return;n=e("#"+A.dataLabel.template).clone(),e(n).attr("id",A.dataLabel.template+"_"+T+"_"+s+"_"+D),(l=e(n)).css("position","absolute"),d=i.x,i.dataLabeltemplate=!0,i.id=A.dataLabel.template+"_"+T+"_"+s+"_"+D,t.xAxis._valueType.indexOf("datetime")>-1&&(i.x=ej.format(new Date(i.xValue),ej.util.isNullOrUndefined(t.xAxis.labelFormat)?"datetime"==t.xAxis._valueType?ej.EjSvgRender.utils._dateTimeLabelFormat(t.xAxis._intervalType,t.xAxis):ej.EjSvgRender.utils._dateTimeLabelFormat(t.xAxis.intervalType,t.xAxis):t.xAxis.labelFormat,this.chartObj.model.locale)),"category"==t.xAxis._valueType.toLowerCase()&&(i.x=ej.EjSvgRender.utils._getLabelContent(s,t.xAxis,this.chartObj.model.locale)),i.count=1,h={series:t,point:i},l.html(l.html().parseTemplate(h)),i.x=d,c="cartesianaxes"!=L&&t.enableAnimation&&"pyramid"!=t.type.toLowerCase()&&"funnel"!=t.type.toLowerCase()?"none":"block",l.css("display",c).appendTo(e(r)),e(r).appendTo("#chartContainer_"+D),u=this.chartObj.model.m_AreaBounds,"cartesianaxes"!=L||this.chartObj.model.enable3D||(P=u.X+(this.chartObj.model.requireInvertedAxes?k.yAxis.plotOffset:k.xAxis.plotOffset),j=k.yAxis.y),v=l.width()/2,x=l.height(),b=ej.util.isNullOrUndefined(O)&&O.interior?O.interior:"none"==L?this.chartObj.model.pointColors[s]:this.chartObj.model.seriesColors[T]}else b=ej.util.isNullOrUndefined(O)&&O.interior?O.interior:this.chartObj.model.pointColors[s],v=this.chartObj.model.circleCenterX[T]>a.X?i.size.width:0,l=e("#template_group_"+D).find("#"+A.dataLabel.template+"_"+T+"_"+s+"_"+D),i.id=A.dataLabel.template+"_"+T+"_"+s+"_"+D,x=this.chartObj.model.enable3D?0:i.size.height/2;if(("hilo"==k.type||"hiloopenclose"==k.type||"candle"==k.type)&&(b=k._visiblePoints[s]._hiloFill),b="array"==jQuery.type(b)?b[0].color:b,-1!=k.type.indexOf("bar"))var I=a.X+P-v,R=a.Y+(this.chartObj.model.enable3D?0:u.Y)-x+k.xAxis.plotOffset,M=a.X+P+v;else I=a.X+P-v,R=j+a.Y-x,M=a.X+P+v;p=l[0].style.backgroundColor,l.css("left",I).css("top",R).css("background-color",""!=p?p:b).css("display","block").css("cursor","default"),"cartesianaxes"!=this.chartObj.model.AreaType?(i.xPos=I-this.chartObj.pyrX,i.yPos=R-this.chartObj.pyrY,i.textOptionsacc={x:I-this.chartObj.pyrX,y:R-this.chartObj.pyrY}):i.y==i.low?(i.xPosLow=I,i.yPosLow=R,i.textOptionsLow={x:I,y:R},i.dataLabelLow={textX:I,textY:R,x:I,y:R}):(i.xPos=I,i.yPos=R,i.seriesIndex=T,i.textOptions={x:I,y:R},i.dataLabel={textX:I,textY:R,x:I,y:R},i.margin={top:0,bottom:0,left:0,right:0}),i.height=l.outerHeight(),i.width=l.outerWidth(),m=g=_=0,f=0,"cartesianaxes"==L&&(I>P+u.Width||R+x>u.Y+u.Height||I<P||R<j||I>P+u.Width||R>j+u.Height||M>u.Width+u.X)&&(I<y&&(g=y-I),C+w<R+x&&(f=x-(R+x-(C+w))),R<w&&(m=w-R),S+y<I+(v=l.outerWidth())&&(_=v-(I+v-(S+y))),_=0==_?v:_,f=0==f?x:f,k.marker.dataLabel.showEdgeLabels||(document.getElementById(l[0].id).style.clip="rect("+m+"px,"+_+"px,"+f+"px,"+g+"px)"))},animateLabelTemplate:function(t){for(var i,s=e.inArray(t,this.chartObj.model._visibleSeries),a=t._visiblePoints.length,o=0;o<a;o++)(i=e("#"+(i=t.marker.dataLabel.template+"_"+s+"_"+o+"_"+this.chartObj._id))).css("display","none"),i.delay(1e3).fadeIn(300)},textPosition:function(t,i,s,a,o,r,n,l,d,h,c){var u,p,m,g,_,f=e.extend(!0,{},t.marker,s.marker).dataLabel,b=f.isReversed,v=f.horizontalTextAlignment.toLowerCase(),x=f.verticalTextAlignment.toLowerCase(),y=l,w=10,S=f.margin,C=t.yAxis.isInversed,T=this.chartObj._getXCrossValue(t,t.xAxis,h),L=-1!=o.indexOf("bar")||-1!=o.indexOf("column")&&"rangecolumn"!=o?this.chartObj.model.requireInvertedAxes?"bar":"column":o;if("column"==L||"stackingcolumn"==L||"stackingcolumn100"==L)P=(A=this.chartObj.model.chartRegions[y].Region.Bounds).Height,k=A.Width,h.axes[t.xAxis.name]._validCross?(u=Math.abs((C?t.yAxis.visibleRange.min:t.yAxis.visibleRange.max)-T)/t.yAxis.visibleRange.delta*t.yAxis.height,"bottom"==c?n=n<=u?n+P-S.bottom:n-P+a.height-S.bottom:"middle"==c?n<u?n+=P/2+a.height/4:n-=P/2:n<u&&C||n<u&&!C?n-=w+a.height/1:n+=w+a.height/1):"bottom"==c?n=s.y>=T&&!t.yAxis.isInversed||s.y<T&&t.yAxis.isInversed?n+P-S.bottom:a.height+S.bottom:"middle"==c?s.y>T&&!t.yAxis.isInversed||s.y<T&&t.yAxis.isInversed?n+=P/2+a.height/4:n-=P/2:s.y>T&&t.yAxis.isInversed||s.y<T&&!t.yAxis.isInversed?n+=w:n=(n-=w)<0?this.chartObj.model.m_AreaBounds.Y+3:n,v&&"far"==v?r=b?r-k/2:r+k/2:v&&"near"==v&&(r=b?r+k/2:r-k/2),x&&"near"==x?n+="bottom"==c?w:7:x&&"far"==x&&(n-=w);else if(-1!=L.indexOf("bar")){var k=(A=this.chartObj.model.chartRegions[y].Region.Bounds).Width,P=A.Height;if(n+=a.height/4,h.axes[t.xAxis.name]._validCross?(u=Math.abs(C?t.yAxis.visibleRange.max:t.yAxis.visibleRange.min-(t.xAxis._crossValue||0))/t.yAxis.visibleRange.delta*t.yAxis.width,"bottom"==c?r=r<u&&!C||r>=u&&C?r+k-a.width:r-k+S.left:"middle"==c?r=r<u&&!C||r>=u&&C?r+k/2-a.width/2:r-k/2-a.width/2:r<u&&!C||r>=u&&C?r-=w+a.width/1:r+=w+a.width/1):"bottom"==c?s.y>=0&&!t.yAxis.isInversed||s.y<0&&t.yAxis.isInversed?r=-1==L.indexOf("stacking")&&i>0?r-k+a.width/2:S.left+a.width/4:r+=k-a.height-S.right:"middle"==c?s.y>0&&!t.yAxis.isInversed||s.y<0&&t.yAxis.isInversed?r-=k/2+a.width/2:r+=k/2:s.y>=0&&!t.yAxis.isInversed||s.y<0&&t.yAxis.isInversed?r+=a.width/4+w:r-=a.width/4+w,v&&"far"==v)r+="bottom"==c?a.width-a.width/4:a.width/4+w;else if(v&&"near"==v)r-="bottom"==c?a.width/4:w-a.width/4-3;else{var j=this.chartObj.model.m_AreaBounds.Width+this.chartObj.model.m_AreaBounds.X,D=A.X+A.Width;(r+=a.width/4)+a.width>j&&(r=(I=j-D>a.width?j:D)-a.width-10,s.isCrop=!0)}x&&"near"==x?n+=P/2:x&&"far"==x&&(n-=P/2)}else if("rangecolumn"==L){var A=this.chartObj.model.chartRegions[y].Region.Bounds,O=0,I=0;s.high!=s.y&&(O=A.Height,I=A.Width),this.chartObj.model.requireInvertedAxes?"top"==c?r=r-I+(w+a.width/1):"bottom"==c?r=r-I-(2*a.width+w):"middle"==c&&(r-=I):"top"==c?n+=O-w:"bottom"==c?n=n+O+(2*a.height+w):"middle"==c&&(n+=O),v&&"far"==v.toLowerCase()?r+=A.Width/2:v&&"near"==v.toLowerCase()&&(r-=A.Width/2),x&&"near"==x.toLowerCase()?n+=7:x&&"far"==x.toLowerCase()&&(n-=w)}else if("boxandwhisker"==L)A=this.chartObj.model.chartRegions[y].Region.Bounds,O=0,I=0,this.chartObj.model.requireInvertedAxes?"top"==c?r=r-I+(w+a.width/1):"bottom"==c?r=r-I-(2*a.width+w):"middle"==c&&(r-=I):"top"==c?n+=O-3:"bottom"==c?n+=O+w+a.width/2:"middle"==c&&(n+=O+w),v&&"far"==v.toLowerCase()?r+=2*a.width:v&&"near"==v.toLowerCase()&&(r-=2*a.width),x&&"near"==x.toLowerCase()?n="top"==c?n+w:n-w:x&&"far"==x.toLowerCase()&&(n="top"==c?n-w:n+w);else if("waterfall"==o){P=(A=this.chartObj.model.chartRegions[y].Region.Bounds).Height,k=A.Width;var R=s.waterfallSum<0||!s.showIntermediateSum&&!s.showTotalSum&&s.y<0;switch(c){case"bottom":t.isTransposed?r=t.yAxis.isInversed?r+k-(w+a.height/1)-(R?k:0):r-k+(w+a.height/1)+(R?k:0):n=t.yAxis.isInversed?n-a.height+S.bottom+(R?P:0):n+P-S.bottom-(R?P:0);break;case"middle":t.isTransposed?r=t.yAxis.isInversed?r+k/2-(R?k:0):r-(k/2+a.width/4)+(R?k:0):n=t.yAxis.isInversed?n-P/2+(R?P:0):n+(P/2+a.height/4)-(R?P:0);break;default:t.isTransposed?r=t.yAxis.isInversed?r-(w+a.height/1)-(R?k:0):r+(w+a.height/1)+(R?k:0):n=t.yAxis.isInversed?n+(w+a.height/1)+(R?P:0):n-(w+a.height/1)-(R?P:0)}v&&"far"==v?r+=k/2:v&&"near"==v&&(r-=k/2),x&&"near"==x?n+="bottom"==c?a.height/3:a.height+w:x&&"far"==x&&(n-="bottom"==c?a.height/3:w+a.height/2)}else if("polar"==o||"radar"==o)n+=a.height/4,"bottom"==c?n+=a.height:"top"==c&&(n-=a.height),v&&"far"==v?r+=a.width:v&&"near"==v&&(r-=a.width),x&&"near"==x?n+=a.height/2:x&&"far"==x&&(n-=a.height/2);else{if(("rangearea"==L||"splinerangearea"==L)&&s.high!=s.y)if(1==this.chartObj.model.series.length)n=this.chartObj.model.chartRegions[i][d].region[(_=this.chartObj.model.chartRegions[i][d].region.length)-1].Y,r=this.chartObj.model.chartRegions[i][d].region[_-1].X;else{for(p=0,m=0;m<i;m++)p="rangearea"!=(g=this.chartObj.model.series[m].type)&&"splinerangearea"!=g?p+this.chartObj.model.series[m].points.length:p+1,"hidden"==this.chartObj.model.series[m].visibility&&(p=0);n=this.chartObj.model.chartRegions[p][d].region[(_=this.chartObj.model.chartRegions[p][d].region.length)-1].Y,r=this.chartObj.model.chartRegions[p][d].region[_-1].X}this.chartObj.model.requireInvertedAxes?"top"==c?r+=w:"bottom"==c&&(r-=w+a.width/1):"bottom"==c?n+=f.showEdgeLabels?2*a.height-w:2*a.height+w:"top"==c&&(n-=w),v&&"far"==v?r+=a.width+w:v&&"near"==v&&(r-=a.width+w),x&&"near"==x?n+=7:x&&"far"==x?n-=w:("bubble"==o||"scatter"==o)&&"middle"==c&&(n+=a.height/4)}return{x:r,y:n}},changeCrossHairSymbol:function(t,i,s,a,o){var r,n,l,d,h=o.drawType;return ej.util.isNullOrUndefined(i)||(r={},t=e.extend(!0,{},o.marker,t),r=e.extend(!0,{},this.chartObj.model.crosshair.marker,r),n=o.points[s],l=o.type.toLowerCase(),ej.util.isNullOrUndefined(r.shape)&&(r.shape=t.shape,"bubble"==l&&(r.border.color=n.border&&n.border.color?n.border.color:o.border.color,r.border.width=n.border&&n.border.width?n.border.width:o.border.width)),(!this.chartObj.model.crosshair.visible||ej.util.isNullOrUndefined(r.fill))&&"bubble"!=o.type.toLowerCase()&&"scatter"!=o.type.toLowerCase()&&"scatter"!=h&&(r.fill="cross"==r.shape.toLowerCase()||"horizline"==r.shape.toLowerCase()||"vertline"==r.shape.toLowerCase()?"array"==jQuery.type(this.chartObj.model.seriesColors[a])?this.chartObj.model.seriesColors[a][0].color:this.chartObj.model.seriesColors[a]:t.border.color),"bubble"!=o.type.toLowerCase()||this.chartObj.model.enableCanvasRendering?(r.size.width<=t.size.width&&(r.size.width=t.size.width+2),r.size.height<=t.size.height&&(r.size.height=t.size.height+2),(ej.util.isNullOrUndefined(r.border.color)||!this.chartObj.model.crosshair.visible)&&(ej.util.isNullOrUndefined(t.fill)?"scatter"==l?(r.border.color=n.border&&n.border.color?n.border.color:o.border.color,r.border.width=n.border&&n.border.width?n.border.width:o.border.width):r.border.color=n.fill?n.fill:"array"==jQuery.type(this.chartObj.model.seriesColors[a])?this.chartObj.model.seriesColors[a][0].color:this.chartObj.model.seriesColors[a]:r.border.color="array"==jQuery.type(t.fill)?t.fill._gradientStop[0].color:t.fill)):(d=e(this.chartObj.gSeriesEle).find("#"+this.chartObj.svgObject.id+"_Series"+a+"_Point"+s)[0].getBoundingClientRect(),r.size.width=(d.right-d.left)/2+15,r.size.height=(d.bottom-d.top)/2+15)),o._trackMarker=r,r},dataLabelSymbol:function(t,i,s,a,o,r,n,l,d,h){var c,u,p,m=d;if("None"!=l){c=m.model._isPieOfPie?ej.ejChart._getPieOfPiePoint(s,i):i._visiblePoints[s],u={startX:a,startY:o},d.model.enable3D||(p=h||m.gDataLabelEle[t]),p=m.model.enableCanvasRendering?null:p;var g=e.extend(!0,{},i.marker,c.marker);this.drawSymbolStyle({style:{interior:g.dataLabel.fill,opacity:g.dataLabel.opacity,borderColor:g.dataLabel.border.color,borderWidth:g.dataLabel.border.width},gradientName:"symbol",symbolEle:p,width:r,height:n,point:c,location:u,seriesIndex:t,pointIndex:s,element:g,symbolName:l,id:m.svgObject.id+"_dataLabel_series"+t+"_"+s},m)}},drawSymbolStyle:function(t,i){var s,a,o,r,n,l,d,h,c=i,u=t.style,p=t.gradientName,m=t.symbolEle,g=t.width,_=t.height,f=t.point,b=t.location,v=t.seriesIndex,x=t.visibility,y=t.pointIndex,w=t.element,S=t.symbolName,C=t.trackSymbol,T=c.model.enableCanvasRendering,L="polaraxes"==c.model.AreaType,k=c.model.series[v];if(null!=u&&(""!=u.borderColor&&(s=u.borderColor?u.borderColor:"transparent"),o=u.opacity,a=u.borderWidth<0?0:u.borderWidth),r=null,u.interior?r=ej.util.isNullOrUndefined(u.interior._gradientStop)?u.interior:u.interior._gradientStop:f.fill?r="array"==jQuery.type(f.fill)?f.fill[0].color:f.fill:(n=c.model.pointColors,r="none"!=c.model.AreaType?"waterfall"==k.type.toLowerCase()&&k.positiveFill&&(f.y>0||f.waterfallSum>0)?k.positiveFill:c.model.seriesColors[v]:"array"==jQuery.type(n[y])?n[y][0].color:n[y]),c.symbolColorName=c.svgRenderer.createGradientElement(p+v,r,0,0,0,e(c.svgObject).height(),m),l={dashArray:t.dashArray,ShapeSize:{width:g,height:_},Style:{BorderColor:s,BorderWidth:a,Opacity:o,Visibility:x,Color:c.symbolColorName},PointIndex:y,SeriesIndex:v,Imageurl:w.imageUrl,Image:w.image,ID:t.id},(d=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:b,style:l},c._trigger("symbolRendering",d),!d.cancel)if(T)b.startY=c.model.requireInvertedAxes?b.startY:b.startY+(k.yAxis.y?k.yAxis.y-c.canvasY:0),b.startX=c.model.requireInvertedAxes?b.startX:b.startX+(k.xAxis.x?k.xAxis.x-c.canvasX:0),d.data.location.startY=b.startY,ej.util.isNullOrUndefined(C)?"cartesianaxes"==c.model.AreaType?(m=c.svgRenderer.ctx,c.svgRenderer.ctx.save(),c.svgRenderer.ctx.beginPath(),c.model.requireInvertedAxes?c.svgRenderer.ctx.rect(k.yAxis.x,k.xAxis.y,k.yAxis.width,k.xAxis.height):c.svgRenderer.ctx.rect(k.xAxis.x,k.yAxis.y,k.xAxis.width,k.yAxis.height),c.svgRenderer.ctx.clip(),ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,d.data.style,c,m),c.svgRenderer.ctx.restore()):(T&&L&&(c.svgRenderer.ctx.save(),c.svgRenderer.ctx.beginPath(),c.svgRenderer.ctx.arc(c.model.centerX,c.model.centerY,c.model.Radius,0,2*Math.PI,!1),c.svgRenderer.ctx.clip()),ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,d.data.style,c,m),T&&L&&c.svgRenderer.ctx.restore()):(P=d.data.style.PointIndex,c.model.series[j=d.data.style.SeriesIndex].highlightSettings.enable||0==e("#"+c._id+"_selection_"+j+"_"+P+"_canvas").length&&c.svgRenderer.trackSymbol(d.data.style,d.data.location,S,C,c));else{var P=d.data.style.PointIndex,j=d.data.style.SeriesIndex,D=k.type;k.highlightSettings.enable&&C&&!c.model.crosshair.visible?((u=e.extend(!0,d.data.style)).Style.Color="none"==(h=k.highlightSettings).pattern.toLowerCase()||""==h.pattern?""!=h.color?h.color:u.Style.Color:"url(#"+h.pattern.toLowerCase()+"_Highlight_2D_"+j+")",u.Style.Opacity=h.opacity,u.Style.BorderColor=h.border.color,u.Style.BorderWidth=h.border.width,("bubble"==D?e("#"+this.chartObj.svgObject.id+"_Series"+j+"_Point"+P).attr("class"):e("#"+this.chartObj.svgObject.id+"_Series"+j+"_Point"+P+"_symbol").attr("class"))!="SelectionStyleseries"+j&&ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,u,c,c.model.enable3D?i.chart3D:m)):("scatter"==D?e("#"+c.svgObject.id+"_Series"+j+"_Point"+P+"_symbol").attr("class"):e("#"+c.svgObject.id+"_Series"+j+"_Point"+P).attr("class"))!="SelectionStyleseries"+j&&ej.EjSvgRender.chartSymbol["_draw"+S](d.data.location,d.data.style,c,c.model.enable3D?i.chart3D:m)}!i.chart3D&&"pieofpie"!=D&&"none"==c.model.AreaType&&e(m).children().not("defs").length>c.model._visibleSeries[v]._visiblePoints.length&&e(m.childNodes[t.pointIndex]).replaceWith(e(m.childNodes[e(m.childNodes).length-1]))},drawSymbol:function(t,i,s,a,o,r,n,l){var d,h,c,u,p,m,g;ej.util.isNullOrUndefined(this.chartObj)&&(this.chartObj=r);var _=i._visiblePoints[s],f=i.type.toLowerCase(),b="boxandwhisker"==f?l:s,v="bubble"==f||"scatter"==f?i.border.dashArray:"",x="None",y=this.changeCrossHairSymbol(_.marker?_.marker:i.marker,n,s,t,i);if(d="boxandwhisker"==f.toLowerCase()?y||e.extend(!0,{},i.outlierSettings,_.outlierSettings,i.border,_.border):y||e.extend(!0,{},i.marker,_.marker),e.each(this.chartObj.model.symbolShape,(function(e){d.shape.toLowerCase()==e.toLowerCase()&&(x=e)})),"None"!=x){h="cartesianaxes"==this.chartObj.model.AreaType?{startX:a+this.chartObj.canvasX,startY:o+this.chartObj.canvasY}:{startX:a,startY:o},"scatter"==f||"scatter"==i.drawType?u={interior:d.fill,opacity:d.opacity,borderColor:c=_.border&&_.border.color?_.border.color:i.border.color,borderWidth:_.border&&_.border.width?_.border.width:i.border.width}:"boxandwhisker"==f?(c=_.border&&_.border.color?"transparent"==_.border.color?this.chartObj._saturationColor(i.fill,-.6):_.border.color:"transparent"==i.border.color?this.chartObj._saturationColor(i.fill,-.6):i.border.color,u={interior:i.fill,opacity:i.opacity,borderColor:c,borderWidth:_.border&&_.border.width?_.border.width:i.border.width}):u={interior:d.fill,opacity:d.opacity,borderColor:d.border.color,borderWidth:d.border.width};var w=d.size.width,S=d.size.height,C={style:u,gradientName:n?"TrackSymbol":"symbol",symbolEle:n?this.chartObj.gTrackerEle:this.chartObj.gSymbolGroupEle[t],width:w,height:S,point:_,location:h,seriesIndex:t,pointIndex:s,element:d,visibility:_.visible?"visible":"hidden",symbolName:x,trackSymbol:n,id:n?this.chartObj.svgObject.id+"_trackSymbol_"+t+"_"+b:this.chartObj.svgObject.id+"_Series"+t+"_Point"+b+"_symbol",dashArray:v};this.chartObj.model.enableCanvasRendering||(p=this.chartObj.gSymbolGroupEle[t].childNodes[s]),ej.util.isNullOrUndefined(p)||"image"!=x.toLowerCase()?this.drawSymbolStyle(C,this.chartObj,n):(p.setAttribute("width",w),p.setAttribute("height",S)),"scatter"==i.type.toLowerCase()&&(m=i.xAxis.x,g=i.yAxis.y,this.chartObj.model.enableCanvasRendering&&(m=0,g=0),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:m+h.startX-S/2,Y:g+h.startY-w/2,Height:S,Width:w},i,null,s))}},chartAreaType:"cartesianAxes",requireInvertedAxes:!1,stackingSeries:!1,hiloTypes:!1},ej.ejLineSeries=t(ej.EjSeriesRender),ej.seriesTypes.line=ej.ejLineSeries,ej.ejStepLineSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s,a=this.chartObj=e;t._animationType="path";var o=ej.EjSvgRender.utils._getStringBuilder(),r=t,n=this.setLineSeriesStyle(r);r.sorting&&(r.points=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal());var l,d,h,c,u,p=t._visiblePoints=r.points.length>100||!r.enableSmartLabels?this.improveChartPerformance(r):this._isVisiblePoints(r),m=null,g="M",_=-1;for(s=0;s<p.length;s++)(l=p[s]).visible?(null!=m&&(p.length>_+1&&(d={xValue:p[_+1].xValue,YValues:[m.YValues[0]]},h=ej.EjSvgRender.utils._getPoint(m,r),c=ej.EjSvgRender.utils._getPoint(d,r),u=ej.EjSvgRender.utils._getPoint(p[_+1],r),o.append(g+" "+(h.X+(a=this.chartObj).canvasX)+" "+(h.Y+a.canvasY)+" L "+(c.X+a.canvasX)+" "+(c.Y+a.canvasY)+" L "+(u.X+a.canvasX)+" "+(u.Y+a.canvasY)+" ")),g="L"),m=l,_=s):(m=null,g="M");i=o.toString(),this._drawLinePath(r,n,i),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.ejStepAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){var s,a,o,r,n;this.chartObj=e,t._animationType="path";var l,d=this.chartObj.model.requireInvertedAxes,h=ej.EjSvgRender.utils._getStringBuilder(),c=t,u=this.setAreaSeriesStyle(c);c.sorting&&(c.points=ej.DataManager(c.points,ej.Query().sortBy("xValue")).executeLocal());var p,m=t._visiblePoints=c.points.length>100||!c.enableSmartLabels?this.improveChartPerformance(c):this._calculateVisiblePoints(c).visiblePoints,g=0,_=null;"category"==c.xAxis._valueType.toLowerCase()&&"onticks"!=c.xAxis.labelPlacement.toLowerCase()&&(g=.5);var f=ej.EjSeriesRender.prototype.getOrigin(this,c,i),b=null,v=!0,x=this.chartObj;for(s=0;s<=m.length;s++)s<m.length?m[s].visible?(p={xValue:m[s].xValue-g,YValues:[m[s].y]},n=ej.EjSvgRender.utils._getPoint(p,c),b||(b={xValue:m[s].xValue-g,YValues:[f]},a=ej.EjSvgRender.utils._getPoint(b,c),h.append("M "+(a.X+x.canvasX)+" "+(a.Y+x.canvasY)+" ")),null!=_&&(o=ej.EjSvgRender.utils._getPoint({xValue:p.xValue,YValues:[_.YValues[0]]},c),v&&(h.append("L "+(r.X+x.canvasX)+" "+(r.Y+x.canvasY)+" "),v=!1),h.append("L "+(o.X+x.canvasX)+" "+(o.Y+x.canvasY)+" L "+(n.X+x.canvasX)+" "+(n.Y+x.canvasY)+" "),(0==g&&s==m.length-1||s<m.length-1&&!m[s+1].visible)&&(g>0?(p={xValue:m[s].xValue+g,YValues:[m[s].y]},n=ej.EjSvgRender.utils._getPoint(p,c),h.append(d?"L "+(n.X+x.canvasX)+" "+(n.Y+x.canvasY)+" L "+(n.Y+x.canvasX)+" "+(a.X+x.canvasY)+" ":"L "+(n.X+x.canvasX)+" "+(n.Y+x.canvasY)+" L "+(n.X+x.canvasX)+" "+(a.Y+x.canvasY)+" ")):h.append(d?"L "+(a.X+x.canvasY)+" "+(n.Y+x.canvasX)+" ":"L "+(n.X+x.canvasX)+" "+(a.Y+x.canvasY)+" "),b=null,_=null,v=!0)),b&&(r=n,_=p)):(b=null,_=null,v=!0):m[s-1].visible&&g>0&&(p={xValue:m[s-1].xValue+g,YValues:[m[s-1].y]},n=ej.EjSvgRender.utils._getPoint(p,c),h.append(d?"L "+(n.X+x.canvasX)+" "+(n.Y+x.canvasY)+" L "+(n.Y+x.canvasX)+" "+(a.X+x.canvasY)+" ":"L "+(n.X+x.canvasX)+" "+(n.Y+x.canvasY)+" L "+(n.X+x.canvasX)+" "+(a.Y+x.canvasY)+" "));l=h.toString(),this.drawAreaPath(c,u,l),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.steparea=ej.ejStepAreaSeries,ej.seriesTypes.stepline=ej.ejStepLineSeries,ej.ejColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n,l,d,h,c,u;this.chartObj=t,a=this.chartObj.model.requireInvertedAxes,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var p=i,m=p.cornerRadius,g=e.inArray(p,this.chartObj.model._visibleSeries),_=ej.EjSeriesRender.prototype.getOrigin(this,p,s),f=this.getSideBySideInfo(p,s);p.dragSettings.enable&&(p.sidebysideInfo=f);var b=this._isVisiblePoints(p),v=ej.EjSvgRender.utils._getTransform(p.xAxis,p.yAxis,a);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+g,transform:"translate("+v.x+","+v.y+")"}),o=this,r=0;r<b.length;r++)if(n=r,d=(l=b[r]).YValues[0],h=_,l.visible){var x=o.calculateSides(l,f),y=x.x1,w=x.x2,S=this.chartObj.setStyle(o,p,g,n),C=o.getRectangle(y,d,w,h,p,t),T=Math.min(0,C.Width),L=Math.min(0,C.Height);(0==T||0==L)&&C.Width>0&&(i={id:o.chartObj.svgObject.id+"_Series"+g+"_Point"+n,x:C.X+o.chartObj.canvasX,y:C.Y+o.chartObj.canvasY,width:C.Width,height:C.Height,fill:S.interior,plot:d<0?"negative":"positive","stroke-width":S.borderWidth,opacity:S.opacity,stroke:S.borderColor,"stroke-dasharray":S.dashArray},"cylinder"==p.columnFacet?o.chartObj.svgRenderer.drawCylinder(i,o.gSeriesGroupEle,{isColumn:!0,stacking:!1,isLastSeries:!0}):"object"!=typeof m&&m>0||m.topLeft>0||m.bottomLeft>0||m.topRight>0||m.bottomRight>0?(c=ej.EjSvgRender.utils._calculateroundedCorner(m,i),i.d=c,p._animationType="path",o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle)):"rectangle"==p.columnFacet&&o.chartObj.svgRenderer.drawRect(i,o.gSeriesGroupEle),u=ej.EjSvgRender.utils._getSvgXY(C.X,C.Y,p,o.chartObj),ej.EjSvgRender.utils._addRegion(o.chartObj,{X:u.X,Y:u.Y,Width:C.Width,Height:C.Height},p,l,n)),i.plot=d<0?"negative":"positive",l.symbolLocation=a?{X:d<(p.xAxis._crossValue||0)&&!p.yAxis.isInversed||p.yAxis.isInversed&&d>(p.xAxis._crossValue||0)?C.X:C.X+C.Width,Y:C.Y+C.Height/2}:{X:C.X+C.Width/2,Y:d<(p.xAxis._crossValue||0)&&!p.yAxis.isInversed||p.yAxis.isInversed&&d>(p.xAxis._crossValue||0)?C.Y+C.Height:C.Y}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0}),ej.seriesTypes.column=ej.ejColumnSeries,ej.ejStackingColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n;this.chartObj=t,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var l=this.chartObj.model.requireInvertedAxes,d=i,h=d.cornerRadius,c=e.inArray(d,this.chartObj.model._visibleSeries),u=this.getSideBySideInfo(d,s),p=this._isVisiblePoints(d),m=ej.EjSvgRender.utils._getTransform(d.xAxis,d.yAxis,l);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+m.x+","+m.y+")"}),a=this,o=0;o<p.length;o++){var g=o,_=d._visiblePoints[o],f=d.stackedValue.StartValues[o],b=d.stackedValue.EndValues[o];if(_.visible){var v,x=a.calculateSides(_,u),y=x.x1,w=x.x2,S=this.chartObj.setStyle(a,d,c,g),C=a.getRectangle(y,b,w,f,d,t),T=Math.min(0,C.Width),L=Math.min(0,C.Height);if((0==T||0==L)&&C.Width>0){i={id:a.chartObj.svgObject.id+"_Series"+c+"_Point"+g,x:C.X+a.chartObj.canvasX,y:C.Y+a.chartObj.canvasY,width:C.Width,height:C.Height,fill:S.interior,"stroke-width":S.borderWidth,plot:b<0?"negative":"positive",opacity:S.opacity,stroke:S.borderColor,"stroke-dasharray":S.dashArray},"cylinder"==d.columnFacet?a.chartObj.svgRenderer.drawCylinder(i,a.gSeriesGroupEle,{isColumn:!0,stacking:"stackingcolumn100"==d.type,isLastSeries:d.stackedValue.stackedSeries}):"object"!=typeof h&&h>0||h.topLeft>0||h.bottomLeft>0||h.topRight>0||h.bottomRight>0?(r=ej.EjSvgRender.utils._calculateroundedCorner(h,i),i.d=r,d._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):"rectangle"==d.columnFacet&&a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle),v={X:(n=ej.EjSvgRender.utils._getSvgXY(C.X,C.Y,d,a.chartObj)).X,Y:n.Y,Width:C.Width,Height:C.Height};var k=C.Width/2,P=Math.round(C.Height),j=Math.round(k/4);j==P&&(v.Height=C.Height+2*j),ej.EjSvgRender.utils._addRegion(a.chartObj,v,d,_,g)}_.symbolLocation=l?{X:b<(d.xAxis._crossValue||0)&&!d.yAxis.isInversed||d.yAxis.isInversed&&b>(d.xAxis._crossValue||0)?C.X:C.X+C.Width,Y:C.Y+C.Height/2}:{X:C.X+C.Width/2,Y:b<(d.xAxis._crossValue||0)&&!d.yAxis.isInversed||d.yAxis.isInversed&&b>(d.xAxis._crossValue||0)?C.Y+C.Height:C.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,isRegion:!0}),ej.seriesTypes.stackingcolumn=ej.ejStackingColumnSeries,ej.seriesTypes.stackingcolumn100=ej.ejStackingColumnSeries,ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries,ej.ejRangeColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n;this.chartObj=t,i._animationType="rect";var l=this.chartObj.model.requireInvertedAxes,d=i,h=d.cornerRadius,c=e.inArray(d,this.chartObj.model._visibleSeries),u=this.getSideBySideInfo(d,s),p=this._isVisiblePoints(d),m=ej.EjSvgRender.utils._getTransform(d.xAxis,d.yAxis,l);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+m.x+","+m.y+")"}),a=this,o=0;o<p.length;o++){var g=o,_=p[o],f=_.YValues[0],b=_.YValues[1];if(_.visible){var v=a.calculateSides(_,u),x=v.x1,y=v.x2,w=this.chartObj.setStyle(a,d,c,g),S=a.getRectangle(x,f,y,b,d,t),C=Math.min(0,S.Width),T=Math.min(0,S.Height);(0==C||0==T)&&(i={id:a.chartObj.svgObject.id+"_Series"+c+"_Point"+g,x:S.X+a.chartObj.canvasX,y:S.Y+a.chartObj.canvasY,width:S.Width,height:S.Height,fill:w.interior,"stroke-width":w.borderWidth,opacity:w.opacity,stroke:w.borderColor,"stroke-dasharray":w.dashArray},"object"!=typeof h&&h>0||h.topLeft>0||h.bottomLeft>0||h.topRight>0||h.bottomRight>0?(r=ej.EjSvgRender.utils._calculateroundedCorner(h,i),i.d=r,d._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle,m.y),a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle,m.y),n=ej.EjSvgRender.utils._getSvgXY(S.X,S.Y,d,a.chartObj),ej.EjSvgRender.utils._addRegion(a.chartObj,{X:n.X,Y:n.Y,Width:S.Width,Height:S.Height},d,_,g)),"waterfall"==d.type.toLowerCase()&&(f=_.waterfallSum?_.waterfallSum:_.y),_.symbolLocation=l?{X:f<0&&!d.yAxis.isInversed||d.yAxis.isInversed&&f>0?S.X:S.X+S.Width,Y:S.Y+S.Height/2}:{X:S.X+S.Width/2,Y:f<0&&!d.yAxis.isInversed||d.yAxis.isInversed&&f>0?S.Y+S.Height:S.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0,isRegion:!0}),ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries,ej.ejBoxandwhiskerSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n,l;this.chartObj=t,a=this.chartObj.model.requireInvertedAxes,i._animationType="rect";var d=i,h=e.inArray(d,this.chartObj.model._visibleSeries),c=(ej.EjSeriesRender.prototype.getOrigin(this,d,s),this.getSideBySideInfo(d,s)),u=this._isVisiblePoints(d),p=ej.EjSvgRender.utils._getTransform(d.xAxis,d.yAxis,a),m=0;for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+h,transform:"translate("+p.x+","+p.y+")"}),o=this,r=0;r<u.length;r++){var g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O=r,I=u[r];if(_=(g=o.calculateMean(I.YValues[0],d,O)).UpperQuartile,f=g.LowerQuartile,I.visible&&(v=(b=o.calculateSides(I,c)).x1,x=b.x2,y=this.chartObj.setStyle(o,d,h,O),w=o.getRectangle(v,_,x,f,d,t),S=Math.min(0,w.Width),C=Math.min(0,w.Height),h=e.inArray(d,this.chartObj.model._visibleSeries),this.chartObj.setStyle(this,d,h,r),ej.EjSvgRender.utils._getStringBuilder(),T=ej.EjSvgRender.utils._getPoint({xValue:I.xValue,YValues:g.midvalue},d),n="transparent"==y.borderColor?this.chartObj._saturationColor(y.interior,-.6):y.borderColor,(0==S||0==C)&&w.Width>0)){for(k={id:this.chartObj.svgObject.id+"_Series"+h+"_Point"+O+"_median",x1:d._isTransposed?T.X+o.chartObj.canvasX:w.X+o.chartObj.canvasX,y1:d._isTransposed?w.Y+o.chartObj.canvasY:T.Y+o.chartObj.canvasY,x2:d._isTransposed?T.X+o.chartObj.canvasX:w.X+w.Width+o.chartObj.canvasX,y2:d._isTransposed?w.Y+w.Height+o.chartObj.canvasY:T.Y+o.chartObj.canvasY,"stroke-width":y.borderWidth,stroke:n},o.chartObj.svgRenderer.drawRect(i={id:o.chartObj.svgObject.id+"_Series"+h+"_Point"+O,x:w.X+o.chartObj.canvasX,y:w.Y+o.chartObj.canvasY,width:w.Width,height:w.Height,fill:y.interior,"stroke-width":y.borderWidth,plot:_<0?"negative":"positive",opacity:y.opacity,stroke:n,"stroke-dasharray":y.dashArray},o.gSeriesGroupEle),o.chartObj.svgRenderer.drawLine(k,o.gSeriesGroupEle),P=o.calculateBoxAndWhiskerPath(i,w,k,g,d,I,O),i.d=P.lowerWhisker,i.id=i.id+"_whisker",o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle),i.d=P.upperWhisker,o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle),1==d.showMedian&&(i.d=P.mean,o.chartObj.svgRenderer.drawPath(i,o.gSeriesGroupEle)),l=0;l<g.outliers.length;l++)(j=ej.EjSvgRender.utils._getPoint({xValue:I.xValue,YValues:g.outliers[l]},d)).X=d._isTransposed?j.X:w.X+w.Width/2,j.Y=d._isTransposed?w.Y+w.Height/2:j.Y,this.drawSymbol(h,d,O,j.X,j.Y,null,null,m),m++,D=ej.EjSvgRender.utils._getSvgXY(j.X,j.Y,d,o.chartObj),ej.EjSvgRender.utils._addRegion(o.chartObj,{X:D.X-d.outlierSettings.size.width/2,Y:D.Y-d.outlierSettings.size.height/2,Width:d.outlierSettings.size.width,Height:d.outlierSettings.size.height},d,I,O);L={X:(A=ej.EjSvgRender.utils._getSvgXY(w.X,w.Y,d,o.chartObj)).X,Y:A.Y,Width:w.Width,Height:w.Height},ej.EjSvgRender.utils._addRegion(o.chartObj,L,d,I,O)}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0}),ej.seriesTypes.boxandwhisker=ej.ejBoxandwhiskerSeries,ej.ejWaterfallSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b;ej.ejRangeColumnSeries.prototype.draw.call(this,t,i,s),i._animationType="rect";var v=this.chartObj.model.chartRegions,x=[],y=e.inArray(i,this.chartObj.model._visibleSeries);for(i.index=y,a=0,o=0;a<v.length;a++)y==v[a].SeriesIndex&&(x[o]=v[a],o+=1);for(this.connectorLineGroup=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_waterfallLine_"+y}),b=0;b<x.length-1;b++)r=ej.EjSvgRender.utils._getStringBuilder(),n=x[b].Region.Bounds,l=x[b+1].Region.Bounds,i.isTransposed?(g=Math.ceil(n.X),Math.ceil(n.Width),_=Math.ceil(l.X),Math.ceil(l.Width),u=Math.ceil(n.X+n.Width),p=Math.ceil(l.X+l.Width),r.append("M "+(m=u==p?n.X+n.Width:g==_||g==p?n.X:n.X+n.Width)+" "+(n.Y+n.Height)+" L "+m+" "+l.Y)):(h=Math.ceil(n.Y),Math.ceil(n.Height),c=Math.ceil(l.Y),Math.ceil(l.Height),u=Math.ceil(n.Y+n.Height),r.append("M "+n.X+" "+(d=h==c?n.Y:u==c?l.Y:l.Y+l.Height)+" L "+(l.X+l.Width)+" "+d)),""!=(f=r.toString())&&n.Height>=0&&this.chartObj.svgRenderer.drawPath({id:this.chartObj.svgObject.id+"_waterFall_"+y+"_connectorLine_"+b,fill:"none","stroke-dasharray":i.connectorLine.dashArray,"stroke-width":i.connectorLine.width,stroke:i.connectorLine.color,opacity:i.connectorLine.opacity,d:f},this.connectorLineGroup);this.chartObj.svgRenderer.append(this.connectorLineGroup,this.chartObj.gSeriesEle),i.enableAnimation&&!i._animatedSeries&&this.chartObj.svgRenderer._setAttr(this.connectorLineGroup,{visibility:"hidden"})},hiloTypes:!1,isRegion:!0}),ej.seriesTypes.waterfall=ej.ejWaterfallSeries,ej.ejStackingBarSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n;this.chartObj=t,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var l=this.chartObj.model.requireInvertedAxes,d=i,h=d.cornerRadius,c=e.inArray(d,this.chartObj.model._visibleSeries),u=this.getSideBySideInfo(d,s),p=this._isVisiblePoints(d),m=ej.EjSvgRender.utils._getTransform(d.xAxis,d.yAxis,l);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+m.x+","+m.y+")"}),a=this,o=0;o<p.length;o++){var g=o,_=p[o],f=d.stackedValue.EndValues[o],b=d.stackedValue.StartValues[o];if(_.visible){var v=a.calculateSides(_,u),x=v.x1,y=v.x2,w=this.chartObj.setStyle(a,d,c,g),S=a.getRectangle(x,f,y,b,d,t),C=Math.min(0,S.Width),T=Math.min(0,S.Height);(0==C||0==T)&&(i={id:a.chartObj.svgObject.id+"_Series"+c+"_Point"+g,x:S.X+a.chartObj.canvasX,y:S.Y+a.chartObj.canvasY,width:S.Width,height:S.Height,fill:w.interior,"stroke-width":w.borderWidth,opacity:w.opacity,stroke:w.borderColor,"stroke-dasharray":w.dashArray},"cylinder"==d.columnFacet?a.chartObj.svgRenderer.drawCylinder(i,a.gSeriesGroupEle,{isColumn:!1,stacking:"stackingbar100"==d.type,isLastSeries:d.stackedValue.stackedSeries}):"object"!=typeof h&&h>0||h.topLeft>0||h.bottomLeft>0||h.topRight>0||h.bottomRight>0?(r=ej.EjSvgRender.utils._calculateroundedCorner(h,i),i.d=r,d._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):"rectangle"==d.columnFacet&&a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle),n=ej.EjSvgRender.utils._getSvgXY(S.X,S.Y,d,a.chartObj),ej.EjSvgRender.utils._addRegion(a.chartObj,{X:n.X,Y:n.Y,Width:S.Width,Height:S.Height},d,_,g)),_.symbolLocation=l?{X:f<(d.yAxis._crossValue||0)&&!d.yAxis.isInversed||d.yAxis.isInversed&&f>(d.yAxis._crossValue||0)?S.X:S.X+S.Width,Y:S.Y+S.Height/2}:{X:S.X+S.Width/2,Y:f<(d.yAxis._crossValue||0)&&!d.yAxis.isInversed||d.yAxis.isInversed&&f>(d.yAxis._crossValue||0)?S.Y+S.Height:S.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,requireInvertedAxes:!0,isRegion:!0}),ej.seriesTypes.stackingbar=ej.ejStackingBarSeries,ej.seriesTypes.stackingbar100=ej.ejStackingBarSeries,ej.ejBarSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n;this.chartObj=t,i._animationType="rect","cylinder"==i.columnFacet&&(i._animationType="cylinder");var l=this.chartObj.model.requireInvertedAxes,d=i,h=d.cornerRadius,c=e.inArray(d,this.chartObj.model._visibleSeries),u=ej.EjSeriesRender.prototype.getOrigin(this,d,s),p=(e.extend(!0,{},this.chartObj.model.seriesStyle,d.style),this.getSideBySideInfo(d,s));d.dragSettings.enable&&(d.sidebysideInfo=p);var m=this._isVisiblePoints(d),g=ej.EjSvgRender.utils._getTransform(d.xAxis,d.yAxis,l);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+g.x+","+g.y+")"}),a=this,o=0;o<m.length;o++){var _=o,f=m[o],b=f.YValues[0],v=u;if(f.visible){var x=a.calculateSides(f,p),y=x.x1,w=x.x2,S=this.chartObj.setStyle(a,d,c,_),C=a.getRectangle(y,b,w,v,d,t),T=Math.min(0,C.Width),L=Math.min(0,C.Height);(0==T||0==L)&&(i={id:a.chartObj.svgObject.id+"_Series"+c+"_Point"+_,x:C.X+a.chartObj.canvasX,y:C.Y+a.chartObj.canvasY,width:C.Width,height:C.Height,fill:S.interior,"stroke-width":S.borderWidth,plot:b<0?"negative":"positive",opacity:S.opacity,stroke:S.borderColor,"stroke-dasharray":S.dashArray},"cylinder"==d.columnFacet?a.chartObj.svgRenderer.drawCylinder(i,a.gSeriesGroupEle,{isColumn:!1,stacking:!1,isLastSeries:!0}):"object"!=typeof h&&h>0||h.topLeft>0||h.bottomLeft>0||h.topRight>0||h.bottomRight>0?(r=ej.EjSvgRender.utils._calculateroundedCorner(h,i),i.d=r,d._animationType="path",a.chartObj.svgRenderer.drawPath(i,a.gSeriesGroupEle)):"rectangle"==d.columnFacet&&a.chartObj.svgRenderer.drawRect(i,a.gSeriesGroupEle),n=ej.EjSvgRender.utils._getSvgXY(C.X,C.Y,d,a.chartObj),ej.EjSvgRender.utils._addRegion(a.chartObj,{X:n.X,Y:n.Y,Width:C.Width,Height:C.Height},d,f,_)),f.symbolLocation=l?{X:b<(d.xAxis._crossValue||0)&&!d.yAxis.isInversed||d.yAxis.isInversed&&b>(d.xAxis._crossValue||0)?C.X:C.X+C.Width,Y:C.Y+C.Height/2}:{X:C.X+C.Width/2,Y:b<(d.xAxis._crossValue||0)&&!d.yAxis.isInversed||d.yAxis.isInversed&&b>(d.xAxis._crossValue||0)?C.Y+C.Height:C.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},requireInvertedAxes:!0,isRegion:!0}),ej.seriesTypes.bar=ej.ejBarSeries,ej.ejStackingAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s;this.chartObj=e,t._animationType="path";var a,o,r,n=ej.EjSvgRender.utils._getStringBuilder(),l=t,d=this.setAreaSeriesStyle(l),h=this._isVisiblePoints(l),c=Math.max(t.yAxis.visibleRange.min,l.stackedValue.StartValues[0]),u=this.chartObj.canvasX,p=this.chartObj.canvasY,m={xValue:h[0].xValue,YValues:[c]},g=ej.EjSvgRender.utils._getPoint(m,l),_=0,f=l.stackedValue.EndValues.length;for(n.append("M "+(g.X+u)+" "+(g.Y+p)+" "),i=0;i<=f;i++)if(i!=f&&h[i].visible)o={xValue:h[i].xValue,YValues:[l.stackedValue.EndValues[i]]},h[i].visible&&(r=h[i].location=ej.EjSvgRender.utils._getPoint(o,l),n.append("L "+(r.X+u)+" "+(r.Y+p)+" "),h[i].YValues[0]=o.YValues[0]);else{for(c=l.stackedValue.StartValues[i+1],s=i-1;s>=_;s--)o={xValue:h[s].xValue,YValues:[l.stackedValue.StartValues[s]]},r=ej.EjSvgRender.utils._getPoint(o,l),n.append("L "+(r.X+u)+" "+(r.Y+p)+" ");h[i+1]&&h[i+1].visible&&(m={xValue:h[i+1].xValue,YValues:[l.stackedValue.StartValues[i+1]]},g=ej.EjSvgRender.utils._getPoint(m,l),n.append("M "+(g.X+u)+" "+(g.Y+p)+" ")),_=i+1}a=n.toString(),this.drawAreaPath(l,d,a),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0}),ej.seriesTypes.stackingarea=ej.ejStackingAreaSeries,ej.seriesTypes.stackingarea100=ej.ejStackingAreaSeries,ej.ejAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){var s,a,o,r;this.chartObj=e,t._animationType="path";var n=ej.EjSvgRender.utils._getStringBuilder(),l=t,d=this.setAreaSeriesStyle(l),h=this.chartObj;l.sorting&&(l.points=ej.DataManager(l.points,ej.Query().sortBy("xValue")).executeLocal());var c,u=this.chartObj.dragPoint?l.pointCollection:this._isVisiblePoints(l),p=ej.EjSeriesRender.prototype.getOrigin(this,l,i),m=[];if(m[0]=h.canvasX,m[1]=h.canvasY,u.length>0){for(a=0;a<u.length;a++)if(u[a].visible)if(u.length>a+1){if(c||(c={xValue:u[a].xValue,YValues:[p]},o=ej.EjSvgRender.utils._getPoint(c,l),n.append("M "+o.X+" "+o.Y+" ")),o=ej.EjSvgRender.utils._getPoint(u[a],l),n.append("L "+o.X+" "+o.Y+" "),!u[a+1].visible){var g=ej.EjSvgRender.utils._getPoint({xValue:u[a].xValue,YValues:[p]},l),_=ej.EjSvgRender.utils._getPoint(c,l);n.append("L "+g.X+" "+g.Y+" L "+_.X+" "+_.Y+" "),c=null}}else u[a-1]&&u[a-1].visible&&(o=ej.EjSvgRender.utils._getPoint(u[a],l),n.append("L "+o.X+" "+o.Y+" "));r=ej.EjSvgRender.utils._getPoint({xValue:u[u.length-1].xValue,YValues:[p]},l),u.length>1&&n.append("L "+r.X+" "+r.Y+" "),s=n.toString(),this.drawAreaPath(l,d,s,m)}this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.area=ej.ejAreaSeries,ej.ejRangeAreaSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m;this.chartObj=t,i._animationType="path";var g=ej.EjSvgRender.utils._getStringBuilder(),_=i,f=this.setAreaSeriesStyle(_),b=e.inArray(_,this.chartObj.model._visibleSeries);for(_.points=ej.DataManager(_.points,ej.Query().sortBy("xValue")).executeLocal(),a=this._isVisiblePoints(_),(o=[])[0]=this.chartObj.canvasX,o[1]=this.chartObj.canvasY,n=[],h=0;h<a.length;h++)if(n[h]={Region:{PointIndex:h},SeriesIndex:b,region:[]},a[h].visible&&(r||(r={xValue:a[h].xValue,YValues:[a[h].low]},l=ej.EjSvgRender.utils._getPoint(r,_),g.append("M "+l.X+" "+l.Y+" ")),l=ej.EjSvgRender.utils._getPoint(a[h],_),g.append("L "+l.X+" "+l.Y+" "),n[h].region.push({X:l.X,Y:l.Y}),0!=h&&n[h-1].region.push({X:l.X,Y:l.Y}),h+1<a.length&&!a[h+1].visible&&h+1!=a.length-1)){for(d=h;d>=0&&a[d].visible;d--)c={xValue:a[d].xValue,YValues:[a[d].low]},u=ej.EjSvgRender.utils._getPoint(c,_),g.append("L "+u.X+" "+u.Y+" "),n[d].region.push({X:u.X,Y:u.Y}),0!=d&&n[d-1].region.push({X:u.X,Y:u.Y});r=null}for(h=a.length-1;h>=0;h--)if(a[h].visible)c={xValue:a[h].xValue,YValues:[a[h].low]},u=ej.EjSvgRender.utils._getPoint(c,_),g.append("L "+u.X+" "+u.Y+" "),n[h].region.push({X:u.X,Y:u.Y}),0!=h&&n[h-1].region.push({X:u.X,Y:u.Y});else{if(a.length>h&&a[h].visible){u=ej.EjSvgRender.utils._getPoint(a[h],_),g.append("L "+u.X+" "+u.Y+" ");break}if(h!=a.length-1){for(p=0,m=h-1;m>=0;m--)if(a[m].visible)p++;else if(!a[m].visible)break;h-=p}}s=g.toString(),this.chartObj.model.chartRegions.push(n),this.drawAreaPath(_,f,s,o),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.rangearea=ej.ejRangeAreaSeries,ej.ejSplineRangeAreaSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){this.chartObj=e,(new ej.seriesTypes.splinearea).draw(e,t,i)},chartAreaType:"cartesianAxes",hiloTypes:!0}),ej.seriesTypes.splinerangearea=ej.ejSplineRangeAreaSeries,ej.ejSplineSeries=t(ej.EjSeriesRender,{draw:function(e,t,i){var s,a;i.seriesCollection||(i.seriesCollection={},t._name=ej.util.isNullOrUndefined(t.name)?"":t.name.replace(/ /g,"")),i.seriesCollection[t._name]||(i.seriesCollection[t._name]={}),this.chartObj=e,t._animationType="path";var o,r=t,n=ej.EjSvgRender.utils._getStringBuilder(),l=this.setLineSeriesStyle(r),d=this.chartObj.dragPoint?r.pointCollection:this._isVisiblePoints(r),h=i.seriesCollection[r._name].naturalSpline||this.naturalSpline(d,r),c=null,u=null,p=-1,m=0,g=i.seriesCollection[r._name].controlPoints||[];for(s=0;s<d.length;s++)if(a=s,(u=d[s]).visible){if(null!=c){var _,f,b=g[m++]||this.getBezierControlPoints(c,u,h[p],h[a],0,r,this);_=b.controlPoint1,f=b.controlPoint2;var v=ej.EjSvgRender.utils._getPoint(c,r),x=ej.EjSvgRender.utils._getPoint(u,r),y=ej.EjSvgRender.utils._getPoint(_,r),w=ej.EjSvgRender.utils._getPoint(f,r),S=this.chartObj;n.append("M "+(v.X+S.canvasX)+" "+(v.Y+S.canvasY)+" C "+(y.X+S.canvasX)+" "+(y.Y+S.canvasY)+" "+(w.X+S.canvasX)+" "+(w.Y+S.canvasY)+" "+(x.X+S.canvasX)+" "+(x.Y+S.canvasY)+" ")}c=u,p=a}else c=null;o=n.toString(),this._drawLinePath(r,l,o),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.spline=ej.ejSplineSeries,ej.ejSplineAreaSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g;s.seriesCollection||(s.seriesCollection={},i._name=ej.util.isNullOrUndefined(i.name)?"":i.name.replace(/ /g,"")),s.seriesCollection[i._name]||(s.seriesCollection[i._name]={}),this.chartObj=t,i._animationType="path";var _=this.chartObj.model.requireInvertedAxes,f=i,b="",v=ej.EjSvgRender.utils._getStringBuilder(),x=this.setAreaSeriesStyle(f);f.sorting&&(f.points=ej.DataManager(f.points,ej.Query().sortBy("xValue")).executeLocal());var y=this.chartObj.dragPoint?f.pointCollection:this._isVisiblePoints(f),w=s.seriesCollection[f._name].naturalSpline||this.naturalSpline(y,f,0),S=(s.seriesCollection[f._name].naturalSpline1||this.naturalSpline(y,f,1),null),C=null,T=-1,L=[],k=ej.EjSeriesRender.prototype.getOrigin(this,f,s),P=null,j=!0,D=this.chartObj,A=[],O=0,I=s.seriesCollection[f._name].controlPoints||[];A[0]=D.canvasX,A[1]=D.canvasY;var R=D.model._seriesIndex,M=null,E=[],V=f.type.toLowerCase(),N=f.emptyPointSettings;for(D.model._previousSeries=ej.util.isNullOrUndefined(D.model._previousSeries)?null:D.model._previousSeries,f._prevpointIndex=null,m=0;m<y.length;m++)if(L[m]={Region:{PointIndex:m},SeriesIndex:R,region:[]},a=m,(C=y[m]).YValues[0]=-1!=V.indexOf("stackingsplinearea")?f.stackedValue.EndValues[m]:C.YValues[0],C.visible){if(!P){if(0==R||-1==V.indexOf("stackingsplinearea"))P={xValue:y[m].xValue,YValues:[k]};else{for(o=e.inArray(i,D.model._visibleSeries);o>0;o--)if("hidden"!=(r=D.model.series[o-1]).visibility){M=r.points;break}P={xValue:y[m].xValue,YValues:[M[m].YValues[0]]}}n=ej.EjSvgRender.utils._getPoint(P,f)}if("splinerangearea"==V&&(l=ej.EjSvgRender.utils._getPoint(y[m],f),L[m].region.push({X:l.X,Y:l.Y}),0!=m&&L[m-1].region.push({X:l.X,Y:l.Y})),null!=S){d=(c=-1!=V.indexOf("stackingsplinearea")||"splinerangearea"==V?I[a-1]||this.getBezierControlPoints(S,C,w[T],w[a],0,f,this):I[O++]||this.getBezierControlPoints(S,C,w[T],w[a],0,f,this)).controlPoint1,h=c.controlPoint2;var F=ej.EjSvgRender.utils._getPoint(S,f),B=ej.EjSvgRender.utils._getPoint(C,f),z=ej.EjSvgRender.utils._getPoint(d,f),Y=ej.EjSvgRender.utils._getPoint(h,f);if(j&&(v.append(_?"M "+n.X+" "+F.Y+" L "+F.X+" "+F.Y+" ":"M "+F.X+" "+n.Y+" L "+F.X+" "+F.Y+" "),j=!1),v.append("C "+z.X+" "+z.Y+" "+Y.X+" "+Y.Y+" "+B.X+" "+B.Y+" "),"splinerangearea"==V&&(E[a]=_?"C "+Y.low+" "+Y.Y+" "+z.low+" "+z.Y+" "+F.low+" "+F.Y+" ":"C "+Y.X+" "+Y.low+" "+z.X+" "+z.low+" "+F.X+" "+F.low+" "),-1!=V.indexOf("stackingsplinearea")&&(E[a]="C "+Y.X+" "+Y.Y+" "+z.X+" "+z.Y+" "+F.X+" "+F.Y+" "),(a==y.length-1||a<y.length-1&&!y[m+1].visible)&&((0!=R&&-1!=V.indexOf("stackingsplinearea")||"splinerangearea"==V)&&(P={xValue:y[m].xValue,YValues:"splinerangearea"==V?y[m].YValues:[M[m].YValues[0]]},n=ej.EjSvgRender.utils._getPoint(P,f)),v.append(_?"L "+("splinerangearea"==V?B.low:n.X)+" "+B.Y+" ":"L "+B.X+" "+("splinerangearea"==V?n.low:n.Y)+" "),P=null,j=!0,"gap"==N.displayMode.toLowerCase()&&a!=y.length-1&&0!=R&&-1!=V.indexOf("stacking"))){for(u=ej.util.isNullOrUndefined(f._prevpointIndex)?1:f._prevpointIndex,p=a;p>=u&&y[p-1].visible&&!ej.util.isNullOrUndefined(D.model._previousSeries);p--)v.append(D.model._previousSeries[p]),D.model._previousSeries[p]="";f._prevpointIndex=a+3}}else(-1!=V.indexOf("stackingsplinearea")||-1!=V.indexOf("splinerangearea"))&&a>0&&"gap"==N.displayMode&&this.drawbackCurve(I,f,E,a,C);S=C,T=a}else S=null,(-1!=V.indexOf("stackingsplinearea")||-1!=V.indexOf("splinerangearea"))&&a>0&&"gap"==N.displayMode&&this.drawbackCurve(I,f,E,a,C);if("splinerangearea"==D.model.series[R].type.toLowerCase())for(m=y.length-1;m>=0;m--)k=y[m].low,g=ej.EjSvgRender.utils._getPoint({xValue:y[m].xValue,YValues:[k]},f),L[m].region.push({X:g.X,Y:g.Y}),0!=m&&L[m-1].region.push({X:g.X,Y:g.Y});b=v.toString(),-1!=V.indexOf("stackingsplinearea")&&R>0&&(D.model._previousSeries=this._getReversePath(D,R,D.model._previousSeries)),"splinerangearea"==V?b=b+this._getReversePath(D,R,E)+"Z":(b=ej.util.isNullOrUndefined(D.model._previousSeries)?b:b+D.model._previousSeries+"Z",D.model._previousSeries=E),"splinerangearea"==V&&this.chartObj.model.chartRegions.push(L),this.drawAreaPath(f,x,b,A),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle},stackingSeries:!0,_getReversePath:function(e,t,i){var s,a,o,r=e.model.series[t].emptyPointSettings,n="",l=e.model.series[t].points;if(!ej.util.isNullOrUndefined(i)){for(s=0;s<l.length;s++)l[a=s].visible||l[a].isEmpty&&"gap"!=r.displayMode||(0==a?i[a+1]&&(i[a+1]=""):a==l.length-1?i[a]&&(i[a]=""):(i[a]&&(i[a]=""),i[a+1]&&(i[a+1]="")));for(o=i.length-1;o>0;o--)n+=i[o]}return n},drawbackCurve:function(e,t,i,s,a){var o=e[s-1],r=o.controlPoint1,n=o.controlPoint2,l=ej.EjSvgRender.utils._getPoint(t.points[s-1],t),d=(ej.EjSvgRender.utils._getPoint(a,t),ej.EjSvgRender.utils._getPoint(r,t)),h=ej.EjSvgRender.utils._getPoint(n,t);i[s]="C "+h.X+" "+h.Y+" "+d.X+" "+d.Y+" "+l.X+" "+l.Y+" "}}),ej.seriesTypes.splinearea=ej.ejSplineAreaSeries,ej.seriesTypes.stackingsplinearea=ej.ejSplineAreaSeries,ej.seriesTypes.stackingsplinearea100=ej.ejSplineAreaSeries,ej.ejScatterSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o;this.chartObj=t,s=i,i._animationType="scatter";var r,n=e.inArray(i,this.chartObj.model._visibleSeries),l=s.points.length>100||!s.enableSmartLabels?this.improveChartPerformance(s):this._isVisiblePoints(s),d=l.length;for(i._visiblePoints=l,a=0;a<d;a++)o=a,r=ej.EjSvgRender.utils._getPoint(l[a],i),this.drawSymbol(n,i,o,r.X,r.Y)}}),ej.seriesTypes.scatter=ej.ejScatterSeries,ej.ejBubbleSeries=t(ej.EjSeriesRender,{createBubbleGroup:function(t){var i=e.inArray(t,this.chartObj.model.series),s=t._isTransposed;this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+i,transform:"translate("+(s?this.chartObj.model.m_AreaBounds.X:t.xAxis.x)+","+(s?this.chartObj.model.m_AreaBounds.Y:t.yAxis.y)+")"})},draw:function(t,i){var s,a,o,r,n,l,d,h;this.chartObj=t,i._animationType="bubble",a=(s=i).cornerRadius,s.points=ej.DataManager(s.points,ej.Query().sortBy("xValue")).executeLocal();var c,u,p,m,g,_,f=e.inArray(s,this.chartObj.model._visibleSeries),b=this._isVisiblePoints(s),v=i.bubbleOptions,x=v.radiusMode.toLowerCase(),y=t.model.m_AreaBounds,w=t.model._visibleSeries,S=0,C=Math.max(y.Height,y.Width);if("minmax"==x)g=(u=v.maxRadius*(_=C/100))-(c=v.minRadius*_),S=Math.max.apply(0,e.map(b,(function(e){return e.YValues[1]})));else for(c=u=1,g=C/10*u,o=0;o<w.length;o++)if("bubble"==w[o].type.toLowerCase()&&"visible"==w[o].visibility&&"auto"==w[o].bubbleOptions.radiusMode.toLowerCase())for(p=w[o]._visiblePoints,r=0;r<p.length;r++)S=S<p[r].YValues[1]?p[r].YValues[1]:S;for(this.createBubbleGroup(s),n=0;n<b.length;n++)if(d=n,(l=b[n]).visible){S=S||1,m="minmax"==s.bubbleOptions.radiusMode.toLowerCase()?c+g*Math.abs(l.YValues[1]/S):g*Math.abs(l.YValues[1]/S);var T=ej.EjSvgRender.utils._getPoint(l,s),L=this.chartObj.setStyle(this,s,f,d);i={id:this.chartObj.svgObject.id+"_Series"+f+"_Point"+d,cx:T.X+this.chartObj.canvasX,cy:T.Y+this.chartObj.canvasY,r:m,fill:L.interior,cornerRadius:a,"stroke-width":L.borderWidth,"stroke-dasharray":L.dashArray,opacity:L.opacity,stroke:L.borderColor},"object"!=typeof a&&a>0||a.topLeft>0||a.bottomLeft>0||a.topRight>0||a.bottomRight>0?(h=ej.EjSvgRender.utils.calculateroundedCorner(i),i.d=h,this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle)):l.radius=m,this.chartObj.svgRenderer.drawCircle(i,this.gSeriesGroupEle),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:T.X-m+(s.isTransposed?this.chartObj.model.m_AreaBounds.X:s.xAxis.x),Y:T.Y-m+(s.isTransposed?this.chartObj.model.m_AreaBounds.Y:s.yAxis.y),Width:2*m,Height:2*m},s,null,n)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.bubble=ej.ejBubbleSeries,ej.ejhiloSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n,l,d;this.chartObj=t,i._animationType="hilo",a=this.chartObj.model.requireInvertedAxes,(o=i).points=ej.DataManager(o.points,ej.Query().sortBy("xValue")).executeLocal();var h=this._isVisiblePoints(o),c=this.getSideBySideInfo(o,s),u=null,p=e.inArray(o,this.chartObj.model._visibleSeries),m=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,a);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+p,transform:"translate("+m.x+","+m.y+")"}),r=0;r<h.length;r++)if(n=r,(u=h[r]).visible){if(ej.util.isNullOrUndefined(u.YValues[0])||ej.util.isNullOrUndefined(u.YValues[1]))continue;var g=this.chartObj.setStyle(this,o,p,n),_=this.chartObj.setHiloStyle(o,n,p),f={},b={};u.YValues[0]<u.YValues[1]?(f={xValue:u.xValue+c.Median,YValues:[u.YValues[0]]},b={xValue:u.xValue+c.Median,YValues:[u.YValues[1]]}):(f={xValue:u.xValue+c.Median,YValues:[u.YValues[1]]},b={xValue:u.xValue+c.Median,YValues:[u.YValues[0]]}),l=ej.EjSvgRender.utils._getPoint(f,o),d=ej.EjSvgRender.utils._getPoint(b,o),this._drawHiloPath(o,g,_,"M "+(l.X+this.chartObj.canvasX)+" "+(l.Y+this.chartObj.canvasY)+" L "+(d.X+this.chartObj.canvasX)+" "+(d.Y+this.chartObj.canvasY)+" ",r,{point1:l,point2:d})}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.hilo=ej.ejhiloSeries,ej.ejhiloopencloseSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m;this.chartObj=t,a=this.chartObj.model.requireInvertedAxes,i._animationType="hilo",(o=i).points=ej.DataManager(o.points,ej.Query().sortBy("xValue")).executeLocal();var g=this._isVisiblePoints(o),_=this.getSideBySideInfo(o,s),f=null,b=this.chartObj.model.palette,v=e.inArray(o,this.chartObj.model._visibleSeries),x=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,a);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+v,transform:"translate("+x.x+","+x.y+")"}),n=0;n<g.length;n++)if(l=n,(f=g[n]).visible){var y=!!ej.util.isNullOrUndefined(o.drawMode)||"both"==o.drawMode.toLowerCase()||"open"==o.drawMode.toLowerCase(),w=!!ej.util.isNullOrUndefined(o.drawMode)||"both"==o.drawMode.toLowerCase()||"close"==o.drawMode.toLowerCase(),S={},C={},T={},L={};if(f.YValues[0]<f.YValues[1]?(S={xValue:f.xValue+_.Median,YValues:[f.YValues[0]]},C={xValue:f.xValue+_.Median,YValues:[f.YValues[1]]},T={xValue:f.xValue,YValues:[f.YValues[2]]},L={xValue:f.xValue,YValues:[f.YValues[3]]}):(S={xValue:f.xValue+_.Median,YValues:[f.YValues[1]]},C={xValue:f.xValue+_.Median,YValues:[f.YValues[0]]},T={xValue:f.xValue,YValues:[f.YValues[2]]},L={xValue:f.xValue,YValues:[f.YValues[3]]}),o.fill=o.isFill?o.fill:null,f.YValues[2]<f.YValues[3]?o.bearFillColor=r=ej.util.isNullOrUndefined(o.bearFillColor)?o.fill?o.fill:b&&b.length>0?b[v]:"#339933":o.bearFillColor:o.bullFillColor=r=ej.util.isNullOrUndefined(o.bullFillColor)?o.fill?o.fill:b&&b.length>0?b[v]:"#E51400":o.bullFillColor,d=this.chartObj.setStyle(this,o,v,l,r),h=this.chartObj.setHiloStyle(o,l,v,r),f.fill?r="array"==jQuery.type(f.interior)?f.fill[0]:f.fill:f._hiloFill=r,c=this.chartObj.canvasX,u=this.chartObj.canvasY,y){var k=ej.EjSvgRender.utils._getPoint({xValue:T.xValue+_.Median,YValues:T.YValues},o),P=ej.EjSvgRender.utils._getPoint({xValue:T.xValue+_.Start,YValues:T.YValues},o);this._drawHiloPath(o,d,h,"M "+(k.X+c)+" "+(k.Y+u)+" L "+(P.X+c)+" "+(P.Y+u)+" ",n,{point1:k,point2:P})}if(w){var j=ej.EjSvgRender.utils._getPoint({xValue:L.xValue+_.Median,YValues:L.YValues},o),D=ej.EjSvgRender.utils._getPoint({xValue:L.xValue+_.End,YValues:L.YValues},o);this._drawHiloPath(o,d,h,"M "+(j.X+c)+" "+(j.Y+u)+" L "+(D.X+c)+" "+(D.Y+u)+" ",n,{point1:j,point2:D})}p=ej.EjSvgRender.utils._getPoint(S,o),m=ej.EjSvgRender.utils._getPoint(C,o),this._drawHiloPath(o,d,h,"M "+(p.X+c)+" "+(p.Y+u)+" L "+(m.X+c)+" "+(m.Y+u)+" ",n,{point1:p,point2:m})}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.hiloopenclose=ej.ejhiloopencloseSeries,ej.ejCandleSeries=t(ej.EjSeriesRender,{draw:function(t,i,s){var a,o,r,n,l,d,h,c;this.chartObj=t,i._animationType="hilo",a=this.chartObj.model.requireInvertedAxes,(o=i).points=ej.DataManager(o.points,ej.Query().sortBy("xValue")).executeLocal();var u=this._isVisiblePoints(o),p=this.getSideBySideInfo(o,s),m=null,g=this.chartObj.model.palette,_=e.inArray(o,this.chartObj.model._visibleSeries),f=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,a);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+_,transform:"translate("+f.x+","+f.y+")"}),n=0;n<u.length;n++)if(l=n,(m=u[n]).visible){var b={},v={},x={},y={};m.YValues[0]<m.YValues[1]?(b={xValue:m.xValue+p.Median,YValues:[m.YValues[0]]},v={xValue:m.xValue+p.Median,YValues:[m.YValues[1]]},x={xValue:m.xValue,YValues:[m.YValues[2]]},y={xValue:m.xValue,YValues:[m.YValues[3]]}):(b={xValue:m.xValue+p.Median,YValues:[m.YValues[1]]},v={xValue:m.xValue+p.Median,YValues:[m.YValues[0]]},x={xValue:m.xValue,YValues:[m.YValues[2]]},y={xValue:m.xValue,YValues:[m.YValues[3]]}),m.YValues[2]<m.YValues[3]?(x={xValue:m.xValue,YValues:[m.YValues[2]]},y={xValue:m.xValue,YValues:[m.YValues[3]]},o.bearFillColor=r=ej.util.isNullOrUndefined(o.bearFillColor)?g&&g.length>0?g[_]:"#339933":o.bearFillColor):(x={xValue:m.xValue,YValues:[m.YValues[3]]},y={xValue:m.xValue,YValues:[m.YValues[2]]},o.bullFillColor=r=ej.util.isNullOrUndefined(o.bullFillColor)?g&&g.length>0?g[_]:"#E51400":o.bullFillColor),d=this.chartObj.setStyle(this,o,_,l,r),h=this.chartObj.setHiloStyle(o,l,_,r),m.style&&m.style.interior?r="array"==jQuery.type(m.style.interior)?m.style.interior[0]:m.style.interior:m._hiloFill=h;var w=ej.EjSvgRender.utils._getPoint(b,o),S=ej.EjSvgRender.utils._getPoint({xValue:x.xValue+p.Median,YValues:[x.YValues[0]]},o),C=ej.EjSvgRender.utils._getPoint({xValue:y.xValue+p.Median,YValues:[y.YValues[0]]},o),T=ej.EjSvgRender.utils._getPoint(v,o),L=this.chartObj.canvasX,k=this.chartObj.canvasY;this._drawHiloPath(o,d,h,"M "+(w.X+L)+" "+(w.Y+k)+" L "+(S.X+L)+" "+(S.Y+k)+" M "+(C.X+L)+" "+(C.Y+k)+" L "+(T.X+L)+" "+(T.Y+k)+" ",n,{point1:w,point2:S});var P=ej.EjSvgRender.utils._getPoint({xValue:y.xValue+p.Start,YValues:y.YValues},o),j=ej.EjSvgRender.utils._getPoint({xValue:x.xValue+p.End,YValues:x.YValues},o),D=ej.EjSvgRender.utils._correctRect(P.X,P.Y,j.X,j.Y);x.YValues[0]==y.YValues[0]&&(D.Y=P.Y-.5,D.Height=1),this.chartObj.svgRenderer.drawRect({id:this.chartObj.svgObject.id+"_Series"+_+"_Point"+n,x:D.X+this.chartObj.canvasX,y:D.Y+this.chartObj.canvasY,width:D.Width,height:D.Height,fill:d.interior,"stroke-width":d.borderWidth,"stroke-dasharray":d.dashArray,stroke:d.borderColor},this.gSeriesGroupEle),c=ej.EjSvgRender.utils._getSvgXY(D.X,D.Y,o,this.chartObj),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:c.X,Y:c.Y,Width:D.Width,Height:D.Height},o,m,n)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.candle=ej.ejCandleSeries,ej.ejPieOfPieSeries=t(ej.EjSeriesRender,{draw:function(e,t){this.chartObj=e,(new ej.seriesTypes.pie).draw(e,t)},chartAreaType:"None"}),ej.seriesTypes.pieofpie=ej.ejPieOfPieSeries,ej.ejPieSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_;this.chartObj=t;var f=i,b=[],v=i.type.toLowerCase(),x=i.collectionIndex,y=0==x?f.pieCoefficient:f.pieOfPieCoefficient,w=this.chartObj.model.enableCanvasRendering,S=this._calculateVisiblePoints(i,this.chartObj).visiblePoints,C=this.calculatingSliceAngle(f),T=e.inArray(f,this.chartObj.model._visibleSeries),L=this.chartObj.model._visibleSeries[T];if(L._pieCoefficient=L.pieCoefficient,this.chartObj.model.circularRadius.length>1){for(s=T;ej.util.isNullOrUndefined(L.zOrder)?s<this.chartObj.model.circularRadius.length:s>=0;ej.util.isNullOrUndefined(L.zOrder)?s++:s--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[s])){this.chartObj.model.circularRadius[T]=this.chartObj.model.circularRadius[s]*L._pieCoefficient;break}}else"pieofpie"==v&&""!=L.splitMode?this.chartObj.model.circularRadius[x]=.25*y*Math.min(C.width,C.height):this.chartObj.model.circularRadius[T]=.5*L._pieCoefficient*Math.min(C.width,C.height);if((a=Math.min(C.width,C.height))<0)return a;for(Math.abs(f.endAngle-f.startAngle)<270&&this.pieDoughnutCenter(f),this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+T}),r={id:this.chartObj.svgObject.id+"_TextGroup_"+T,visibility:o=f.enableAnimation&&!f._animatedSeries?"hidden":"visible"},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[T]=1==x?this.chartObj.gSeriesTextEle[0]:this.chartObj.svgRenderer.createGroup(r),n={id:this.chartObj.svgObject.id+"_symbolGroup_"+T,visibility:o},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[T]=this.chartObj.svgRenderer.createGroup(n),l={id:this.chartObj.svgObject.id+"_connectorGroup_"+T,visibility:o},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[T]=this.chartObj.svgRenderer.createGroup(l),d={id:this.chartObj.svgObject.id+"_DataLabel_"+T,visibility:o},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[T]=1==x?this.chartObj.gDataLabelEle[0]:this.chartObj.svgRenderer.createGroup(d),h=0;h<S.length;h++)if(c=this.chartObj.model._isPieOfPie?S[h].actualIndex:h,!isNaN(f._visiblePoints[h].startAngle)&&(u=f._visiblePoints[h]).visible){var k=this._calculateArcData(this.chartObj,c,u,f,T,x),P=k.Direction.split(" "),j=this.chartObj.setStyle(this,f,T,h);if(p=!(f.startAngle<f.endAngle),!this.chartObj.model._isPieOfPie)for(m=0;m<f.visiblePoints.length;m++)if(u==f.visiblePoints[m]){c=m;break}i={id:this.chartObj.svgObject.id+"_Series"+T+"_Point"+c,fill:j.interior,"stroke-width":j.borderWidth,stroke:j.borderColor,"stroke-dasharray":j.dashArray,"stroke-linecap":f.lineCap,"stroke-linejoin":f.lineJoin,d:k.Direction,opacity:j.opacity,"data-pointIndex":c},this.chartObj.svgRenderer.drawPath(w?{id:this.chartObj.svgObject.id+"_Series"+T+"_Point"+c,fill:j.interior,"stroke-width":j.borderWidth,stroke:j.borderColor,"stroke-dasharray":j.dashArray,"stroke-linecap":f.lineCap,"stroke-linejoin":f.lineJoin,d:k.Direction,opacity:j.opacity,radius:"pieofpie"==v?this.chartObj.model.circularRadius[x]:this.chartObj.model.circularRadius[T],start:u.startAngle-1.57,end:u.endAngle-1.57,"data-pointIndex":c,counterClockWise:p,innerR:0,cx:k.centerX,cy:k.centerY,x:P[12],y:P[13]}:i,this.gSeriesGroupEle),_={PointIndex:c,Index:h,StartAngle:u.startAngle,EndAngle:u.endAngle,StartX:this.chartObj.model.startX[c],StartY:this.chartObj.model.startY[c],PieSeriesIndex:x,SeriesIndex:e.inArray(f,this.chartObj.model._visibleSeries)},b.push(_)}T=this.chartObj.model._isPieOfPie?x:T,this.chartObj.model._isPieOfPie&&1==x&&L.pieCollections[0].length>0&&0==L.pieCollections[1].length&&(g=this._drawEmptyPieOfPie(this.chartObj),this.chartObj.svgRenderer.drawPath(g,this.gSeriesGroupEle)),_={Series:f,SeriesData:{Radius:this.chartObj.model.circularRadius[T],CenterX:this.chartObj.model.circleCenterX[T],CenterY:this.chartObj.model.circleCenterY[T]},Region:b,SeriesIndex:e.inArray(f,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(_),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"}),ej.seriesTypes.pie=ej.ejPieSeries,ej.ejDoughnutSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_;this.chartObj=t;var f=i,b=[],v=this._calculateVisiblePoints(i).visiblePoints,x=this.calculatingSliceAngle(f),y=this.chartObj.model.enableCanvasRendering,w=v.length,S=e.inArray(f,this.chartObj.model._visibleSeries),C=this.chartObj.model._visibleSeries[S];if(C._doughnutSize=C.doughnutSize,C._doughnutCoefficient=C.doughnutCoefficient,this.chartObj.model.circularRadius.length>1){for(s=S;ej.util.isNullOrUndefined(C.zOrder)?s<this.chartObj.model.circularRadius.length:s>=0;ej.util.isNullOrUndefined(C.zOrder)?s++:s--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[s])){this.chartObj.model.circularRadius[S]=this.chartObj.model.circularRadius[s]*C._doughnutSize;break}}else this.chartObj.model.circularRadius[S]=.5*C._doughnutSize*Math.min(x.width,x.height);if((a=Math.min(x.width,x.height))<0)return a;if(Math.abs(f.endAngle-f.startAngle)<270&&this.pieDoughnutCenter(f),this.chartObj.model.innerRadius[S]=C._doughnutCoefficient*this.chartObj.model.circularRadius[S],ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces),S=e.inArray(f,this.chartObj.model._visibleSeries),this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+S}),r={id:this.chartObj.svgObject.id+"_TextGroup_"+S,visibility:o=f.enableAnimation&&!f._animatedSeries?"hidden":"visible"},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[S]=this.chartObj.svgRenderer.createGroup(r),n={id:this.chartObj.svgObject.id+"_symbolGroup_"+S,visibility:o},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[S]=this.chartObj.svgRenderer.createGroup(n),l={id:this.chartObj.svgObject.id+"_connectorGroup_"+S,visibility:o},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[S]=this.chartObj.svgRenderer.createGroup(l),d={id:this.chartObj.svgObject.id+"_DataLabel_"+S,visibility:o},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[S]=this.chartObj.svgRenderer.createGroup(d),f._doughnutSize>0&&C._doughnutCoefficient>=0&&f._doughnutSize<=1&&C._doughnutCoefficient<=1)for(h=0;h<w;h++)if(u=h,(c=f._visiblePoints[h]).visible){var T=0,L=0,k=this._calculateArcData(this.chartObj,u,c,f,S);if((c.actualIndex==f.explodeIndex||f.explodeAll)&&!this.chartObj.vmlRendering){var P=-.5*Math.PI,j=(c.startAngle+P+(c.endAngle+P-1e-6))/2;T=this.chartObj.model.circleCenterX[S]+Math.cos(j)*f.explodeOffset,L=this.chartObj.model.circleCenterY[S]+Math.sin(j)*f.explodeOffset}for(p=this.chartObj.setStyle(this,f,S,u),m=!(f.startAngle<f.endAngle),g=0;g<f.visiblePoints.length;g++)if(c==f.visiblePoints[g]){u=g;break}i={id:this.chartObj.svgObject.id+"_Series"+S+"_Point"+u,fill:p.interior,"stroke-width":p.borderWidth,stroke:p.borderColor,"stroke-dasharray":p.dashArray,"stroke-linecap":f.lineCap,opacity:p.opacity,"stroke-linejoin":f.lineJoin,d:k.Direction,"data-pointIndex":u},this.chartObj.svgRenderer.drawPath(y?{id:this.chartObj.svgObject.id+"_Series"+S+"_Point"+u,fill:p.interior,"stroke-width":p.borderWidth,stroke:p.borderColor,"stroke-dasharray":p.dashArray,"stroke-linecap":f.lineCap,opacity:p.opacity,"stroke-linejoin":f.lineJoin,d:k.Direction,start:c.startAngle-1.57,end:c.endAngle-1.57,"data-pointIndex":u,radius:this.chartObj.model.circularRadius[S],innerR:this.chartObj.model.innerRadius[S],counterClockWise:m,x:0!=T?T:this.chartObj.model.circleCenterX[S],y:0!=L?L:this.chartObj.model.circleCenterY[S]}:i,this.gSeriesGroupEle),_={PointIndex:u,Index:h,StartAngle:c.startAngle,EndAngle:c.endAngle,StartX:this.chartObj.model.startX[u],StartY:this.chartObj.model.startY[u],SeriesIndex:e.inArray(f,this.chartObj.model._visibleSeries)},b.push(_)}_={Series:f,SeriesData:{Radius:this.chartObj.model.circularRadius[S],DRadius:this.chartObj.model.innerRadius[S],CenterX:this.chartObj.model.circleCenterX[S],CenterY:this.chartObj.model.circleCenterY[S]},Region:b,SeriesIndex:e.inArray(f,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(_),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"}),ej.seriesTypes.doughnut=ej.ejDoughnutSeries,ej.ejPyramidSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m;this.chartObj=t;var g,_=t.model,f=this,b=_.LegendActualBounds,v=i,x=this._calculateVisiblePoints(v).visiblePoints,y=x.length,w=[],S=[],C=_.legend,T=v.marker.dataLabel,L=C.position.toLowerCase(),k=C.border.width,P=0,j=_.title,D=_.title.subTitle,A=_.border.width,O=!(""==j.text||!j.visible||!j.enableTrim),I=!(""==D.text||!D.visible||!D.enableTrim),R=_.title.text&&_.title.visible?ej.EjSvgRender.utils._measureText(_.title.text,e(this.svgObject).width()-_.margin.left-_.margin.right,_.title.font):0,M=_.title.subTitle.text&&_.title.subTitle.visible?ej.EjSvgRender.utils._measureText(_.title.subTitle.text,e(this.svgObject).width()-_.margin.left-_.margin.right,_.title.subTitle.font):0,E=""!=t.model.title.text&&t.model.title.visible?O&&"wrap"==j.textOverflow||O&&"wrapandtrim"==j.textOverflow?R.height*t.model.titleWrapTextCollection.length:R.height:0,V=""!=t.model.title.subTitle.text&&t.model.title.subTitle.visible?I&&"wrap"==D.textOverflow||I&&"wrapandtrim"==D.textOverflow?M.height*t.model.subTitleWrapTextCollection.length:M.height:0,N=_.margin.left+_.elementSpacing+2*A+_.elementSpacing+_.margin.right+("right"===L||"left"===L?b.Width+2*k:0),F=(_.title.text&&_.title.visible?_._titleLocation.Y+E+V:_.elementSpacing)+2*A+_.margin.top+_.elementSpacing+_.elementSpacing+("top"===L||"bottom"===L?b.Height+2*k+_.elementSpacing:0);if(T.visible&&"none"!=T.shape&&"outside"==v.labelPosition&&(N+=T.margin.left+T.margin.right),_.chartRegions=[],_.sumofYValues=0,"outside"===v.labelPosition.toLowerCase()){for(s=0;s<y;s++)P<(a=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(x[s].text)?x[s].y:x[s].text,null,v.marker.dataLabel.font).width)&&(P=a);_.textSize=P}v._enableSmartLabels?(_.actualWidth=.8*(e(t.svgObject).width()-N),_.resWidth=(e(t.svgObject).width()-N-_.actualWidth)/2):(_.actualWidth=e(t.svgObject).width()-N-P,_.resWidth=0),o=e.inArray(v,_._visibleSeries),_.actualHeight=e(t.svgObject).height()-F;var B=""==t.model.title.subTitle.text?0:V,z=t.pyrX=("left"===L?b.Width+2*k:0)+_.elementSpacing+_.margin.left,Y=t.pyrY=("top"===L?b.Height+2*k:0)+(j.text&&j.visible?_._titleLocation.Y+E+B:_.margin.top+_.elementSpacing);for(S[0]=z,S[1]=Y,r=0;r<y;r++)_.sumofYValues+=x[r].YValues[0];for(n={id:t.svgObject.id+"_DataLabel_"+o,transform:"translate("+z+","+Y+")"},t.gDataLabelEle=[],t.gDataLabelEle[o]=t.svgRenderer.createGroup(n),ej.util.isNullOrUndefined(_.roundingPlaces),this.gSeriesGroupEle=t.svgRenderer.createGroup({id:t.svgObject.id+"_SeriesGroup_"+o,transform:"translate("+z+","+Y+")"}),l={id:t.svgObject.id+"_textGroup_"+o,transform:"translate("+z+","+Y+")"},t.gSeriesTextEle=[],t.gSeriesTextEle[o]=t.svgRenderer.createGroup(l),d={id:t.svgObject.id+"_symbolGroup_"+o,transform:"translate("+z+","+Y+")"},t.gSymbolGroupEle=[],t.gSymbolGroupEle[o]=t.svgRenderer.createGroup(d),h={id:t.svgObject.id+"_connectorGroup_"+o,transform:"translate("+z+","+Y+")"},t.gConnectorEle=[],t.gConnectorEle[o]=t.svgRenderer.createGroup(h),"linear"==v.pyramidMode.toLowerCase()?this.calculateLinearSegments(v):this.calculateSurfaceSegments(v),r=0;r<y;r++)c=r,(g=v._visiblePoints[r]).visible&&(u=this._getPyramidData(v,c),p=t.setStyle(this,v,0,c),t.svgRenderer.drawPath(i={id:t.svgObject.id+"_Series"+o+"_Point"+c,fill:p.interior,"stroke-width":p.borderWidth,stroke:p.borderColor,"stroke-dasharray":p.dashArray,"stroke-linecap":v.lineCap,"stroke-linejoin":v.lineJoin,opacity:p.opacity,pointIndex:c,d:u.Direction},this.gSeriesGroupEle,S),v.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(g,c,v,!0,t),g.xLocation=u.PositionX,g.yLocation=u.PositionY,g.connectorLine=u.Connector,g.startX=u.startX,g.startY=u.startY,g.Polygon=u.Polygon,w.push(m={PointIndex:c,Line1:u.Line1,Line2:u.Line2,Line3:u.Line3,Line4:u.Line4,Polygon:u.Polygon}));m={Series:v,Region:w,SeriesIndex:e.inArray(v,_._visibleSeries)},_.chartRegions.push(m),this.gSeriesGroupEle&&(e(this.gSeriesGroupEle.childNodes[c]).bind("mousemove",(function(e){e.target=f.gSeriesGroupEle.childNodes[c],f.chartObj.chartInteractiveBehavior(e)})),t.svgRenderer.append(this.gSeriesGroupEle,t.gSeriesEle))},_getPyramidData:function(t,i){var s,a,o,r,n,l,d=this.chartObj.model,h=t._visiblePoints[i].marker,c=t.explodeIndex==t._visiblePoints[i].actualIndex||t.explodeAll?t.explodeOffset:0,u=d.resWidth,p=d.pyramidData[i].CurrY,m=d.pyramidData[i].CurrY+d.pyramidData[i].Height,g=.5*(1-d.pyramidData[i].CurrY),_=.5*(1-m),f={x:u+c+g*d.actualWidth,y:p*d.actualHeight},b={x:u+c+(1-g)*d.actualWidth,y:p*d.actualHeight},v={x:u+c+(1-_)*d.actualWidth,y:m*d.actualHeight},x={x:u+c+_*d.actualWidth,y:m*d.actualHeight},y="M "+f.x+" "+f.y+" L "+b.x+" "+b.y+" L "+v.x+" "+v.y+" L "+x.x+" "+x.y+" z",w=[{x:f.x,y:f.y},{x:b.x,y:b.y},{x:v.x,y:v.y},{x:x.x,y:x.y}];if(h&&h.dataLabel&&h.dataLabel.visible||(!h||!h.dataLabel)&&t.marker.dataLabel.visible)if(o=(b.x+v.x)/2,r=(b.y+v.y)/2,"outside"===t.labelPosition.toLowerCase()){s=(b.x+v.x)/2,a=(b.y+v.y)/2,n=("left"==this.chartObj.model.legend.position.toLowerCase()||"right"==this.chartObj.model.legend.position.toLowerCase()?this.chartObj.model.LegendActualBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,l=ej.util.isNullOrUndefined(t.marker.dataLabel.connectorLine.height)?t._enableSmartLabels?e(this.chartObj.svgObject).width()-(n+s+u+2*this.chartObj.model.elementSpacing):e(this.chartObj.svgObject).width()-(n+s+this.chartObj.model.textSize+this.chartObj.model.elementSpacing):t.marker.dataLabel.connectorLine.height;var S=this.getXCordinate(s,l,0),C=this.getYCordinate(a,l,0),T="M "+s+" "+a+" L "+S+" "+C;s=S,a=C}else s=(f.x+b.x)/2,a=(v.y+f.y)/2;return{Direction:y,PositionX:s,PositionY:a,Connector:T,Line1:f,Line2:b,Line3:v,Line4:x,startX:o,startY:r,Polygon:w}},calculateLinearSegments:function(e){var t,i,s=0,a=this.chartObj.model;a.pyramidData=[];var o=e.gapRatio>=0?e.gapRatio<=1?e.gapRatio:1:0,r=1/(a.sumofYValues*(1+o/(1-o))),n=e._visiblePoints.length;for(t=0;t<n;t++)(e._visiblePoints[t].visible||e._visiblePoints[t].gapMode)&&(a.pyramidData[t]={CurrY:s,Height:i=r*e._visiblePoints[t].YValues[0]},s+=o/(n-1)+i)},calculateSurfaceSegments:function(e){var t,i,s=e._visiblePoints.length,a=this.chartObj.model;a.pyramidData=[];var o=0,r=[],n=[],l=(e.gapRatio>=0?e.gapRatio<=1?e.gapRatio:1:0)/(s-1),d=this.getSurfaceHeight(0,a.sumofYValues);for(i=0;i<s;i++)(e._visiblePoints[i].visible||e._visiblePoints[i].gapMode)&&(r[i]=o,n[i]=this.getSurfaceHeight(o,Math.abs(e._visiblePoints[i].YValues[0])),o+=n[i]+l*d);for(t=1/(o-l*d),i=0;i<s;i++)(e._visiblePoints[i].visible||e._visiblePoints[i].gapMode)&&(a.pyramidData[i]={CurrY:t*r[i],Height:t*n[i]})},getSurfaceHeight:function(e,t){return this.solveQuadraticEquation(1,2*e,-t)||0},solveQuadraticEquation:function(e,t,i){var s,a,o,r;if(0!=e){if((o=t*t-4*e*i)>=0)return s=(-t-(r=Math.sqrt(o)))/(2*e),a=(-t+r)/(2*e),Math.max(s,a)}else if(0!=t)return s=-i/t,a=-i/t,Math.max(s,a);return!1},chartAreaType:"None"}),ej.seriesTypes.pyramid=ej.ejPyramidSeries,ej.ejFunnelSeries=t(ej.EjSeriesRender,{draw:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v;this.chartObj=t;var x,y=t.model,w=y.legend,S=w.position.toLowerCase(),C=y.LegendActualBounds,T=this,L=i,k=this._calculateVisiblePoints(L).visiblePoints,P=k.length,j=[],D=L.marker,A=w.border.width,O=[],I=0,R=""==t.model.title.text?"":y.title,M=""==t.model.title.subTitle.text?"":y.title.subTitle,E=y.border.width,V=!(""==R.text||!R.visible||!R.enableTrim),N=!(""==M.text||!M.visible||!M.enableTrim),F=y.title.text&&y.title.visible?ej.EjSvgRender.utils._measureText(y.title.text,e(this.svgObject).width()-y.margin.left-y.margin.right,y.title.font):0,B=y.title.subTitle.text&&y.title.subTitle.visible?ej.EjSvgRender.utils._measureText(y.title.subTitle.text,e(this.svgObject).width()-y.margin.left-y.margin.right,y.title.subTitle.font):0,z=""!=t.model.title.text&&t.model.title.visible?V&&"wrap"==R.textOverflow||V&&"wrapandtrim"==R.textOverflow?F.height*t.model.titleWrapTextCollection.length:F.height:0,Y=""!=t.model.title.subTitle.text&&t.model.title.subTitle.visible?N&&"wrap"==M.textOverflow||N&&"wrapandtrim"==M.textOverflow?B.height*t.model.subTitleWrapTextCollection.length:B.height:0,X=y.margin.left+y.elementSpacing+y.elementSpacing+y.margin.right+2*E+("right"===S||"left"===S?C.Width+2*A:0),H=(y.title.text&&y.title.visible?y._titleLocation.Y+z+Y:y.elementSpacing)+y.margin.top+2*E+y.elementSpacing+y.elementSpacing+("top"===S||"bottom"===S?C.Height+2*A+y.elementSpacing:0);if(D.visible&&"none"!=D.shape&&"outside"==L.labelPosition&&(X+=D.margin.left+D.margin.right),y.chartRegions=[],y.sumofYValues=0,"outside"===L.labelPosition.toLowerCase()){for(m=0;m<P;m++)I<(s=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(k[m].text)?k[m].y:k[m].text,null,L.marker.dataLabel.font).width)&&(I=s);y.textSize=I}for(L._enableSmartLabels?(y.actualWidth=.8*(e(t.svgObject).width()-X),y.resWidth=(e(t.svgObject).width()-X-y.actualWidth)/2):(y.actualWidth=e(t.svgObject).width()-X-I,y.resWidth=0),a=""==t.model.title.subTitle.text?0:Y,y.actualHeight=e(t.svgObject).height()-H,o=t.pyrX=("left"===S?C.Width+2*A:0)+y.elementSpacing+y.margin.left,r=t.pyrY=("top"===S?C.Height+2*A:0)+(y.title.text&&y.title.visible?y._titleLocation.Y+z+a:y.margin.top+y.elementSpacing),O[0]=o,O[1]=r,n=0;n<P;n++)y.sumofYValues+=k[n].YValues[0];ej.util.isNullOrUndefined(y.roundingPlaces);var W=e.inArray(L,y._visibleSeries);this.gSeriesGroupEle=t.svgRenderer.createGroup({id:t.svgObject.id+"_SeriesGroup_"+W,transform:"translate("+o+","+r+")"}),l={id:t.svgObject.id+"_DataLabel_"+W,transform:"translate("+o+","+r+")"},t.gDataLabelEle=[],t.gDataLabelEle[W]=t.svgRenderer.createGroup(l),d={id:t.svgObject.id+"_textGroup_"+W,transform:"translate("+o+","+r+")"},t.gSeriesTextEle=[],t.gSeriesTextEle[W]=t.svgRenderer.createGroup(d),h={id:t.svgObject.id+"_symbolGroup_"+W,transform:"translate("+o+","+r+")"},t.gSymbolGroupEle=[],t.gSymbolGroupEle[W]=t.svgRenderer.createGroup(h),c={id:t.svgObject.id+"_connectorGroup_"+W,transform:"translate("+o+","+r+")"},t.gConnectorEle=[],t.gConnectorEle[W]=t.svgRenderer.createGroup(c),u=0,(p=y).funnelData=[];var U=L.gapRatio>=0?L.gapRatio<=1?L.gapRatio:1:0,$=1/(p.sumofYValues*(1+U/(1-U))),G=U/P;for(m=P-1;m>=0;m--)(L._visiblePoints[m].visible||L._visiblePoints[m].gapMode)&&(p.funnelData[m]={CurrY:u,Height:g=$*L._visiblePoints[m].YValues[0]},u+=g+G);for(n=0;n<P;n++)_=n,(x=L._visiblePoints[n]).visible&&(f=this._getFunnelData(L,_,t),b=t.setStyle(this,L,0,_),t.svgRenderer.drawPath(i={id:t.svgObject.id+"_Series"+W+"_Point"+_,fill:b.interior,"stroke-width":b.borderWidth,stroke:b.borderColor,"stroke-dasharray":b.dashArray,"stroke-linecap":L.lineCap,"stroke-linejoin":L.lineJoin,opacity:b.opacity,pointIndex:_,d:f.Direction},this.gSeriesGroupEle,O),L.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(x,_,L,!0,t),x.xLocation=f.PositionX,x.yLocation=f.PositionY,x.connectorLine=f.Connector,x.startX=f.startX,x.startY=f.startY,x.Polygon=f.Polygon,j.push(v={PointIndex:_,Line1:f.Line1,Line2:f.Line2,Line3:f.Line3,Line4:f.Line4,Line5:f.Line5,Line6:f.Line6,Polygon:f.Polygon}));v={Series:L,Region:j,SeriesIndex:e.inArray(L,y._visibleSeries)},y.chartRegions.push(v),this.gSeriesGroupEle&&e(this.gSeriesGroupEle.childNodes[_]).bind("mousemove",(function(e){e.target=T.gSeriesGroupEle.childNodes[_],T.chartObj.chartInteractiveBehavior(e)})),t.svgRenderer.append(this.gSeriesGroupEle,t.gSeriesEle)},_getFunnelData:function(t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O=this.chartObj.model,I=t._visiblePoints[i],R=I.marker,M=t.marker,E=t.funnelWidth,V=t.funnelHeight,N=O.actualHeight,F=O.actualWidth,B=O.elementSpacing,z=O.legend.position.toLowerCase(),Y=O.resWidth,X=t.explodeIndex==I.actualIndex||t.explodeAll?t.explodeOffset:0;return D=-1!=V.indexOf("%")?N*(parseInt(V)/100):parseInt(V),c=(l=F/2-(j=(A=-1!=E.indexOf("%")?F*(parseInt(E)/100):parseInt(E))+(N-D-(m=O.funnelData[i].CurrY*N))/(N-D)*(F-A))/2)+j,p=(h=F/2-(j=(_=m+O.funnelData[i].Height*N)>N-D||N==D?A:A+(N-D-_)/(N-D)*(F-A))/2)+j,m>=N-D?(l=h=d=F/2-A/2,c=p=u=F/2+A/2):_>N-D&&(u=p=(d=h=F/2-j/2)+j,g=N-D),T={x:Y+X+p,y:_},P={x:Y+X+h,y:_},g&&(T={x:Y+X+u,y:g},P={x:Y+X+d,y:g}),a="M "+(S={x:Y+X+l,y:m}).x+" "+S.y+" L "+(C={x:Y+X+c,y:m}).x+" "+C.y+" L "+T.x+" "+T.y+" L "+(L={x:Y+X+p,y:_}).x+" "+L.y+" L "+(k={x:Y+X+h,y:_}).x+" "+k.y+" L "+P.x+" "+P.y+" z",o=[{x:S.x,y:S.y},{x:C.x,y:C.y},{x:T.x,y:T.y},{x:L.x,y:L.y},{x:k.x,y:k.y},{x:P.x,y:P.y}],(R&&R.dataLabel&&R.dataLabel.visible||(!R||!R.dataLabel)&&M.dataLabel.visible)&&(y=(C.x+T.x)/2,w=(C.y+T.y)/2,"outside"===t.labelPosition.toLowerCase()?(v=(C.x+T.x)/2,x=(C.y+T.y)/2,s=("left"==z||"right"==z?O.LegendActualBounds.Width:0)+B+O.margin.left,r=ej.util.isNullOrUndefined(M.dataLabel.connectorLine.height)?t._enableSmartLabels?e(this.chartObj.svgObject).width()-(s+v+Y+2*B):e(this.chartObj.svgObject).width()-(v+O.textSize+B):M.dataLabel.connectorLine.height,n="M "+v+" "+x+" L "+(f=this.getXCordinate(v,r,0))+" "+(b=this.getYCordinate(x,r,0)),v=f,x=b):(v=(S.x+C.x)/2,x=(S.y+L.y)/2)),{Direction:a,PositionX:v,PositionY:x,Connector:n,Line1:S,Line2:C,Line3:T,Line4:L,Line5:k,Line6:P,startX:y,startY:w,Polygon:o}},chartAreaType:"None"}),ej.seriesTypes.funnel=ej.ejFunnelSeries,ej.ejPolarSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s,a,o;this.chartObj=e;var r=t,n=(this._isVisiblePoints(r),this.setLineSeriesStyle(r));if("column"==r.drawType.toLowerCase()||"rangecolumn"==r.drawType.toLowerCase()){(i=r.xAxis.visibleRange).interval=1,s="category"==r.xAxis._valueType?i.max:i.max-1,this.chartObj.model.sumofYValues=0,a=i.min;do{this.chartObj.model.sumofYValues+=i.interval,a+=i.interval}while(a<=s)}o=this._calculatePolarAxesSegment(r),"area"==r.drawType.toLowerCase()?this.drawAreaPath(r,n,o):("line"==r.drawType.toLowerCase()||"spline"==r.drawType.toLowerCase())&&this._drawLinePath(r,n,o),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"PolarAxes"}),ej.seriesTypes.polar=ej.ejPolarSeries,ej.ejRadarSeries=t(ej.EjSeriesRender,{draw:function(e,t){var i,s,a,o;this.chartObj=e;var r=t,n=(this._isVisiblePoints(r),this.setLineSeriesStyle(r));if("column"==r.drawType.toLowerCase()||"rangecolumn"==r.drawType.toLowerCase()){(i=r.xAxis.visibleRange).interval=1,s="category"==r.xAxis._valueType?i.max:i.max-1,this.chartObj.model.sumofYValues=0,a=i.min;do{this.chartObj.model.sumofYValues+=i.interval,a+=i.interval}while(a<=s)}o=this._calculatePolarAxesSegment(r),"area"==r.drawType.toLowerCase()?this.drawAreaPath(r,n,o):("line"==r.drawType.toLowerCase()||"spline"==r.drawType.toLowerCase())&&this._drawLinePath(r,n,o),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t,i){var s=i.chartObj,a=t.drawType.toLowerCase();t.regionAdded=!0,s.model._radius=s.model.Radius||s.model._radius,s.model.Radius=0;var o=i,r=e.inArray(t,s.model._visibleSeries),n=e(s.gSeriesEle).find("#"+o.gSeriesGroupEle.id)[0].childNodes[0];e(n).animate({Radius:s.model._radius},{duration:1200,queue:!1,step:function(i){if(ej.util.isNullOrUndefined(s.model))e(n).stop(!0,!0);else{s.model.Radius=i;var r=o._calculatePolarAxesSegment(t);"column"!=t.drawType.toLowerCase()&&"rangecolumn"!=t.drawType.toLowerCase()&&"scatter"!=a&&s.svgRenderer._setAttr(e(n),{d:r}),s.model.Radius=s.model._radius}},complete:function(){if(!ej.util.isNullOrUndefined(s.model)){t.regionAdded=!1,s.svgRenderer._setAttr(e(s.gSeriesEle).find("#"+s.svgObject.id+"_TextGroup_"+r),{visibility:"visible"}),s.svgRenderer._setAttr(e(s.gSeriesEle).find("#"+s.svgObject.id+"_symbolGroup_"+r),{visibility:"visible"}),s.svgRenderer._setAttr(e(s.gSeriesEle).find("#"+s.svgObject.id+"_DataLabel_"+r),{visibility:"visible"}),s.model.AnimationComplete=!0;var i=e.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:t},s._trigger("animationComplete",i)}}})},chartAreaType:"PolarAxes"}),ej.seriesTypes.radar=ej.ejRadarSeries}(jQuery),ej.ejChart={},function($){Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=i.length;return function(a){if("function"==typeof a||"object"==typeof a&&null!==a){var o,r,n=[];for(o in a)e.call(a,o)&&n.push(o);if(t)for(r=0;r<s;r++)e.call(a,i[r])&&n.push(i[r]);return n}}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),void 0===Array.prototype.map&&(Array.prototype.map=function(e){for(var t=[],i=0,s=this.length;i<s;i++)t.push(e(this[i]));return t}),String.prototype.parseTemplate=function(){var str=this,substr,count=0,arabic=/[\u0600-\u06FF]/;for($.each(arguments[0],(function(e,t){t.count>0?$.each(t,(function(t,i){var s,a,o,r=new RegExp("#"+e+"."+t+"#","gm");if(count++,arabic.test(str)&&2==count){for(s=str.split(" "),a=0;a<s.length;a++)arabic.test(o=s[a])&&(s[a]=o+="&lrm;");str=s.join(" ")}str=str.replace(r.source,i)})):str=str.replace(new RegExp("\\#"+e+"\\#","gm"),t)}));str.indexOf("ej.")>=0;)substr=str.substring(str.indexOf("ej."),str.indexOf(")")+1),str=str.replace(substr,eval(substr));return str},String.prototype.capitalizeFirstString=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var Gradient=function(e){this._gradientStop=[];for(var t=0;t<e.length;t++)this._gradientStop.push(e[t])};ej.ejChart={_renderSfChart:function(){var e=!!window.SVGSVGElement,t=this.model.enableCanvasRendering;return this.isChartElemId=!1,this.element[0].id||this._createChartId(),$("#chartContainer_"+this._id).remove(),e?(this.renderer=new ej.EjSvgRender(this.element),t?(this.svgRenderer=new ej.EjCanvasRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element)):(this.svgRenderer=new ej.EjSvgRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element)),this._appendChartElements(),t||this.legendContainer.find("svg").attr("class","e-designerhide"),this._createChart(),$(this.svgObject).appendTo(this.element)):(t=!1,this.svgRenderer=new ej.EjVmlRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.renderer=new ej.EjVmlRender(this.element),this._appendChartElements(),this._createChart(),$(this.svgObject).appendTo(this.chartContainer)),!0},_appendChartElements:function(){this.legendContainer=$("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=$("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.templateContainer=$("<div></div>").attr("id",this._id+"_container_svg_TrackToolTip").css("height","0px"),this.chartContainer=$("<div></div>").css("position","relative").attr("id","chartContainer_"+this._id),this.axisScroll=$("<div></div>").attr("id","axisScrollbar_"+this._id).css("height","0px"),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),$(this.scrollerContainer).appendTo(this.legendContainer),$(this.axisScroll).appendTo(this.chartContainer),$(this.legendContainer).appendTo(this.chartContainer),$(this.templateContainer).appendTo(this.chartContainer),$(this.chartContainer).appendTo(this.element)},setSvgSize:function(e){var t,i,s=e,a=$(s.element).height(),o=450,r=ej.isTouchDevice()?250:600,n=$(s.element).width();$(s.chartContainer).height(),s.model.size.width?r="string"==typeof(t=s.model.size.width)&&-1!=t.indexOf("%")?n/100*parseInt(t):parseInt(t):n>0&&(r=n),$(s.svgObject).width(r),s.model.size.height?o="string"==typeof(i=s.model.size.height)&&-1!=i.indexOf("%")?this.vmlRendering?o:a/100*parseInt(i):parseInt(i):a>0?o=a:$(s.svgObject).css("display","block"),$(s.svgObject).height(o),$("#"+s._id).css("overflow","hidden"),s.svgObject.setAttribute("width",r),s.svgObject.setAttribute("height",o)},compareExtend:function(e,t,i){var s,a,o,r;if("object"==typeof i&&null!==i)for(a=(s=Object.keys(i)).length,r=0;r<a;r++)t.hasOwnProperty(o=s[r])&&null!=t[o]?(Array.isArray(t[o])||"object"==typeof t[o]&&null!==t[o])&&this.compareExtend({},t[o],i[o]):t[o]=i[o];return t},setModelProperties:function(e){var t,i,s,a,o,r,n,l,d,h,c;if(e||this.setSvgSize(this),this.svgWidth=$(this.svgObject).width(),this.svgHeight=$(this.svgObject).height(),this.chartCross={visible:e?this.chartCross.visible:this.model.crosshair.visible,mArea:this.model.crosshair.type},this.serAnimation=[],this.model.series&&!e)for(o=!1,this.model._drawTrendline=!1,l=0;l<this.model.series.length;l++)for(n=null,ej.util.isNullOrUndefined(this.model.series[l].dataSource)&&ej.util.isNullOrUndefined(this.model.commonSeriesOptions.dataSource)||(n=ej.util.isNullOrUndefined(this.model.series[l].dataSource)?this.model.commonSeriesOptions.dataSource:this.model.series[l].dataSource),this.model.series[l]=ej.copyObject({},this.model.commonSeriesOptions,this.model.series[l]),this.model.series[l].dataSource=n,this.serAnimation.push(null==(a=this.model.series[l]).enableAnimation?this.model.commonSeriesOptions.enableAnimation:a.enableAnimation),i=(t=a.trendlines).length,d=0;d<i;d++)if(t[d]=ej.copyObject({},this.model.trendlineDefaults,t[d]),t[d]._visibility=t[d].visibility,"visible"==t[d].visibility.toLowerCase()){if(this.model._drawTrendline=!0,r=t[d].type.toLowerCase(),!ej.util.isNullOrUndefined(a.points))for(h=0;h<a.points.length;h++)if(s=a.points[h],ej.util.isNullOrUndefined(s.y)||0==s.y){o=!0;break}t[d].isNull=!(!o||"power"!=r&&"exponential"!=r)}if(this.model.indicators)for(c=0;c<this.model.indicators.length;c++)this.model.indicators[c]=ej.copyObject({},this.model.indicatorDefaults,this.model.indicators[c])},_createChart:function(){var e,t,i,s;if(this.svgObject=this.svgRenderer.svgObj,e=$.extend({},ej.EjSvgRender.commonChartEventArgs),this._trigger("load",e),this.setTheme(ej.EjSvgRender.themes,this.model.theme),(t=this.model).series[0]&&t.series[0]._isdesigntime){for(t.series[0]={},t.series[0].points=[],i=[],s=1;s<=10;s++)i.push({x:s,y:Math.floor(-30*Math.random())+40});t.series[0].points=i}this.vmlRendering=!!this.svgRenderer.vmlNamespace,($(this.element).is(":visible")||"hidden"!=$(this.element).css("visibility")||"none"!=$(this.element).css("display"))&&(this.bindEvents(),this.bindTo())},setTheme:function(e,t){var i=t.toLowerCase();(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&-1==i.indexOf("gradient")&&-1==i.indexOf("dark")?e[i]=$.extend(!0,{},e.flatlight,e[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark"))>=0&&-1==i.indexOf("gradient")?e[i]=$.extend(!0,{},e.flatdark,e[i]):(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")>=0&&-1==i.indexOf("dark")?e[i]=$.extend(!0,{},e.gradientlight,e[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark")>=0)&&i.indexOf("gradient")>=0?e[i]=$.extend(!0,{},e.gradientdark,e[i]):i.indexOf("high")>=0?e[i]=$.extend(!0,{},e.highcontrast01,e[i]):i.indexOf("material")>=0||i.indexOf("office")>=0?e[i]=$.extend(!0,{},e.material,e[i]):e[i]||(i="flatlight"),this.model=this.model._themeChanged?ej.copyObject({},this.model,e[i]):this.compareExtend({},this.model,e[i]),this.model.background=ej.util.isNullOrUndefined(this.model.background)?e[i].background:this.model.background},_drawBackInterior:function(){if(this.model.backInterior&&this.model.backInterior._gradientStop){var e={id:this.svgObject.id+"_backGradient",x1:"0%",y1:"0%",x2:"0%",y2:$(this.svgObject).height()+"%"};this.svgRenderer.drawGradient(e,this.model.backInterior._gradientStop)}},_drawBackImage:function(){var e={height:$(this.svgObject).height(),width:$(this.svgObject).width(),href:this.model.backGroundImageUrl,x:0,y:0,id:this.svgObject.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"};this.svgRenderer.drawImage(e,this.svgObject)},_getDataType:function(e){var t=typeof e;return"number"===t||"string"===t?t:"date"==jQuery.type(e)?"date":null==e&&null},addedXYValues:function(e){var t,i;e=e||!1;var s,a,o,r,n,l,d,h,c,u,p,m,g,_=this.model,f=_.series,b=f[0].type.toLowerCase(),v=ej.util.isNullOrUndefined,x=_.primaryXAxis.valueType,y=!1;if("cartesianAxes"!=(g=_.AreaType=ej.seriesTypes[b].prototype.chartAreaType)&&"None"!=g&&(g=_.AreaType="polaraxes",_.isPolar="polar"==b),g=_.AreaType=_.AreaType.toLowerCase(),!e){for(o=0;o<f.length;o++)if("visible"==f[o].visibility){if(c=!0,l=!1,f[o].dataSource&&0!=f[o].dataSource.length)for((h=f[o])._xAxisValueType=null,s=h.points.length,null!=(d=h.points[0].x)&&(h._xAxisValueType=this._getDataType(d)),t=h.points.length,m=h.points,i=0;i<t;i++)"string"==typeof m[i].x&&-1!=m[i].x.indexOf("<br>")&&(m[i].x=m[i].x.replace(/(<br>)+/g,"<br>"));else for(m=f[o].points,f[o].points=null,f[o]=$.extend(!0,{},_.commonSeriesOptions,f[o]),f[o].points=m,h=f[o],"datetime"==x&&(y=!0),s=m.length,n=0;n<s;n++)m[n].YValues=[],u=1==/^-?[0-9]*\.?[0-9]+$/.test(m[n].x),p="category"!=x&&"datetime"!=x&&("string"==typeof m[n].x||m[n].x instanceof String)&&parseFloat(m[n].x),!isNaN(p?m[n].x:parseFloat(m[n].x))&&p&&u&&"category"!=x&&"none"!=g&&(m[n].x=y?new Date(m[n].x):parseFloat(m[n].x)),"string"==typeof m[n].x&&-1!=m[n].x.indexOf("<br>")&&(m[n].x=m[n].x.replace(/(<br>)+/g,"<br>")),m[n].xValue=m[n].x,l||v(d=m[n].x)||(h._xAxisValueType=this._getDataType(d),l=!0),h._hiloTypes||"rangecolumn"==h.drawType.toLowerCase()?(v(m[n].high)||(m[n].YValues[0]=m[n].high,m[n].y=m[n].high),v(m[n].low)||(m[n].YValues[1]=m[n].low),v(m[n].open)||(m[n].YValues[2]=m[n].open),v(m[n].close)||(m[n].YValues[3]=m[n].close)):(m[n].YValues[0]=h.points[n].y,(c=c&&!v(m[n].size))&&(m[n].YValues[1]=m[n].size));if("waterfall"==h.type.toLowerCase())this.calculateWaterfallSeriesPoints(h.points);else if(h._previousType&&"waterfall"==h._previousType.toLowerCase())for(a=h.points,r=0;r<a.length;r++)a[r].waterfallSum=void 0,a[r].textOptions=null}this._setInternalValues()}},calculateWaterfallSeriesPoints:function(e){for(var t=0,i=0,s=0,a=0;a<e.length;a++)e[a].isEmpty?(e[a].YValues[1]=0,e[a].YValues[0]=0):(i+=e[a].showIntermediateSum||e[a].showTotalSum?0:e[a].y,e[a].showIntermediateSum?(e[a].YValues[1]=t,e[a].YValues[0]=i,e[a].waterfallSum=i-t,t=i):e[a].showTotalSum?(e[a].YValues[1]=0,e[a].YValues[0]=i,e[a].waterfallSum=i):(e[a].YValues[1]=s,e[a].YValues[0]=s+e[a].y,s=i))},_setInternalValues:function(){for(var e,t,i,s=0;s<this.model.series.length;s++){if(e=this.model.series[s],"cartesianaxes"==this.model.AreaType&&"cartesianAxes"==ej.seriesTypes[e.type.toLowerCase()].prototype.chartAreaType)e._zOrder=e.zOrder?e.zOrder:0,this.model._visibleSeries.push(e);else if("none"==this.model.AreaType&&"None"==ej.seriesTypes[e.type.toLowerCase()].prototype.chartAreaType){if(e._zOrder=e.zOrder?e.zOrder:0,"funnel"==(t=this.model.series[s].type.toLowerCase())||"pyramid"==t){this.model._visibleSeries.push(e);break}this.model._visibleSeries.push(e)}else"polaraxes"==this.model.AreaType&&"PolarAxes"==ej.seriesTypes[e.type.toLowerCase()].prototype.chartAreaType&&(e._zOrder=e.zOrder?e.zOrder:0,this.model._visibleSeries.push(e));if((e._yAxisName||e._xAxisName)&&this.model._axes)for(i=0;i<this.model._axes.length;i++)e._yAxisName&&e._yAxisName==this.model._axes[i].name&&(this.model._axes[i].orientation=this.model._axes[i].orientation?this.model._axes[i].orientation:this.model.requireInvertedAxes?"horizontal":"vertical"),e._xAxisName&&e._xAxisName==this.model._axes[i].name&&(this.model._axes[i].orientation=this.model._axes[i].orientation?this.model._axes[i].orientation:this.model.requireInvertedAxes?"vertical":"horizontal")}},setHiloStyle:function(e,t,i,s){var a,o=e.points[t];return a=(o.fill?o.fill:e.fill?e.fill:s)||this.model.seriesColors[i],"array"==jQuery.type(a)?a[0].color:a},setStyle:function(e,t,i,s,a,o){var r,n,l,d,h,c,u=(o||t._visiblePoints)[s],p=u.border,m=t.border;return t._hiloTypes&&(n=t.isFill?t.fill:null),"cartesianaxes"==e.chartObj.model.AreaType?(u.fill?r=u.fill:"waterfall"==t.type.toLowerCase()?((u.showIntermediateSum||u.showTotalSum)&&u.waterfallSum>0||u.y>0&&!u.showIntermediateSum&&!u.showTotalSum)&&(r=t.positiveFill?t.positiveFill:a):r=n||a,l=r||this.model.seriesColors[i],d=e.chartObj.model.requireInvertedAxes?this.svgRenderer.createGradientElement(e.getSeriesName(t)+"_"+i+s,l,0,0,100,0,e.gSeriesGroupEle):this.svgRenderer.createGradientElement(e.getSeriesName(t)+"_"+i+s,l,0,0,0,100,e.gSeriesGroupEle)):(h=this.model.pointColors,r=u.fill?u.fill:"array"==jQuery.type(h[s])?h[s][0].color:h[s],c=this.svgRenderer.createGradientElement(e.getSeriesName(t)+s,r,0,0,0,$(e.svgObject).height()||parseFloat(this.model.size.height),e.chartObj.gSeriesEle)),{interior:d||c,borderColor:p&&p.color?p.color:m.color,borderWidth:p&&!ej.util.isNullOrUndefined(p.width)?p.width:m.width,width:u.width?u.width:t.width,opacity:u.opacity?u.opacity:t.opacity,dashArray:p&&p.dashArray?p.dashArray:m.dashArray}},colorNameToHex:function(e){var t=e,i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"[object Array]"==Object.prototype.toString.call(t)?t:void 0!==i[t.toLowerCase()]?i[t.toLowerCase()]:t},_getLocalizedLabels:function(){return ej.getLocalizedConstants(this.sfType,this.model.locale)},_setCulture:function(e){this.culture=ej.preferredCulture(e)},draw:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E;for(this.removeMultiRect(),(t={}).axes={},this._drawBackInterior(),this.model.chartRegions=[],this.model.outsideDataRegionPoints=[],this.model.regionCount=null,this.model.circularRadius=[],this.model.circleCenterX=[],this.model.circleCenterY=[],this.model.innerRadius=[],this.model.bounds=[],this.accDataLabelRegion=[],this.model.rightsidebounds=[],this.model.leftsidebounds=[],this.model.excludeDataUpdate=e,this.model.yAxisLabelRegions=[],this.model.xAxisLabelRegions=[],this.model.axisMultiLevelLabelRegions=[],this.model.multiLevelLabelRegions=[],this.model.minhightwidth=!1,this.model._isPieOfPie=!1,e||(this.model._visibleSeries=[]),this.model.stackedValue={},this.model._locale=this.model.locale||"en-US",this._setCulture(this.model._locale),this._localizedLabels=this._getLocalizedLabels(),z=this.model.series.length,this.model._sideBySideSeriesPlacement=ej.util.isNullOrUndefined(this.model.sideBySideSeriesPlacement)?!this.model.enable3D:this.model.sideBySideSeriesPlacement,E=0;E<z;E++)i=(p=this.model.series[E]).type.toLowerCase(),p._isTransposed=-1==i.indexOf("bar")?p.isTransposed:!p.isTransposed;for(z>0&&this.addedXYValues(e),this.model.AreaType=this.model.AreaType||"cartesianaxes",this._isEjScroller(),(s=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},this._trigger("preRender",s),this.gLegendEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_Legend"}),this.gTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartTitle",cursor:"default"}),this.gSubTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartsubTitle",cursor:"default"}),this._createAxisLabelAndRange(),E=0;E<this.model._axes.length;E++)t.axes[this.model._axes[E].name]={};for(this._initializeSeriesColors(),this._calculateLegendBounds(),this.legendRender=new ej.EjLegendRender(this),(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={legendBounds:this.model.LegendBounds},this._trigger("legendBoundsCalculate",a),h=0;h<this.model.indicators.length;h++)if((o=this.model.indicators[h])._points=[],o.xAxisName=o.xAxisName?o.xAxisName:this.model._axes[0].name,o.yAxisName=o.yAxisName?o.yAxisName:this.model._axes[1].name,o.isIndicator=!0,o.dataSource&&o.dataSource.length>0)o._hiloTypes=!0,this._processJsonData(o.dataSource,o),o._points=o.points;else if(o.points.length>0)for(E=0;E<o.points.length;E++)o._points=o.points,o._points[E].xValue=o.points[E].x,o._points[E].YValues=[],o._points[E].YValues[0]=o.points[E].close;else if(""!=o.seriesName)for(r=0;r<this.model._visibleSeries.length;r++)o.seriesName==(p=this.model._visibleSeries[r]).name&&(o._points=$.extend(!0,[],p.points));for(d=0;d<this.model._axes.length;d++)if(this.model._axes[d].valueType&&"category"==this.model._axes[d].valueType.toLowerCase())for(E=0;E<this.model.indicators.length;E++)if(this.model._axes[d].name==(o=this.model.indicators[E]).xAxisName)for(h=0;h<o._points.length;h++)o._points[h].xValue=h;for(this.model.indicatorRange=[],r=0;r<this.model.indicators.length;r++)(o=this.model.indicators[r])._points.length>0&&(g=o.type.toLowerCase(),(n=new ej.indicatorTypes[g]).calculateSegment(o,this));for(m=0;m<this.model._visibleSeries.length;m++)for(n=this.model._visibleSeries[m],E=0;E<n.points.length&&"string"==typeof n.points[E].xValue&&-1!=n.points[E].xValue.indexOf("/Date(");E++)n.points[E].xValue=new Date(parseInt(n.points[E].xValue.substr(6)));this.model.hAxes=[],this.model.vAxes=[];var V=this,N=!1,F=!1;for(this._arrangeAxis(),this.model.crosshairLabelVisibility=!1,d=0;d<this.model._axes.length;d++){this.model.crosshairLabelVisibility=(ae=this.model._axes[d]).crosshairLabel.visible||this.model.crosshairLabelVisibility;var B=[],z=this.model.series.length,Y=this.model._axes[d].orientation.toLowerCase(),X=this.model._axes[d].rangePadding.toLowerCase();if(ej.util.isNullOrUndefined(this.model._axes[d]._rangePadding)&&(this.model._axes[d]._rangePadding=this.model._axes[d].rangePadding),"auto"==X)for("vertical"==Y&&(ae.rangePadding=this.model.requireInvertedAxes?"none":"normal"),"horizontal"==Y&&(ae.rangePadding=this.model.requireInvertedAxes?"normal":"none"),h=0;h<z;h++)if(-1!=(g=this.model.series[h].type.toLowerCase()).indexOf("100")&&ae.name==this.model.series[h]._yAxisName){ae.rangePadding="round";break}for(c=0;c<ae.stripLine.length;c++)ae.stripLine[c]=$.extend(!0,{},this.model.stripLineDefault,ae.stripLine[c]),"over"==ae.stripLine[c].zIndex.toLowerCase()?N=!0:F=!0;for(u=ae.orientation.toLowerCase(),h=0;h<this.model._visibleSeries.length;++h){this.model._hasSeriesPoints=(p=this.model._visibleSeries[h]).points.length>0||this.model._hasSeriesPoints,p.xAxisName||(p._xAxisName=V.model._axes[0].name),p.yAxisName||(p._yAxisName=V.model._axes[1].name),p._xAxisName=p._xAxisName?p._xAxisName:p.xAxisName?p.xAxisName:V.model._axes[0].name,p._yAxisName=p._yAxisName?p._yAxisName:p.yAxisName?p.yAxisName:V.model._axes[1].name;var H=p._xAxisName.toLowerCase(),W=p._yAxisName.toLowerCase(),U=ae.name.toLowerCase();if((H||W)&&(H==U||W==U)){if(("horizontal"==u||-1!=p.type.toLowerCase().indexOf("bar")&&"vertical"==u)&&ae.valueType&&"datetime"==ae.valueType.toLowerCase())for(m=0;m<p.points.length;m++)"string"!=typeof p.points[m].xValue||isNaN(Date.parse(p.points[m].xValue))||(p.points[m].xValue=new Date(Date.parse(p.points[m].xValue)));else"string"!=p._xAxisValueType||ae.valueType||(ae._valueType="horizontal"!=u||this.model.requireInvertedAxes?"vertical"==u&&this.model.requireInvertedAxes?"category":"double":"category"),"date"!=p._xAxisValueType||ae.valueType||(ae._valueType="horizontal"!=u||this.model.requireInvertedAxes?"vertical"==u&&this.model.requireInvertedAxes?"datetime":"double":"datetime");"visible"==this.model._visibleSeries[h].visibility.toLowerCase()&&B.push(p)}}if(u==(this.model.requireInvertedAxes?"horizontal":"vertical")){var G=!1,q=!1;for(z=B.length,ae.isStacked100=B.length>0,E=0;E<z;E++)-1!=(g=B[E].type.toLowerCase()).indexOf("stacking")||"polaraxes"==this.model.AreaType&&("column"==B[E].drawType.toLowerCase()||"area"==B[E].drawType.toLowerCase())&&B[E].isStacking?-1==g.indexOf("100")||G?-1!=g.indexOf("100")||q||(this._calculateStackingValues(B,ae,t),q=!0,ae.isStacked100=!1):(this._calculateStackingCumulativeValues(B,ae,t),G=!0):ae.isStacked100=!1}for((l=ae.scrollbarSettings).visible&&(null!=l.pointsLength||null!=l.range.min||null!=l.range.max)&&(this.model.isLazyZooming=!0),ae._valueType=ae._valueType?ae._valueType:ae.valueType?ae.valueType:"double",_=new(ej.axisTypes[ae._valueType.toLowerCase()]),f=0;f<B.length;f++)for(b=0;b<B[f].trendlines.length;b++)if("visible"==B[f].trendlines[b].visibility){this.model._drawTrendline=!0;break}_._calculateRanges(V,ae,B,t,e)}if(V._chartResize=!1,(v=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={axes:this.model._axes},this._trigger("axesLabelsInitialize",v),this.model.isLazyZooming||this._updateScroll(),(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(x=ej.util.isNullOrUndefined(this.prevHeight)?this.svgHeight:this.prevHeight,y=ej.util.isNullOrUndefined(this.prevWidth)?this.svgWidth:this.prevWidth,(D=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={currentHeight:x,currentWidth:y,newHeight:this.model.svgHeight,newWidth:this.model.svgWidth},this._trigger("beforeResize",D),D.cancel?(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=D.data.currentWidth,this.svgRenderer.svgObj.height=D.data.currentHeight),this.model.svgWidth=D.data.currentWidth,this.model.svgHeight=D.data.currentHeight,$(this.svgObject).width(D.data.currentWidth),$(this.svgObject).height(D.data.currentHeight)):(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=D.data.newWidth,this.svgRenderer.svgObj.height=D.data.newHeight),this.model.svgWidth=D.data.newWidth,this.model.svgHeight=D.data.newHeight,$(this.svgObject).width(D.data.newWidth),$(this.svgObject).height(D.data.newHeight))),this._calculateAreaBounds(t),this.model.enable3D&&(w=new ej.Ej3DRender,this.vector=new w.vector3D,this.matrixobj=new w.matrix3D,this.bsptreeobj=new w.BSPTreeBuilder,this.polygon=new w.polygon3D,this.graphics=new w.Graphics3D,this.chart3D=this.svgRenderer.createGroup({id:this.svgObject.id+"_Chart3D"}),ej.Ej3DRender.Polygons=[]),"none"!=this.model.AreaType){for(this._calculateAxisSize(t),E=0,j=this.model._axes.length;E<j;E++)this._validateCrossing(this.model._axes[E])&&this._axisCrossing(this.model._axes[E],!1,t);if(t._crossAxisOverlap){for(E=0,j=this.model._axes.length;E<j;E++)t.axes[this.model._axes[E].name]._validCross&&this._axisCrossing(this.model._axes[E],!0,t);t._crossAxisOverlap=!1}if((S=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={areaBounds:this.model.m_AreaBounds},this._trigger("chartAreaBoundsCalculate",S),this._drawChartAreaRect(),""!=this.model.title.text&&this.model.title.text&&this.model.title.visible&&this._drawTitle(),this.gXaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis"}),this.gYaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxis"}),this.gPolarAxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_AxisLine"}),this.model.enable3D?($.extend(ej.Ej3DAxisRenderer.prototype,this),this.chartaxis=new ej.Ej3DAxisRenderer(this)):($.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this)),k=this.chartaxis,this.model.xAxisTitleRegion=[],this.model.yAxisTitleRegion=[],this.model.enable3D){for(P=0;P<this.model._axes.length;P++)k._drawAxes(P,this.model._axes[P],t);ej.Ej3DChart.prototype.update3DWall(this,t)}else for(P=0;P<this.model._axes.length;P++)k._drawGridLines(P,this.model._axes[P],t);this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject));var Z="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,Q="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,K="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,J="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height,ee={id:this.svgObject.id+"_ChartAreaClipRect",x:Z,y:Q,width:K,height:J,fill:"white","stroke-width":1,stroke:"Gray"};this.svgRenderer.drawClipPath(ee,this.svgObject),this._setZoomProperties()}else this._drawChartAreaRect(),ee={id:this.svgObject.id+"_ChartAreaClipRect",x:0,y:0,width:$(this.svgObject).width(),height:$(this.svgObject).height(),fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(ee,this.svgObject),""!=this.model.title.text&&this.model.title.text&&this.model.title.visible&&this._drawTitle();for(F&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&(this.gStriplineBehind=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineBehind","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("behind")),this.model.initSeriesRender&&(this.seriesRender(t,e),this.indicatorRender()),C=this.model.annotations.length,$("#annotation_group_"+this._id).empty(),T=0;T<C;T++)(L=this.model.annotations[T]).visible&&this.annotationRender(L,T);if("polaraxes"==this.model.AreaType&&this.model._axes[1].visible&&!this.model.enable3D&&this.chartaxis._drawAxisLine(this.model._axes[1]),"cartesianaxes"===this.model.AreaType&&(this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject)),this.gXaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTick"}),this.gYaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTick"})),$.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this),k=this.chartaxis,N&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&(this.gStriplineOver=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineOver","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("over")),!this.model.enable3D){var te="cartesianaxes"==this.model.AreaType.toLowerCase(),ie=this.model._axes,se=this.model.enableCanvasRendering;for(P=0,j=ie.length;P<j;P++){var ae,oe=t.axes[(ae=ie[P]).name]._lineOption,re=t.axes[ae.name]._validCross;te&&(k._drawAxes(P,ae),oe[0]&&this.svgRenderer.drawLine(oe[0],oe[1]),"horizontal"===ae.orientation.toLowerCase()?(k._drawXAxisTickLine(P,ae,se?null:oe[1],t),k._drawXAxisMultiLevelLabels(P,ae)):(k._drawYAxisTickLine(P,ae,se?null:oe[1],re),k._drawYAxisMultiLevelLabels(P,ae)),ae._crossValue=null)}}if(!this.resetZooming&&(this.model._chartAreaZoom||this.panning)&&this._enableZoomingButtons(),this.resetZooming=!1,(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(this.prevHeight=this.model.svgHeight,this.prevWidth=this.model.svgWidth,(D=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={height:this.prevHeight,width:this.prevWidth,prevHeight:x,prevWidth:y,originalHeight:this.svgHeight,originalWidth:this.svgWidth},this._trigger("afterResize",D)),0==$.grep(B=this.model._visibleSeries,(function(e){return"true"==e.selectionSettings.enable.toString()})).length?(this.model.selectionEnable=!1,this._removeSelection()):this.model.selectionEnable=!0,A=this.remove_duplicates(this.model.selectedDataPointIndexes),this.model.selectionEnable)for(this._removeSelection(),this.model._isStateChaged=!0,R=A.length,E=0;E<R;E++)(p=this.model._visibleSeries[(O=A[E]).seriesIndex])&&("series"!=(I=p.selectionSettings.mode)&&p.points[O.pointIndex]||"series"==I)&&this.segmentSelection(O.event,O.legendData,O.seriesIndex,O.pointIndex,O.data);for(this.chartUpdating=!1,$(document).find("#measureTex").remove(),(M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={model:this.model},this._trigger("loaded",M),E=0;E<this.model._axes.length;E++)"logarithmic"!=(ae=$.extend(!0,{},this.model._axes[E]))._valueType.toLowerCase()&&(this.model._axes[E].range=ae._initialRange)},remove_duplicates:function(e){for(var t,i,s=[],a=[],o=e.length,r=this.model._visibleSeries,n=0;n<o;n++)"series"==(t=(i=r[e[n].seriesIndex])?i.selectionSettings.mode:"")?(s.indexOf(e[n].seriesIndex)>-1||a.push(e[n]),s.push(e[n].seriesIndex)):"cluster"==t?(s.indexOf(e[n].pointIndex)>-1||a.push(e[n]),s.push(e[n].pointIndex)):(e[n]in s||a.push(e[n]),s.push(e[n]));return a},_setZoomProperties:function(){for(var e,t,i,s,a=0;a<this.model._axes.length;a++)s=(e=this.model._axes[a]).orientation.toLowerCase(),t=e.zoomFactor.toFixed(3),i=e.zoomPosition.toFixed(3),"horizontal"==s&&(t!=this._xZoomFactor()||i!=this._xZoomPosition())&&(this._xZoomFactor(e.zoomFactor.toFixed(3)),this._xZoomPosition(e.zoomPosition.toFixed(3))),"vertical"==s&&(t!=this._yZoomFactor()||i!=this._yZoomPosition())&&(this._yZoomFactor(e.zoomFactor.toFixed(3)),this._yZoomPosition(e.zoomPosition.toFixed(3)))},annotationRender:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D=this._id,A=!1,O=this.model.series[0],I=O.type.toLowerCase(),R=this.model.m_AreaBounds.X,M=this.model.m_AreaBounds.Y,E=this.model.m_AreaBounds.Width,V=this.model.m_AreaBounds.Height,N=this.model.margin.left,F=this.model.margin.top,B=$.inArray(O,this.model._visibleSeries),z=this.model.circularRadius[B],Y=this.model.circleCenterX[B],X=this.model.circleCenterY[B],H=$(document);e=$.extend(!0,{},this.model.annotationsDefault,e),(i=0!=$("#annotation_group_"+D).length?$("#annotation_group_"+D):$("<div></div>").attr("id","annotation_group_"+D)).css({position:"absolute",left:"0px",top:"0px"}),"SCRIPT"==(a=$("#"+(s=e.content))).get(0).tagName&&(a=$($("#"+s)[0].innerHTML)),o=a.clone(),r="annotation_"+D+"_"+s+"_"+t,$(o).attr("id",r),(n=$(o)).css({position:"absolute","z-index":2e3});var W=e.region.toLowerCase(),U=e.coordinateUnit.toLowerCase(),G="string"==typeof e.x||"object"==typeof e.x?Date.parse(e.x):e.x,q=e.y,Z=e.horizontalAlignment.toLowerCase(),Q=e.verticalAlignment.toLowerCase();if("pixels"==U)"series"==W?E+R+N>G+R&&V+M+F>q+M&&(l=G+R,d=q+M):"chart"==W&&$(this.svgObject).width()>G&&$(this.svgObject).height()>q&&(l=G,d=q),n.css({left:l,top:d}),A=!0;else if("points"==U)if(h={x:G,y:q},"polaraxes"==this.model.AreaType)b=this.model._axes[1],G>=(f=this.model._axes[0]).visibleRange.min&&G<=f.visibleRange.max&&q>=b.visibleRange.min&&q<=b.visibleRange.max&&(c=this.TransformToVisibleAnnotation(f,b,G,q,this),n.css({left:c.X,top:c.Y}),A=!0);else if("pyramid"==I||"funnel"==I)for(p=0;p<O._visiblePoints.length;p++)(O._visiblePoints[p].xValue<=G&&G<O._visiblePoints.length||Date.parse(O._visiblePoints[p].xValue)<=G&&G<O._visiblePoints.length)&&(n.css({left:(u=O._visiblePoints[G]).xLocation+this.pyrX,top:u.yLocation+this.pyrY-u.height/2}),A=!0);else if("pie"==I||"doughnut"==I||"pieofpie"==I){for(p=0;p<O._visiblePoints.length;p++)if(O._visiblePoints[p].xValue<=G&&G<O._visiblePoints.length||Date.parse(O._visiblePoints[p].xValue)<=G&&G<O._visiblePoints.length){u=O._visiblePoints[G];var K,J,ee=G,te=new ej.seriesTypes[I],ie=u?u.currentMidAngle:0;ee!=O.explodeIndex&&!O.explodeAll||this.vmlRendering?(K=Y,J=X):(K=Y+Math.cos(ie)*O.explodeOffset,J=X+Math.sin(ie)*O.explodeOffset),m=te.getXCordinate(K,z,ie),g=te.getYCordinate(J,z,ie),n.css({left:(m+(m+K)/2)/2,top:(g+(g+J)/2)/2}),A=!0}}else{var se=e.xAxisName,ae=e.yAxisName,oe=this.model._axes.length;for(_=0;_<oe;_++)this.model._axes[_].name==se&&(f=this.model._axes[_]),this.model._axes[_].name==ae&&(b=this.model._axes[_]);f||(f=this.model._axes[0]),b||(b=this.model._axes[1]),v="string"==typeof f.range.min||"object"==typeof f.range.min?Date.parse(f.range.min):f.range.min,x="string"==typeof f.range.max||"object"==typeof f.range.max?Date.parse(f.range.max):f.range.max,v<=G&&x>=G&&(this.model.requireInvertedAxes?(h.x=h.y+(h.y=h.x,0),c=this._getAnnotationPoint(h,b,f),n.css({left:c.X+R,top:c.Y+f.y})):(c=this._getAnnotationPoint(h,f,b),n.css({left:c.X+R,top:c.Y+b.y})),A=!0)}else{if(n.css("display","block").appendTo($(i)),$(i).appendTo("#chartContainer_"+D),y=n.outerWidth(),w=n.outerHeight(),"chart"==W){switch(Z){case"middle":l=$(this.svgObject).width()/2-y/2;break;case"left":l=0;break;case"right":l=$(this.svgObject).width()-y}switch(Q){case"middle":d=$(this.svgObject).height()/2-w/2;break;case"top":d=0;break;case"bottom":d=$(this.svgObject).height()-w}}else if("pie"==I||"doughnut"==I||"pieofpie"==I){switch(l=Y,d=X,Z){case"middle":l=Y-y/2;break;case"left":l=Y-z;break;case"right":l=Y+z-y}switch(Q){case"middle":d=X-w/2;break;case"top":d=X-z;break;case"bottom":d=X+z}}else{switch(Z){case"middle":l=R+E/2-y/2;break;case"left":l=R;break;case"right":l=R+E-y}switch(Q){case"middle":d=M+V/2-w/2;break;case"top":d=M;break;case"bottom":d=M+V-w}}("pyramid"==I||"funnel"==I)&&(l-=N),n.css({left:l,top:d})}if(l=parseFloat(n.css("left")),d=parseFloat(n.css("top")),"none"!=U&&A){switch(n.css("display","block").appendTo($(i)),$(i).appendTo("#chartContainer_"+D),y=n.outerWidth(),w=n.outerHeight(),Z){case"middle":l-=y/2;break;case"left":l-=y}switch(Q){case"middle":d-=w/2;break;case"top":d-=w}}l=l+(S=e.margin).left-S.right,d=d+S.top-S.bottom,(C=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={content:n.html(),location:{x:l,y:d},opacity:e.opacity,angle:e.angle},this._trigger("annotationRendering",C),n.html(C.data.content),n.css({left:C.data.location.x,top:C.data.location.y,opacity:C.data.opacity}),(T=C.data.angle)&&n.css({"-ms-transform":"rotate("+T+"deg)","-webkit-transform":"rotate("+T+"deg)","-moz-transform":"rotate("+T+"deg)","-o-transform":"rotate("+T+"deg)","-transform":"rotate("+T+"deg)"});var re=n.attr("id"),ne=P=k=L=0,le=$("#"+this._id).width(),de=$("#"+this._id).height();!A||0!=T||"series"!=W&&"points"!=U?A&&0==T&&"chart"==W?(le<l+y&&(L=y-(l+y-le)),l<0&&(k=0==(k=y+l)?y:k),de<d+w&&(P=w-(d+w-de)),d<0&&(ne=0==(ne=w+d)?w:ne),L=0==L?y:L,P=0==P?w:P,document.getElementById(re).style.clip="rect("+ne.toString()+"px,"+L.toString()+"px,"+P.toString()+"px,"+k+"px)"):!A||90!=T||"series"!=W&&"points"!=U?A&&90==T&&"chart"==W&&(l=(j=document.getElementById(re).getBoundingClientRect()).left-$(this.svgObject).offset().left,de<(d=j.top-$(this.svgObject).offset().top)+y&&(L=y-(d+y-de)),l<0&&(P=0==(P=w-(0-l))?w:P),d<0&&(k=0==(k=0-d)?y:k),le<l+w&&(ne=l+w-le),L=0==L?y:L,P=0==P?w:P,document.getElementById(re).style.clip="rect("+ne.toString()+"px,"+L.toString()+"px,"+P.toString()+"px,"+k+"px)"):(l=(j=document.getElementById(re).getBoundingClientRect()).left-$(this.svgObject).offset().left+H.scrollLeft(),V+M<(d=j.top-$(this.svgObject).offset().top+H.scrollTop())+y&&(L=y-(d+y-(V+M))),l<R&&(P=w-(R-l)),d<M&&(k=M-d),E+R<l+w&&(ne=l+w-(E+R)),L=0==L?y:L,P=0==P?w:P,document.getElementById(re).style.clip="rect("+ne.toString()+"px,"+L.toString()+"px,"+P.toString()+"px,"+k+"px)"):(E+R<l+y&&(L=y-(l+y-(E+R))),l<R&&(k=R-l),V+M<d+w&&(P=w-(d+w-(V+M))),d<M&&(ne=M-d),L=0==L?y:L,P=0==P?w:P,document.getElementById(re).style.clip="rect("+ne.toString()+"px,"+L.toString()+"px,"+P.toString()+"px,"+k+"px)")},TransformToVisibleAnnotation:function(e,t,i,s,a){i="logarithmic"==e._valueType&&i>0?Math.log(i,e.logBase):i,s="logarithmic"==e._valueType&&s>0?Math.log(s,t.logBase):s;var o=a.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,s,this),r=ej.EjSvgRender.utils._valueToVector(e,i);return{X:a.model.centerX+o*r.X,Y:a.model.centerY+o*r.Y}},_getAnnotationPoint:function(e,t,i){var s=e.x,a=e.y,o="logarithmic"==t._valueType?ej.EjSvgRender.utils._logBase(0==s?1:s,t.logBase):s,r="logarithmic"==i._valueType?ej.EjSvgRender.utils._logBase(0==a?1:a,t.logBase):a;return o=ej.EjSvgRender.utils._getPointXY(o,t.visibleRange,t.isInversed)*t.width,r=(1-ej.EjSvgRender.utils._getPointXY(r,i.visibleRange,i.isInversed))*i.height,e.location={X:o,Y:r},e.location},indicatorRender:function(){var e,t,i,s,a,o,r,n,l;for($(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").remove(),this.gIndicatorEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_IndicatorCollection","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),e=0;e<this.model.indicators.length&&this.model.indicators[e].visible&&this.model.indicators[e]._points.length>0;e++){for(s=(t=this.model.indicators[e]).animationDuration,a=0;a<this.model._axes.length;a++)(o=this.model._axes[a]).name&&"horizontal"==o.orientation.toLowerCase()&&o.name.toLowerCase()==t.xAxisName.toLowerCase()?t.xAxis=o:o.name&&"vertical"==o.orientation.toLowerCase()&&o.name.toLowerCase()==t.yAxisName.toLowerCase()&&(t.yAxis=o);r=t.type.toLowerCase(),i=new ej.indicatorTypes[r],this.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(this.model.m_AreaBounds.X,t.yAxis.y,t.xAxis.width,t.yAxis.height),this.svgRenderer.ctx.clip(),i.draw(t,this),this.svgRenderer.ctx.restore()):i.draw(t,this),(n=i.gIndicatorGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(n,t,this),this.vmlRendering||this.model.enableCanvasRendering||t.enableAnimation&&(!t._animatedSeries||t.type!=t._previousType)&&(this.svgRenderer.append(this.gIndicatorEle,this.svgObject),l=$(this.gIndicatorEle).find("#"+this.svgObject.id+"_indicatorGroup_"+e+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,l,s),this.model.AnimationComplete=!0,t._animatedSeries=!0,t._previousType=t.type),this.svgRenderer.append(this.gIndicatorEle,this.svgObject)}},doAnimation:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y=this,w=y.model,S=w.requireInvertedAxes,C=e.type.toLowerCase(),T=$.inArray(e,w._visibleSeries),L=this.svgObject.id+"_SeriesGroup_"+T,k=$(y.gSymbolGroupEle)[T].childNodes,P=k.length,j=$(y.gDataLabelEle)[T].childNodes,D=j.length,A=$(y.gConnectorEle)[T].childNodes,O=A.length,I=null==$(y.gErrorBarGroupEle)[T]?void 0:$(y.gErrorBarGroupEle)[T].childNodes,R=ej.util.isNullOrUndefined(I)?0:I.length,M=e._animationType,E=ej.EjSeriesRender.prototype;switch(y.gSeriesGroupEle=$("#"+L)[0],f=y.model.series[T].animationDuration,ej.util.isNullOrUndefined(f)?(p=2e3,m=200,g=500,_=1e3):m=(p=g=_=parseFloat(f))/10,M){case"rect":if(l=(n=$(this.gSeriesEle).find("#"+L).children("rect")).length,d=$(y.gSeriesEle).find("#"+L+"_ClipRect").children(),"boxandwhisker"==C){for(s=$(this.gSeriesEle).find("#"+L).children("line"),i=p/(a=$(this.gSeriesEle).find("#"+L).children("path")).length,b=0;b<s.length;b++)E._doLineSymbol(s[b],i,b,e,S,y,m),E._doLineSymbol(n[b],i,b,e,S,y,m);for(v=0;v<a.length;v++)E._doLineSymbol(a[v],i,v,e,S,y,m)}else if(!C.indexOf("stacking")>-1&&"smooth"==e.animationType.toLowerCase())E.animateRect(d,e,S,y,_);else for(x=0;x<l;x++)C.indexOf("stacking")>-1?E.animateStackingRect(n[x],e,S,y,_):E.animateRect(n[x],e,S,y,_);o=r=t=p/4;break;case"path":d=$(y.gSeriesEle).find("#"+L+"_ClipRect").children(),E._doLineAnimation(y,d,p),o=p/P,r=p/D,t=p/R;break;case"scatter":for(x=0;x<P;x++)c=Math.floor(20*Math.random()+0),u=parseInt(50*c),E.animateSymbol(k[x],u,e,S,y,g);break;case"bubble":for(n=$(this.gSeriesGroupEle).children().not("defs"),u=0,x=0;x<n.length;x++)E.animateSymbol(n[x],u,e,S,y,g);for(x=0;x<P;x++)E.animateSymbol(k[x],u,e,S,y,g);for(x=0;x<D;x++)E.animateSymbol(j[x],u,e,S,y,g);for(x=0;x<O;x++)E.animateSymbol(A[x],u,e,S,y,g);break;case"hilo":for(h=p/(l=(n=$(this.gSeriesGroupEle).children().not("defs")).length),x=0;x<l;x++)E._doLineSymbol(n[x],h,x,e,S,y,m);r=p/D;break;case"cylinder":d=$(y.gSeriesEle).find("#"+L+"_ClipRect").children(),E.animateCylinder(y,e,S,d,p),o=r=t=p/4}if("bubble"!=M){for(v=0;v<P;v++)E._doLineSymbol(k[v],o,"rect"==M||"stackingRect"==M?2:v,e,S,y,m);for(v=0;v<D;v++)E._doLineSymbol(j[v],r,"rect"==M||"stackingRect"==M?2:v,e,S,y,m);for(h=p/O,v=0;v<O;v++)E._doLineSymbol(A[v],h,"rect"==M||"stackingRect"==M?2:v,e,S,y,m)}if("visible"==e.errorBar.visibility)for(v=0;v<R;v++)E._doLineSymbol(I[v],t,"rect"==M||"stackingRect"==M?2:v,e,S,y,m)},_animationElements:function(e,t,i){var s,a,o=this,r=o.model.series[i].animationDuration,n=ej.util.isNullOrUndefined(r)?2e3:parseFloat(r);if(e._previousType=ej.util.isNullOrUndefined(e._previousType)?e.type:e._previousType,!e.enableAnimation||this.vmlRendering||this.model.enableCanvasRendering||e._animatedSeries&&e.type==e._previousType||(ej.EjSeriesRender.prototype.doCircularAnimation(this,e,t,i,n),e._previousType=e.type,e._animatedSeries=!o.isSplitted),o.isSplitted=!1,this.drawAccDisplayText(t,e,i),e.enableAnimation&&e._visiblePoints.length>0&&e.AnimationComplete&&!this.vmlRendering&&!this.model.enableCanvasRendering){if(o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gSeriesTextEle[i].id),{visibility:"visible"}),o.gSymbolGroupEle&&o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gSymbolGroupEle[i].id),{visibility:"visible"}),e.marker.dataLabel.template)for(s=$(o.element[0].childNodes[0].childNodes),a=0;a<s.length;a++)$(s[a]).css("display","block");o.gConnectorEle&&o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gConnectorEle[i].id),{visibility:"visible"}),o.gDataLabelEle&&o.svgRenderer._setAttr($(o.gSeriesEle).find("#"+o.gDataLabelEle[i].id),{visibility:"visible"})}},_appendConnectorElements:function(e){var t=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal()[e];t.type.toLowerCase(),"visible"==t.visibility&&!this.model.enable3D&&t.connectorLine&&(t.connectorLines||"none"==this.model.AreaType)&&(this.svgRenderer.append(this.gConnectorEle[e],this.gSeriesEle),t.connectorLines=!1)},_appendDataLabelElement:function(e){var t,i;t=this.model._visibleSeries[e],i=ej.util.isNullOrUndefined(t.zOrder)?i:t.zOrder,"visible"!=t.visibility||this.model.enable3D||(this.svgRenderer.append(this.gSymbolGroupEle[e],this.gSeriesEle),this.model.enable3D||this.model.enableCanvasRendering||(this.gDataLabelEle[e].childNodes.length>0&&this.svgRenderer.append(this.gDataLabelEle[e],this.gSeriesEle),this.gSeriesTextEle[e].childNodes.length>0&&this.svgRenderer.append(this.gSeriesTextEle[e],this.gSeriesEle))),this.vmlRendering||"visible"!=t.visibility||this.model.enableCanvasRendering||this.model.enable3D||(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element))},_accSeriesDraw:function(e,t,i){var s,a,o=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),r=$.inArray(o[e],this.model._visibleSeries);this.model._visibleSeries[r]=o[e]=$.extend(!0,t,o[e]),(s=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:t},this._trigger("seriesRendering",s),(a=new(ej.seriesTypes[i.toLowerCase()])).draw(this,t)||(this.model.minhightwidth=!0,this._animationElements(t,a,r))},_splitSeries:function(e){var t,i,s,a=[];a[0]=$.extend(!0,[],e._visiblePoints),a[1]=[];for(var o,r=e,n=parseInt(r.splitValue),l=r.splitMode.toLowerCase(),d=a[0].length,h=0,c=0,u=[],p=0,m=0;p!=d;)m+=a[0][p].y,p++;if("position"==l){for(p=d-1;p>=0&&c!=n;p--)h+=a[0][p].y,a[1][c]=a[0][p],c++,a[0].splice(p,1);a[1].reverse()}else if("value"==l||"percentage"==l)for(i=0;i<a[0].length;i++)("value"==l?a[0][i].y:Math.round(a[0][i].y/m*100))<n&&(h+=a[0][i].y,a[1][c]=a[0][i],c++,a[0].splice(i,1),i=-1);else if("indexes"==l){for((t=(t=JSON.parse("["+r.splitValue+"]")).filter((function(e,t,i){return i.indexOf(e)==t}))).sort(),i=0;i<a[0].length;i++)for(s=0;s<t.length;s++)i==t[s]&&(h+=a[0][i].y,a[1][c]=a[0][i],c++);for(p=0;p<t.length;p++)a[0].splice(t[p]-p,1)}a[1].length>0&&(u[0]=h,a[0].unshift({_visibility:"visible",visible:!0,text:"Others",x:"string"==(o=r._xAxisValueType)?"Others":h,xValue:"string"==o?r.points.length:h,y:h,YValues:u,fill:this.model.colors[(r.points.length+1)%this.model.colors.length],isFill:!1,actualIndex:r.points.length})),this.isSplitted=!0,r.pieCollections=a},_calculateGapWidth:function(e){var t,i,s,a,o,r,n,l=0,d=0,h=.1*Math.min($(this.svgObject).width(),$(this.svgObject).width());for(ej.EjSeriesRender.prototype._calculateVisiblePoints(e),this._splitSeries(e),this.chartObj=this,a=0;a<2;a++)t=0==a?e.pieCoefficient:e.pieOfPieCoefficient,e._visiblePoints=e.pieCollections[a],e.collectionIndex=a,s=e.gapWidth,r=(o=ej.EjSeriesRender.prototype.calculatingSliceAngle(e,this.chartObj)).width<h?.25*t*h:.25*t*Math.min(o.width,o.height),i=this.model.circleCenterX[a],0==a?l=i+r:d=i-r;return this.model.pieGapWidth=(n=d-l-s)>0?n:0,e.pieCollections[0].length>0&&e.pieCollections[1].length>0&&e.connectorLine.width>0&&this.drawPieofPieConnectors(o,e),e},seriesRender:function(e,t){var i,s;if(this.model.allPoints=[],this.model.markerRegion=[],this.model.startX=[],this.model.startY=[],this.model.centerCount=0,this.gTrendlinesGroupEle=null,this.model._seriesIndex=null,this.model._previousSeries=null,!e)for(e={_crossAxisOverlap:!1,axes:{}},a=0;a<this.model._axes.length;a++)e.axes[this.model._axes[a].name]={};$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").remove();var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,F,B,z,Y,X,H,W,U,G,q=this,Z=this.svgObject,Q={id:Z.id+"_SeriesCollection","clip-path":"url(#"+Z.id+"_ChartAreaClipRect)"},K=this.model.enable3D,J=this.model.AreaType,ee=this.model.enableCanvasRendering,te=this.model._axes.length,ie=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),se=ie.length,ae=ee,oe=this.svgRenderer,re=this.model.m_AreaBounds,ne=re.X,le=this.zoomed;for(this.gSeriesEle=oe.createGroup(Q),a=0;a<se;a++)if("visible"==ie[a].visibility)for(this.model.series[a]._enableSmartLabels=ej.util.isNullOrUndefined(this.model.series[a].enableSmartLabels)?"none"==J:this.model.series[a].enableSmartLabels,ej.util.isNullOrUndefined(ie[a].xAxis)||(ie[a].xAxis=null,ie[a].yAxis=null),o=0;o<te;o++)l=a,n=(r=this.model._axes[o]).orientation.toLowerCase(),r.name&&"horizontal"==n&&r.name.toLowerCase()==ie[a]._xAxisName.toLowerCase()?ie[a].xAxis=r:r.name&&"vertical"==n&&r.name.toLowerCase()==ie[a]._yAxisName.toLowerCase()&&(ie[a].yAxis=r),this.model.requireInvertedAxes&&(r.name&&"vertical"==n&&r.name.toLowerCase()==ie[a]._xAxisName.toLowerCase()?ie[a].xAxis=r:r.name&&"horizontal"==n&&r.name.toLowerCase()==ie[a]._yAxisName.toLowerCase()&&(ie[a].yAxis=r));if(se>0)if(z=(p=ie[0]).type.toLowerCase(),H=p.visibility.toLowerCase(),"pieofpie"!=z||"visible"!=H||K)for(X=se;X>0&&"none"==J;X--)l=X-1,h=(d=ie[X-1]).visibility.toLowerCase(),c=d.type.toLowerCase(),"visible"!==h||K||"pie"!=c&&"doughnut"!=c?"none"!=J||"visible"!==h||ee||ej.Ej3DChart.prototype.renderSeries(this,d,t):this._accSeriesDraw(l,d,c);else{for(this.model._isPieOfPie=!0,p=this._calculateGapWidth(p),i=0;i<2;i++)p.collectionIndex=i,p._visiblePoints=p.pieCollections[i],this._accSeriesDraw(0,p,z);p._visiblePoints=$.merge(p.pieCollections[0],p.pieCollections[1]),this.model.pieGapWidth=null,p.collectionIndex=0}for(s=0;s<se;s++)if(l=s,h=(d=ie[s]).visibility.toLowerCase(),c=d.type.toLowerCase(),"none"!=J||"visible"!==h||K||0!==l||"pyramid"!=c&&"funnel"!=c){if("visible"!==h||K||"none"==J?K||"none"==J?"cartesianaxes"!=J||"visible"!==h||ee||ej.Ej3DChart.prototype.renderSeries(this,d,e,t):oe.append(Z,this.element):(this.model._seriesIndex=ej.util.isNullOrUndefined(this.model._seriesIndex)?0:this.model._seriesIndex+1,this.renderSeries(d,e,t),"cartesianaxes"==J&&"boxandwhisker"!=this.model.series[s].type&&this._renderTrendline(q,d)),!ej.util.isNullOrUndefined(d.xAxis)&&"datetime"==d.xAxis._valueType)for(a=0;a<d.points.length;a++)d.points[a].xValue instanceof Date==0&&(d.points[a].xValue=new Date(d.points[a].xValue))}else this._accSeriesDraw(l,d,c);if("none"!=J){for(a=0;a<se;a++)if(g=(p=this.model.series[a])._visiblePoints,p._enableSmartLabels&&"cartesianaxes"==this.model.AreaType)for("column"==(_=p.type.toLowerCase())||"stackingcolumn"==_||"bar"==_||"stackingbar"==_||"waterfall"==_||"stackingbar100"==_||"stackingcolumn100"==_||"rangecolumn"==_?this.cartesianColumnSmartLabels(p,g,a):"boxandwhisker"!=_&&this.cartesianSmartLabels(p,g,a),o=0;o<g.length;o++)(m=g[o]).hide=!ej.util.isNullOrUndefined(m.hide)&&m.hide,f=ae?m.xPos-this.canvasX:m.xPos,b=ae?m.yPos-this.canvasY:m.yPos,W=p.xAxis.visibleRange,U=p.yAxis.visibleRange,G=-1!=c.indexOf("100")?parseFloat(m.percentage):m.y,(f-m.width/2<0||f+m.width/2>re.Width||b+m.height/2>re.Height||b-m.height/2<0||le&&m.xValue<=W.min||m.xValue>=W.max||G<=U.min||G>=U.max)&&(m.hide=!(p.marker.dataLabel.showEdgeLabels&&!m.hide));for(a=0;a<se;a++)if(Y=!(p=ie[a])._dataLabels||p.marker.dataLabel.visible||p._dataLabels>0,"visible"==p.visibility&&Y)for(y=p._visiblePoints.length,x=0;x<y;x++)m=p._visiblePoints[x],(p.marker.dataLabel.visible||m.marker&&m.marker.dataLabel&&m.marker.dataLabel.visible)&&(!(m.connectorFlag||m.newConnectorFlag)||m.hide||""==m.drawText||"visible"!=p.visibility||ej.util.isNullOrUndefined(m.textOptions)||(p.connectorLine=!0,ee?(oe.ctx.save(),q.model.requireInvertedAxes?oe.ctx.rect(ne+p.yAxis.plotOffset,p.xAxis.y,p.yAxis.width,p.xAxis.height):oe.ctx.rect(ne,p.yAxis.y,p.xAxis.width,p.yAxis.height),oe.ctx.clip(),this.drawConnectorLines(a,x,m),oe.ctx.restore()):p._enableSmartLabels&&this.drawConnectorLines(a,x,m)),m.newConnectorFlag=!1);for(a=0;a<se;a++)if(c=(p=ie[a]).type.toLowerCase(),Y=!p._dataLabels||p.marker.dataLabel.visible||p._dataLabels>0,"visible"==p.visibility&&Y&&!this.model.enable3D)for(y=p._visiblePoints.length,x=0;x<y;x++)if(m=p._visiblePoints[x],(p.marker.dataLabel.visible||m.marker&&m.marker.dataLabel&&m.marker.dataLabel.visible)&&!m.hide&&!m.dataLabeltemplate&&"visible"==p.visibility&&!ej.util.isNullOrUndefined(m.textOptions)&&!m.hide){if(ej.util.isNullOrUndefined(m.textOptions.angle)||(m.textOptions.transform="rotate("+m.textOptions.angle+","+m.xPos+","+m.yPos+")"),ee){if(m.textOptions.labelRotation=m.textOptions.angle,oe.ctx.save(),q.model.requireInvertedAxes?q.svgRenderer.ctx.rect(ne+p.yAxis.plotOffset,p.xAxis.y,p.yAxis.width,p.xAxis.height):oe.ctx.rect(ne,p.yAxis.y,p.xAxis.width,p.yAxis.height),q.svgRenderer.ctx.save(),q.svgRenderer.ctx.clip(),"boxandwhisker"==c.toLowerCase())for(1==p.showMedian&&""!=m.textOptionsBoxValues&&(ej.util.isNullOrUndefined(m.textOptionsBoxValues[0].angle)||(m.textOptionsBoxValues[0].labelRotation=m.textOptionsBoxValues[0].angle,m.textOptionsBoxValues[0].transform="rotate("+m.textOptionsBoxValues[0].angle+","+m.textOptionsBoxValues[0].xPos+","+m.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.textOptionsBoxValues[0].xPos,m.textOptionsBoxValues[0].yPos,m.textOptionsBoxValues[0].width,m.textOptionsBoxValues[0].height,m.textOptionsBoxValues[0].symbolName,this),delete m.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[0],m.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[a])),v=1;v<m.textOptionsBoxValues.length;v++)ej.util.isNullOrUndefined(m.textOptionsBoxValues[v].angle)||(m.textOptionsBoxValues[v].labelRotation=m.textOptionsBoxValues[v].angle,m.textOptionsBoxValues[v].transform="rotate("+m.textOptionsBoxValues[v].angle+","+m.textOptionsBoxValues[v].xPos+","+m.textOptionsBoxValues[v].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.textOptionsBoxValues[v].xPos,m.textOptionsBoxValues[v].yPos,m.textOptionsBoxValues[v].width,m.textOptionsBoxValues[v].height,m.textOptionsBoxValues[v].symbolName,this),delete m.textOptionsBoxValues[v].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[v],m.textOptionsBoxValues[v].drawText,this.gSeriesTextEle[a]);else ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.xPos,m.yPos,m.width,m.height,m.symbolName,this),delete m.textOptions.angle,this.svgRenderer.drawText(m.textOptions,m.drawText,this.gSeriesTextEle);q.svgRenderer.ctx.restore()}else ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.xPos,m.yPos,m.width,m.height,m.symbolName,this,this.gDataLabelEle[a]),delete m.textOptions.angle,oe.drawText(m.textOptions,m.drawText,this.gSeriesTextEle[a]);if("rangecolumn"==c||"rangearea"==c||"splinerangearea"==c)m.textOptionsLow.transform="rotate("+m.textOptionsLow.angle+","+m.xPosLow+","+m.yPosLow+")",ee?(m.textOptionsLow.labelRotation=m.textOptionsLow.angle,oe.ctx.save(),q.model.requireInvertedAxes?oe.ctx.rect(ne+p.yAxis.plotOffset,p.xAxis.y,p.yAxis.width,p.xAxis.height):oe.ctx.rect(ne,p.yAxis.y,p.xAxis.width,p.yAxis.height),oe.ctx.clip(),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.xPosLow,m.yPosLow,m.widthLow,m.heightLow,m.symbolName,this),delete m.textOptionsLow.angle,oe.drawText(m.textOptionsLow,m.drawTextLow,this.gSeriesTextEle),oe.ctx.restore()):(ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.xPosLow,m.yPosLow,m.widthLow,m.heightLow,m.symbolName,this,this.gDataLabelEle[a]),delete m.textOptionsLow.angle,oe.drawText(m.textOptionsLow,m.drawTextLow,this.gSeriesTextEle[a]));else if("boxandwhisker"==c.toLowerCase())for(1==p.showMedian&&""!=m.textOptionsBoxValues&&(ej.util.isNullOrUndefined(m.textOptionsBoxValues[0].angle)||(m.textOptionsBoxValues[0].transform="rotate("+m.textOptionsBoxValues[0].angle+","+m.textOptionsBoxValues[0].xPos+","+m.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.textOptionsBoxValues[0].xPos,m.textOptionsBoxValues[0].yPos,m.textOptionsBoxValues[0].width,m.textOptionsBoxValues[0].height,m.textOptionsBoxValues[0].symbolName,this),delete m.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[0],m.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[a])),v=1;v<m.textOptionsBoxValues.length;v++)ej.util.isNullOrUndefined(m.textOptionsBoxValues[v].angle)||(m.textOptionsBoxValues[v].transform="rotate("+m.textOptionsBoxValues[v].angle+","+m.textOptionsBoxValues[v].xPos+","+m.textOptionsBoxValues[v].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(a,p,x,m.textOptionsBoxValues[v].xPos,m.textOptionsBoxValues[v].yPos,m.textOptionsBoxValues[v].width,m.textOptionsBoxValues[v].height,m.textOptionsBoxValues[v].symbolName,this),delete m.textOptionsBoxValues[v].angle,this.svgRenderer.drawText(m.textOptionsBoxValues[v],m.textOptionsBoxValues[v].drawText,this.gSeriesTextEle[a])}if("none"!=J){for(a=0;a<se;a++)this._appendConnectorElements(a);for(S=this.model._visibleSeries.length,a=0;a<S;a++)this._appendDataLabelElement(a)}}else{for(w=se-1;w>=0;w--)("pie"==(c=(p=this.model._visibleSeries[w]).type.toLowerCase())||"doughnut"==c)&&this.model.minhightwidth&&this._appendConnectorElements(w);if((S=this.model._visibleSeries.length)>0&&"pieofpie"==c)this._appendDataLabelElement(0);else for(w=se-1;w>=0;w--)("pie"==(c=(p=this.model._visibleSeries[w]).type.toLowerCase())||"doughnut"==c)&&this.model.minhightwidth&&this._appendDataLabelElement(w)}for(S=this.model._visibleSeries.length,C=0;C<S;C++)j=(I=this.model._visibleSeries[C]).drawType,c=I.type.toLowerCase(),I._previousType=ej.util.isNullOrUndefined(I._previousType)?I.type:I._previousType,this.vmlRendering||"visible"!=I.visibility||ee||K||"none"==J||(this.renderer.append(this.gSeriesEle,this.svgObject),this.renderer.append(this.svgObject,this.element),(T=new(ej.seriesTypes[I.type.toLowerCase()])).chartObj=q,T.gSeriesGroupEle="scatter"==j?$("#"+this.svgObject.id+"_symbolGroup_"+C)[0]:$("#"+this.svgObject.id+"_SeriesGroup_"+C)[0],I.enableAnimation&&(!I._animatedSeries||I._previousType!=I.type)&&"none"!=this.model.AreaType&&(I._animatedSeries=!0,I._previousType=I.type,L=$("#template_group_"+this._id),k=I.marker.dataLabel,0!=L.children().length&&k.visible&&k.template&&T.animateLabelTemplate(I),"polar"==c||"radar"==c?ej.ejRadarSeries.prototype.doAnimation(I,T):this.doAnimation(I)));if(S=(ie=this.model._visibleSeries).length,!ee&&!K)for(i=0;i<S;i++)"visible"==ie[i].visibility.toLowerCase()&&this.gTrendlinesGroupEle&&this.gTrendlinesGroupEle[i]&&0!=this.gTrendlinesGroupEle[i].childElementCount&&this.renderer.append(this.gTrendlinesGroupEle[i],Z);for(a=0;a<S;a++)for(D=(p=this.model._visibleSeries[a]).trendlines,R=p.trendlines.length,M=p.animationDuration,o=0;o<R;o++)(A=D[o]).visibility&&(O=A.type.toLowerCase(),I=new ej.trendlineTypes[O],"visible"===A.visibility.toLowerCase()&&A.points&&A.points.length>1&&p.enableAnimation&&!this.vmlRendering&&(!p._animatedTrendline||A._previousType!=A.type)&&(A._previousType=A.type,P=$(this.svgObject).find("#"+this.svgObject.id+"_TrendGroup_"+a+"_"+o+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,P,M),p._animatedTrendline=R-1==a));for(S=this.model._visibleSeries.length,N=Z.id,a=0;a<S;a++)E=$("#"+N+"_SeriesGroup_"+a),F=$("#"+N+"_SeriesGroup_waterfallLine_"+a),V=$("#"+N+"_symbolGroup_"+a),E.length>0&&V.length>0&&V.insertAfter(E),E.length>0&&F.length>0&&F.insertAfter(E);this.model.AnimationComplete=!0,(u=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:I},this._trigger("animationComplete",u),ee&&(oe.append(Z,this.element),this.panning&&$("#"+this._id+"_canvas").css({cursor:"pointer"})),K&&!ee&&(oe.append(this.chart3D,Z),B={Width:$(Z).width(),Height:$(Z).height()},this.graphics.prepareView(this.model.perspectiveAngle,this.model.depth,this.model.rotation,this.model.tilt,B,this),this.graphics.view(Z,this),oe.append(Z,this.element)),oe.vmlNamespace&&oe.append(this.gSeriesEle,Z),"polaraxes"==J&&oe.append(this.gPolarAxisEle,Z),$(Z).find("#"+Z.id+"_StriplineOver").length>0&&$(Z).find("#"+Z.id+"_StriplineOver").detach().appendTo(Z),this._renderScrollbar(),this.legendRender.drawLegend(e),q.model.initSeriesRender=!0},_calculateZoomValue:function(e,t,i,s){var a,o,r,n,l,d=i.scrollbarSettings.range;"datetime"==i._valueType.toLowerCase()?(n=Date.parse(ej.util.isNullOrUndefined(d.min)?e:new Date(d.min)),l=Date.parse(ej.util.isNullOrUndefined(d.max)?t:new Date(d.max))):(n=parseFloat(ej.util.isNullOrUndefined(d.min)?e:d.min),l=parseFloat(ej.util.isNullOrUndefined(d.max)?t:d.max)),n=Math.min(n,e),a=(l=Math.max(l,t))-n,s.isRTL?(o=(l-t)/a,r=(t-e)/a):(o=(e-n)/a,r=(t-e)/a),s.scrollRange={min:n,max:l,delta:l-n},s._previousStart=e,s._previousEnd=t,s.zoomPosition=o,s.zoomFactor=r},_renderScrollbar:function(){var e,t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x=this.model,y=x.scrollerSize,w=$("#"+this._id).offset(),S=$(this.svgObject).offset().left-w.left,C=x._axes,T=C.length,L=x.zooming.enableScrollbar,k=x.AreaType;for(x.scrollObj=x.scrollObj?x.scrollObj:[],b=0;b<T;b++)_=(i=C[b])._valueType,h=(c=i.scrollbarSettings).range,d=i.isInversed,f="cartesianaxes"==k&&!x.enable3D,l=i._opposed,u=c.pointsLength,g=i.orientation.toLowerCase(),r=i.zoomFactor,p=$("#scrollbar_"+this.axisScroll[0].id+b).length,n=i.zoomPosition,f&&(i._isScroll&&x.isLazyZooming||(r<1||n>0)&&L)?(t=i.x+("vertical"==g?-y+(l?y:0):0)+(S<=0?0:S),s=(e=i.y+("horizontal"==g?i.height+(l?-y:0):0))-("horizontal"==g?0:i.plotOffset),a=i.plotOffset+("horizontal"==g?i.width:i.height),m=x.scrollObj,o=null!=h.min||null!=h.max?!!m[b]&&(m[b].actualRange.min!=h.min||m[b].actualRange.max!=h.max):!!m[b]&&m[b].actualRange!=c.pointsLength,this.scrollDraw=m[b]?m[b].x!=t||m[b].y!=e||m[b].width!=a:this.scrollDraw,v={orientation:i.orientation,index:b,width:a,x:t,y:s,opposed:l,isRTL:d,parent:this.axisScroll,enableResize:c.canResize},x.isLazyZooming?(0==p||this.scrollDraw||o)&&($("#scrollbar_"+this.axisScroll[0].id+b).remove(),null!=h.min||null!=h.max?!this.scrollDraw||o?(m[b]={isVirtual:!0,valueType:_,scrollRange:m[b]&&m[b].scrollRange?m[b].scrollRange:i.visibleRange},m[b].actualRange=$.extend(m[b].actualRange,c.range),$.extend(m[b],v),"datetime"==_?(m[b].startDateTime=new Date(i.visibleRange.min),m[b].endDateTime=new Date(i.visibleRange.max)):(m[b].startValue=i.visibleRange.min,m[b].endValue=i.visibleRange.max),this._calculateZoomValue(i.visibleRange.min,i.visibleRange.max,i,this.model.scrollObj[b])):(m[b].width=a,m[b].x=t,m[b].y=s):u>=i.maxPointLength&&(r=i.maxPointLength/u,n=d?1-i.zoomPosition:i.zoomPosition,!this.scrollDraw||o?(m[b]={isVirtual:!0,zoomPosition:n,zoomFactor:r,scrollRange:{min:0,max:u-1,delta:u-1},valueType:"double"},m[b].actualRange=c.pointsLength,$.extend(m[b],v),m[b].startValue=0,m[b].endValue=i.maxPointLength):(m[b].width=a,m[b].x=t,m[b].y=s)),this.model.scrollObj[b]&&(this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[b]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[b]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[b]))):c.visible&&(m=x.scrollObj,(0==p||this.scrollDraw)&&($("#scrollbar_"+this.axisScroll[0].id+b).remove(),m[b]={zoomPosition:n,zoomFactor:r,valueType:_,scrollRange:i.actualRange,isZooming:!0},$.extend(m[b],v),"datetime"==m[b].valueType?(m[b].startDateTime=new Date(m[b].scrollRange.min),m[b].endDateTime=new Date(m[b].scrollRange.max)):(m[b].startValue=m[b].scrollRange.min,m[b].endValue=m[b].scrollRange.max),this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[b]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[b]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[b])))):p>0&&$("#scrollbar_"+this.axisScroll[0].id+b).remove();this.scrollDraw=!1},_renderTrendline:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m=$.inArray(t,e.model.series),g="translate("+(e.model.requireInvertedAxes?t.yAxis.x:t.xAxis.x)+","+(e.model.requireInvertedAxes?t.xAxis.y:t.yAxis.y)+")",_={id:e.svgObject.id+"_TrendlinesGroup_"+m,"clip-path":"url(#"+e.svgObject.id+"_TrendlinesGroup_"+m+"_ClipRect)"},f=t.trendlines,b="",v=f.length;for(e.gTrendlinesGroupEle||(e.gTrendlinesGroupEle=[]),e.gTrendlinesGroupEle[m]=e.svgRenderer.createGroup(_),n=0;n<v;n++)if((r=f[n]).seriesIndex=m,r.isTrendLine=!0,r.trendlineIndex=n,"visible"===r.visibility.toLowerCase()&&!r.isNull&&r.points){switch(c={id:e.svgObject.id+"_TrendGroup_"+m+"_"+n,transform:g,"clip-path":"url(#"+e.svgObject.id+"_TrendGroup_"+m+"_"+n+"_ClipRect)"},t.gTrendGroupEle=null,t.gTrendGroupEle=e.svgRenderer.createGroup(c),u=r.type.toLowerCase(),o=new ej.trendlineTypes[u],l=r.slope,d=r._intercept,u){case"linear":b="y = "+l.toFixed(4)+"x + "+d.toFixed(4);break;case"exponential":b="y = "+d.toFixed(3)+"e^"+l.toFixed(4)+"x";break;case"logarithmic":b="y = "+l.toFixed(3)+"ln(x) + "+d.toFixed(4);break;case"power":b="y = "+d.toFixed(3)+"x^"+l.toFixed(4);break;case"polynomial":for(b="y = ",i=(a=r.polynomialSlopes).length-1;i>=0;i--)b+=(h=a[i])>0?"+"+h:"-"+Math.abs(h),0!=i&&(b+="x^"+i+" ")}r.equation=b,(p=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:t,trendline:r,forwardForecastPoints:r.points[r.points.length-1],backwardForecastPoints:r.points[0]},this._trigger("trendlineRendering",p),e.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(e.model.m_AreaBounds.X,t.yAxis.y,t.xAxis.width,t.yAxis.height),this.svgRenderer.ctx.clip(),this.svgRenderer.ctx.beginPath(),o.draw(r,t,e),this.svgRenderer.ctx.restore()):(o.draw(r,t,e),(s=t.gTrendGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(s,t,this))}},_renderStripline:function(e){var t,i,s,a;for($.extend(ej.EjStripline.prototype,this),this.chartstripline=new ej.EjStripline(this),t=this.chartstripline,this.model._stripeline=!1,i=0;i<this.model._axes.length;i++)for(s=this.model._axes[i],a=0;a<s.stripLine.length;a++)s.stripLine[a].zIndex.toLowerCase()==e&&t._drawStripline(s,s.stripLine[a],i,a);"over"==e&&this.model._stripeline?this.svgRenderer.append(this.gStriplineOver,this.svgObject):this.model._stripeline&&this.svgRenderer.append(this.gStriplineBehind,this.svgObject)},renderSeries:function(e,t,i){for(var s,a,o,r,n,l,d,h,c,u=e.drawType,p=$.inArray(e,this.model._visibleSeries),m=0;m<e.points.length&&"string"==typeof e.points[m].x&&-1!=e.points[m].x.indexOf("/Date(");m++)e.points[m].x=new Date(parseInt(e.points[m].x.substr(6)));e.xAxis=null==e.xAxis?this.model._axes[0]:e.xAxis,e.yAxis=null==e.yAxis?this.model._axes[1]:e.yAxis;var g,_,f=e.type.toLowerCase(),b=e.drawType.toLowerCase(),v=null;if("cartesianaxes"==this.model.AreaType?(v="translate("+(s=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes)).x+","+s.y+")",_="visible"):_=e.enableAnimation&&!e._animatedSeries?"hidden":"visible",a={id:this.svgObject.id+"_TextGroup_"+p,transform:v,visibility:_},o={id:this.svgObject.id+"_DataLabel_"+p,transform:v,visibility:_},g="scatter"!=f?{id:this.svgObject.id+"_symbolGroup_"+p,transform:v,visibility:_}:{id:this.svgObject.id+"_SeriesGroup_"+p,transform:v},r={id:this.svgObject.id+"_ConnectorGroup_"+p,transform:v,visibility:_},this.gSymbolGroupEle||(this.gSymbolGroupEle=[]),this.gSymbolGroupEle[p]=this.svgRenderer.createGroup(g),this.gSeriesTextEle||(this.gSeriesTextEle=[]),this.gSeriesTextEle[p]=this.svgRenderer.createGroup(a),this.gConnectorEle||(this.gConnectorEle=[]),this.gConnectorEle[p]=this.svgRenderer.createGroup(r),this.gDataLabelEle||(this.gDataLabelEle=[]),this.gDataLabelEle[p]=this.svgRenderer.createGroup(o),(n=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:e},this._trigger("seriesRendering",n),l=new ej.seriesTypes[f],this.model.enableCanvasRendering&&"none"!=this.model.AreaType?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.model.requireInvertedAxes?(v=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes),this.canvasX=v.x,this.canvasY=v.y,this.svgRenderer.ctx.rect(e.yAxis.x,e.xAxis.y,e.yAxis.width,e.xAxis.height)):(this.canvasX=e.xAxis.x,this.canvasY=e.yAxis.y,this.svgRenderer.ctx.rect(e.xAxis.x,e.yAxis.y,e.xAxis.width,e.yAxis.height)),this.svgRenderer.ctx.clip(),l.draw(this,e,t,i),this.svgRenderer.ctx.restore()):this.model.enableCanvasRendering&&"polaraxes"==this.model.AreaType?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.arc(this.model.centerX,this.model.centerY,this.model.Radius,0,2*Math.PI,!1),this.svgRenderer.ctx.clip(),this.canvasX=this.canvasY=0,l.draw(this,e,i),this.svgRenderer.ctx.restore()):(this.canvasX=this.canvasY=0,"cartesianaxes"==this.model.AreaType?l.draw(this,e,t):"polaraxes"==this.model.AreaType&&e._xAxisName==this.model._axes[0].name&&e._yAxisName==this.model._axes[1].name&&l.draw(this,e,i)),"visible"==(d=this.model.series[p].errorBar).visibility&&"cartesianaxes"==this.model.AreaType&&"boxandwhisker"!=this.model.series[p].type&&this.renderErrorBar(d,e),"splinerangearea"==f&&(l.gSeriesGroupEle=this.gSeriesGroupEle),(h=l.gSeriesGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(h,e,this),"candle"!=f&&"hilo"!=f&&"hiloopenclose"!=f&&"boxandwhisker"!=f){var x,y=this,w=y.model.AreaType.toLowerCase(),S=ej.seriesTypes[f].prototype.isRegion;c=!e._pointMarker||e.marker.visible||e._pointMarker,"scatter"==f||!c||$.each(e._visiblePoints,(function(t,i){if(!1!==i.visible&&""!==i.x&&(i.marker&&i.marker.visible||e.marker.visible)){if(x="polaraxes"==w&&"column"==b||S?i.symbolLocation:"polaraxes"!=w?ej.EjSvgRender.utils._getPoint(i,e):ej.EjSvgRender.utils.TransformToVisible(e,i.xValue,i.y,y),"polaraxes"==w){var s=e.yAxis.labelFormat?e.yAxis.labelFormat:"",a=i.text?i.text:i.y+s.substring(s.indexOf("}")+1);ej.EjSvgRender.utils._measureText(a,null,e.marker.dataLabel.font)}("polaraxes"==w&&e._xAxisName==y.model._axes[0].name&&e._yAxisName==y.model._axes[1].name&&("polar"==f.toLowerCase()||"radar"==f.toLowerCase())&&"scatter"!=u||"cartesianaxes"==w)&&l.drawSymbol(p,e,t,x.X,x.Y)}})),"scatter"!=f?(e.marker.visible&&"scatter"!=u&&(h=this.gSymbolGroupEle[p],ej.EjSvgRender.utils._drawAxesBoundsClipPath(h,e,this)),e.marker.dataLabel.visible&&(h=this.gSeriesTextEle[p],ej.EjSvgRender.utils._drawAxesBoundsClipPath(h,e,this),h=this.gDataLabelEle[p],ej.EjSvgRender.utils._drawAxesBoundsClipPath(h,e,this)),!ej.util.isNullOrUndefined(this.gConnectorEle)&&this.gConnectorEle.length>0&&(h=this.gConnectorEle[p],ej.EjSvgRender.utils._drawAxesBoundsClipPath(h,e,this))):(h=this.gSymbolGroupEle[p],ej.EjSvgRender.utils._drawAxesBoundsClipPath(h,e,this),this.svgRenderer.append(h,this.gSeriesEle),(e.tooltip.visible||"scatter"==f)&&(this.vmlRendering?(this.cloneSeriesEle=$(this.gSeriesEle).clone(),this.cloneobj=$(this.element).clone(),this.svgclone=$(this.svgObject).clone(),$(document.body).append(this.cloneobj),this.svgRenderer.append(this.cloneSeriesEle,this.svgclone),this.svgRenderer.append(this.svgclone,this.cloneobj)):(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element)),this.vmlRendering&&($(this.cloneobj).remove(),$(this.svgclone).remove())))}c=!e._dataLabels||e.marker.dataLabel.visible||e._dataLabels>0,(e.marker.dataLabel.visible||c)&&this.drawDisplayText(l,e,t)},renderErrorBar:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,F,B,z,Y,X,H,W,U,G,q,Z,Q,K,J,ee,te,ie,se,ae,oe,re,ne,le,de,he,ce,ue,pe,me,ge,_e,fe=this,be=fe.model,ve=t,xe=ve._visiblePoints,ye=xe.length,we=fe.canvasX,Se=fe.canvasY,Ce=$.inArray(ve,be._visibleSeries),Te=ej.EjSvgRender.utils._getTransform(ve.xAxis,ve.yAxis,be.requireInvertedAxes),Le=be.requireInvertedAxes,ke=fe.svgObject.id,Pe=fe.model.m_AreaBounds;for(f={id:ke+"_ErrorBarGroup_"+Ce,transform:"translate("+Te.x+","+Te.y+")","clip-path":"url(#"+ke+"_ChartAreaClipRect)"},ej.util.isNullOrUndefined(fe.gErrorBarGroupEle)&&(fe.gErrorBarGroupEle=[]),_=fe.gErrorBarGroupEle[Ce]=fe.svgRenderer.createGroup(f),(ce=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={errorBar:e},this._trigger("errorBarRendering",ce),i=(b=ce.data.errorBar).type,s=b.mode,a=b.direction,o=b.fill,r=b.cap,n=b.cap.fill,l=b.cap.width,h=b.verticalErrorValue,c=b.horizontalErrorValue,u=b.verticalPositiveErrorValue,p=b.verticalNegativeErrorValue,m=b.horizontalPositiveErrorValue,g=b.horizontalNegativeErrorValue,d=0;d<ye;d++)if(!0!==xe[d].isEmpty&&1==xe[d].visible){switch(ue=fe.svgRenderer.createGroup({id:fe.svgObject.id+"_ErrorBarGroup_"+Ce+"_Point"+d}),v=d,y=(x=xe[d]).YValues[0],w=x.xValue,S=xe[d].YValues[0],C=xe[d].xValue,T=i.indexOf("column")||i.indexOf("bar")>-1?x.symbolLocation:x.location,ej.util.isNullOrUndefined(T)&&(T=ej.EjSvgRender.utils._getPoint(x,ve)),R=T.X,M=T.Y,i){case"fixedValue":se=x,("vertical"==s||"both"==s)&&(se.YValues[0]=y+h,L=ej.EjSvgRender.utils._getPoint(se,ve),se.YValues[0]=y-h,k=ej.EjSvgRender.utils._getPoint(se,ve),Le?L.Y=k.Y=T.Y:L.X=k.X=T.X),("horizontal"==s||"both"==s)&&(se.YValues[0]=y,se.xValue=w,se.xValue=w+c,P=ej.EjSvgRender.utils._getPoint(se,ve),se.xValue=w-c,j=ej.EjSvgRender.utils._getPoint(se,ve)),se.YValues[0]=y,se.xValue=w;break;case"percentage":ae=x,oe=h/100*y,re=c/100*w,("vertical"==s||"both"==s)&&(ae.YValues[0]=y+oe,L=ej.EjSvgRender.utils._getPoint(ae,ve),ae.YValues[0]=y-oe,k=ej.EjSvgRender.utils._getPoint(ae,ve),Le?L.Y=k.Y=T.Y:L.X=k.X=T.X),("horizontal"==s||"both"==s)&&(ae.YValues[0]=y,ae.xValue=w,ae.xValue=w+re,P=ej.EjSvgRender.utils._getPoint(ae,ve),ae.xValue=w-re,j=ej.EjSvgRender.utils._getPoint(ae,ve)),ae.YValues[0]=y,ae.xValue=w;break;case"standardDeviation":ne=x,A=(D=fe.meanCalculation(s,xe)).horMean,O=D.verStandSquareRoot,I=D.horStandSquareRoot,("vertical"==s||"both"==s)&&(E=h*O,ne.YValues[0]=D.verMean,N=ej.EjSvgRender.utils._getPoint(ne,ve),ne.YValues[0]=(y=ne.YValues[0])+E,L=ej.EjSvgRender.utils._getPoint(ne,ve),ne.YValues[0]=y-E,k=ej.EjSvgRender.utils._getPoint(ne,ve),Le?N.Y=L.Y=k.Y=T.Y:N.X=L.X=k.X=T.X,N.X=N.X+we,N.Y=N.Y+Se),("horizontal"==s||"both"==s)&&(V=c*I,ne.xValue=A,F=ej.EjSvgRender.utils._getPoint(ne,ve),Le?F.X=T.X:F.Y=T.Y,ne.YValues[0]=S,ne.xValue=(w=ne.xValue)+V,P=ej.EjSvgRender.utils._getPoint(ne,ve),ne.xValue=w-V,j=ej.EjSvgRender.utils._getPoint(ne,ve),F.X=F.X+we,F.Y=F.Y+Se),ne.YValues[0]=S,ne.xValue=C;break;case"standardError":le=x,O=(D=fe.meanCalculation(s,xe)).verStandSquareRoot,I=D.horStandSquareRoot,("vertical"==s||"both"==s)&&(B=(E=h*O)/Math.sqrt(ye),le.YValues[0]=y+B,L=ej.EjSvgRender.utils._getPoint(le,ve),le.YValues[0]=y-B,k=ej.EjSvgRender.utils._getPoint(le,ve),Le?L.Y=k.Y=T.Y:L.X=k.X=T.X),("horizontal"==s||"both"==s)&&(z=(V=c*I)/Math.sqrt(ye),le.YValues[0]=y,le.xValue=w,le.xValue=w+z,P=ej.EjSvgRender.utils._getPoint(le,ve),le.xValue=w-z,j=ej.EjSvgRender.utils._getPoint(le,ve)),le.YValues[0]=y,le.xValue=w,d=v;break;case"custom":de=x,("vertical"==s||"both"==s)&&(de.YValues[0]=y+u,L=ej.EjSvgRender.utils._getPoint(de,ve),de.YValues[0]=y-p,k=ej.EjSvgRender.utils._getPoint(de,ve),Le?L.Y=k.Y=T.Y:L.X=k.X=T.X),("horizontal"==s||"both"==s)&&(de.YValues[0]=y,de.xValue=w,de.xValue=w+m,P=ej.EjSvgRender.utils._getPoint(de,ve),de.xValue=w-g,j=ej.EjSvgRender.utils._getPoint(de,ve)),de.YValues[0]=y,de.xValue=w}1==r.visible&&(("vertical"==s||"both"==s)&&(Y={verHighvalue:L,verLowvalue:k}),("horizontal"==s||"both"==s)&&(X={horHighvalue:P,horLowvalue:j}),H=(he=fe.renderCap(r,s,Y,X,Le)).verHighCapX1,W=he.verHighCapX2,U=he.verLowCapX1,G=he.verLowCapX2,q=he.horHighCapY1,Z=he.horHighCapY2,Q=he.horLowCapY1,K=he.horLowCapY2),R+=we,M+=Se,("vertical"==s||"both"==s)&&(L.X=L.X+we,L.Y=L.Y+Se,k.X=k.X+we,k.Y=k.Y+Se),("horizontal"==s||"both"==s)&&(P.X=P.X+we,P.Y=P.Y+Se,j.X=j.X+we,j.Y=j.Y+Se),"both"==a?(("vertical"==s||"both"==s)&&("standardDeviation"!=i?J="M "+R+" "+M+" L "+L.X+" "+L.Y+" M "+R+" "+M+" L "+k.X+" "+k.Y+" ":"standardDeviation"==i&&(J="M "+N.X+" "+N.Y+" L "+L.X+" "+L.Y+" M "+N.X+" "+N.Y+" L "+k.X+" "+k.Y+" "),pe=J,me=ee=Le?r.visible?"M "+L.X+" "+L.Y+" L "+L.X+" "+H+" M "+L.X+" "+L.Y+" L "+L.X+" "+W+" M "+k.X+" "+k.Y+" L "+k.X+" "+U+" M "+k.X+" "+k.Y+" L "+k.X+" "+G+" ":"":r.visible?"M "+L.X+" "+L.Y+" L "+H+" "+L.Y+" M "+L.X+" "+L.Y+" L "+W+" "+L.Y+" M "+k.X+" "+k.Y+" L "+U+" "+k.Y+" M "+k.X+" "+k.Y+" L "+G+" "+k.Y+" ":""),("horizontal"==s||"both"==s)&&("standardDeviation"!=i?te="M "+R+" "+M+" L "+P.X+" "+P.Y+" M "+R+" "+M+" L "+j.X+" "+j.Y+" ":"standardDeviation"==i&&(te="M "+F.X+" "+F.Y+" L "+P.X+" "+P.Y+" M "+F.X+" "+F.Y+" L "+j.X+" "+j.Y+" "),pe=te,me=ie=Le?r.visible?"M "+P.X+" "+P.Y+" L "+q+" "+P.Y+" M "+P.X+" "+P.Y+" L "+Z+" "+P.Y+" M "+j.X+" "+j.Y+" L "+Q+" "+j.Y+" M "+j.X+" "+j.Y+" L "+K+" "+j.Y+" ":"":r.visible?"M "+P.X+" "+P.Y+" L "+P.X+" "+q+" M "+P.X+" "+P.Y+" L "+P.X+" "+Z+" M "+j.X+" "+j.Y+" L "+j.X+" "+Q+" M "+j.X+" "+j.Y+" L "+j.X+" "+K+" ":""),"both"==s&&(pe=te+=J,me=ie+=ee)):"plus"==a?(("vertical"==s||"both"==s)&&("standardDeviation"!=i?J="M "+R+" "+M+" L "+L.X+" "+L.Y+" ":"standardDeviation"==i&&(J="M "+N.X+" "+N.Y+" L "+L.X+" "+L.Y+" "),pe=J,me=ee=Le?r.visible?"M "+L.X+" "+L.Y+" L "+L.X+" "+H+" M "+L.X+" "+L.Y+" L "+L.X+" "+W+" ":"":r.visible?"M "+L.X+" "+L.Y+" L "+H+" "+L.Y+" M "+L.X+" "+L.Y+" L "+W+" "+L.Y+" ":""),("horizontal"==s||"both"==s)&&("standardDeviation"!=i?te="M "+R+" "+M+" L "+P.X+" "+P.Y+" ":"standardDeviation"==i&&(te="M "+F.X+" "+F.Y+" L "+P.X+" "+P.Y+" "),pe=te,me=ie=Le?r.visible?"M "+P.X+" "+P.Y+" L "+q+" "+P.Y+" M "+P.X+" "+P.Y+" L "+Z+" "+P.Y+" ":"":r.visible?"M "+P.X+" "+P.Y+" L "+P.X+" "+q+" M "+P.X+" "+P.Y+" L "+P.X+" "+Z+" ":""),"both"==s&&(pe=te+=J,me=ie+=ee)):(("vertical"==s||"both"==s)&&("standardDeviation"!=i?J="M "+R+" "+M+" L "+k.X+" "+k.Y+" ":"standardDeviation"==i&&(J="M "+N.X+" "+N.Y+" L "+k.X+" "+k.Y+" "),pe=J,me=ee=Le?r.visible?"M "+k.X+" "+k.Y+" L "+k.X+" "+U+" M "+k.X+" "+k.Y+" L "+k.X+" "+G+" ":"":r.visible?"M "+k.X+" "+k.Y+" L "+U+" "+k.Y+" M "+k.X+" "+k.Y+" L "+G+" "+k.Y+" ":""),("horizontal"==s||"both"==s)&&("standardDeviation"!=i?te="M "+R+" "+M+" L "+j.X+" "+j.Y+" ":"standardDeviation"==i&&(te="M "+F.X+" "+F.Y+" L "+j.X+" "+j.Y+" "),pe=te,me=ie=Le?r.visible?"M "+j.X+" "+j.Y+" L "+Q+" "+j.Y+" M "+j.X+" "+j.Y+" L "+K+" "+j.Y+" ":"":r.visible?"M "+j.X+" "+j.Y+" L "+j.X+" "+Q+" M "+j.X+" "+j.Y+" L "+j.X+" "+K+" ":""),"both"==s&&(pe=te+=J,me=ie+=ee)),ge={id:fe.svgObject.id+"_ErrorBar_"+Ce+"_Point"+v,d:pe,stroke:o,"stroke-width":e.width,opacity:e.opacity},_e={id:fe.svgObject.id+"_ErrorBarCap_"+Ce+"_Point"+v,d:me,stroke:n,"stroke-width":l},fe.model.enableCanvasRendering?(this.svgRenderer.ctx.rect(Pe.X,Pe.Y,Pe.Width,Pe.Height),this.svgRenderer.ctx.clip(),fe.svgRenderer.drawPath(ge,null),fe.svgRenderer.drawPath(_e,null)):(fe.svgRenderer.drawPath(ge,ue),fe.svgRenderer.drawPath(_e,ue),fe.svgRenderer.append(ue,_))}fe.svgRenderer.append(_,fe.gSeriesEle),ej.EjSvgRender.utils._drawAxesBoundsClipPath(_,ve,fe)},meanCalculation:function(e,t){for(var i,s,a,o,r=0,n=0,l=t.length,d=0;d<l;d++)"vertical"==e?r+=t[d].y:("horizontal"==e||(r+=t[d].y),n+=t[d].xValue);for(i=r/l,s=n/l,a=l-1,d=0;d<l;d++)"vertical"==e?(o=t[d].y-i,r+=Math.pow(o,2)):"horizontal"==e?(o=t[d].xValue-s,n+=Math.pow(o,2)):(r+=Math.pow(t[d].y-i,2),n+=Math.pow(t[d].xValue-s,2));return{verStandSquareRoot:Math.sqrt(r/a),horStandSquareRoot:Math.sqrt(n/a),verMean:i,horMean:s}},renderCap:function(e,t,i,s,a){var o,r,n,l,d,h,c,u,p,m,g,_,f,b,v;return o=this.canvasX,r=this.canvasY,n=e.length/2,("vertical"==t||"both"==t)&&(l=i.verHighvalue,d=i.verLowvalue),("horizontal"==t||"both"==t)&&(h=s.horHighvalue,c=s.horLowvalue),("vertical"==t||"both"==t)&&(a?(u=l.Y+r+n,p=l.Y+r-n,m=d.Y+r+n,g=d.Y+r-n):(u=l.X+o-n,p=l.X+o+n,m=d.X+o-n,g=d.X+o+n)),("horizontal"==t||"both"==t)&&(a?(_=h.X+o+n,f=h.X+o-n,b=c.X+o+n,v=c.X+o-n):(_=h.Y+r-n,f=h.Y+r+n,b=c.Y+r-n,v=c.Y+r+n)),{verHighCapX1:u,verHighCapX2:p,verLowCapX1:m,verLowCapX2:g,horHighCapY1:_,horHighCapY2:f,horLowCapY1:b,horLowCapY2:v}},drawDisplayText:function(e,t,i){var s,a,o=this,r=t.type.toLowerCase(),n=o.model.AreaType.toLowerCase(),l=ej.seriesTypes[r].prototype.isRegion,d=t.drawType.toLowerCase(),h=!1,c=$.inArray(t,o.model._visibleSeries);ej.util.isNullOrUndefined(o.model.regionCount)&&(o.model.regionCount=-1);for(var u,p=o.model.enableCanvasRendering,m="polaraxes"==o.model.AreaType.toLowerCase(),g=0,_={},f=o.model.series.length;g<f;g++)_[u=o.model.series[g].stackingGroup]={length:_[u]?_[u].length+1:1,seriesIndex:g};i.stackingGroup=_,$.each(t._visiblePoints,(function(r,u){var g,_,f=o.model.series[c].type.toLowerCase();if(t._visiblePoints[r].textOptionsBoxValues=[],a=u.marker,s="polaraxes"==n&&"column"==d||l||"rangecolumn"==d?"boxandwhisker"==f.toLowerCase()?u.dataLabelLocation:u.symbolLocation:"polaraxes"!=n?ej.EjSvgRender.utils._getPoint(u,t):ej.EjSvgRender.utils.TransformToVisible(t,u.xValue,u.y,o),!1!==u.visible&&(a&&a.dataLabel&&a.dataLabel.visible||(!a||!a.dataLabel)&&t.marker.dataLabel.visible)){for(l&&o.model.regionCount++,f=o.model.series[c].type.toLowerCase(),g=0;g<o.model._axes.length;g++)if(o.model._axes[g].zoomFactor<1||o.model._axes[g].zoomPosition>0){h=!0;break}if(!(o.zoomed||t.xAxis._isScroll||h)||"column"!=f&&"stackingcolumn"!=f&&"stackingcolumn100"!=f)if(p&&"cartesianaxes"==o.model.AreaType){if(o.svgRenderer.ctx.save(),o.svgRenderer.ctx.beginPath(),o.model.requireInvertedAxes?o.svgRenderer.ctx.rect(t.yAxis.x,t.xAxis.y,t.yAxis.width,t.xAxis.height):o.svgRenderer.ctx.rect(t.xAxis.x,t.yAxis.y,t.xAxis.width,t.yAxis.height),o.svgRenderer.ctx.clip(),o.model.chartRegions[o.model.regionCount]||-1==f.indexOf("column")&&-1==f.indexOf("bar")&&-1==f.indexOf("waterfall")){if("boxandwhisker"==f.toLowerCase())for(_=0;_<s.length;_++)u.y=u.boxPlotLocation[_].YValues,e.drawDataLabel(t,r,u,s[_].X,s[_].Y,o.model.regionCount,i,s[_].outlier);else e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i);("rangecolumn"==f||"rangearea"==f||"splinerangearea"==f)&&(u.y=u.low,e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i),u.y=u.high)}o.svgRenderer.ctx.restore()}else{if(p&&m&&(o.svgRenderer.ctx.save(),o.svgRenderer.ctx.beginPath(),o.svgRenderer.ctx.arc(o.model.centerX,o.model.centerY,o.model.Radius,0,2*Math.PI,!1),o.svgRenderer.ctx.clip(),s.X-=o.canvasX,s.Y-=o.canvasY),"column"==f||"stackingcolumn"==f||"stackingcolumn100"==f)o.model.chartRegions[o.model.regionCount]&&e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i);else if("boxandwhisker"==f.toLowerCase())for(_=0;_<s.length;_++)u.y=u.boxPlotLocation[_].YValues,e.drawDataLabel(t,r,u,s[_].X,s[_].Y,o.model.regionCount,i,s[_].outlier);else e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i);("rangecolumn"==f||"rangearea"==f||"splinerangearea"==f)&&(u.y=u.low,e.drawDataLabel(t,r,u,s.X,s.Y,o.model.regionCount,i),u.y=u.high),p&&m&&o.svgRenderer.ctx.restore()}else for(g=0;g<o.model.chartRegions.length;g++)c==o.model.chartRegions[g].SeriesIndex&&r==o.model.chartRegions[g].Region.PointIndex&&(p&&"cartesianaxes"==o.model.AreaType?(o.svgRenderer.ctx.save(),o.svgRenderer.ctx.beginPath(),o.model.requireInvertedAxes?o.svgRenderer.ctx.rect(t.yAxis.x,t.xAxis.y,t.yAxis.width,t.xAxis.height):o.svgRenderer.ctx.rect(t.xAxis.x,t.yAxis.y,t.xAxis.width,t.yAxis.height),o.svgRenderer.ctx.clip(),e.drawDataLabel(t,r,u,s.X,s.Y,g,i),o.svgRenderer.ctx.restore()):e.drawDataLabel(t,r,u,s.X,s.Y,g,i))}}))},cartesianSmartLabels:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S=t.length;for(this.connectorFlag=!1,this.processCount=1,this.posObj={top:[],rightTop:[],left:[],leftTop:[],right:[],rightTop:[],rightBottom:[],leftBottom:[],bottom:[]},o=0;o<this.model.series.length;o++)if(i=this.model.series[o].marker.size.width,s=this.model.series[o].marker.size.height,m=this.model.series[o].type.toLowerCase(),p=ej.seriesTypes[m].prototype.isRegion,"hidden"!=this.model.series[o].visibility&&this.model.series[o].marker.visible&&!p)for(r=0;r<this.model.series[o]._visiblePoints.length;r++)this.model.markerRegion[this.model.markerRegion.length]={seriesIndex:o,xPos:(n=(g=this.model.series[o]._visiblePoints[r]).location).X+this.canvasX,yPos:n.Y+this.canvasY,width:i,height:s};for(b=this.model.m_AreaBounds,_=0;_<S;_++)(g=t[_]).hide=!1,w=g.yPos,x=g.height,(y=g.xPos)-(v=g.width)/2<0&&y>-v/2&&(f=y-v/2,g.textOptions.x=g.xPos=y+Math.abs(f)+10,g.newConnectorFlag=!0),y+v/2>b.Width&&y+v/2<b.Width+v/2&&(f=y-v/2,g.textOptions.x=g.xPos=b.Width-v/2-10,g.newConnectorFlag=!0),w+v/2>b.Height&&w+x/2<b.Height+x/2&&(g.yPos=w-(f=w+x/2-b.Height)-10,g.textOptions.y=g.yPos+5,g.newConnectorFlag=!0),w-x/2<0&&w>-x/2&&(f=w-x/2,g.yPos=g.yPos+Math.abs(f)+10,g.textOptions.y=g.yPos+5,g.newConnectorFlag=!0);for(a=0;a<S;a++)ej.util.isNullOrUndefined(t[a].yPos)||(this.model.allPoints[this.model.allPoints.length]=t[a],this.connectorFlag=!1,this.compareDataLabels(a,t,0,this.processCount),(g=t[a]).connectorFlag=this.connectorFlag,t[a].dataLabeltemplate&&(h=$("#"+t[a].id),u=this.model.enableCanvasRendering?t[a].yPos+this.model.m_AreaBounds.Y:t[a].yPos,h.css("left",c=t[a].xPos).css("top",u),"cartesianaxes"==this.model.AreaType&&(d=e.yAxis.y,v=t[a].width,x=t[a].height,(c>(l=(b=this.model.m_AreaBounds).X+(this.model.requireInvertedAxes?e.yAxis.plotOffset:e.xAxis.plotOffset))+b.Width||c+v<l||u+x<d||u+x>b.Y+b.Height||this.zoomed&&(c<l||u<d||c>l+b.Width||u>d+b.Height))&&h.remove())),this.storeDataLabelPositions(g))},storeDataLabelPositions:function(e){var t=this.posObj;switch(e.position){case"top":t.top[this.processCount-1]=e,this.processCount=1;break;case"rightTop":t.rightTop[this.processCount-1]=e,this.processCount=1;break;case"right":t.right[this.processCount-1]=e,this.processCount=1;break;case"rightBottom":t.rightBottom[this.processCount-1]=e,this.processCount=1;break;case"bottom":t.bottom[this.processCount-1]=e,this.processCount=1;break;case"left":t.left[this.processCount-1]=e,this.processCount=1;break;case"leftBottom":t.leftBottom[this.processCount-1]=e,this.processCount=1;break;case"leftTop":t.leftTop[this.processCount-1]=e}},cartesianColumnSmartLabels:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g=t.length;for(this.connectorFlag=!1,this.processCount=1,this.model.outsideLabels=[],l=0;l<g;l++)if(!ej.util.isNullOrUndefined(t[l].yPos)&&!isNaN(t[l].yPos)&&(this.model.allPoints[this.model.allPoints.length]=t[l],e._enableSmartLabels&&(this.connectorFlag=!1,this.compareColumnDataLabels(e,l,t,0,this.processCount)),t[l].dataLabeltemplate)){(d=$("#"+t[l].id)).css("left",t[l].xPos).css("top",t[l].yPos),i=t[l].xPos,s=t[l].yPos,t.height=d.outerHeight();var _=this.model.m_AreaBounds.X,f=this.model.m_AreaBounds.Y,b=this.model.m_AreaBounds.Width,v=this.model.m_AreaBounds.Height;t.width=d.outerWidth(),a=d.width()/2,o=d.height(),h=c=u=0,p=0,r=(m=this.model.m_AreaBounds).X+(this.model.requireInvertedAxes?e.yAxis.plotOffset:e.xAxis.plotOffset),n=e.yAxis.y,e.marker.dataLabel.showEdgeLabels&&(i>r+m.Width||s+o>m.Y+m.Height||i<r||s<n||i>r+m.Width||s>n+m.Height||i-a>m.Width+m.X)&&(i<_&&(c=_-i),v+f<s+o&&(p=o-(s+o-(v+f))),s<f&&(h=f-s),b+_<i+(a=d.outerWidth())&&(u=a-(i+a-(b+_))),u=0==u?a:u,p=0==p?o:p,document.getElementById(d[0].id).style.clip="rect("+h+"px,"+u+"px,"+p+"px,"+c+"px)")}},compareColumnDataLabels:function(e,t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g=this.model.allPoints.length-1,_=this.model.m_AreaBounds,f=e.marker.dataLabel.enableContrastColor,b=[],v=e.type.toLowerCase(),x=new(ej.seriesTypes[e.type.toLowerCase()]);for(this.firstPoints=[],p=0;p<g;p++)if(u=this.model.allPoints[this.model.allPoints.length-1],this.currentCollideLabel=c=this.model.allPoints[p],n=(r=e.marker.dataLabel).textPosition.toLowerCase(),rotation=r.angle,chartObj=this,(o=this.isCollide(c,u,null,null,chartObj,rotation)).state){if("column"==v||"stackingcolumn"==v||"rangecolumn"==v||"waterfall"==v){if(u.textOptions.y=u.yPos=r.showEdgeLabels||"top"==n||"middle"==n?u.yPos+o.height+5:u.yPos-o.height-5,u.textOptions.y=u.textOptions.y+5+u.margin.top/2-u.margin.bottom/2,u.textOptions.y>_.Height){u.hide=!0;break}}else u.textOptions.x=u.xPos="top"==n||"middle"==n?c.xPos-c.width/2-u.width/2-5:c.xPos+c.width/2+u.width/2+5;for(this.compareColumnDataLabels(e,t,i,s,this.processCount),a=this.checkOutsideLabels(this.model,u,_),d=0;d<this.model.allPoints.length;d++)0==d?this.firstPoints.push(this.model.allPoints[0]):this.firstPoints[this.firstPoints.length-1].x!=this.model.allPoints[d].x&&this.firstPoints.push(this.model.allPoints[d]);if(a||this.zoomed){for(h=0;h<=this.model.allPoints.length-1;h++)this._positionOutsideLabels(u,this.model.allPoints,h,v);this.model.outsideLabels.push(u)}if(f&&v.indexOf("stacking")>-1){for(m=this.model.chartRegions,d=0;d<this.model.chartRegions.length;d++)m[d].Region.PointIndex==t&&(o=this.isCollide(m[d],u,0,f,this)),o.state&&b.push(m[d]);if(b.length>5)break;b.length>=1&&(l="array"==jQuery.type(this.model.seriesColors[b[0].SeriesIndex])?this.model.seriesColors[b[0].SeriesIndex][0].color:this.model.seriesColors[b[0].SeriesIndex],u.textOptions.fill=x._applySaturation(this,l))}}},_positionOutsideLabels:function(e,t,i,s){var a,o=t[i];if(i>=0)if(a=this.isCollide(o,e),!s||"column"!=s&&"stackingcolumn"!=s&&"rangecolumn"!=s&&"waterfall"!=s)e.textOptions.x=e.xPos=this.model.outsideLabels.length>0?this.model.outsideLabels[this.model.outsideLabels.length-1].xPos:t[0].xPos+o.width/2+e.width/2+5;else{if(this.model.outsideLabels.length>0&&e.x==this.model.outsideLabels[this.model.outsideLabels.length-1].x)e.textOptions.y=e.yPos=this.model.outsideLabels[this.model.outsideLabels.length-1].yPos-a.height;else for(i=0;i<this.firstPoints.length;i++)e.x==this.firstPoints[i].x&&a.state?e.textOptions.y=e.yPos=this.firstPoints[i].yPos-a.height:t.length>1&&i<t.length-1&&(e.textOptions.y=e.yPos=t[i+1].yPos);e.textOptions.y=e.textOptions.y+5+e.margin.top/2-e.margin.bottom/2}},compareDataLabels:function(e,t,i,s){var a,o,r,n,l,d=this.model.allPoints.length,h=this.model.m_AreaBounds,c=this.posObj;for(this.breakLoop=!1,a=0;a<d;a++)if(this.model.series[this.model.allPoints[a].seriesIndex].type.toLowerCase(),n=this.model.allPoints[d-1],this.currentCollideLabel=r=this.model.allPoints[a],o=10,(l=this.isCollide(r,n,a)).state||l.marker)switch(this.connectorFlag=!0,i){case 0:if(this.processCount>1&&this.resetValues(n),l.marker?(this.prevLabel=l.markerRegion,this.processCount=1):ej.util.isNullOrUndefined(this.prevLabel)?(this.prevLabel=r,this.processCount=1):this.isCollide(this.prevLabel,n).state||(this.prevLabel=r,this.processCount=1),this.resetValues(n),n.textOptions.x=n.xPos=s>1&&c.right[this.processCount-2]?(r=c.right[this.processCount-2]).xPos+(r.width/2+n.width/2+o):this.prevLabel.xPos+(this.prevLabel.width/2+n.width/2+o),i+=1,n.position="right",this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 1:if(this.resetValues(n),n.textOptions.x=n.xPos=this.prevLabel.xPos+this.prevLabel.width/2+n.width/2+o,n.textOptions.y=n.yPos=s>1&&c.rightBottom[this.processCount-2]?(r=c.rightBottom[this.processCount-2]).yPos+this.canvasY+r.height+o:n.location.Y+this.canvasY+n.height+5,n.textOptions.y=n.textOptions.y+5+n.margin.top/2-n.margin.bottom/2,n.position="rightBottom",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 2:if(this.resetValues(n),n.textOptions.y=n.yPos=n.location.Y+this.canvasY+n.height+5,n.textOptions.y=n.yPos=s>1&&c.bottom[this.processCount-2]?(r=c.bottom[this.processCount-2]).yPos+n.height+o:n.location.Y+this.canvasY+n.height+5,n.textOptions.y=n.textOptions.y+5+n.margin.top/2-n.margin.bottom/2,n.position="bottom",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 3:if(this.resetValues(n),n.textOptions.x=n.xPos=this.prevLabel.xPos-this.prevLabel.width/2-n.width/2-o,n.textOptions.y=n.yPos=s>1&&c.leftBottom[this.processCount-2]?(r=c.leftBottom[this.processCount-2]).yPos+this.canvasY+r.height+o:n.location.Y+this.canvasY+n.height+5,n.textOptions.y=n.textOptions.y+5+n.margin.top/2-n.margin.bottom/2,n.position="leftBottom",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 4:if(this.resetValues(n),n.textOptions.x=n.xPos=s>1&&c.left[this.processCount-2]?(r=c.left[this.processCount-2]).xPos-r.width/2-n.width/2-o:this.prevLabel.xPos-this.prevLabel.width/2-n.width/2-o,n.position="left",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 5:if(this.resetValues(n),n.textOptions.x=n.xPos=this.prevLabel.xPos-this.prevLabel.width/2-n.width/2-o,n.textOptions.y=n.yPos=s>1&&c.leftTop[this.processCount-2]?(r=c.leftTop[this.processCount-2]).yPos-(n.height+o):this.prevLabel.yPos-n.height-o,n.textOptions.y=n.textOptions.y+5+n.margin.top/2-n.margin.bottom/2,n.position="leftTop",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 6:if(this.resetValues(n),n.textOptions.y=n.yPos=s>1&&c.top[s-2]?(r=c.top[s-2]).yPos-(n.height+o):this.prevLabel.yPos-this.processCount*(n.height+o),n.textOptions.y=n.textOptions.y+5+n.margin.top/2-n.margin.bottom/2,i+=1,n.position="top",this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 7:if(this.resetValues(n),n.textOptions.x=n.xPos=this.prevLabel.xPos+this.prevLabel.width/2+n.width/2+o,n.textOptions.y=n.yPos=s>1&&c.rightTop[this.processCount-2]?(r=c.rightTop[this.processCount-2]).yPos-n.height-o:this.prevLabel.yPos-n.height-o,n.textOptions.y=n.textOptions.y+5+n.margin.top/2-n.margin.bottom/2,n.position="rightTop",i+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 8:if(i=0,this.processCount+=1,e==this.processCount)i=9;else if(!this.checkOutsideLabels(this.model,n,h)){this.compareDataLabels(e,t,i,this.processCount);break}case 9:(e==this.processCount||this.processCount>d)&&(this.processCount-=1,i=i<0||8==i?0:i-1,this.breakLoop=!0)}},checkOutsideLabels:function(e,t,i){var s,a,o=e.enableCanvasRendering,r=t.dataLabeltemplate;if(e.series[t.seriesIndex].marker.dataLabel.showEdgeLabels&&(a=o?t.yPos-this.canvasY:t.dataLabel.textY,(s=o?t.xPos-this.canvasX:t.dataLabel.textX)-t.dataLabel.width/2<0||s+t.dataLabel.width/2>(r?i.Width+i.X:i.Width)||a+t.dataLabel.height/2>(r?i.Height+i.Y:i.Height)||a-t.dataLabel.height/2<0))return!0},drawPieofPieConnectors:function(e,t){var i,s,a;this.model.enableCanvasRendering||(this.gConnectorLinesGroup||(this.gConnectorLinesGroup=this.svgRenderer.createGroup({id:this.svgObject.id+"_connectorLineGroup",visibility:t.enableAnimation&&!t._animatedSeries?"hidden":"visible"})),$(this.gConnectorLinesGroup.childNodes).remove());var o,r=[],n=[],l=[],d=[],h=-.5*Math.PI;for(i=0;i<2;i++){if(o=t.pieCollections[i],r[i]=.25*(0==i?t.pieCoefficient:t.pieOfPieCoefficient)*Math.min(e.width,e.height),n[i]=this.model.circleCenterX[i],n[i]=0==i?n[i]+this.model.pieGapWidth/2:n[i]-this.model.pieGapWidth/2,l[i]=this.model.circleCenterY[i],o[0].start>0&&o[0].end<Math.PI&&0==i)var c=o[0].start+h,u=o[0].end+h-1e-6,p=n[i]+r[i]*Math.cos(c),m=l[i]+r[i]*Math.sin(c),g=n[i]+r[i]*Math.cos(u),_=l[i]+r[i]*Math.sin(u);else g=p=n[i]+r[i]*Math.cos(h),_=(m=l[i]+r[i]*Math.sin(h))+2*r[i];d.push({X1:p,Y1:m,X2:g,Y2:_})}for(s=t.connectorLine,a=0;a<2;a++)this.svgRenderer.drawLine({id:this.svgObject.id+"_connectorLine"+a,x1:0==a?d[a].X1:d[a-1].X2,y1:0==a?d[a].Y1:d[a-1].Y2,x2:0==a?d[a+1].X1:d[a].X2,y2:0==a?d[a+1].Y1:d[a].Y2,stroke:s.color,"stroke-width":s.width,opacity:s.opacity,"stroke-dasharray":s.dashArray},this.gConnectorLinesGroup);this.svgRenderer.append(this.gConnectorLinesGroup,this.gSeriesEle)},drawConnectorLines:function(e,t,i){var s,a=!0,o=i.xPos,r=i.yPos,n=this.model.m_AreaBounds,l=this.model.series[e].marker.dataLabel,d=i.location?i.location:i.symbolLocation;if(s=d.Y>i.textOptions.y?i.textOptions.y:i.textOptions.y-i.height/2,i.dataLabeltemplate?(s=i.yPos-this.model.m_AreaBounds.Y+i.height,i.textOptions.x=i.textOptions.x-this.model.m_AreaBounds.X+i.width/4+this.canvasX):(o>n.Width||o+i.width<0||r-i.height>n.Height||r+i.height<0)&&!l.showEdgeLabels&&(a=!1),a){var h="M "+(d.X+this.canvasX)+" "+(d.Y+this.canvasY)+" L "+i.textOptions.x+" "+s,c=this.model.series[e].marker.dataLabel.connectorLine,u=ej.util.isNullOrUndefined(c.color)?this.model.series[e].fill:c.color,p={id:this.svgObject.id+"_dataLabelConnectorLine_series"+e+"_"+t,stroke:u,"stroke-width":c.width,d:h};this.model.series[e].connectorLines=!0,this.svgRenderer.drawPath(p,this.gConnectorEle[e])}},resetValues:function(e){e.textOptions.y=e.dataLabel.textY,e.yPos=e.dataLabel.y,e.textOptions.x=e.dataLabel.textX,e.xPos=e.dataLabel.x},isCollide:function(e,t,i,s,a,o){var r,n,l,d,h,c,u,p,m,g,_=0,f=0,b=!1,v=!1;if(s)"None"!=t.symbolName?(d=t.xPos,h=t.xPos+t.width,c=t.yPos-t.height/2,u=t.yPos+t.height/2):(d=t.textOptions.x-t.width/2,h=t.textOptions.x+t.width/2,c=t.textOptions.y-(90==t.textOptions.angle||-90==t.textOptions.angle?t.height/2:t.height),u=t.textOptions.y+(90==t.textOptions.angle||-90==t.textOptions.angle?t.height/2:0)),b=(l={X:(r=e.Region.Bounds).X-(n=a.model.m_AreaBounds).X,Y:r.Y-n.Y,Width:r.Width,Height:r.Height}).X<h&&l.X+l.Width>d&&l.Y<u&&l.Y+l.Height>c;else{p=(e.seriesIndex?this.model.series[e.seriesIndex].marker.dataLabel.border.width:0)+(t.seriesIndex?this.model.series[t.seriesIndex].marker.dataLabel.border.width:0);var x=this.model.series,y=x[e.seriesIndex],w=x[t.seriesIndex],S=e.xPos,C=e.yPos,T=t.xPos,L=t.yPos;e.xPos+=y.xAxis.x,e.yPos+=y.yAxis.y,t.xPos+=w.xAxis.x,t.yPos+=w.yAxis.y;var k=e.height,P=e.width,j=t.height,D=t.width;if(o&&(90==(m=o>360?o-360:o<-360?o+360:o)||-90==m)&&(k=e.width,P=e.height,j=t.width,D=t.height),e!=t&&((b=!(e.yPos+k<t.yPos||e.yPos>t.yPos+j||e.xPos+P/2+p<=t.xPos-D/2||e.xPos-P/2>=t.xPos+D/2))&&(f=e.yPos+k-t.yPos,_=e.xPos+P-t.xPos),e.xPos=S,e.yPos=C),!b)for(g=0;g<this.model.markerRegion.length&&(S=(e=this.model.markerRegion[g]).xPos,C=e.yPos,e.xPos+=(y=x[e.seriesIndex]).xAxis.x,t.yPos+=y.yAxis.y,!(v=!(e.yPos+k<t.yPos-j/2||e.yPos>t.yPos+j||e.xPos+P<t.xPos||e.xPos>t.xPos+D)));g++);e.xPos=S,e.yPos=C,t.xPos=T,t.yPos=L}return{state:b,marker:v,markerRegion:e,width:_,height:f}},drawAccDisplayText:function(e,t,i){var s,a,o,r,n,l,d=this,h=t._visiblePoints.length;if(d.firstStartAngle=[],"pyramid"!=(s=t.type.toLowerCase())&&"funnel"!=s&&"pieofpie"!=s&&(t.leftsidePoints.length>0||t.rightsidePoints.length>0)){for(a=t.rightsidePoints.length,o=t.leftsidePoints.length,n=0;n<a;n++)t.rightsidePoints[n].index=n,e.drawDataLabelAcc(d,t,t.rightsidePoints[n].pointIndex,t.rightsidePoints[n],i);for(r=o-1;r>=0;r--)t.leftsidePoints[r].index=r,e.drawDataLabelAcc(d,t,t.leftsidePoints[r].pointIndex,t.leftsidePoints[r],i)}else for(n=0;n<h;n++)t._visiblePoints[n].index=n,l="pieofpie"==s?t._visiblePoints[n].actualIndex:n,t._visiblePoints[n].start!=t._visiblePoints[n].startAngle&&(t._visiblePoints[n].startAngle=t._visiblePoints[n].start),isNaN(t._visiblePoints[n].startAngle)&&"pie"==t.type.toLowerCase()&&"pieofpie"==t.type.toLowerCase||e.drawDataLabelAcc(d,t,l,t._visiblePoints[n],i,t.collectionIndex);("pyramid"==t.type.toLowerCase()||"funnel"==t.type.toLowerCase())&&(this.svgRenderer.append(this.gConnectorEle,this.gSeriesEle),this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),this.svgRenderer.append(this.gDataLabelEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.vmlRendering||this.svgRenderer.append(this.svgObject,this.element))},_processOData:function(e){var t=this,i=e.type.toLowerCase(),s=e.dataSource.executeQuery(e.query);s.done((function(s){var a,o;for(t._processJsonData(s.result,e),e.visibility="visible",$(t.svgObject).empty(),$(t.legendSvgContainer).empty(),t.model.enableCanvasRendering&&(t.svgRenderer.ctx.clearRect(0,0,t.svgObject.width,t.svgObject.height),$("#canvas_trackSymbol").remove()),a=!0,o="pie"!=i||"doughnut"!=i?0:t.model.series.length-1;"pie"!=i||"doughnut"!=i?o<t.model.series.length:o>=0;"pie"!=i||"doughnut"!=i?o++:o--)if(t.model.series[o].dataSource&&"hidden"==t.model.series[o].visibility){a=!1;break}a&&t.draw()})),s.fail((function(){var i,s;for(e.visibility="visible",$(t.svgObject).empty(),$(t.legendSvgContainer).empty(),i=!0,s=0;s<t.model.series.length;s++)if(t.model.series[s].dataSource&&"hidden"==t.model.series[s].visibility){i=!1;break}i&&t.draw()}))},_findDatatype:function(e,t){var i,s,a;if(null==e.xAxisName)i=null!=t.model.primaryXAxis.valueType&&"datetime"==t.model.primaryXAxis.valueType.toLowerCase();else for(s=0;s<t.model._axes.length;s++)i=(a=t.model._axes[s]).name==e.xAxisName&&null!=a.valueType&&"datetime"==a.valueType.toLowerCase();return i},_processJsonData:function(e,t){var i,s,a=t.xName,o=t.yName,r=t.pointColorMappingName,n=t.marker&&t.marker.dataLabel&&t.marker.dataLabel.textMappingName,l=t.type.toLowerCase(),d=document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg")?e.length:void 0===e[e.length-1]?e.length-1:e.length,h="bubble"==l,c=!!e[0][a].indexOf||(t._hiloTypes?e[0][t.high]&&e[0][t.high].indexOf:!!(0==e[0][o]?0:e[0][o]||e[0][t.size]||0).indexOf),u=c&&e[0][a].indexOf&&-1!=e[0][a].indexOf("/Date("),p=0,m=this.model._hiddenPointIndex;if(t.points=new Array(d),c)"boxandwhisker"!=l&&this._processStringData(e,t,a,o,u,d);else for(;p<d;)i=e[p][a],t._hiloTypes||(s="string"==typeof e[p][o]?parseFloat(e[p][o]):e[p][o]),t.points[p++]={x:i,xValue:i,y:s,YValues:[s]};return"boxandwhisker"==l&&this._processBoxandWhiskerData(e,t,a,o,u),(h||r.length>0||n.length>0||m.length>0)&&this._processBubbleSize(e,t,c,r,n,m,h,d),t._hiloTypes&&this._processHiLoValues(e,t,c,l,d),0},_processBoxandWhiskerData:function(e,t,i,s,a){for(var o,r,n=0,l=e.length,d=e[0][i].indexOf&&-1!=e[0][i].indexOf("/Date(");n<l;)o=e[n][i],a&&(o=new Date(d?parseInt(o.substr(6)):o)),r=e[n][s],t.points[n++]={x:o,xValue:o,y:r,YValues:[r]}},_processStringData:function(e,t,i,s,a,o){for(var r,n,l=0,d=e[0][i].indexOf&&-1!=e[0][i].indexOf("/Date(");l<o;)r=e[l][i],!a||r instanceof Date||(r=new Date(d?parseInt(r.substr(6)):r)),n=parseFloat(e[l][s]),t.points[l++]={x:r,xValue:r,y:n,YValues:[n]}},_processBubbleSize:function(e,t,i,s,a,o,r,n){for(var l,d=0;d<n;d++)(l=t.points[d]).YValues[0]=i?parseFloat(e[d][t.yName]):e[d][t.yName],r&&(l.size=l.YValues[1]=i?parseFloat(e[d][t.size]):e[d][t.size]),s.length>0&&(l.fill=e[d][s]),a.length>0&&(l.text=e[d][a]),o.length>0&&d==o[d]&&(l.visibility="hidden")},_processHiLoValues:function(e,t,i,s,a){for(var o,r,n=0;n<a;n++)r=e[n],(o=t.points[n]).y=o.high=o.YValues[0]=i?this.tryParseFloat(r[t.high]):r[t.high],o.low=o.YValues[1]=i?this.tryParseFloat(r[t.low]):r[t.low],"hilo"!=s&&"rangecolumn"!=s&&"waterfall"!=s&&(o.open=o.YValues[2]=i?this.tryParseFloat(r[t.open]):r[t.open],o.close=o.YValues[3]=i?this.tryParseFloat(r[t.close]):r[t.close],t.volume&&(o.volume=o.YValues[4]=i?this.tryParseFloat(r[t.volume]):r[t.volume]))},tryParseFloat:function(e){return e&&e.length>0?parseFloat(e):e},bindTo:function(e){var t,i,s,a,o,r,n,l,d=this.model,h=d.series;for($("#"+this.svgObject.id+"_CrosshairVertical").remove(),$("#"+this.svgObject.id+"_CrosshairHorizontal").remove(),$.finish?($(".ejTooltip"+this._id).finish(),$(".tooltipDiv"+this._id).finish()):($(".ejTooltip"+this._id).stop(!0,!0),$(".tooltipDiv"+this._id).stop(!0,!0)),$(document).find('[id*="_TrackToolTip"]').remove(),$("#template_group_"+this._id).remove(),this.isChartElemId&&this.createElementsId(),d.primaryXAxis._valueType=null,d.primaryXAxis.position=null,d.primaryYAxis._valueType=null,d.primaryYAxis.position=null,d.requireInvertedAxes=!1,d._hiddenPointIndex=[],t=h.length,i=d.axes.length,n=0;n<i;n++)(s=d.axes[n])._valueType=null,s.position=null;if(d._axes)for(i=d._axes.length,o=0;o<i;o++)(s=d._axes[o])._valueType=null,s.position=null,s.zoomFactor=s._pointsLength&&s._pointsLength!=s.scrollbarSettings.pointsLength?1:s.zoomFactor;for(n=0;n<t;n++){if(l=h[n],a=["y","high","low","open","close"],!ej.isNullOrUndefined(l.points))for(o=0;o<l.points.length;o++)a.map((function(e){var t=l.points[o][e];ej.isNullOrUndefined(t)||(l.points[o][e]="string"==typeof t?parseFloat(t):t)}));l.position=null,l.fill&&this.model.seriesColors&&l.fill!=this.model.seriesColors[n]&&(h[n].isFill=!0)}if(d.AreaType&&"none"==d.AreaType)for(l=h[0],n=0;l.points&&n<l.points.length;n++)"hidden"==(r=l.points[n])._visibility&&"none"==d.AreaType&&1==h.length&&(this.model._hiddenPointIndex[n]=n),r.isFill=r.fill&&d.pointColors&&r.fill!=d.pointColors[n]||r.isFill,r.fill=r.isFill?r.fill:null;if(d.enable3D&&(ej.Ej3DRender.transform=null),h){if(this.setModelProperties(e),!e)for(n=0;n<h.length;n++)(null==(l=h[n]).visibility||null==l.visibility)&&(l.visibility="visible"),l.type&&(l._hiloTypes="polar"==l.type.toLowerCase()||"radar"==l.type.toLowerCase()?ej.seriesTypes[l.drawType.toLowerCase()].prototype.hiloTypes:ej.seriesTypes[l.type.toLowerCase()].prototype.hiloTypes),l.points||(l.points=[]),l.dataSource&&(l.dataSource instanceof ej.DataManager?(l.visibility="hidden",!ej.isNullOrUndefined(l.query)&&l.query instanceof ej.Query||(l.query=ej.Query()),this._processOData(l)):l.dataSource.length>0&&(("string"==typeof l.dataSource||l.dataSource.toLowerCase)&&(l.dataSource=JSON.parse(l.dataSource.replace(/'''/g,'"'))),this._processJsonData(l.dataSource,l)));$(this.svgObject).width()>0&&this.draw(e)}},_createChartId:function(){var e=!1,t=0,i=$(this.element)[0].className.split(" ")[0];do{$("#"+i+"_"+t).length||($(this).attr("_id",i+"_"+t),$(this.element).attr("id",i+"_"+t),e=!0),t++}while(!e);this.isChartElemId=!0},createElementsId:function(){this.legendContainer.attr("id","legend_"+this._id),this.scrollerContainer.attr("id","legend_Scroller"+this._id),this.chartContainer.attr("id","chartContainer_"+this._id),this.axisScroll.attr("id","axisScrollbar_"+this._id),$(this.svgObject).attr("id",this._id+(this.model.enableCanvasRendering?"_canvas":"_svg"))},calculateHeight:function(e){var t=$(e.svgObject),i=e.model.size.height,s=$(e.element).height()/100*parseInt(i);return t.height(s),s},calculateWidth:function(e){var t=$(e.svgObject),i=e.model.size.width,s=$(e.element).width()/100*parseInt(i);return t.width(s),s},selectedStyle:function(e){for(var t=$("#"+e._id).find('[class*="Selection"]'),i=[],s=0;s<t.length;s++)i[s]=[],i[s].id=t[s].id,i[s].className=$("#"+i[s].id).attr("class");return $("[id $= Def ]").length>0&&(i.pattern=$("[id $= Def ]")),i},chartResize:function(){var e,t,i=this,s=$(i.svgObject),a=this.selectedStyle(i);this.removeMultiRect(),this._chartResize=!0,this.model.enableCanvasRendering&&($("[id*="+this._id+"_Selection_]").remove(),$("#canvas_trackSymbol").remove(),i.svgObject.getContext("2d").clearRect(0,0,this.svgRenderer.svgObj.width,this.svgRenderer.svgObj.height),"string"==typeof i.model.size.width&&-1!=i.model.size.width.indexOf("%")?(e=i.calculateWidth(i),this.svgRenderer.svgObj.width=e):this.svgRenderer.svgObj.width=$("#"+this._id).width(),"string"==typeof i.model.size.height&&-1!=i.model.size.height.indexOf("%")?(t=i.calculateHeight(i),this.svgRenderer.svgObj.height=t):this.svgRenderer.svgObj.height=ej.util.isNullOrUndefined(this.model.size.height)?"450":parseInt($(i.element).height())),this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout((function(){var e,t;if(!ej.util.isNullOrUndefined(i.model)&&("string"==typeof i.model.size.width&&-1!=i.model.size.width.indexOf("%")?i.calculateWidth(i):s.width($(i.element).width()),"string"==typeof i.model.size.height&&-1!=i.model.size.height.indexOf("%")?i.calculateHeight(i):s.height(i.model.size.height),$(i.svgObject).width()>0)){for($(i.svgObject).empty(),$(i.legendSvgContainer).empty(),$("#template_group_"+i._id).remove(),$("#annotation_group_"+i._id).remove(),i.disableAnimation(),e=0;e<i.model.series.length;e++)i.model.series[e].regionAdded=!1;for(i.draw(),t=0;t<a.length;t++)$("#"+a[t].id).attr("class",a[t].className);a.pattern&&i.svgRenderer.append(a.pattern,i.svgObject),i.zoomed&&!i.vmlRendering&&i._enableZoomingButtons(),i.enableAnimation()}}),500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},isWindows:function(){if(!(ej.getBooleanVal($("head"),"data-ej-android")||ej.getBooleanVal($("head"),"data-ej-ios")||ej.getBooleanVal($("head"),"data-ej-ios7")||ej.getBooleanVal($("head"),"data-ej-flat")))return this._windows()},_windows:function(){return/trident|windows phone/i.test(navigator.userAgent.toLowerCase())||!0===ej.getBooleanVal($("head"),"data-ej-windows",!1)},bindResizeEvents:function(){if(this.model._resizeEventRegistered)return 0;ej.isTouchDevice()&&this._isOrientationSupported()?this._on($(window),"orientationchange",this.chartResize):this._on($(window),"resize",this.chartResize),this.model._resizeEventRegistered=!0},removeResizeEvents:function(){this.model._resizeEventRegistered&&(ej.isTouchDevice()&&this._isOrientationSupported()?this._off($(window),"orientationchange",this.chartResize):this._off($(window),"resize",this.chartResize),this.model._resizeEventRegistered=!1)},_isOrientationSupported:function(){return"orientation"in window&&"onorientationchange"in window},_calculatePinchZoomPosition:function(e){var t,i,s,a,o,r=this.model.m_AreaBounds,n=this.model._axes,l=e.originalEvent.touches&&e.originalEvent.touches.length>0?e.originalEvent.touches[0]:e.originalEvent,d=l.pageX,h=l.pageY,c=this.previousPanTouch,u=0,p=n.length;if(d>r.X&&d<r.X+r.Width&&h>r.Y&&h<r.Y+r.Height){if(c||(c=this.previousPanTouch={pageX:d,pageY:h}),ej.isTouchDevice()||this.model.zooming.enableDeferredZoom)return this.oPreviousCoords={x:this.previousPanTouch.pageX,y:this.previousPanTouch.pageY},this.chartMouseMove(e);for(;u<p;u++)o=(a="horizontal"==(i=n[u]).orientation.toLowerCase())?(c.pageX-d)/i.width*i.zoomFactor:(c.pageY-h)/i.height*i.zoomFactor,t=i.zoomPosition,i.zoomPosition=this._ensureValueInMinMax(a?t+o:t-o,0,1-i.zoomFactor),s=s||t!=i.zoomPosition;this.previousPanTouch={pageX:d,pageY:h},s&&!this.chartUpdating&&(this.redraw(!0,s,e.target),this._enableZoomingButtons())}},_calculateTouchDistance:function(e,t){for(var i=[],s=0,a=t.length;s<a;s++)null==e[s]&&(e[s]=t[s]),i[s]={},s>0&&(i[s].scaleX=e[0].pageX!=e[1].pageX&&(t[0].pageX-t[1].pageX)/(e[0].pageX-e[1].pageX),i[s].scaleY=e[0].pageY!=e[1].pageY&&(t[0].pageY-t[1].pageY)/(e[0].pageY-e[1].pageY),i[s].center={x:(e[0].pageX+t[0].pageX)/2,y:(e[1].pageY+t[1].pageY)/2});return i},_ensureValueInMinMax:function(e,t,i){return e<t?t:e>i?i:e},_calculatePinchZoomFactor:function(e,t,i){var s,a,o,r,n,l,d,h,c,u=this.model,p=u._axes,m=!0,g=u.m_AreaBounds,_=1e4,f=0,b=p.length;if(t="x"==t?"horizontal":"y"==t?"vertical":null,null!=this.previousScale){for(;f<b;f++)if(!t||p[f].orientation===t){if(!(a="horizontal"==(l=p[f]).orientation?e[1].scaleX:e[1].scaleY))break;c="horizontal"==l.orientation?this.previousScale[1].scaleX:this.previousScale[1].scaleY,d=l.zoomFactor,h=l.zoomPosition,n=this._ensureValueInMinMax(1/l.zoomFactor,1,_),r=this._ensureValueInMinMax(n+n*(a-c)/c,1,_),o="horizontal"==l.orientation?e[1].center.x/g.Width:1-e[1].center.y/g.Height,l.zoomFactor=this._ensureValueInMinMax(1/r,1/_,1),l.zoomPosition=this._ensureValueInMinMax(h+(d-l.zoomFactor)*o,0,1-l.zoomFactor),s=s||d!=l.zoomFactor,m=m&&1==l.zoomFactor}!s||m||this.chartUpdating?m&&this.zoomed&&!this.chartUpdating&&(this.redraw(!0,!0,i),this.zoomed=!1,this._removeZoomkit()):(this.zoomed=!0,this.redraw(!0,!0,i),this._enableZoomingButtons())}this.previousScale=e},_addTouchPointer:function(e,t,i,s){for(s=e.length;s--;)if(t.pointerId==e[s].pointerId)return i&&(e[s]=t),0;e.push(t)},_removeTouchPointer:function(e,t,i){for(i=e&&e.length;i--;)if(t.pointerId==e[i].pointerId)return e.splice(i,1),0},_copyTouches:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]={pageX:e[i].pageX,pageY:e[i].pageY};return t},_initEventParams:function(){return{touches:[],movements:[]}},_pointerPinchStart:function(e){var t,i=e.originalEvent,s=this.model,a=s.m_AreaBounds,o=$(this.element).offset(),r=this.eventParams||(this.eventParams=this._initEventParams()),n=(i.pageX||i.changedTouches[0].pageX)-o.left,l=(i.pageY||i.changedTouches[0].pageY)-o.top;this.model.selectionEnable&&(this.cancelEvent(e),i.preventDefault()),!s.enable3D&&"cartesianaxes"==s.AreaType&&"mouse"!=i.pointerType&&4!=i.pointerType&&s.zooming.enable&&s.zooming.enablePinching&&(i.touches||i.pointerId)?-1!=(t=e.target.id).indexOf("ResetZoom")?this.resetZoom(e):-1!=t.indexOf("panIcon")?this.startPan(e):-1!=t.indexOf("ZoomIcon")?this.startZoom(e):-1!=t.indexOf("ZoomOut")||-1!=t.indexOf("ZoomIn")?this.startZoomInOut(e):n>a.X&&n<a.X+a.Width&&l>a.Y&&l<a.Y+a.Height?(i.touches?r.touches=this._copyTouches(i.touches):this._addTouchPointer(r.touches,{pageX:n,pageY:l,pointerId:i.pointerId}),r.touches.length<2&&this.chartMouseDown(e)):this.chartMouseDown(e):this.chartMouseDown(e)},_removeInteractions:function(){$("[id*=_TrackSymbol]").remove(),this._removeTrackBall(),this._removeHighlight(),$("#"+this.svgObject.id+"_TrackToolTip").hide(),$("#"+this._id+"_tooltip").remove()},_pinchGestureMove:function(e){var t=e.originalEvent.changedTouches[0],i=e.originalEvent.touches,s=this.model,a=$(this.element).offset(),o=s.m_AreaBounds,r=t.pageX-a.left,n=t.pageY-a.top;this.eventParams=this.eventParams||this._initEventParams(s,t),!s.enable3D&&"cartesianaxes"==s.AreaType&&"mouse"!=t.pointerType&&4!=t.pointerType&&s.zooming.enable&&s.zooming.enablePinching&&i&&r>o.X&&r<o.X+o.Width&&n>o.Y&&n<o.Y+o.Height?(this._removeInteractions(),i.length>1?this._calculatePinchZoomFactor(this._calculateTouchDistance(this.eventParams.touches,i),s.zooming.type,e.target):this.doPan||this.panning?this._calculatePinchZoomPosition(e):this.chartMouseMove(e)):this.chartMouseMove(e)},_pointerPinchMove:function(e){var t,i=0,s=e.originalEvent,a=$(this.element).offset(),o=s.pageX-a.left,r=s.pageY-a.top,n=this.model,l=this.eventParams||this._initEventParams(n,s),d=l.touches,h=this.previousPointerMove,c=d.length,u=l.movements;if(null!=h&&h.pageX==s.pagex&&h.pageY==s.pageY&&h.pointerId==e.pointerId)return!1;if(!n.enable3D&&"cartesianaxes"==n.AreaType&&"mouse"!=s.pointerType&&4!=s.pointerType&&n.zooming.enable&&n.zooming.enablePinching){if(o>(t=n.m_AreaBounds).X&&o<t.X+t.Width&&r>t.Y&&r<t.Y+t.Height)if(this._addTouchPointer(d,{pageX:o,pageY:r,pointerId:s.pointerId}),d&&d.length>1){for(;i<c;i++)this._addTouchPointer(u,d[i],!1);this._addTouchPointer(u,{pageX:o,pageY:r,pointerId:s.pointerId},!0),u[0].pageX==d[0].pageX&&u[1].pageX==d[1].pageX&&u[0].pageY==d[0].pageY&&u[1].pageY==u[1].pageY||this._calculatePinchZoomFactor(this._calculateTouchDistance(d,u),this.model.zooming.type,e.target)}else this.doPan||this.panning?this._calculatePinchZoomPosition(e):this.chartMouseMove(e);else d.length>0&&this._removeTouchPointer(d,e),u.length>0&&this._removeTouchPointer(u,e),this.chartMouseMove(e);this.previousPointerMove={pageX:o,pageY:r,pointerId:s.pointerId}}else this.chartMouseMove(e)},_pointerPinchEnd:function(e){var t=this.model,i=e.originalEvent,s=this.eventParams||(this.eventParams=this._initEventParams(t,i)),a=-1!=i.type.indexOf("leave")||-1!=i.type.indexOf("out")||-1!=i.type.indexOf("Out");!t.enable3D&&"cartesianaxes"==t.AreaType&&"mouse"!=i.pointerType&&4!=i.pointerType&&t.zooming.enable&&t.zooming.enablePinching&&(i.touches||i.pointerId)?(null!=this.continuePinching&&this.svgObject.removeChild(this.svgObject.firstChild),this.continuePinching=this.previousPanTouch=this.previousScale=null,i.touches?(this.eventParams=null,this.chartMouseUp(e),a&&this.chartMouseLeave(e)):(this._removeTouchPointer(s.touches,{pointerId:i.pointerId}),s.movements.length>0&&this._removeTouchPointer(s.movements,{pointerId:i.pointerId}),0==s.touches.length&&(this.chartMouseUp(e),a&&this.chartMouseLeave(e),this.eventParams=null))):(this.chartMouseUp(e),a&&this.chartMouseLeave(e))},_appendStyle:function(e){var t="#"+e+".e-canvas * {touch-action:none; -ms-touch-action:none}",i=document.head||document.body,s=document.createElement("style");s.type="text/css",s.appendChild(document.createTextNode(t)),i.appendChild(s)},bindEvents:function(){var e,t,i=jQuery.uaMatch(navigator.userAgent),s=ej.EjSvgRender.utils.browserInfo(),a=s.isMSPointerEnabled,o=s.pointerEnabled,r=a?o?"pointerdown":"MSPointerDown":"touchstart mousedown",n=a?o?"pointerup":"MSPointerUp":"touchend mouseup",l=a?o?"pointermove":"MSPointerMove":"touchmove mousemove",d=a?o?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=s,window.navigator.maxTouchPoints>1&&window.PointerEvent||window.PointerEventsPolyfill?(this._on(this.element,"pointerup pointerleave",this._pointerPinchEnd),this._on(this.element,"pointerdown",this._pointerPinchStart),this._on(this.element,"pointermove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):window.TouchEvent?(this._on(this.element,"touchstart",this._pointerPinchStart),this._on(this.element,"touchmove",this._pinchGestureMove),this._on(this.element,"touchend",this._pointerPinchEnd),this._on($(this.element),"mousedown",this.chartMouseDown),this._on($(this.element),"mousemove",this.chartMouseMove),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on($(document),"mouseup",this.chartMouseUp),this._appendStyle(this.element[0].id)):window.navigator.msMaxTouchPoints&&window.navigator.msPointerEnabled?(this._on(this.element,"MSPointerUp",this._pointerPinchEnd),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on(this.element,"MSPointerDown",this._pointerPinchStart),this._on(this.element,"MSPointerMove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):(this._on(this.element,l,this.chartMouseMove),this._on(this.element,d,this.chartMouseLeave),this._on($(document),n,this.chartMouseUp),this._on($(this.element),r,this.chartMouseDown)),this._isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),1!=(this.isDevice()&&this._isSafari)&&this._on($(this.element),"click",this.chartMouseClick),this._on($(this.element),"contextmenu",this.chartRightClick),this._on($(this.element),"dblclick",this.chartMouseDoubleClick),(this.model.canResize||this.model.isResponsive)&&this.bindResizeEvents(),e=this.model.zooming.enable||this.model.commonSeriesOptions.dragSettings.enable?"none":"pan-y",$(this.element).css({"ms-touch-action":e,"touch-action":e,"content-zooming":"none"}),$(this.element).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),t="mozilla"==i.browser.toLowerCase()?o?"mousewheel":"DOMMouseScroll":"mousewheel",this._on(this.element,t,this.chartMouseWheel)},calZoomFactors:function(e,t,i,s){var a,o;return 1==e?(a=1,o=0):o=s+(i-(a=ej.EjSvgRender.utils._minMax(1/e,0,1)))*t,{zoomMFactor:a,zoomMPosition:o}},doMouseWheelZoom:function(e,t,i){if(e>=1){var s=this.calZoomFactors(e,t,i.zoomFactor,i.zoomPosition);if(i.zoomPosition!=s.zoomMPosition||i.zoomFactor!=s.zoomMFactor)return this.zoomed=!0,i.zoomPosition=s.zoomMPosition,i.zoomFactor=s.zoomMPosition+s.zoomMFactor>1?1-s.zoomMPosition:s.zoomMFactor,!0}return!1},enableAnimation:function(){for(var e=0;e<this.model.series.length;e++)this.model.series[e].enableAnimation=this.serAnimation[e]},disableAnimation:function(){for(var e,t=this,i=0;i<t.model.series.length;i++)t.model.series[i].enableAnimation=!1;for(e=0;e<t.model.indicators.length;e++)t.model.indicators[e].enableAnimation=!1},_removeTrackBall:function(){var e,t="#"+this.svgObject.id;$("#"+this.svgObject.id+"_trackSymbol").remove(),$(document).find("#measureTex").remove(),this.chartCross.visible&&(e=$(this.svgObject).find(t+"_AxisCrossToolTip"),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),e=$(this.svgObject).find(t+"_CrosshairVertical"),this.svgRenderer._setAttr($(e),{d:"M 0 0"}),e=$(this.svgObject).find(t+"_CrosshairHorizontal"),this.svgRenderer._setAttr($(e),{d:"M 0 0"}),e=$(this.svgObject).find(t+"_TrackAxisToolTip"),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),e=$(this.svgObject).find(t+"_Tracker"),this.svgRenderer._setAttr($(e),{d:"M 0 0"}),e=$(this.svgObject).find('[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),e=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),$(e).css("visibility","hidden"),e=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($(e),{visibility:"hidden"}),$(document).find('[id*="_TrackToolTipTemplate_"]').attr("visibility","hidden"),$(document).find('[id*="_TrackToolTipTemplate_"]').css("display","none"),$(t+"_CrosshairVertical").css("display","none"),$(t+"_CrosshairHorizontal").css("display","none"),$("#"+this._id).find('[id*="canvas_AxisToolTipRect"]').css("visibility","hidden"),$("#"+this._id).find('[id*="canvas_Tracker"]').remove(),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#secondCanvas").remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$("#"+this._id).find('[id*="_trackball_grouping_tooltip"]').remove())},enableTrackBall:function(){this.model.crosshair.visible=this.chartCross.visible,this.model.crosshair.type=this.chartCross.mArea},disableTrackBall:function(){this.model.crosshair.visible=!1,this._removeTrackBall()},_enableZoomingButtons:function(){var e,t,i,s,a,o,r=this.svgObject.id;if("cartesianaxes"!=this.model.AreaType&&($("#"+r+"_ResetZoom").remove(),$("#"+r+"_PanBtn").remove(),$("#"+r+"_ZoomBtn").remove(),$("#"+r+"_ZoomInBtn").remove(),$("#"+r+"_ZoomOutBtn").remove()),"cartesianaxes"==this.model.AreaType)for(this._removeZoomkit(),e=this.model.zooming.isReversed,this.toolbarItems||(this.toolbarItems=$.extend(!0,[],this.model.zooming.toolbarItems),this.toolbarItems.reverse()),o=(i=(t=e?this.toolbarItems:this.model.zooming.toolbarItems).length)-1;o>=0;o--)switch(a=i-o,s=t[o]){case"reset":this.resetZoomButton(a);break;case"pan":this.panButton(a);break;case"zoom":case"zoomIn":case"zoomOut":this.zoomButton(a,s);break;default:i-=1}},chartMouseWheel:function(e){var t,i,s,a,o,r;if($("#"+this.svgObject.id+"_TrackToolTip").hide(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$(this.svgObject).find('[id*="_trackSymbol_"]').remove(),this.model.zooming.enableMouseWheel&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&!this.vmlRendering&&ej.util.isNullOrUndefined(this.model.isLazyZooming)){t=this,this.zoomed=!1;var n=!1,l="#"+t.svgObject.id,d=jQuery.uaMatch(navigator.userAgent),h=!!navigator.userAgent.match(/Trident\/7\./),c=e.originalEvent.wheelDelta,u="mozilla"==d.browser.toLowerCase()?h?c/120>0?1:-1:-e.originalEvent.detail/3>0?1:-1:c/120>0?1:-1;for(s=0;s<this.model._axes.length;s++)("vertical"==(a=this.model._axes[s]).orientation.toLowerCase()&&("y"==t.model.zooming.type.toLowerCase()||"x,y"==t.model.zooming.type.trim().toLowerCase())||"horizontal"==a.orientation.toLowerCase()&&("x"==t.model.zooming.type.toLowerCase()||"x,y"==t.model.zooming.type.trim().toLowerCase()))&&(o=Math.max(1/ej.EjSvgRender.utils._minMax(a.zoomFactor,0,1),1),r=Math.max(o+.25*u,1),n|=t.doMouseWheelZoom(r,.5,a)),1!=a.zoomFactor&&0!=a.zoomPosition&&(i=!0),this.resetZooming=1==a.zoomFactor&&0==a.zoomPosition;this._updateScroll(),this.disableAnimation(),this.disableTrackBall(),n&&(this.model.legendCollapsed=!1,this.zoomed=!0,t.redraw(!0)),this.model._chartAreaZoom=!0,this._enableZoomingButtons(),this.mouseWheelCoords={x:e.originalEvent.pageX,y:e.originalEvent.pageY},i||($(l+"_ResetZoom").remove(),$(l+"_PanBtn").remove(),$(l+"_ZoomBtn").remove(),$(l+"_ZoomInBtn").remove(),$(l+"_ZoomOutBtn").remove(),this.enableAnimation(),this.panning=!1),d=jQuery.uaMatch(navigator.userAgent),e.preventDefault&&"chrome"==d.browser&&this.model.zooming.enable&&e.preventDefault(),e.returnValue=!1}$(".tooltipDiv"+this._id).remove()},getAxisMultiLevelLabelsData:function(e){var t,i,s,a,o=this.calMousePosition(e),r=this.model.multiLevelLabelRegions.length;for(this.mousemoveX=o.X,this.mousemoveY=o.Y,a=0;a<r;a++)if(s=(t=this.model.multiLevelLabelRegions[a]).bounds.y,this.mousemoveX>=(i=t.bounds.x)&&this.mousemoveX<=i+t.bounds.width&&this.mousemoveY<=s+t.bounds.height&&this.mousemoveY>=s)return{location:{x:this.mousemoveX,y:this.mousemoveY},axis:this.model._axes[t.axisIndex],multiLevelLabel:t.multiLevelLabel}},getAxisLabelData:function(e){var t,i,s,a,o,r,n,l,d=this.calMousePosition(e),h=e.target.id,c=this.model._axes.length;if(this.mousemoveX=d.X,this.mousemoveY=d.Y,"cartesianaxes"==this.model.AreaType||"polaraxes"==this.model.AreaType)if(this.model.enable3D){if(h.indexOf("horizontal")>=0||h.indexOf("vertical")>=0)for(n=0;n<c;n++)for(r=this.model._axes[n].visibleLabels.length,l=0;l<r;l++)if(h==this.svgObject.id+this.model._axes[n].orientation+l)return{location:{x:this.mousemoveX,y:this.mousemoveY},index:l,axis:this.model._axes[n],text:this.model._axes[n].visibleLabels[l].Text}}else for(n=0;n<c;n++)if(r=this.model._axes[n].visibleLabels.length,this.model._axes[n].visible)for(l=0;l<r;l++)if(t=this.model._axes[n].visibleLabels[l].region,!ej.util.isNullOrUndefined(t)&&(i=t.bounds.x,s=t.bounds.y,a=t.bounds.width,o=t.bounds.height,i=this.vmlRendering&&h.indexOf("_YLabel_")>=0?this.model._axes[n].opposedPosition?i:i+a:i,this.mousemoveX>=i&&this.mousemoveX<=i+a&&(this.vmlRendering?this.mousemoveY<=s+o&&this.mousemoveY>=s:this.mousemoveY>=s-o&&this.mousemoveY<=s)))return{location:{x:this.mousemoveX,y:this.mousemoveY},index:l,axis:this.model._axes[n],text:t.labelText}},getLegendData:function(e){var t=this.calMousePosition(e),i=this.model.legend.isReversed;t.X=i&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||"scroll"==$("#legend_"+this._id)[0].style.overflowY)?t.X-18:t.X,t.X-=parseFloat($(this.element).css("padding-left")),t.Y-=parseFloat($(this.element).css("padding-top"));var s,a=this.model.legend._ejScroller,o=0;s=a?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop(),o=a?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft(),i&&a&&(o=0==o?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft),this.scrolltop=s||0,this.scrollleft=o||0,this.mousemoveX=t.X+o,this.mousemoveY=t.Y+s;var r,n=e.target.id,l=this.mousemoveX,d=this.mousemoveY,h=this._id;return!(!(!ej.util.isNullOrUndefined(n)&&this.svgRenderer._getAttrVal($(e.target).parents(":eq(1)"),"id")==this.svgObject.id+"_Legend"||this.model.enableCanvasRendering&&n=="legend_"+h+"_canvas"||this.vmlRendering)||($.each(this.model.legendRegion,(function(e,t){l>=t.Bounds.LegendBound.X+t.Bounds.ItemBound.X&&l<=t.Bounds.LegendBound.X+t.Bounds.ItemBound.X+t.Bounds.ItemBound._Width&&(d>=t.Bounds.LegendBound.Y+t.Bounds.ItemBound.Y-t.Bounds.ItemBound.Height/4&&d<=t.Bounds.LegendBound.Y+t.Bounds.ItemBound.Y+t.Bounds.ItemBound.Height?(r=t,$("#legend_"+h+"_canvas").css("cursor","pointer")):$("#legend_"+h+"_canvas").css("cursor","default"))})),ej.util.isNullOrUndefined(r)))&&{legendItem:r,series:this.model._visibleSeries[r.LegendItem.SeriesIndex]}},get3DSeriesPoint:function(e){var t,i,s,a,o,r,n=this.mousemoveX,l=this.mousemoveY,d="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,h="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,c="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,u="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height;if(n>d&&n<d+c&&l>h&&l<h+u&&("path"==(a=$(e.target)[0].nodeName)||"shape"==a)&&$(e.target)[0].id.indexOf("Region")>1)return t=$(e.target)[0].id.match(/(\d+)/g),i=parseInt(t[t.length-1]),s=parseInt(t[t.length-2]),(o={}).Region={},o.Region.PointIndex=i,o.SeriesIndex=s,(r={}).pointIndex=i,{region:o,pointData:r,location:{x:n,y:l}}},GetSeriesPoint:function(e){for(var t,i,s,a,o,r,n,l=this.mousemoveX,d=this.mousemoveY,h=this,c=h.model.indicators,u=h.model._visibleSeries,p=0;p<c.length&&c[p].segment;p++)u=u.concat(c[p].segment);if(h.model.enable3D)return this.get3DSeriesPoint(e);var m="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,g="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,_="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,f="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height;if("cartesianaxes"==this.model.AreaType||"polaraxes"==this.model.AreaType){if(l>m&&l<m+_&&d>g&&d<g+f&&$.each(this.model.chartRegions,(function(i,a){var o,c,p,m,g,_,f,b,v;if(ej.util.isNullOrUndefined(a.SeriesIndex)){if(s=h.model.chartRegions,!a.isStripLine){var S=a.length,C=h.model.requireInvertedAxes?h.model.series[a[S-1].SeriesIndex]._xAxisName:h.model.series[a[S-1].SeriesIndex]._yAxisName;for(b=0;b<h.model._axes.length;b++)if(C==h.model._axes[b].name){f=h.model._axes[b];break}for(M=0;M<s.length;M++)for(V=0;V<s[M].length;V++)O=[],(v=s[M][V].region)[0]&&O.push({x:v[0].X+f.x,y:v[0].Y+f.y}),v[1]&&O.push({x:v[1].X+f.x,y:v[1].Y+f.y}),v[2]&&O.push({x:v[2].X+f.x,y:v[2].Y+f.y}),v[3]&&O.push({x:v[3].X+f.x,y:v[3].Y+f.y}),h.isPointInPolygon(O,I={x:l,y:d})&&(r=s[M][V])}}else if(o=u[a.SeriesIndex],"polaraxes"==h.model.AreaType&&"column"==o.drawType.toLowerCase()&&e.target||"rangecolumn"==o.drawType.toLowerCase()){if(h.model.enableCanvasRendering){if("polar"==o.type.toLowerCase()){var T,L,k=a.Region.Bounds,P=-.5*Math.PI,j=k.innerRadius||k.DRadius;T=l-k.CenterX,L=d-k.CenterY;var D=h.model._visibleSeries[a.SeriesIndex].startAngle?2*Math.PI*(h.model.itemCurrentXPos<0?1+h.model.itemCurrentXPos:h.model.itemCurrentXPos):0,A=(Math.atan2(L,T)-P-D)%(2*Math.PI);A<0&&0!=k.PointIndex&&(A=2*Math.PI+A),c=parseFloat(k.StartAngle.toFixed(14)),p=parseFloat(k.EndAngle.toFixed(14)),p-=D,A>=(c-=D)&&A<=p&&(i=k.PointIndex,(t=Math.sqrt(Math.pow(Math.abs(T),2)+Math.pow(Math.abs(L),2)))<=k.Radius&&t>j&&(r={Region:{PointIndex:i},SeriesIndex:a.SeriesIndex,type:a.type}))}else if("radar"==o.type.toLowerCase()&&(k=a.Region.Bounds).Line1){w=k.Line4;var O=[{x:(v=k.Line1).x,y:v.y},{x:(x=k.Line2).x,y:x.y},{x:(y=k.Line3).x,y:y.y}],I={x:l,y:d};if("column"==o.drawType.toLowerCase())for(var R=!1,M=-1,E=O.length,V=E-1;++M<E;V=M)(O[M].y<=I.y&&I.y<O[V].y||O[V].y<=I.y&&I.y<O[M].y)&&I.x<(O[V].x-O[M].x)*(I.y-O[M].y)/(O[V].y-O[M].y)+O[M].x&&(R=!R);else for(m=[{x:v.x,y:v.y},{x:x.x,y:x.y},{x:y.x,y:y.y},{x:w.x,y:w.y}],M=0,V=2,R=!1,g=0;g<m.length;g++)(m[M].y<=I.y&&I.y<m[V].y||m[V].y<=I.y&&I.y<m[M].y)&&I.x<(m[V].x-m[M].x)*(I.y-m[M].y)/(m[V].y-m[M].y)+m[M].x&&(R=!R),b=M,M=V,V=++b,2==g&&(V=0);R&&(r={Region:{PointIndex:i=k.PointIndex},SeriesIndex:a.SeriesIndex,type:a.type})}}else if(("path"==(_=$(e.target)[0].nodeName)||"shape"==_)&&$($(e.target).parent())[0].id==h.svgObject.id+"_SeriesGroup_"+a.SeriesIndex)return i=$(e.target)[0].id.match(/(\d+)/g),n=parseInt(i[i.length-1]),r=a={Region:{PointIndex:n},SeriesIndex:a.SeriesIndex,type:a.type},!1}else l>=a.Region.Bounds.X&&l<=a.Region.Bounds.X+a.Region.Bounds.Width&&d>a.Region.Bounds.Y&&d<a.Region.Bounds.Y+a.Region.Bounds.Height&&(r=a)})),r)return{region:r,location:{x:l,y:d}}}else{if(!((a=(h=this).model.chartRegions).length>0)||"pyramid"!=a[0].Series.type.toLowerCase()&&"funnel"!=a[0].Series.type.toLowerCase())return $.each(h.model.chartRegions,(function(e,i){var s,a,o,n,c,u,p,m,g=-.5*Math.PI,_=i.SeriesData,f=i.Region,b="doughnut"==h.model._visibleSeries[i.SeriesIndex].type.toLowerCase()?_.DRadius:0;s=l-_.CenterX,a=d-_.CenterY;var v=h.model._visibleSeries[i.SeriesIndex],x=v.startAngle,y=v.endAngle;if(x=x<0?x+360:x,y=y<0?y+360:y,v.endAngle-v.startAngle<0){for(o=(y/=360)?2*Math.PI*(y<0?1+y:y):0,(n=(Math.atan2(a,s)-g-o)%(2*Math.PI))<0&&(n=2*Math.PI+n),k=[],c=0;c<f.length;c++)if(u=parseFloat(f[c].StartAngle.toFixed(14)),p=parseFloat(f[c].EndAngle.toFixed(14)),u=u<0?2*Math.PI+u:u,p=p<0?2*Math.PI+p:p,u-=o,p-=o,u=parseFloat(u.toFixed(14)),p=parseFloat(p.toFixed(14)),v.startAngle>=0&&v.endAngle<=0&&(u=u<=0?2*Math.PI+u:u,p=p<0?2*Math.PI+p:p),n<=u&&n>=p){k.push(f[c]);break}}else for(o=x?2*Math.PI*(h.model.itemCurrentXPos<0?1+h.model.itemCurrentXPos:h.model.itemCurrentXPos):0,(n=(Math.atan2(a,s)-g-o)%(2*Math.PI))<0&&(n=h.model._isPieOfPie?n:2*Math.PI+n),k=[],c=0;c<f.length;c++)if(u=parseFloat(f[c].StartAngle.toFixed(14)),p=parseFloat(f[c].EndAngle.toFixed(14)),u=u<0?h.model._isPieOfPie?u:2*Math.PI+u:u,p=p<0?2*Math.PI+p:p,u-=o,p-=o,u=parseFloat(u.toFixed(14)),p=parseFloat(p.toFixed(14)),v.startAngle<0&&(v.endAngle>-1||null==v.endAngle)&&(u=u<0?2*Math.PI+u:u,p=p<=0?2*Math.PI+p:p),n+2*Math.PI<p&&"pieofpie"==v.type&&(n+=2*Math.PI),n>=u&&n<=p){k.push(f[c]);break}k.length>0&&(v.explodeAll||v.explodeIndex==k[0].PointIndex?(m=d-k[0].StartY,k.length>0&&(t=Math.sqrt(Math.pow(Math.abs(l-k[0].StartX),2)+Math.pow(Math.abs(m),2)))<=_.Radius&&t>b&&(f.PointIndex=k[0].PointIndex,f.Index=k[0].Index,f.SeriesIndex=k[0].SeriesIndex,r={region:i,pointData:k,location:{x:l,y:d}})):(t=Math.sqrt(Math.pow(Math.abs(s),2)+Math.pow(Math.abs(a),2)))<=_.Radius&&t>b&&(f.PointIndex=k[0].PointIndex,f.Index=k[0].Index,f.SeriesIndex=k[0].SeriesIndex,r={region:i,pointData:k,location:{x:l,y:d}}))})),r;if(("path"==(o=$(e.target)[0].nodeName)||"shape"==o)&&$($(e.target).parent())[0].id==h.svgObject.id+"_SeriesGroup_"+a[0].SeriesIndex)return s=h.model.chartRegions[0],i=$(e.target)[0].id.match(/(\d+)/g),i=parseInt(i[i.length-1]),s.Region.PointIndex=i,(k={}).pointIndex=i,r={region:s,pointData:k,location:{x:l,y:d}};s=a[0];var b,v,x,y,w,S,C,T=this.pyrX,L=this.pyrY,k={};for(p=0;p<s.Region.length;p++)if(v=s.Region[p].Line1,x=s.Region[p].Line2,y=s.Region[p].Line3,w=s.Region[p].Line4,b="pyramid"==a[0].Series.type.toLowerCase()?[{x:v.x+T,y:v.y+L},{x:x.x+T,y:x.y+L},{x:y.x+T,y:y.y+L},{x:w.x+T,y:w.y+L}]:[{x:v.x+T,y:v.y+L},{x:x.x+T,y:x.y+L},{x:y.x+T,y:y.y+L},{x:w.x+T,y:w.y+L},{x:(S=s.Region[p].Line5).x+T,y:S.y+L},{x:(C=s.Region[p].Line6).x+T,y:C.y+L}],this.isPointInPolygon(b,{x:l,y:d}))return k.pointIndex=s.Region[p].PointIndex,s.Region.PointIndex=k.pointIndex,r={region:s,pointData:k,location:{x:l,y:d}}}},isPointInPolygon:function(e,t){for(var i=!1,s=-1,a=e.length,o=a-1;++s<a;o=s)(e[s].y<=t.y&&t.y<e[o].y||e[o].y<=t.y&&t.y<e[s].y)&&t.x<(e[o].x-e[s].x)*(t.y-e[s].y)/(e[o].y-e[s].y)+e[s].x&&(i=!i);return i},mousePosition:function(e){return!ej.util.isNullOrUndefined(e.pageX)&&e.pageX>0?{x:e.pageX,y:e.pageY}:e.originalEvent&&!ej.util.isNullOrUndefined(e.originalEvent.pageX)&&e.originalEvent.pageX>0?{x:e.originalEvent.pageX,y:e.originalEvent.pageY}:e.originalEvent&&null!=e.originalEvent.changedTouches?!ej.util.isNullOrUndefined(e.originalEvent.changedTouches[0].pageX)&&e.originalEvent.changedTouches[0].pageX>0?{x:e.originalEvent.changedTouches[0].pageX,y:e.originalEvent.changedTouches[0].pageY}:void 0:{x:0,y:0}},calMousePosition:function(e){var t=jQuery.uaMatch(navigator.userAgent),i=this.mousePosition(e);return e.pageX=i.x,e.pageY=i.y,t.browser.toLowerCase(),{X:e.pageX-$(this.svgObject).offset().left,Y:e.pageY-$(this.svgObject).offset().top}},calTouchPosition:function(e){var t,i,s,a=jQuery.uaMatch(navigator.userAgent);return"mozilla"==a.browser.toLowerCase()||"webkit"==a.browser.toLowerCase()?(t=(s=e.originalEvent.touches[0]).pageX-$(this.svgObject).parent().offset().left,i=s.pageY-$(this.svgObject).parent().offset().top,this.leftPadding=$(this.svgObject).offset().left,this.grabPadding=0):"msie"==a.browser.toLowerCase()?(t=e.originalEvent.pageX-$(this.svgObject).offset().left,i=e.originalEvent.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left):(t=(s=e.originalEvent.touches[0]).pageX-$(this.svgObject).offset().left,i=s.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left),{X:t,Y:i}},cancelEvent:function(e){return e.stopPropagation(),"chrome"==jQuery.uaMatch(navigator.userAgent).browser&&(this.model.zooming.enable||this.model.crosshair.visible)&&e.preventDefault(),this.model.enable3D&&(e.preventDefault(),e.stopPropagation()),e.returnValue=!1,e.cancelBubble=!0,!1},resetZoom:function(){var e=this,t="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),$(".zoom"+this._id).remove(),e.zoomed&&($.each(this.model._axes,(function(e,t){t.zoomed=!1,t.zoomFactor=1,t.zoomPosition=0})),e.model.primaryXAxis.zoomFactor=1,e.model.primaryYAxis.zoomFactor=1,e.model.primaryXAxis.zoomPosition=0,e.model.primaryYAxis.zoomPosition=0,$("#"+e._id+"_canvas").css({cursor:"default"}),$(t+"_ResetZoom").remove(),$(t+"_PanBtn").remove(),$(t+"_ZoomBtn").remove(),$(t+"_ZoomInBtn").remove(),$(t+"_ZoomOutBtn").remove(),e.zoomed=!1,e.zooming=!1,e.panning=!1,e.model._chartAreaZoom=!1,e.resetZooming=!0,e.enableTrackBall(),e.redraw(!0),e.enableAnimation(),e.svgRenderer._setAttr($(e.svgObject).find(t+"_XAxis,"+t+"_ChartArea,"+t+"_YAxis,"+t+"_SeriesCollection"),{cursor:"default"}))},startZoomInOut:function(e){var t,i,s=e.target.id.indexOf("ZoomIn")>-1?"zoomIn":"zoomOut";this.drag=!1,this.zoomed=!0;var a,o,r,n,l=this.model.zooming.type.toLowerCase(),d="zoomIn"==s?.2:-.2,h=!0;for(t=0;t<this.model._axes.length;t++)o=(a=this.model._axes[t]).zoomFactor,r=a.zoomPosition,"horizontal"==a.orientation.toLowerCase()?(a.zoomFactor="y"!=l?o-d:a.zoomFactor,a.zoomPosition="y"!=l?r+d:a.zoomPosition):(a.zoomFactor="x"!=l?o-d:a.zoomFactor,a.zoomPosition="x"!=l?r+d:a.zoomPosition),parseFloat(a.zoomFactor.toFixed(3))<=.001&&(a.zoomFactor=o,a.zoomPosition=r),parseFloat(a.zoomFactor.toFixed(3))>=1&&(a.zoomFactor=1,a.zoomPosition=0),h=h&&1==a.zoomFactor,this.resetZooming=1==a.zoomFactor&&0==a.zoomPosition;n=this._getZoomedData(this),(i=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},i.data.series=n,this._trigger("zoomed",i),this._updateScroll(),this.redraw(!0),h?(this._removeZoomkit(),this.resetZooming=!0,this.zoomed=this.panning=!1,this.model._chartAreaZoom=!1):this._enableZoomingButtons()},startZoom:function(){var e,t=this,i="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),e=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",t.svgRenderer._setAttr($(i+"_ZoomBtn"),{selected:"true"}),t.svgRenderer._setAttr($(i+"_ZoomPath"),{fill:"#14B9FF"}),t.svgRenderer._setAttr($(i+"_ZoomIcon"),{fill:"#FFFFFF"}),t.svgRenderer._setAttr($(i+"_PanPath"),{fill:"#B7B7B7"}),t.svgRenderer._setAttr($(i+"_panIcon"),{fill:e}),$(i+"_ZoomBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"}),$(i+"_PanBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"}),$("#"+t._id+"_canvas").css({cursor:"default"}),this._cursorToDefault(),t.panning=!1,t.enableTrackBall()},startPan:function(){var e,t=this,i="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),e=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",t.svgRenderer._setAttr($(i+"_ZoomBtn"),{selected:"false"}),t.svgRenderer._setAttr($(i+"_PanBtn"),{selected:"true"}),t.svgRenderer._setAttr($(i+"_ZoomPath"),{fill:"#B7B7B7"}),t.svgRenderer._setAttr($(i+"_ZoomIcon"),{fill:e}),t.svgRenderer._setAttr($(i+"_PanPath"),{fill:"#14B9FF"}),t.svgRenderer._setAttr($(i+"_panIcon"),{fill:"#FFFFFF"}),$(i+"_ZoomBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"}),$(i+"_PanBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"}),$("#"+t._id+"_canvas").css({cursor:"pointer"}),this._cursorToPointer(),t.panning=!0,t.disableTrackBall()},zoomButton:function(e,t){var i="zoom"==t?"_Zoom":"zoomIn"==t?"_ZoomIn":"_ZoomOut",s=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-32*e-(5*e+5)),a=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),o=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";ej.EjCanvasRender.prototype.zoomButton({id:this.svgObject.id+i+"Path",d:"M32,27c0,2.75-2.25,5-5,5H5c-2.75,0-5-2.25-5-5V5c0-2.75,2.25-5,5-5h22c2.75,0,5,2.25,5,5V27z",fill:this.panning||"zoomIn"==t||"zoomOut"==t?"#b7b7b7":"#14B9FF",zoomId:this._id+i+"Btn",width:26,height:26,left:s+0,top:a+0,iconColor:o},t,this),this._on($("#"+this.svgObject.id+i+"Btn"),"touchstart click","zoom"==t?this.startZoom:this.startZoomInOut)},panButton:function(e){var t=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-32*e-(5*e+5)),i=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),s=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";ej.EjCanvasRender.prototype.panButton({id:this.svgObject.id+"_PanPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:this.panning?"#14B9FF":"#b7b7b7",panId:this._id+"_PanBtn",width:26,height:26,left:t+0,top:i+0,iconColor:s},this),this._on($("#"+this.svgObject.id+"_PanBtn"),"touchstart click",this.startPan)},resetZoomButton:function(e){var t,i=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-(32*e+(5*e+5))),s=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),a=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";ej.EjCanvasRender.prototype.resetZoom({id:this.svgObject.id+"_ResetZoomPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:"#b7b7b7",resetZoomId:this._id+"_ResetZoom",width:26,height:26,left:i+0,top:s+0,iconColor:a},this),t=(window.TouchEvent?"touchstart":window.PointerEvent?"pointerdown":window.MSPointerEvent?"MSPointerDown":"click")+" click",this._on($("#"+this.svgObject.id+"_ResetZoom"),t,this.resetZoom)},doZoom:function(e,t,i){var s,a,o,r=this;if(this.model._chartAreaZoom=!0,this.scrollDraw=!0,$(".tooltipDiv"+this._id).remove(),r.model.enableCanvasRendering)var n=$("#"+this.svgObject.id+"_ZoomArea")[0].getClientRects()[0],l=$("#"+this.svgObject.id)[0].getClientRects()[0],d=n.left-l.left-$(document).scrollLeft(),h=n.top-l.top-$(document).scrollTop();else d=parseFloat(r.svgRenderer._getAttrVal($(e),"x")),h=parseFloat(r.svgRenderer._getAttrVal($(e),"y"));for($("#"+this.svgObject.id+"_ZoomArea").remove(),this.drag=!1,this.zoomed=!0,a=0;a<this.model._axes.length;a++){var c=this.model._axes[a],u=c.zoomFactor,p=c.zoomPosition;"horizontal"==c.orientation.toLowerCase()?(c.zoomFactor="y"!=r.model.zooming.type.toLowerCase()?u*(t/r.model.m_AreaBounds.Width):c.zoomFactor,c.zoomPosition="y"!=r.model.zooming.type.toLowerCase()?p+Math.abs((d-r.model.m_AreaBounds.X)/r.model.m_AreaBounds.Width)*u:c.zoomPosition,parseFloat(c.zoomFactor.toFixed(3))<=.001&&(c.zoomFactor=u,c.zoomPosition=p)):(c.zoomFactor="x"!=r.model.zooming.type.toLowerCase()?u*i/r.model.m_AreaBounds.Height:c.zoomFactor,c.zoomPosition="x"!=r.model.zooming.type.toLowerCase()?p+(1-Math.abs((i+(h-r.model.m_AreaBounds.Y))/r.model.m_AreaBounds.Height))*u:c.zoomPosition,parseFloat(c.zoomFactor.toFixed(3))<=.001&&(c.zoomFactor=u,c.zoomPosition=p))}s=this._getZoomedData(r),(o=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},o.data.series=s,this._trigger("zoomed",o),this.disableAnimation(),this.model.legendCollapsed=!1,this.redraw(!0),this._enableZoomingButtons()},_getZoomedData:function(e){for(var t,i,s,a,o,r=this.model._visibleSeries,n=r.length,l=[],d=[],h=[],c=0;c<n;c++){if("visible"==r[c].visibility)for(o=(h=r[c].points).length,i=r[c].type.toLowerCase(),(new(ej.axisTypes[r[c].xAxis._valueType.toLowerCase()]))._calculateVisibleRange(r[c].xAxis,e),(new(ej.axisTypes[r[c].yAxis._valueType.toLowerCase()]))._calculateVisibleRange(r[c].yAxis,e),s=r[c].xAxis.visibleRange,a=r[c].yAxis.visibleRange,t=0;t<o;t++)s.min<=h[t].xValue&&s.max>=h[t].xValue&&a.min<=h[t].y&&a.max>=h[t].y&&l.push(r[c]._hiloTypes?"rangearea"==i||"rangecolumn"==i||"waterfall"==i||"hilo"==i?{XValue:h[t].x,High:h[t].high,Low:h[t].low}:{XValue:h[t].x,High:h[t].high,Low:h[t].low,Open:h[t].open,Close:h[t].close}:{XValue:h[t].x,YValue:h[t].y});0!=l.length&&d.push({selectedData:l}),l=[]}return d},_cursorToDefault:function(){var e="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(e+"_XAxis,"+e+"_ChartArea,"+e+"_YAxis,"+e+"_SeriesCollection,"+e+"_StriplineBehind,"+e+"_StriplineOver"),{cursor:"default"})},_cursorToPointer:function(){var e="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(e+"_XAxis,"+e+"_ChartArea,"+e+"_YAxis,"+e+"_SeriesCollection,"+e+"_StriplineBehind,"+e+"_StriplineOver"),{cursor:"pointer"})},removeMultiRect:function(){$(this.parentgEle).empty(),this.model.selectedDataCollection=[]},multiSelectDataCalculation:function(){for(var e,t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C=[],T=this.selectedRectIndex,L=this.oldRectX[T],k=this.oldRectY[T],P=this.oldRectWidth[T],j=this.oldRectHeight[T],D=this.model.series,A=D.length,O=this.multiAxis,I=O.length,R=this.multiSelectType,M=(this.model.AreaType.toLowerCase(),0);M<A;M++){if(_=(S=D[M]).xAxis.visibleRange,f=S.yAxis.visibleRange,e=O.some((function(e){return e.name.toLowerCase()==S._xAxisName.toLowerCase()})),t=O.some((function(e){return e.name.toLowerCase()==S._yAxisName.toLowerCase()})),w=S.selectionSettings,e&&t&&"visible"==S.visibility.toLowerCase()){for(i=0;i<I;i++)"horizontal"==(o=O[i]).orientation.toLowerCase()?(this.selectFactor="y"!=w.rangeType.toLowerCase()?P/this.multiAxis[i].width*1:1,this.selectPosition="y"!=w.rangeType.toLowerCase()?0+1*Math.abs((L-this.multiAxis[i].x)/this.multiAxis[i].width):0,parseFloat(1..toFixed(3))<=.001&&(this.selectFactor=1,this.selectPosition=0)):(this.selectFactor="x"!=w.rangeType.toLowerCase()?1*j/this.multiAxis[i].height:1,this.selectPosition="x"!=w.rangeType.toLowerCase()?0+1*(1-Math.abs((j+(k-this.multiAxis[i].y))/this.multiAxis[i].height)):0,parseFloat(1..toFixed(3))<=.001&&(this.selectFactor=1,this.selectPosition=0)),o.visibleRange=$.extend(!0,{},o.actualRange),(this.selectFactor<1||this.selectPosition>0)&&(u="logarithmic"==o.valueType?o.visibleRange:o.actualRange,this.selectFactor=this.selectFactor>1?1:this.selectFactor<0?0:this.selectFactor,this.selectPosition=this.selectPosition<0?0:this.selectPosition>1?1:this.selectPosition,m=o.isInversed?(p=o.actualRange.max-this.selectPosition*o.actualRange.delta)-this.selectFactor*o.actualRange.delta:(p=o.actualRange.min+this.selectPosition*o.actualRange.delta)+this.selectFactor*o.actualRange.delta,p<u.min&&(m+=u.min-p,p=u.min),m>u.max&&(p-=m-u.max,m=u.max),"logarithmic"==o.valueType&&(p=Math.pow(10,p),m=Math.pow(10,m)),o.visibleRange.min=Math.min(p,m),o.visibleRange.max=Math.max(p,m));if(h=S._visiblePoints,c=S.type.toLowerCase(),y=S.isTransposed,r=S.xAxis.visibleRange.min,n=S.xAxis.visibleRange.max,l=S.yAxis.visibleRange.min,d=S.yAxis.visibleRange.max,ej.util.isNullOrUndefined(C)&&(C=[]),S.selectionSettings.enable)switch(R){case"x":for(i=0;i<h.length;i++)h[i].seriesIndex=M,g=h[i].isEmpty,b=h[i].xValue,v=h[i].y,S.xAxis.isInversed||S.yAxis.isInversed?c.indexOf("bar")>=0?c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&d>=x&&l<=x&&C.push(h[i])):("waterfall"==c&&!g&&d>=h[i].YValues[0]&&l<=h[i].YValues[0]||!g&&d>=v&&l<=v)&&C.push(h[i]):!g&&n>=b&&r<=b&&C.push(h[i]):y&&c.indexOf("bar")>=0?!g&&r<=b&&n>=b&&C.push(h[i]):c.indexOf("bar")>=0||S.isTransposed&&!(c.indexOf("bar")>=0)?c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&l<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&l<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&l<=v&&d>=v)&&C.push(h[i]):!g&&Math.round(r)<=b&&n>=b&&C.push(h[i]);break;case"y":for(i=0;i<h.length;i++)h[i].seriesIndex=M,g=h[i].isEmpty,b=h[i].xValue,v=h[i].y,S.xAxis.isInversed||S.yAxis.isInversed?c.indexOf("bar")>=0?!g&&n>=b&&r<=b&&C.push(h[i]):c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&l<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&d>=h[i].YValues[0]&&l<=h[i].YValues[0]||!g&&d>=v&&l<=v)&&C.push(h[i]):y&&c.indexOf("bar")>=0?c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&l<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&l<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&l<=v&&d>=v)&&C.push(h[i]):c.indexOf("bar")>=0||S.isTransposed&&!(c.indexOf("bar")>=0)?!g&&r<=b&&n>=b&&C.push(h[i]):c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&l<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&l<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&l<=v&&d>=v)&&C.push(h[i]);break;case"xy":for(i=0;i<h.length;i++)h[i].seriesIndex=M,g=h[i].isEmpty,b=h[i].xValue,v=h[i].y,c.indexOf("stacking")>=0?(x=S.stackedValue.EndValues[i],!g&&n>=b&&r<=b&&l<=x&&d>=x&&C.push(h[i])):("waterfall"==c&&!g&&n>=b&&r<=b&&l<=h[i].YValues[0]&&d>=h[i].YValues[0]||!g&&n>=b&&Math.round(r)<=b&&l<=v&&d>=v)&&C.push(h[i])}}S.xAxis.visibleRange=_,S.yAxis.visibleRange=f}s=this.currentIndex,(ej.util.isNullOrUndefined(this.model.selectedDataCollection)||0==$("#"+this.svgObject.id+"_rectSelectionGroup").length)&&(this.model.selectedDataCollection=[]),this.removeRect?this.model.selectedDataCollection.splice(s,1):this.rectPan||this.resize?(this.model.selectedDataCollection[s]=0,this.model.selectedDataCollection[s]=C):this.model.selectedDataCollection[this.model.selectedDataCollection.length]=C,(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},a.data.selectedData=C,a.data.selectedDataCollection=this.model.selectedDataCollection,this._trigger("rangeSelected",a)},multiSelectMouseUp:function(e){var t;if(this._isMultiSelect&&"range"==this.multiSelectMode){var i,s,a,o=this.svgObject.id,r=this.selectedRectIndex,n="#"+o+"_selectRect",l=parseInt($(n+r).attr("width")),d=parseInt($(n+r).attr("height")),h=parseInt($(n+r).attr("x")),c=parseInt($(n+r).attr("y"));if((this.multiSelectDraw||!this.removeRect||!this.resize||!this.rectPan)&&l>0&&d>0){for(this.svgRenderer.drawRect({id:o+"_resize_rightRect"+r,x:h+l-5,y:c+10,width:10,height:d-20>0?d-20:0,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"e-resize"},this.gEle),this.svgRenderer.drawRect({id:o+"_resize_bottomRect"+r,x:h,y:c+d-5,width:l-10>0?l-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"s-resize"},this.gEle),this.svgRenderer.drawRect({id:o+"_resize_leftRect"+r,x:h-5,y:c,width:10,height:d,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"w-resize"},this.gEle),this.svgRenderer.drawRect({id:o+"_resize_topRect"+r,x:h,y:c-5,width:l-10>0?l-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"n-resize"},this.gEle),this.svgRenderer.drawCircle({id:o+"_resize_bottomRightCornerCircle"+r,cx:h+l,cy:c+d,r:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"se-resize"},this.gEle),this.svgRenderer.drawCircle({id:o+"_closeTopRightCornerCircle"+r,cx:h+l,cy:c,r:10,fill:"white",stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.gEle),this.svgRenderer.drawLine({id:o+"_closePath"+r,x1:h+l-4,y1:c-4,x2:h+l+4,y2:c+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.gEle),this.svgRenderer.drawLine({id:o+"_closePathOpposite"+r,x1:h+l+4,y1:c-4,x2:h+l-4,y2:c+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.gEle),i=[16,10,4,10,4,4],s=[4,4,4,10,10,16],a=["a","b","c","d","e","f"],t=0;t<6;t++)this.svgRenderer.drawCircle({id:o+"_gripCircle_"+a[t]+r,cx:h+l-i[t],cy:c+d-s[t],r:.4,stroke:"#5B5B5B","stroke-width":2},this.gripCollection);null!=this.gripCollection&&$(this.gripCollection).appendTo(this.gEle),$("#"+o+"_gripCollection"+r).css({visibility:"hidden"})}ej.util.isNullOrUndefined(this.oldRectX)&&(this.oldRectX=[],this.oldRectY=[],this.oldRectWidth=[],this.oldRectHeight=[],this.oldReRightRectX=[],this.oldReTopRectY=[],this.oldReBottomRectY=[]),this.oldRectX[r]=parseInt($(n+r).attr("x")),this.oldRectY[r]=parseInt($(n+r).attr("y")),this.oldRectWidth[r]=parseInt($(n+r).attr("width")),this.oldRectHeight[r]=parseInt($(n+r).attr("height")),this.oldReRightRectX[r]=parseInt($("#"+o+"_resize_rightRect"+r).attr("x")),this.oldReTopRectY[r]=parseInt($("#"+o+"_resize_topRect"+r).attr("y")),this.oldReBottomRectY[r]=parseInt($("#"+o+"_resize_bottomRect"+r).attr("y")),this.oldMultiSelectType=this.multiSelectType,(this.resize||this.rectPan)&&(this.resize&&$("#"+this.svgObject.id+"_gripCollection"+r).attr({transform:""}),$("#"+o+"_closeTopRightCornerCircle"+r).css({display:"inline"}),$("#"+o+"_closePath"+r).css({display:"inline"}),$("#"+o+"_closePathOpposite"+r).css({display:"inline"}),$("#"+o+"_resize_rightRect"+r).css({cursor:"e-resize"}),$("#"+o+"_resize_leftRect"+r).css({cursor:"w-resize"}),$("#"+o+"_resize_bottomRect"+r).css({cursor:"s-resize"}),$("#"+o+"_resize_topRect"+r).css({cursor:"n-resize"})),this.drag=!1,this.removeRect&&($("#"+o+"_selectedRectGroup"+r).remove(),this.parentgEle.childNodes.length<=0&&$(this.parentgEle).remove()),(this.multiSelectDraw||this.removeRect||this.resize||this.rectPan)&&l>0&&d>0&&(this.multiSelectDraw=!1,this.multiSelectDataCalculation(e)),this.resize&&(this.resize=!1),this.rectPan&&(this.rectPan=!1),this.removeRect=!1,this.enableTrackBall()}},chartMouseUp:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f;if(this.isTouch(e)&&(this.model.touchCross=!1,this.chartMouseUpTouch(e)),!this.currentPageX&&this.panning&&(t=this.calMousePosition(e),this.currentPageX=t.X,this.currentPageY=t.Y),h=this,i=this.model,this.mousedownPointX=this.mousedownPointY=null,$("[id*=_PreviewSeries]").remove(),h.dragPoint){$("#"+this._id).find('[id*="_Marker"]').remove(),a=i._visibleSeries[s=this.dragIndex.seriesIndex],this.model.enableCanvasRendering||this.gPreviewSeriesGroupEle&&($(this.svgObject).find("#"+this.svgObject.id+"_PreviewSeriesGroup_"+s).remove(),this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0])),this.dragPoint=a.dragPoint=!1;var b=this._getDraggedPoint(a,this.mousemoveX,this.mousemoveY);r=a.data.seriesIndex,n=a.data.pointIndex,l={X:this.commonDragEventArgs.data.oldValue.X,Y:this.commonDragEventArgs.data.oldValue.Y},d={X:b.X,Y:b.Y},(o=$.extend({},this.commonDragEventArgs)).data={series:a,seriesIndex:r,pointIndex:n,oldValue:l,newValue:d},this._trigger("dragEnd",o),h.commonDragEventArgs=o,h._changeDraggingPoints(a,n,o.data.newValue.X,o.data.newValue.Y),a.region=null,this.redraw()}if("cartesianaxes"!=this.multiSelectAreaType||i.zooming.enable||i.enableCanvasRendering||this.multiSelectMouseUp(e),h=this,i.zooming.enable&&"cartesianaxes"==i.AreaType){if((c=$("#"+this.svgObject.id+"_ZoomArea"))[0])if(i.enableCanvasRendering)var v=c[0].getClientRects()[0],x=v.width,y=v.height;else{var w=$(c);x=parseFloat(this.svgRenderer._getAttrVal(w,"width")),y=parseFloat(this.svgRenderer._getAttrVal(w,"height"))}x>0&&y>0?h.doZoom(c,x,y):this.drag=!1,h.panning||this.enableTrackBall()}u=this.svgObject.id,((p=ej.util.isNullOrUndefined(e.target.parentNode)?"":e.target.parentNode.id)==u+"_ResetZoom"||p==u+"_ZoomBtn"||e.target.id==u+"_ResetZoom"||e.target.id==u+"_ZoomBtn")&&(this.panning=!1,this.model._chartAreaZoom=!1),(ej.isTouchDevice()||i.zooming.enableDeferredZoom)&&this.panning&&this.doPan&&"cartesianaxes"==i.AreaType&&(m={x:this.oPreviousCoords.x-this.currentPageX,y:this.oPreviousCoords.y-this.currentPageY},this.oPreviousCoords={x:this.currentPageX,y:this.currentPageY},$.each(i._axes,(function(e,t){var i=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);h.translate(t,m.x,m.y,i)})),this.model.legendCollapsed=!1,_=g=$.extend({},ej.EjSvgRender.commonChartEventArgs),f=this,g.data={model:this.model},this._trigger("panStart",g),window.setTimeout((function(){f.redraw(!0,!0,e.target),f._cursorToPointer(),f._enableZoomingButtons(),(_=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={model:f.model},f._trigger("panEnd",_)}),10)),this.doPan&&(this.doPan=!1),this.rotateActivate=!1},multiSelectMouseDown:function(evt){var i,k;this.multiSelectAreaType=this.model.AreaType.toLowerCase();var model=this.model,chartX=model.m_AreaBounds.X,chartWidth=model.m_AreaBounds.Width,chartY=model.m_AreaBounds.Y,chartHeight=model.m_AreaBounds.Height,mouseDownCords=this.calMousePosition(evt);if("cartesianaxes"==this.multiSelectAreaType&&!model.zooming.enable&&!model.enableCanvasRendering&&mouseDownCords.X>=chartX&&mouseDownCords.X<chartX+chartWidth&&mouseDownCords.Y<chartY+chartHeight&&mouseDownCords.Y>=chartY){var seriesCollection=this.model.series,seriesCollectionLength=seriesCollection.length,id,mouseDownCords,matchStr,containerSvg=this.svgObject.id,selectMode=seriesCollection.some((function(e){return"range"==e.selectionSettings.mode.toLowerCase()}));for(this._isMultiSelect=seriesCollection.some((function(e){return 1==e.selectionSettings.enable&&"range"==e.selectionSettings.mode.toLowerCase()})),selectMode&&(this.multiSelectMode="range"),i=0;i<seriesCollectionLength;i++)1==seriesCollection[i].selectionSettings.enable&&"range"==seriesCollection[i].selectionSettings.mode.toLowerCase()&&(this.multiSelectType=seriesCollection[i].selectionSettings.rangeType.toLowerCase());if(this._isMultiSelect&&"range"==this.multiSelectMode){this.disableTrackBall(),mouseDownCords=this.calMousePosition(evt),this.mouseDownX=mouseDownCords.X,this.mouseDownY=mouseDownCords.Y,this.drag=!0,$(this.parentgEle).find("g").length<1?this.selectedRectIndex=0:(id=$(this.parentgEle).find("g").last().attr("id"),matchStr=containerSvg+"_gripCollection",id=parseInt(id.substr(matchStr.length)),this.selectedRectIndex=id+1),0==$(this.parentgEle).find("g").length&&(this.parentgEle=this.svgRenderer.createGroup({id:containerSvg+"_rectSelectionGroup"})),this.gEle=this.svgRenderer.createGroup({id:containerSvg+"_selectedRectGroup"+this.selectedRectIndex}),0==$(this.gripCollection).find("g").length&&(this.gripCollection=this.svgRenderer.createGroup({id:containerSvg+"_gripCollection"+this.selectedRectIndex})),evt.target.id.indexOf("resize")>=0&&(id=evt.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id)),evt.target.id.indexOf("close")>=0&&(id=evt.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id)),evt.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(evt.target.id.substr(matchStr.length))),this.currentIndex=$(evt.target.parentNode).index();var axes=this.model._axes,axesLength=axes.length,axis,mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y;for(this.multiAxis=[],k=0;k<axesLength;k++)axis=axes[k],mouseMoveX>axis.Location.X1&&mouseMoveX<axis.Location.X2&&this.multiAxis.push(axis),mouseMoveY<axis.Location.Y1&&mouseMoveY>axis.Location.Y2&&this.multiAxis.push(axis)}}},_grab:function(e,t,i,s,a){var o=$.extend({},ej.EjSvgRender.commonChartEventArgs);o.data={seriesIndex:i,pointIndex:s,currentPoint:a},t._trigger("dragStart",o),e.data=o.data,this.commonDragEventArgs=o,this.mousedownPointX=this.mousedownPointY=null},_enableDragging:function(e,t,i){var s,a,o,r=this,n=e.type.toLowerCase(),l=r.model.AreaType,d=e.visibility.toLowerCase();!this.mousedownPointX||!this.mousedownPointY||"cartesianaxes"!=l||this.model.enable3D||"visible"!=d||"line"!=n&&"spline"!=n&&"area"!=n&&"stepline"!=n&&"steparea"!=n&&"splinearea"!=n&&"column"!=n&&"bar"!=n&&"bubble"!=n&&"scatter"!=n||(s=this.getClosesPointXY([],[],e,this.mousedownPointX,this.mousedownPointY,i),this.mousemoveX=this.mousedownPointX,this.mousemoveY=this.mousedownPointY,a=this.GetSeriesPoint(i),ej.util.isNullOrUndefined(s.point)||(this.dragPoint=e.dragPoint=!0,s.seriesIndex=t,e.pointData=s,r._grab(e,r,t,s.index,{xValue:s.point.xValue,yValue:s.point.YValues}),this.dragIndex={pointIndex:s.index,seriesIndex:t}),ej.util.isNullOrUndefined(a)||t!=(o=a.region).SeriesIndex)||(e.region=a.region,this.dragPoint=e.dragPoint=!0,r._grab(e,r,o.SeriesIndex,o.Region.PointIndex,{xValue:e._visiblePoints[o.Region.PointIndex].xValue,yValue:e._visiblePoints[o.Region.PointIndex].YValues}),this.dragIndex={pointIndex:o.Region.PointIndex,seriesIndex:o.SeriesIndex})},chartMouseDown:function(e){var model=this.model,matchStr=this._id+"_scrollbar_",parentNodeId=e.target.parentNode&&e.target.parentNode.id?e.target.parentNode.id:"",selectionIndex=parentNodeId.indexOf(matchStr)>-1?parseInt(parentNodeId.substr(matchStr.length)):NaN,isZoom=this.isZoomButtonHovered(e.target),axes=model._axes,chart=this,id,mouseDownCords=this.calMousePosition(e),browserInfo=this.model.browserInfo,timer,parent,isZoomToolkit,mousePanCords;this.mousedownPointX=mouseDownCords.X,this.mousedownPointY=mouseDownCords.Y,"which"in e?this.chartRightClick=3==e.which:"button"in e&&(this.chartRightClick=2==e.button),isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex)||(axes[selectionIndex].previousRange=$.extend(!0,{},model._axes[selectionIndex].visibleRange)),this.mousemoveX=this.mouseDownX=mouseDownCords.X,this.mousemoveY=this.mouseDownY=mouseDownCords.Y,this.isTouch(e)&&(this.model.event=e,this.model.touchCross=!0,$.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.tapNum=this.model.tapNum||0,isZoom||this.doubleTap(e),chart.model.crosshair.visible&&!isZoom&&(timer=setTimeout((function(){var t=$("#"+chart.svgObject.id).find("#"+chart.svgObject.id+"_ZoomArea"),i=chart.model.elementSpacing/2,s=chart.getEvent(chart.model.event),a=s.pageY;chart.model.touchCross&&!chart.panning&&Math.abs(s.pageX-chart.model.cachedX)<i&&Math.abs(a-chart.model.cachedY)<i&&(0==t.length||0==parseFloat($(t).attr("width"))||0==parseFloat($(t).attr("height")))&&(chart.chartInteractiveBehavior(e),chart.model.crosshairMoved=!0,chart.drag=!1)}),500))),this.model.enable3D&&this.model.enableRotation&&(this.rotateActivate=!0),this.svgRenderer.vmlNamespace||(this.oPreviousCoords={},e.target.id.indexOf("resize")>=0&&(id=e.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.multiSelectMouseDownId=e.target.id,this.resize=!0),e.target.id.indexOf("close")>=0&&(id=e.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.removeRect=!0),e.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(e.target.id.substr(matchStr.length))),e.target.id==this.svgObject.id+"_selectRect"+this.selectedRectIndex&&(this.rectPan=!0,this.PreviousCoords={X:e.pageX,Y:e.pageY}),this.isTouch(e)||this.multiSelectMouseDown(e),parent=this.svgRenderer._getAttrVal($(e.target).parent(),"id"),isZoomToolkit=parent!=this.svgObject.id+"_ZoomBtn"&&parent!=this.svgObject.id+"_ZoomInBtn"&&parent!=this.svgObject.id+"_ZoomOutBtn"&&parent!=this.svgObject.id+"_ResetZoom"&&parent!=this.svgObject.id+"_PanBtn",isZoomToolkit&&this.model.zooming.enable&&!this.model.isLazyZooming&&!this.panning&&"cartesianaxes"==this.model.AreaType?this.mouseDownX>=this.model.m_AreaBounds.X&&this.mouseDownX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mouseDownY<model.m_AreaBounds.Y+model.m_AreaBounds.Height&&this.mouseDownY>=model.m_AreaBounds.Y&&!this.isTouch(e)&&((isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex))&&(this.drag=!0),this.disableTrackBall()):(isZoomToolkit&&this.panning||"e-hhandle e-box"==$(e.target)[0].className)&&(mousePanCords=this.calMousePosition(e),this.mousePanX=mousePanCords.X,this.mousePanY=mousePanCords.Y,this.mousePanX>=model.m_AreaBounds.X&&this.mousePanX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mousePanY<model.m_AreaBounds.Y+model.m_AreaBounds.Height+18&&this.mousePanY>=model.m_AreaBounds.Y&&(this.doPan=!0)),(this.rotateActivate||this.doPan)&&(this.oPreviousCoords={x:e.pageX,y:e.pageY}))},chartMouseLeave:function(e){this.cancelEvent(e),this.isTouch(e)||($("[id*=_TrackSymbol]").remove(),this._removeHighlight(),this._removeTrackBall(),$("#"+this.svgObject.id+"_TrackToolTip").hide(),$("#"+this._id+"_tooltip").remove(),$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&$(".tooltipDiv"+this._id).remove());var t=$.extend({},ej.EjSvgRender.commonChartEventArgs);t.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:e.target.id,pageX:e.pageX,pageY:e.pageY},this._trigger("chartMouseLeave",t)},_doClick:function(e){var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b;this.drag=!1,this.model.crosshairMoved||this._removeHighlight(),this.model.selectedDataPointIndexes||(this.model.selectedDataPointIndexes=[]),this.model.clusterPoints=[],this.model._isStateChaged=!1;var v,x,y,w,S=this.getEvent(e),C=S.pageX,T=S.pageY,L=this.model._visibleSeries,k=this.isZoomButtonHovered(e.target),P=e.target.id;if((w=this.GetSeriesPoint(e))?(v=w.region.SeriesIndex,x=w.region.Region.PointIndex):this.model.selectionEnable&&(this.model.enable3D||-1!=e.target.id.indexOf("LegendItem")||"none"==this.model.AreaType||(!(i=(t=e.target.id).match(/(\d+)/g))||-1==t.indexOf("symbol")&&-1==t.indexOf("Series")||-1!=t.indexOf("Text")?i&&(-1!=t.indexOf("Text")||-1!=t.indexOf("dataLabel"))&&(v=parseInt(i[0].charAt(1)),x=isNaN(parseInt(i[0].charAt(0)))?parseInt(i[0].charAt(1)):parseInt(i[0].charAt(0))):(v=parseInt(i[0]),x=isNaN(parseInt(i[1]))?0:parseInt(i[1])))),!k||this.model.enableCanvasRendering){for(d=0;d<this.model._visibleSeries.length;d++)if(s=(y=this.model._visibleSeries[d]).type.toLowerCase(),"cartesianaxes"==this.model.AreaType&&"visible"==y.visibility.toLowerCase()&&"scatter"!==s&&"bubble"!==s&&"column"!==s&&-1==s.indexOf("bar")&&"stackingcolumn"!==s&&"stackingcolumn100"!==s&&!y._hiloTypes){var j=this.calMousePosition(e);this.mousemoveX=j.X,this.mousemoveY=j.Y,a=this.getClosesPointXY([],[],y,this.mousemoveX,this.mousemoveY,e),ej.util.isNullOrUndefined(a.point)||(v=d,x=a.index,(o=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:d,Region:{PointIndex:a.index}}},this._trigger("pointRegionClick",o))}w&&(!k||this.model.enableCanvasRendering)&&((M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=w,this._trigger("pointRegionClick",M))}if("none"==this.model.AreaType&&this.model.enable3D&&"path"==$(e.target)[0].nodeName&&(!this.isTouch(e)||Math.abs(C-this.model.cachedX)<10&&Math.abs(T-this.model.cachedY)<10))if(N=$(e.target)[0].id.match(/(\d+)/g),v=parseInt(N[N.length-2]),x=parseInt(N[N.length-1]),this.model._visibleSeries[v].explodeIndex=this.model._visibleSeries[v].explodeIndex==(r=this.model._visibleSeries[v]._visiblePoints[x].actualIndex)?null:r,this.vmlRendering||this.model.enableCanvasRendering||(n=this.selectedStyle(this)),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),this.draw(),"none"==this.model.AreaType){this.model._isStateChaged=!1;var D,A=n.length,O="_Region_Series_"+v+"_Point_"+x,I=$(this.svgObject).find("[id$="+O+"],[id*="+O+"back],[id*="+O+"front]"),R=I.length;for(l=0;l<A;l++)for(d=0;d<R;d++)n[l].id==I[d].id&&(D=n[l].className).indexOf("SelectionStyle")<0&&D.indexOf("SelectionundefinedStyle")<0&&$("[id="+I[d].id+"]").attr("class",D);n.pattern&&this.svgRenderer.append(n.pattern,this.svgObject)}else $("[id*="+this.svgObject.id+"_LegendItemShape],[id*=_Region_Series_]").each((function(){$(this).attr("class","")}));if((h=this.getLegendData(e))&&($("#template_group_"+this._id).remove(),(M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=h,this._trigger("legendItemClick",M),v=h.legendItem.LegendItem.SeriesIndex,!this.model.legend.toggleSeriesVisibility&&h.series.selectionSettings.enable&&(this.model._isStateChaged=!1,this.legendSelection(this,h,e,w)),!M.cancel&&this.model.legend.toggleSeriesVisibility)){for($("[id*="+this._id+"_Selection_]").remove(),"none"!=this.model.AreaType||"none"==this.model.AreaType&&"pieofpie"!=s&&"pyramid"!=s&&"funnel"!=s&&this.model._visibleSeries.length>1?(v=h.legendItem.LegendItem.SeriesIndex,c=h.legendItem.LegendItem.TrendLineIndex,ej.util.isNullOrUndefined(c)?(h.series.visibility="visible"===h.series.visibility.toLowerCase()?"hidden":"visible",this.model.series[v].visibility=h.series.visibility,this._notifyArrayChange&&this._notifyArrayChange("series["+v+"]visibility",h.series.visibility)):(u=h.series.trendlines[c].visibility.toLowerCase(),this.model.series[v].trendlines[c].visibility=u="visible"===u?"hidden":"visible",this._notifyArrayChange&&this._notifyArrayChange("series["+v+"].trendlines["+c+"].visibility",u))):(this.model._isPieOfPie?(p=this._getPieOfPiePoint(h.legendItem.LegendItem.ActualIndex,h.series,h)._visibility,x=h.legendItem.LegendItem.ActualIndex):(p=h.series.visiblePoints[h.legendItem.LegendItem.PointIndex]._visibility,x=h.series.visiblePoints[h.legendItem.LegendItem.PointIndex].actualIndex),h.series.points[x]._visibility="visible"===p?"hidden":"visible"),this.model.enableCanvasRendering&&(m=document.getElementById(this._id).getClientRects()[0],this.svgRenderer.ctx.clearRect(0,0,m.width,m.height),$("#"+this._id).find('[id*="canvas_symbol"]').remove()),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),g=0;g<this.model.series.length;g++)this.model.series[g].regionAdded=!1;this.model.legendCollapsed=!0,this.disableAnimation(),this.draw(),this.enableAnimation(),"none"!=this.model.AreaType&&this.zoomed&&this._enableZoomingButtons()}if((_=this.getAxisLabelData(e))&&((M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=_,this._trigger("axisLabelClick",M)),(f=this.getAxisMultiLevelLabelsData(e))&&((M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=f,this._trigger("multiLevelLabelClick",M)),P.indexOf("annotation_")>=0){var M,E=P.lastIndexOf("_"),V=P.substr(E+1,P.length),N=parseInt(V);(M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},contentData:this.model.annotations[N],pageX:e.pageX,pageY:e.pageY},this._trigger("annotationClick",M)}b=!ej.isNullOrUndefined(v)&&this.model._visibleSeries[v].selectionSettings.enable,!ej.isNullOrUndefined(v)&&!h&&b&&(!this.isTouch(e)||!this.model.crosshairMoved&&Math.abs(C-this.model.cachedX)<10&&Math.abs(T-this.model.cachedY)<10)&&(L[v].selectionSettings.type.toLowerCase(),"range"!=L[v].selectionSettings.mode.toLowerCase()&&this.segmentSelection(e,h,v,x,w,L)),this.model.crosshairMoved=!1,(M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:P,pageX:e.pageX,pageY:e.pageY},this._trigger("chartClick",M)},getTargetId:function(e,t,i){var s,a=this.model._visibleSeries[e].type.toLowerCase(),o=-1!=a.indexOf("area")||-1!=a.indexOf("line")||-1!=a.indexOf("scatter");return this.model.enable3D?$("[id*=_Region_Series_"+e+"_Point_"+t+"]").each((function(){s=this.id})):"series"!=i||"none"==this.model.AreaType?o?$("[id*="+this.svgObject.id+"_Series"+e+"_Point"+t+"_symbol]").each((function(){s=this.id})):$("[id$="+this.svgObject.id+"_Series"+e+"_Point"+t+"]").each((function(){s=this.id})):$("[id*="+this.svgObject.id+"_Series"+e+"]").each((function(){s=this.id})),s},findCanvasSelection:function(e,t,i){return 1==("point"==i?$("#"+this._id+"_Selection_series"+e+"_point_"+t+"_canvas").length:"series"==i?$("#"+this._id+"_Selection_series"+e+"_canvas").length:$("#"+this._id+"_Selection_Cluster_point_"+t+"_canvas").length)},segmentSelection:function(e,t,i,s,a){var o,r,n,l,d,h,c,u,p=this.model._visibleSeries,m=p[i];if(ej.isNullOrUndefined(m))return 0;var g,_,f,b,v,x,y,w,S=m.selectionSettings,C="multiple"==S.type.toLowerCase(),T=S.mode,L=!1;if(this.model.isSelected=!0,!ej.isNullOrUndefined(s)&&"cluster"==T){for(o=[],l=p[i]._visiblePoints[s].xValue,d=0,h=p.length;d<h;d++)for(n=(r=p[d].points).length,c=0;c<n;c++)l==r[c].xValue&&0==r[c].isEmpty&&1==r[c].visible&&(o[o.length]={seriesIndex:d,pointIndex:c});this.model.clusterPoints=o}if(this.model.enableCanvasRendering||(g=this.getTargetId(i,s,T))&&(_=$("#"+g)[0].parentNode.id,null!=$("#"+_)[0]&&_&&(_.indexOf(this.svgObject.id+"_TextGroup_")>=0||_.indexOf(this.svgObject.id+"_symbolGroup"),_.indexOf(this.svgObject.id+"_TrackSymbol_")>=0&&(L=!0))),this.model.enableCanvasRendering?f=this.findCanvasSelection(i,s,T):(f=-1!=($("#"+g).attr("class")?$("#"+g).attr("class"):"").indexOf("Selection"),this.model.enable3D&&(f=-1!=($("[id*=_Region_Series_"+i+"_Point_"+s+"]").attr("class")?$("[id*=_Region_Series_"+i+"_Point_"+s+"]").attr("class"):"").indexOf("Selection"))),(f||!C||C)&&(this.removeSelection(i,s,p,T,C,t,f),(x=(a=this.model.selectedDataPointIndexes).length)>0&&!this.model._isStateChaged))if(C){if(f)for(u=0;u<x;u++)b=a[u].seriesIndex,v=a[u].pointIndex,y=("point"==T||"none"==this.model.AreaType)&&b==i&&v==s,w="cluster"==T&&v==s,(("series"==T&&b==i||w)&&"none"!=this.model.AreaType||y)&&(a.splice(u,1),x=a.length,u=-1)}else for(u=0;u<x;u++)b=a[u].seriesIndex,v=a[u].pointIndex,y=("point"==T||"none"==this.model.AreaType)&&b==i&&v==s,w="cluster"==T&&v==s,("series"==T&&(b==i&&v==s||b!=i||v!=s)||y||w)&&(a.splice(u,1),x=a.length,u=-1);if(!f&&(this.model.enableCanvasRendering?this.canvasSelection(this,e,m,t,i,s,a,S):this.selection(this,e,m,L,t,i,s,_,g,a),x=(a=this.model.selectedDataPointIndexes).length,!this.model._isStateChaged))if(x>0)if(C)a.push({legendData:t,seriesIndex:i,pointIndex:s});else{for(u=0;u<x;u++)b=a[u].seriesIndex,v=a[u].pointIndex,(!("series"!=T&&"cluster"!=T&&"none"!=this.model.AreaType||a[u].SeriesIndex==i&&a[u].PointIndex==s)||"point"==T&&a[u].SeriesIndex==i)&&(a.splice(u,1),x=this.model.selectedDataPointIndexes.length,u=-1);a.push({legendData:t,seriesIndex:i,pointIndex:s})}else a.push({legendData:t,seriesIndex:i,pointIndex:s});this._trigger("seriesRegionClick",{selectedData:this.model.selectedDataPointIndexes})},legendSelection:function(e,t,i,s){var a,o=this.model.selectedDataPointIndexes?this.model.selectedDataPointIndexes:[],r="none"==e.model.AreaType&&1==this.model._visibleSeries.length?t.legendItem.LegendItem.PointIndex:t.legendItem.LegendItem.SeriesIndex,n=t.legendItem.LegendItem.SeriesIndex,l=r,d=e.svgObject.id+"_LegendItemShape"+r,h=$("#"+d).attr("class")?$("#"+d).attr("class"):"";if(1==$("#"+e._id+"_Selection_Legend"+r+"_canvas").length||-1!=h.indexOf("Selection")){for($("#"+e._id+"_Selection_Legend"+r+"_canvas").remove(),$("[id*="+e._id+"_Selection_series"+r+"]").remove(),$("#"+this._id+"_Selection_series"+n+"_point_"+l+"_canvas").remove(),$("#"+d).attr("class",""),$("[id*="+e.svgObject.id+"_Series"+n+"]").attr("class",""),$("[id*=_Region_Series_"+n+"]").attr("class",""),a=0;a<o.length;a++)if(o[a].seriesIndex==r||"none"==this.model.AreaType&&o[a].pointIndex==r){o.splice(a,1);break}}else e.segmentSelection(i,t,n,l,s)},chartMouseClick:function(e){this.cancelEvent(e),window.navigator.msPointerEnabled&&(e=e.originalEvent),this._doClick(e)},chartMouseDoubleClick:function(e){window.navigator.msPointerEnabled&&(e=e.originalEvent);var t=$.extend({},ej.EjSvgRender.commonChartEventArgs);t.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:e.target.id,pageX:e.pageX,pageY:e.pageY},this._trigger("chartDoubleClick",t)},drawTrackerSymbol:function(e,t,i,s,a,o,r){var n,l,d,h,c=e.type.toLowerCase(),u=new ej.seriesTypes[c],p="boxandwhisker"==e.type.toLowerCase()?r:i,m=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes);d={id:this.svgObject.id+"_ClipRectTrack_"+t,x:-(n=e.isTransposed?e.yAxis.plotOffset:e.xAxis.plotOffset),y:-(l=e.isTransposed?e.xAxis.plotOffset:e.yAxis.plotOffset),width:m.width+2*n,height:m.height+2*l,fill:"white","stroke-width":1,stroke:"Gray"},"none"!=this.model.AreaType&&("cartesianaxes"==this.model.AreaType&&a.X+m.x<=m.x+m.width&&(a.X+m.x>=m.x||0==a.X)&&(a.Y+m.y>=m.y||0==a.Y)?this.model.crosshair.visible||"bubble"==c||"scatter"==c?(e.trackerRemoved||(h=this.svgObject.id+"_TrackSymbol_"+t,h="boxandwhisker"==c?h+p:h,$("#"+this._id).find("[id*="+h+"]").remove(),h="canvas_trackSymbol_"+t,h="boxandwhisker"==c?h+p:h,$("#"+this._id).find("[id*="+h+"]").remove()),this.gTrackerEle=this.svgRenderer.createGroup({"clip-path":"url(#"+this.svgObject.id+"_ClipRectTrack_"+t+")",class:"Tracker",id:this.svgObject.id+"_TrackSymbol_"+t+"_"+p,transform:"translate("+m.x+","+m.y+")"})):this.gTrackerEle=null:($("#"+this.svgObject.id+"_TrackSymbol_"+t+"_"+p).remove(),this.gTrackerEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_TrackSymbol_"+t+"_"+p}),this.model.enableCanvasRendering||("polaraxes"==this.model.AreaType?this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_SeriesGroup_"+t+"_ClipRect)"):(this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_ClipRectTrack_"+t+")"),this.gTrackerEle.setAttribute("transform","translate("+m.x+","+m.y+")")))),0==$("#"+this.svgObject.id+"_CrosshairGroup").length&&(this.gTrackball=this.svgRenderer.createGroup({id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"}),this.svgRenderer.append(this.gTrackball,this.svgObject)),this.model.crosshair.marker.visible&&!e.isIndicator&&e._visiblePoints[i].visible&&(u.drawSymbol(t,e,i,a.X,a.Y,this,s,r),a.low&&u.drawSymbol(t,e,i,this.model.requireInvertedAxes?a.low:a.X,this.model.requireInvertedAxes?a.Y:a.low,this,s)),this.gTrackerEle&&$("#"+this.gTrackerEle.id).length<1&&this.svgRenderer.append(this.gTrackerEle,this.gTrackball)),0!=$(this.svgObject).find("#"+this.svgObject.id+"_ClipRectTrack_"+t).length||this.vmlRendering||this.svgRenderer.drawClipPath(d,$("#"+this.svgObject.id+"_CrosshairGroup"))},getClosesPointXY:function(e,t,i,s,a,o){var r,n,l,d,h,c,u,p,m,g,_,f=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.model.requireInvertedAxes),b=this.isTouch(o),v=i._visiblePoints?i._visiblePoints.length:0,x=i.marker?$.extend(!0,{},i.marker.size):{height:6,width:6};if(x.height=b&&x.height<20?x.height+10:x.height,x.width=b&&x.width<20?x.width+10:x.width,a<=f.y+f.height&&f.y<=a&&f.x<=s&&s<=f.x+f.width)for(m=0;m<v;m++){if(h=(d=i._visiblePoints[m]).location,c=!1,u=null,p=null,"boxandwhisker"==i.type&&!this.model.enable3D&&!ej.util.isNullOrUndefined(d.boxPlotLocation))for(g=0;g<d.boxPlotLocation.length;g++)_={X:d.boxPlotLocation[g].X,Y:d.boxPlotLocation[g].Y},1==d.boxPlotLocation[g].outlier&&s>_.X+f.x-x.width&&s<_.X+f.x+x.width&&(u=d.x,ej.util.isNullOrUndefined(u)&&(c=d.visible),a>_.Y+f.y-x.height&&a<_.Y+f.y+x.height+10&&(p=d.boxPlotValues.outliers[g],n={X:_.X,Y:_.Y}),ej.util.isNullOrUndefined(n)||(r=d,l=m));h&&(s>h.X+f.x-x.width/2&&s<h.X+f.x+x.width/2&&(u=d.x,ej.util.isNullOrUndefined(u)&&(c=d.visible)),a>h.Y+f.y-x.height/2&&a<h.Y+f.y+x.height/2&&(p=d.YValues[0]),ej.util.isNullOrUndefined(u)&&!c||ej.util.isNullOrUndefined(p)||(r=d,l=m))}return{point:r,index:l,outlierPosition:n}},getClosestPointX:function(e,t,i,s){var a,o=[],r=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.model.requireInvertedAxes);this.model.requireInvertedAxes?(i=Math.abs(s-(r.y+r.height)),s=Math.abs(i-r.x)):(i=Math.abs(i-r.x),s=Math.abs(s-(r.y+r.height)));var n=ej.EjSvgRender.utils._getValuebyPoint(i,s,t,this.model.requireInvertedAxes).PointX,l=[];return $.each(t.points,(function(t,i){e.push(i.xValue)})),a=this.getClosest(e,n),ej.util.isNullOrUndefined(a)||("number"==typeof a?$.each(t._visiblePoints,(function(e,t){t.xValue==a&&(o.push(t),l.push(e))})):(a=a.getTime(),$.each(t._visiblePoints,(function(e,t){("number"==typeof t.xValue?t.xValue==a:t.xValue.getTime()==a)&&(o.push(t),l.push(e))})))),{point:o,index:l}},getClosest:function(e,t){var i,s,a,o=null;if(this._beforeMin=!1,this._afterMax=!1,i=Math.min.apply(null,e),s=Math.max.apply(null,e),t>=i-.5&&t<=s+.5){for(a=0;a<e.length;a++)(null==o||Math.abs(e[a]-t)<Math.abs(o-t))&&(o=e[a]);this._closest=null}else t>s?(o=e[e.length-1],this._closest=ej.util.isNullOrUndefined(this._closest)||o>this._closest?o:this._closest,this._afterMax=!0):(o=e[0],this._closest=ej.util.isNullOrUndefined(this._closest)||o<this._closest?o:this._closest,this._beforeMin=!0);return o},createTooltip:function(e,t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g;i||(i=this.model._visibleSeries[e.SeriesIndex]);var _="pieofpie"==i.type?this._getPieOfPiePoint(e.Region.PointIndex,i):"pie"!=i.type&&"doughnut"!=i.type||this.model.enable3D?i._visiblePoints[e.Region.PointIndex]:i._visiblePoints[e.Region.Index],f=this.dragPoint?i.pointCollection[e.Region.PointIndex]:$.extend(!0,{},_),b=i.tooltip.isReversed;if(!1!==f.visible){if(s=i.tooltip.format,"boxandwhisker"==i.type){if(a=this.calMousePosition(t),this.mousemoveX=a.X,this.mousemoveY=a.Y,e.Region.Bounds)if(e.Region.Bounds.Width==i.outlierSettings.size.width)for(o=0;o<f.boxPlotLocation.length;o++)1==f.boxPlotLocation[o].outlier&&f.boxPlotLocation[o].X+i.outlierSettings.size.width/2>this.mousemoveX-i.xAxis.x&&f.boxPlotLocation[o].X-i.outlierSettings.size.width/2<this.mousemoveX-i.xAxis.x&&f.boxPlotLocation[o].Y+i.outlierSettings.size.height/2>this.mousemoveY-i.yAxis.y&&f.boxPlotLocation[o].Y-i.outlierSettings.size.height/2<this.mousemoveY-i.yAxis.y&&(r=this.getTooltipFormat(f,i,e.SeriesIndex,e.Region.PointIndex,s,f.boxPlotLocation[o]),f.x=r.data.x,f.y=r.text);else r=this.getTooltipFormat(f,i,e.SeriesIndex,e.Region.PointIndex,s,f.boxPlotLocation[0]),f.x=r.data.x,f.y=r.text}else r=this.getTooltipFormat(f,i,e.SeriesIndex,e.Region.PointIndex,s),f.x=r.data.x,f.y=r.data.y;(n=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={currentText:null,seriesIndex:e.SeriesIndex,pointIndex:e.Region.PointIndex,series:i},this._trigger("toolTipInitialize",n),l=$(".tooltipDiv"+this._id),$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide(),0==$(".tooltipDiv"+this._id).length?(this.tooltipFirst=!0,l=$("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),$(document.body).append(l),$(".tooltipDiv"+this._id).addClass(this.svgObject.id)):($(".tooltipDiv"+this._id).css("display","block"),this.tooltipFirst=!1),null!=i.tooltip.template?(d=$("#"+i.tooltip.template).clone(),$(".tooltipDiv"+this._id)[0].innerHTML="",$(d).css("display","block").appendTo(l),i.count=1,f.count=1,(h=this.getSeriesColor(f,e.SeriesIndex,i))?$(l).css("background-color","array"==jQuery.type(h)?h[0].color:h):$(l).css("background-color",this.model.pointColors[e.Region.PointIndex]),c={series:i,point:f},ej.util.isNullOrUndefined(n.data.currentText)?$(l).html($(l).html().parseTemplate(c)):$(l).html($(d).html(n.data.currentText))):$(l).html(n.data.ToolTip);var v=this.model.m_AreaBounds,x=t.pageX+10,y=t.pageY+10,w=$(l).width(),S=$(l).height(),C=document.getElementById(this.svgObject.id).getClientRects()[0];null==x&&(x=t.pageX+10),null==y&&(y=t.pageY+10),u=x,p=y,x-$(this.svgObject).offset().left+w>v.X+v.Width&&(u=x-(w+20)+$(document).scrollLeft()),y-$(this.svgObject).offset().top+S>v.Y+v.Height&&(p=y-(y+S-(v.Y+v.Height+C.top))+$(document).scrollTop()),u<0&&(m=$("#"+this._id)[0].getBoundingClientRect(),t.pageX<m.width/2?u=x:($(l).css("width",x-20),u=0)),$(l).css("left",u),$(l).css("top",p),(g=i.tooltip).enableAnimation&&$(l).css({"transition-property":"left,top","-moz-transition-property":"left,top","-webkit-transition-property":"left,top","-o-transition-property":"left,top","transition-duration":g.duration,"-moz-transition-duration":g.duration,"-webkit-transition-duration":this.tooltipFirst?"0s":g.duration,"-o-transition-duration":g.duration}),$(l)[0].getBoundingClientRect().top<v.Y+C.top&&$(l).css("top",v.Y+C.top+$(document).scrollTop()),b&&($(l).css("left",x-(w+20)),x-(w+20)<i.xAxis.x&&$(l).css("left",x))}},translate:function(e,t,i,s){var a="horizontal"==e.orientation.toLowerCase()?t/e.width/s:i/e.height/s;e.zoomPosition="horizontal"==e.orientation.toLowerCase()?ej.EjSvgRender.utils._minMax(e.zoomPosition+a,0,1-e.zoomFactor):ej.EjSvgRender.utils._minMax(e.zoomPosition-a,0,1-e.zoomFactor)},highlightFill:function(e,t,i,s,a){var o,r=t.model.seriesColors,n=e.color;return a&&"none"==t.model.AreaType&&(1==this.model._visibleSeries.length?s=a.legendItem.LegendItem.PointIndex:i=a.legendItem.LegendItem.SeriesIndex),o=""!=n?n:"none"==t.model.AreaType?t.model.pointColors[s]:a?r[i]:(a?r[i]:s&&t.model.series[i].points[s]?t.model.series[i].points[s].fill:null)||r[i],"[object Array]"===Object.prototype.toString.call(o)&&(o=o[1].color),o},canvasHighlight:function(e,t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x=i.highlightSettings,y=i.data,w=x.color,S=x.opacity,C=x.border.color,T=x.border.width,L=x.pattern.toLowerCase(),k=e.model.legend.visible,P=x.mode,j=i.seriesIndex,D=i.pointIndex,A=i.type.toLowerCase(),O=document.getElementById(e._id+"_canvas").getBoundingClientRect(),I=[],R=[],M=[],E=this.model._visibleSeries.length,V=this.highlightFill(x,e,j,D,s);if("none"!=e.model.AreaType||"none"==e.model.AreaType&&E>1&&("series"==P||s))for(b=0,v=e.model.chartRegions.length;b<v;b++)("series"==P||s)&&j==e.model.chartRegions[b].SeriesIndex&&I.push(e.model.chartRegions[b].Region);else for(b=0,v=e.model.chartRegions.length;b<v;b++)j==e.model.chartRegions[b].SeriesIndex&&D==e.model.chartRegions[b].Region.PointIndex&&I.push(e.model._isPieOfPie?e._getPieOfPiePoint(e.model.chartRegions[b].Region.PointIndex,i):e.model.chartRegions[b].Region[D]);if("cluster"==P&&"none"!=e.model.Areatype&&void 0!==D)for(n=e.model._visibleSeries[j]._visiblePoints[D].xValue,b=0,v=e.model._visibleSeries.length;b<v;b++)for(l=0;l<e.model._visibleSeries[b]._visiblePoints.length;l++)n==e.model._visibleSeries[b]._visiblePoints[l].xValue&&(M[M.length]={seriesIndex:b,pointIndex:l});for(d=0;d<M.length;d++)for(a=M[d].seriesIndex,o=M[d].pointIndex,h=0;h<e.model.chartRegions.length;h++)a==e.model.chartRegions[h].SeriesIndex&&o==e.model.chartRegions[h].Region.PointIndex&&I.push("cluster"!=P?e.model.chartRegions[h].Region:e.model.chartRegions[h]);if(c="none"==e.model.AreaType&&1==E?D:j,"series"!=P&&!s||0!=$("#"+e._id+"_Selection_series"+c+"_canvas").length||0!=$("#"+e._id+"_Selection_Cluster_point_"+D+"_canvas").length||0!=$("#"+e._id+"_Selection_"+j+"_point_"+D+"_canvas").length)if("cluster"==P&&0==$("#"+e._id+"_Selection_Cluster_point_"+D+"_canvas").length&&"none"!=this.model.AreaType&&0==$("#"+e._id+"_Selection_"+j+"_point_"+D+"_canvas").length&&0==$("#"+e._id+"_Selection_series"+j+"_canvas").length){for(b=0,v=this.model._visibleSeries.length;b<v;b++)(i=this.model._visibleSeries[b]).seriesIndex=b,R.push(i._visiblePoints[D]);for(u=[],p=[],r=this.createCanvasElement(e._id+"_Highlight__Cluster_point_"+D+"_canvas",e.svgWidth,e.svgHeight,O),this.createRect(e,r),b=0,v=this.model._visibleSeries.length;b<v;b++){for(u=[],w=(x=e.model._visibleSeries[b].highlightSettings).color,S=x.opacity,C=x.border.color,T=x.border.width,L=x.pattern.toLowerCase(),V=this.highlightFill(x,e,b,D,c,s),w="none"==L||""==L?V:this.canvasPattern(r,e,t,V,x),p.push(w),g=0,_=I.length;g<_;g++)I[g].SeriesIndex==b&&u.push(I[g].Region);if(-1!=A.indexOf("column")||-1!=A.indexOf("waterfall")||-1!=A.indexOf("bar"))for(m=0==$("#"+e._id+"_Selection_"+b+"_point_"+D+"_canvas").length,g=0,_=u.length;g<_;g++)this.canvasSeriesRect(u[g],S,C,T,w,m,i);else"bubble"==A?this.canvasBubbleHighlight(x,u,e,b,w,T,S,C):"scatter"==A&&this.canvasScatterHighlight(u,w,T,S,C)}}else("cluster"==P&&"none"==this.model.AreaType||"point"==P&&0==$("#"+e._id+"_Selection_"+j+"_point_"+D+"_canvas").length&&0==$("#"+e._id+"_Selection_series"+j+"_canvas").length&&0==$("#"+e._id+"_Selection_Cluster_point_"+D+"_canvas").length)&&(R[0]=this.model._isPieOfPie?this._getPieOfPiePoint(D,i):i._visiblePoints[D],r=this.createCanvasElement(e._id+"_Highlight_"+j+"_point_"+D+"_canvas",e.svgWidth,e.svgHeight,O),this.createRect(e,r),w="none"==L||""==L?V:this.canvasPattern(r,e,t,V,x),-1!=A.indexOf("column")||-1!=A.indexOf("waterfall")||-1!=A.indexOf("bar")?((I=[])[0]=y.region.Region,this.canvasSeriesRect(I[0],S,C,T,w,!0,i)):"pie"==A||"doughnut"==A||"pieofpie"==A?((I=[])[0]=y.pointData[0],this.canvasHighlightCircle(e,x,D,S,C,T,w,I,A,r)):"pyramid"==A||"funnel"==A?this.canvasHighlightPyramid(e,I[0],x,r,S,C,T,w,A):"bubble"==A?((I=[])[0]=y.region.Region,this.canvasBubbleHighlight(x,I,e,j,w,T,S,C)):"scatter"==A&&((I=[])[0]=y.region.Region,this.canvasScatterHighlight(I,w,T,S,C)));else if(R=i._visiblePoints,r=this.createCanvasElement(e._id+"_Highlight_series"+j+"_canvas",e.svgWidth,e.svgHeight,O),w="none"==L||""==L?V:this.canvasPattern(r,e,t,V,x),this.createRect(e,r),-1!=A.indexOf("column")||-1!=A.indexOf("waterfall")||-1!=A.indexOf("bar"))for(b=0;b<I.length;b++)m=0==$("#"+e._id+"_Selection_"+j+"_point_"+b+"_canvas").length,this.canvasSeriesRect(I[b],S,C,T,w,m,i);else"pie"==A||"doughnut"==A||"pieofpie"==A?this.canvasHighlightCircle(e,x,D,S,C,T,w,I=1==E?I:I[0],A,r):"pyramid"==A||"funnel"==A?this.canvasHighlightPyramid(e,I[0],x,r,S,C,T,w,A):"bubble"==A?this.canvasBubbleHighlight(x,I,e,j,w,T,S,C):"scatter"==A&&this.canvasScatterHighlight(I,w,T,S,C);if(k&&0==$("#"+e._id+"_Selection_Legend"+c+"_canvas").length)if("cluster"!=P||s||"none"==this.model.AreaType)this.canvasHighlightLegend(e,i,x,"Highlight",O,w);else for(b=0,v=M.length;b<v;b++)this.canvasHighlightLegend(e,this.model._visibleSeries[f=M[b].seriesIndex],x,"Highlight",O,p[f]);"visible"===i.visibility&&1==i.marker.visible&&"none"!=this.model.AreaType&&this.canvasHighlightMarker(e,i,R,x,r,t,p)},canvasSeriesRect:function(e,t,i,s,a,o,r){var n,l,d={opacity:t,stroke:i,"stroke-width":s,fill:a},h=r.cornerRadius;e&&(d.x=e.Bounds.X,d.y=e.Bounds.Y,d.width=e.Bounds.Width,d.height=e.Bounds.Height,o&&("object"!=typeof h&&h>0||h.topLeft>0||h.bottomLeft>0||h.topRight>0||h.bottomRight>0?(l=ej.EjSvgRender.utils._calculateroundedCorner(h,d),d.d=l,ej.EjCanvasRender.prototype.drawPath(d,n)):this.drawRect(d,n)))},canvasSelection:function(e,t,i,s,a,o,r,n){var l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C;i.seriesIndex=a,i.pointIndex=o;var T,L,k,P,j,D=this.model._visibleSeries,A=n.color,O=n.opacity,I=n.border.color,R=n.border.width,M=n.pattern.toLowerCase(),E=e.model.legend.visible,V=n.mode,N=i.type.toLowerCase(),F=document.getElementById(e._id+"_canvas").getBoundingClientRect(),B=[],z=[],Y=this.model._visibleSeries.length,X=e.model.chartRegions,H=this.model.clusterPoints,W="none"==e.model.AreaType&&1==Y?o:a,U=this.highlightFill(n,e,a,o,s,r);if(T=X.length,"none"!=e.model.AreaType||"none"==e.model.AreaType&&Y>1)for(p=0;p<T;p++)(("series"==V||s)&&a==X[p].SeriesIndex||("point"==V||s)&&a==X[p].SeriesIndex&&o==X[p].Region.PointIndex)&&B.push("none"!=e.model.AreaType||"point"!=V||s?X[p].Region:X[p].Region[o]);else if(T>0){if(this.model._isPieOfPie){if(s)for(l=0;l<i.pieCollections.length;l++)for(d=i.pieCollections[l],h=0;h<d.length;h++)if(d[h].actualIndex==s.legendItem.LegendItem.PointIndex){c=l;break}u=X[i.data?i.data.pointData[0].PieSeriesIndex:c]}else u=X[0];for(L=u.Region.length,p=0;p<L;p++)o==u.Region[p].PointIndex&&B.push(u.Region[p])}if(("series"==V||s)&&("none"!=this.model.AreaType||"none"==this.model.AreaType&&Y>1))if(z=i._visiblePoints,j=this.createCanvasElement(e._id+"_Selection_series"+W+"_canvas",e.svgWidth,e.svgHeight,F),A="none"==M||""==M?U:this.canvasPattern(j,e,t,U,n),this.createRect(e,j),-1!=N.indexOf("column")||-1!=N.indexOf("waterfall")||-1!=N.indexOf("bar"))for(p=0;p<B.length;p++)this.canvasSeriesRect(B[p],O,I,R,A,!0,i);else"pie"==N||"doughnut"==N||"pieofpie"==N?this.canvasHighlightCircle(e,n,o,O,I,R,A,B[0],N,j):"bubble"==N?this.canvasBubbleHighlight(n,B,e,a,A,R,O,I):"scatter"==N&&this.canvasScatterHighlight(B,A,R,O,I);else if("cluster"==V&&"none"!=this.model.AreaType&&0==$("#"+e._id+"_Selection_Cluster_point_"+o+"_canvas").length){for(m=H.length,b=0;b<m;b++)g=H[b].seriesIndex,_=H[b].pointIndex,(f=$.grep(X,(function(e){return e.SeriesIndex==g&&e.Region.PointIndex==_}))).length>0?(B.push(f[0]),z.push(D[f[0].SeriesIndex]._visiblePoints[o])):z.push(D[b]._visiblePoints[o]);for(this.selectedPoint=o,v=[],x=[],j=this.createCanvasElement(e._id+"_Selection_Cluster_point_"+o+"_canvas",e.svgWidth,e.svgHeight,F),this.createRect(e,j),p=0,k=D.length;p<k;p++){for(v=[],A=(P=D[p].selectionSettings).color,O=P.opacity,I=P.border.color,R=P.border.width,M=P.pattern.toLowerCase(),U=this.highlightFill(P,e,p,o,s),A="none"==M||""==M?U:this.canvasPattern(j,e,t,U,P),x.push(A),y=0,w=B.length;y<w;y++)B[y].SeriesIndex==p&&v.push(B[y].Region);if(-1!=N.indexOf("column")||-1!=N.indexOf("waterfall")||-1!=N.indexOf("bar"))for(S=0,C=v.length;S<C;S++)this.canvasSeriesRect(v[S],O,I,R,A,!0,i);else"bubble"==N?this.canvasBubbleHighlight(P,v,e,p,A,R,O,I):"scatter"==N&&this.canvasScatterHighlight(v,A,R,O,I);!s&&"none"!=this.model.AreaType&&E&&((i=D[p]).seriesIndex=p,this.canvasHighlightLegend(e,i,n,"Selection_Cluster",F,A))}}else("point"==V&&0==$("#"+e._id+"_Selection_"+a+"_point_"+o+"_canvas").length||"none"==this.model.AreaType)&&(this.selectedPoint=o,z[0]=this.model._isPieOfPie?this._getPieOfPiePoint(o,i):i._visiblePoints[o],j=this.createCanvasElement(e._id+"_Selection_series"+a+"_point_"+o+"_canvas",e.svgWidth,e.svgHeight,F),this.createRect(e,j),A="none"==M||""==M?U:this.canvasPattern(j,e,t,U,n),-1!=N.indexOf("column")||-1!=N.indexOf("waterfall")||-1!=N.indexOf("bar")?this.canvasSeriesRect(B[0],O,I,R,A,!0,i):"pie"==N||"doughnut"==N||"pieofpie"==N?this.canvasHighlightCircle(e,n,o,O,I,R,A,B,N,j):"pyramid"==N||"funnel"==N?this.canvasHighlightPyramid(e,B[0],n,j,O,I,R,A,N):"bubble"==N?this.canvasBubbleHighlight(n,B,e,a,A,R,O,I):"scatter"==N&&this.canvasScatterHighlight(B,A,R,O,I));E&&("cluster"!=V||s)&&this.canvasHighlightLegend(e,i,n,"Selection",F,A),1==i.marker.visible&&"none"!=this.model.AreaType&&this.canvasHighlightMarker(e,i,z,n,j,t,x)},createRect:function(e,t){"none"!=e.model.AreaType&&(t.lineWidth=0,t.strokeStyle="transparent",t.rect(e.model.m_AreaBounds.X,e.model.m_AreaBounds.Y,e.model.m_AreaBounds.Width,e.model.m_AreaBounds.Height),t.clip(),t.stroke(),t.save())},canvasHighlightPyramid:function(e,t,i,s,a,o,r,n,l){var d=e.model.title.text?ej.EjSvgRender.utils._measureText(e.model.title.text,$(this.svgObject).width()-e.model.margin.left-e.model.margin.right,e.model.title.font):0,h=e.pyrX=("left"===e.model.legend.position.toLowerCase()?e.model.LegendViewerBounds.Width:0)+e.model.elementSpacing+e.model.margin.left,c=e.pyrY=("top"===e.model.legend.position.toLowerCase()?e.model.LegendViewerBounds.Height:0)+(e.model.title.text?e.model._titleLocation.Y+d.height:e.model.margin.top+e.model.elementSpacing),u={opacity:a,stroke:o,"stroke-width":r,fill:n,type:l,d:"M "+(h+t.Line1.x)+" "+(c+t.Line1.y)+" L "+(h+t.Line2.x)+" "+(c+t.Line2.y)+" L "+(h+t.Line3.x)+" "+(c+t.Line3.y)+" L "+(h+t.Line4.x)+" "+(c+t.Line4.y)+" z"};"funnel"==l&&(u.d="M "+(h+t.Line1.x)+" "+(c+t.Line1.y)+" L "+(h+t.Line2.x)+" "+(c+t.Line2.y)+" L "+(h+t.Line3.x)+" "+(c+t.Line3.y)+" L "+(h+t.Line4.x)+" "+(c+t.Line4.y)+" L "+(h+t.Line5.x)+" "+(c+t.Line5.y)+" L "+(h+t.Line6.x)+" "+(c+t.Line6.y)+" z"),ej.EjCanvasRender.prototype.drawPath(u,s)},canvasScatterHighlight:function(e,t,i,s,a){for(var o,r={},n={},l=0;l<e.length;l++)o={startX:e[l].Bounds.X+e[l].Bounds.Height/2,startY:e[l].Bounds.Y+e[l].Bounds.Width/2},n.height=e[l].Bounds.Height,n.width=e[l].Bounds.Width,(r={}).ShapeSize=n,r.cx=o.startX,r.cy=o.startY,r.Style={},r.Style.BorderColor=a,r.Style.Color=t,r.Style.Opacity=s,r.Style.BorderWidth=i,ej.EjSvgRender.chartSymbol._drawCircle(o,r,this,void 0)},canvasBubbleHighlight:function(e,t,i,s,a,o,r,n){for(var l,d=0;d<t.length;d++)l=t[d].Bounds.Height/2,ej.EjCanvasRender.prototype.drawCircle({cx:t[d].Bounds.X-this.model.series[s].xAxis.x+l+this.canvasX,cy:t[d].Bounds.Y-this.model.series[s].yAxis.y+l+this.canvasY,r:l,fill:a,"stroke-width":o,opacity:r,stroke:n},void 0)},canvasHighlightCircle:function(e,t,i,s,a,o,r,n,l,d){for(var h=0;h<n.length;h++)this.highlightSegment(d,{opacity:s,stroke:a,lineWidth:o,color:r,x:n[h].StartX,y:n[h].StartY,radius:e.model._isPieOfPie?e.model.circularRadius[n[h].PieSeriesIndex]:e.model.circularRadius[n[h].SeriesIndex],innerRadius:e.model.innerRadius[n[h].SeriesIndex],startAngle:n[h].StartAngle,endAngle:n[h].EndAngle,type:l})},canvasHighlightMarker:function(e,t,i,s,a,o,r){var n,l,d,h,c,u,p=s,m=p.pattern.toLowerCase(),g=t.type.toLowerCase(),_={},f=""!=p.color?p.color:e.model.seriesColors[t.seriesIndex];for(n="none"==m||""==m?f:this.canvasPattern(a,e,o,f,p),_.Style={},_.Style.BorderColor=p.border.color,_.Style.Opacity=p.opacity,_.Style.BorderWidth=p.border.width,u=0;u<i.length;u++)(l=-1!=g.indexOf("line")||-1!=g.indexOf("area")?i[u].location:i[u].symbolLocation)&&(d="cartesianaxes"==this.model.AreaType?{startX:l.X+this.canvasX,startY:l.Y+this.canvasY}:{startX:l.X,startY:l.Y},h=t.marker,$.each(e.model.symbolShape,(function(e){h.shape.toLowerCase()==e.toLowerCase()&&(c=e)})),_.ShapeSize=h.size,_.r=Math.sqrt(h.size.height*h.size.height+h.size.width*h.size.width)/2,_.cx=d.startX,_.cy=d.startY,_.Style.Color=r?r[u]:n,ej.EjSvgRender.chartSymbol["_draw"+c](d,_,e,a))},canvasHighlightLegend:function(e,t,i,s,a,o){var r,n,l=this.model._visibleSeries.length,d="none"==e.model.AreaType&&1==l?t.pointIndex:t.seriesIndex;if(0==$("#"+e._id+"_"+s+"_Legend"+d+"_canvas").length&&d<t.points.length){r=this.createCanvasElement(e._id+"_"+s+"_Legend"+d+"_canvas",e.svgWidth,e.svgHeight,a);var h={startX:(n="none"!=e.model.AreaType||"none"==e.model.AreaType&&l>1?e.model.legendRegion[t.seriesIndex]:e.model.legendRegion[t.pointIndex]).Bounds.LegendBound.X+n.Location.startX,startY:n.Bounds.LegendBound.Y+n.Location.startY},c={svgRenderer:e.svgRenderer,svgObject:e.svgObject},u={SeriesIndex:d,Style:{Color:o,Opacity:i.opacity,Visibility:!0,BorderWidth:0,BorderColor:o},context:!0,ShapeSize:n.Style.ShapeSize};"seriestype"==n.SymbolShape.toLowerCase()?(e.legendItem=n.LegendItem,ej.EjSvgRender.chartSymbol["_draw"+n.SymbolShape](h,u,e)):ej.EjSvgRender.chartSymbol["_draw"+n.SymbolShape](h,u,c,r)}},createCanvasElement:function(e,t,i,s){var a,o,r,n=document.createElement("canvas");return jQuery(this.element).attr("id"),n.setAttribute("id",e),n.height=i,n.width=t,n.style["touch-action"]&&(n.style["touch-action"]="none"),n.style["-ms-touch-action"]&&(n.style["-ms-touch-action"]="none"),this.svgRenderer.append(n,this.element),(r=document.getElementById(e)).style.left=s.left+$(document).scrollLeft()+"px",r.style.top=s.top+$(document).scrollTop()+"px",r.style.position="absolute",a=$("#"+this._id+"_canvas").offset(),o=$(r).offset(),a.left<o.left&&(r.style.left=s.left-Math.abs(a.left-o.left)+$(document).scrollLeft()+"px"),a.top<o.top&&(r.style.top=s.top-Math.abs(a.top-o.top)+$(document).scrollTop()+"px"),n.getContext("2d")},highlightSegment:function(e,t){e.save(),e.beginPath(),"pie"==t.type||"pieofpie"==t.type?(e.moveTo(t.x,t.y),e.arc(t.x,t.y,t.radius,t.startAngle-1.57,t.endAngle-1.57,!1)):(e.arc(t.x,t.y,t.radius,t.startAngle-1.57,t.endAngle-1.57,!1),e.arc(t.x,t.y,t.innerRadius,t.endAngle-1.57,t.startAngle-1.57,!0)),e.fillStyle=t.color,e.globalAlpha=t.opacity,e.fill(),e.lineWidth=t.lineWidth,e.strokeStyle=t.stroke,e.clip(),e.stroke(),e.closePath(),e.restore()},canvasPattern:function(e,t,i,s,a){var o=a,r=o.pattern.toLowerCase(),n=s,l=o.opacity,d=document.createElement("canvas"),h=d.getContext("2d"),c=[];switch(r){case"chessboard":c[0]={x:0,y:0,width:10,height:10,fill:"white",stroke:"white",opacity:l,name:"rect"},c[1]={x:0,y:0,width:5,height:5,fill:n,opacity:l,name:"rect"},c[2]={x:5,y:5,width:5,height:5,fill:n,opacity:l,name:"rect"},d.width=10,d.height=10,this.loadPattern(t,c,"",h);break;case"pacman":c[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 9.081 9.194 L 14.887 6.114 C 14.075000000000001 4.618 12.484 3.0620000000000007 10.596 3.0620000000000007 L 8.835 3.0620000000000007 C 6.138 3.063 3 6.151 3 8.723 L 3 10.402000000000001 C 3 12.974 6.138 16.063000000000002 8.835 16.063000000000002 L 10.596 16.063000000000002 C 12.681000000000001 16.063000000000002 14.431000000000001 14.303000000000003 15.131 12.549000000000003 L 9.081 9.194 z","stroke-width":1,stroke:n,fill:n},d.width=18,d.height=18,this.loadPattern(t,c,"",h);break;case"crosshatch":c[0]={x:0,y:0,width:8,height:8,fill:"white",stroke:s,opacity:l,name:"rect"},c[1]={d:"M 0 0 L 8 8 Z","stroke-width":1,stroke:n,name:"path"},c[2]={d:"M 8 0 L 0 8 Z","stroke-width":1,stroke:n,name:"path"},d.width=8,d.height=8,this.loadPattern(t,c,"",h);break;case"dots":c[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"white",opacity:l,name:"rect"},c[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:n,name:"circle"},d.width=7,d.height=7,this.loadPattern(t,c,"",h);break;case"diagonalforward":c[0]={x:0,y:0,width:6,height:6,fill:"white",stroke:s,opacity:l,name:"rect"},c[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:n,name:"path"},d.width=6,d.height=6,this.loadPattern(t,c,"",h);break;case"diagonalbackward":c[0]={x:0,y:0,width:6,height:6,"stroke-width":2,fill:"white",stroke:s,opacity:l,name:"rect"},c[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:n,name:"path"},d.width=6,d.height=6,this.loadPattern(t,c,"",h);break;case"grid":c[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 1 3.5 L 11 3.5 M 0 3.5 L 11 3.5 M 0 7.5 L 11 7.5 M 0 11.5 L 11 11.5 M 5.5 0 L 5.5 12 M 11.5 0 L 11.5 12 Z","stroke-width":1,stroke:n},d.width=6,d.height=6,this.loadPattern(t,c,"",h);break;case"turquoise":c[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 2.697 0.5319999999999996 C 3.8695005238907747 0.5319999999999996 4.82 1.4771268931071944 4.82 2.643 C 4.82 3.808873106892805 3.8695005238907747 4.754 2.697 4.754 C 1.5244994761092252 4.754 0.5739999999999998 3.808873106892805 0.5739999999999998 2.643 C 0.5739999999999998 1.4771268931071944 1.5244994761092252 0.5319999999999996 2.697 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:n,fill:n},c[2]={name:"path",d:"M 13.928 0.5319999999999996 C 15.100500523890776 0.5319999999999996 16.051000000000002 1.4771268931071944 16.051000000000002 2.643 C 16.051000000000002 3.808873106892805 15.100500523890776 4.754 13.928 4.754 C 12.755499476109225 4.754 11.805 3.808873106892805 11.805 2.643 C 11.805 1.4771268931071944 12.755499476109225 0.5319999999999996 13.928 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:n,fill:n},c[3]={name:"path",d:"M 8.313 0.5319999999999996 C 9.485500523890776 0.5319999999999996 10.436 1.4771268931071944 10.436 2.643 C 10.436 3.808873106892805 9.485500523890776 4.754 8.313 4.754 C 7.140499476109226 4.754 6.19 3.808873106892805 6.19 2.643 C 6.19 1.4771268931071944 7.140499476109226 0.5319999999999996 8.313 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:n,fill:n},c[4]={name:"path",d:"M 13.928 6.16 C 15.100500523890776 6.16 16.051000000000002 7.105126893107196 16.051000000000002 8.271 C 16.051000000000002 9.436873106892806 15.100500523890776 10.382000000000001 13.928 10.382000000000001 C 12.755499476109225 10.382000000000001 11.805 9.436873106892806 11.805 8.271 C 11.805 7.105126893107196 12.755499476109225 6.16 13.928 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:n,fill:n},c[5]={name:"path",d:"M 8.313 6.16 C 9.485500523890776 6.16 10.436 7.105126893107196 10.436 8.271 C 10.436 9.436873106892806 9.485500523890776 10.382000000000001 8.313 10.382000000000001 C 7.140499476109226 10.382000000000001 6.19 9.436873106892806 6.19 8.271 C 6.19 7.105126893107196 7.140499476109226 6.16 8.313 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:n,fill:n},c[6]={name:"path",d:"M 13.928 11.787999999999998 C 15.100500523890776 11.787999999999998 16.051000000000002 12.733126893107194 16.051000000000002 13.899 C 16.051000000000002 15.064873106892804 15.100500523890776 16.009999999999998 13.928 16.009999999999998 C 12.755499476109225 16.009999999999998 11.805 15.064873106892804 11.805 13.899 C 11.805 12.733126893107194 12.755499476109225 11.787999999999998 13.928 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:n,fill:n},c[7]={name:"path",d:"M 8.313 11.787999999999998 C 9.485500523890776 11.787999999999998 10.436 12.733126893107194 10.436 13.899 C 10.436 15.064873106892804 9.485500523890776 16.009999999999998 8.313 16.009999999999998 C 7.140499476109226 16.009999999999998 6.19 15.064873106892804 6.19 13.899 C 6.19 12.733126893107194 7.140499476109226 11.787999999999998 8.313 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:n,fill:n},d.width=17,d.height=17,this.loadPattern(t,c,"",h);break;case"star":c[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 15.913 18.59 L 10.762 12.842 L 5.613 18.75 L 8.291 11.422 L 0.325 9.91 L 8.154 8.33 L 5.337 0.91 L 10.488 6.658 L 15.637 0.75 L 12.959 8.078 L 20.925 9.59 L 13.096 11.17 z","stroke-width":1,stroke:n,fill:n},d.width=21,d.height=21,this.loadPattern(t,c,"",h);break;case"triangle":c[0]={name:"rect",x:0,y:0,width:10,height:10,fill:"white",opacity:l},c[1]={name:"path",d:"M 4.987 0 L 7.48 4.847 L 9.974 9.694 L 4.987 9.694 L 0 9.694 L 2.493 4.847 z","stroke-width":1,stroke:n,fill:n},d.width=10,d.height=10,this.loadPattern(t,c,"",h);break;case"circle":c[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:n},d.width=9,d.height=9,this.loadPattern(t,c,"",h);break;case"tile":c[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 0 9 L 0 0 L 9 0 z","stroke-width":1,stroke:n,fill:n},c[2]={name:"path",d:"M 9 9 L 9 0 L 18 0 z","stroke-width":1,stroke:n,fill:n},c[3]={name:"path",d:"M 0 18 L 0 9 L 9 9 z","stroke-width":1,stroke:n,fill:n},c[4]={name:"path",d:"M 9 18 L 9 9 L 18 9 z","stroke-width":1,stroke:n,fill:n},d.width=18,d.height=18,this.loadPattern(t,c,"",h);break;case"horizontaldash":c[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 0 1.5 L 10 1.5 M 0 5.5 L 10 5.5 M 0 9.5 L 10 9.5 z","stroke-width":1,stroke:n,fill:n},d.width=12,d.height=12,this.loadPattern(t,c,"",h);break;case"verticaldash":c[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 1.5 0 L 1.5 10 M 5.5 0 L 5.5 10 M 9.5 0 L 9.5 10 z","stroke-width":1,stroke:n,fill:n},d.width=12,d.height=12,this.loadPattern(t,c,"",h);break;case"rectangle":c[0]={x:0,y:0,name:"rect",width:12,height:12,fill:"white",opacity:l},c[1]={name:"rect",x:1,y:2,width:4,height:9,fill:n,opacity:l},c[2]={name:"rect",x:7,y:2,width:4,height:9,fill:n,opacity:l},d.width=12,d.height=12,this.loadPattern(t,c,"",h);break;case"box":c[0]={x:0,y:0,name:"rect",width:13,height:13,fill:"white",opacity:l},c[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:n,opacity:l},d.width=10,d.height=10,this.loadPattern(t,c,"",h);break;case"horizontalstripe":c[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 0 0.5 L 10 0.5 M 0 4.5 L 10 4.5 M 0 8.5 L 10 8.5 z","stroke-width":1,stroke:n,fill:n},d.width=10,d.height=12,this.loadPattern(t,c,"",h);break;case"verticalstripe":c[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"white",opacity:l},c[1]={name:"path",d:"M 0.5 0 L 0.5 10 M 4.5 0 L 4.5 10 M 8.5 0 L 8.5 10 z","stroke-width":1,stroke:n,fill:n},d.width=12,d.height=10,this.loadPattern(t,c,"",h);break;case"bubble":c[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:"#ffffff",opacity:l},c[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},c[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:n},c[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"},d.width=20,d.height=20,this.loadPattern(t,c,"",h);break;case"custom":d=document.getElementById(o.customPattern)}return e.createPattern(d,"repeat")},foundClasses:function(e){var t=[];return $("[id*="+e+"]").each((function(){var e=$(this).attr("class")?$(this).attr("class"):"";e.indexOf("Selection")>=0&&t.push(e)})),t},selection:function(e,t,i,s,a,o,r,n,l,d){var h,c,u,p,m,g,_,f,b,v,x=this.model.clusterPoints,y=this.model._visibleSeries,w=y.length,S="none"==this.model.AreaType&&1==w?r:o,C=i.selectionSettings,T=(this.model._visibleSeries[o].selectionSettings.type.toLowerCase(),"series"+o),L=!1,k=($("#"+l).attr("name"),C.pattern.toLowerCase()),P=C.mode;if(n&&(h=n.indexOf(this.svgObject.id+"_SeriesGroup_")>=0||n.indexOf(this.svgObject.id+"_Chart3D")>=0),("none"!=this.model.AreaType||"none"==this.model.AreaType&&"series"==P&&w>1)&&$("style").each((function(){$(this).html().indexOf("."+e._id+"SelectionStyle"+T)>-1&&(L=!0)})),!e.vmlRendering&&this.model.enable3D)"series"!=P&&!a||"none"==this.model.AreaType&&("none"!=this.model.AreaType||1==w)?"cluster"==P&&"none"!=e.model.AreaType?this.highlightCluster(e,o,r,"Selection",T,C,t,d):"none"==this.model.AreaType?(this.highlightPoint(e,o,r,"Selection",T+S,C,t,d),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class","Selection"+T+S+"Style"+T+S+"1")):(this.highlightPoint(e,o,r,"Selection",T,C,t,d),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class","Selection"+T+"Style"+T+"1")):(this.highlightSeries(e,o,r,"Selection",T,C,t,a,d),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class","Selection"+T+"Style"+T+"1"));else{if("cluster"!=P||a||"none"==e.model.AreaType){(m={}).name="2D",m.index="none"==this.model.AreaType?S:o,m.api="Selection",m.color=""!=C.color?C.color:a?"none"==this.model.AreaType?this.model.pointColors[S]:this.model.seriesColors[S]:"none"!=$("#"+l).attr("fill")?$("#"+l).attr("fill"):$("#"+l).attr("stroke"),"[object Array]"===Object.prototype.toString.call(m.color)&&(m.color=m.color[1].color);var j="none"==k||e.vmlRendering||""==k?C.color:this.pattern(e,t,m,C),D=C.opacity,A=C.border.color,O=C.border.width;L||("none"==this.model.AreaType&&(("series"==P||a)&&1==w||"series"!=P&&!a)?($("style").each((function(){$(this).html().indexOf(".SelectionStyle"+T+"Point"+S)>-1&&(L=!0)})),L||(this.createStyle(e,e._id+"Selection",T+"Point"+S,D,j,A,O),this.createStyle(e,e._id+"SelectionLegend",T+"Point"+S,D,j,"transparent",0))):("none"==this.model.AreaType&&w>1||"none"!=this.model.AreaType)&&(this.createStyle(e,e._id+"Selection",T,D,j,A,O),this.createStyle(e,e._id+"SelectionLegend",T,D,j,"transparent",0)))}if(("series"==P||a)&&("none"==e.model.AreaType&&w>1||"none"!=e.model.AreaType)){if(!h)for(c=$("#"+n).childNodes?$("#"+n).childNodes:[],u=0;u<c.length;u++)$("#"+c[u].id).attr("class",e._id+"SelectionStyle");$("[id*="+this.svgObject.id+"_Series"+S+"]").each((function(){if(this.parentNode.id==e.svgObject.id+"_SeriesGroup_"+S||this.parentNode.id==e.svgObject.id+"_symbolGroup_"+S){var t=$(this).attr("name")?e._id+"SelectionPathStyle"+T:e._id+"SelectionStyle"+T;$(this).attr("class",t)}})),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T),s&&$("#"+n).remove()}else if("cluster"!=P||"none"==e.model.AreaType||ej.util.isNullOrUndefined(l)){if($("#"+l).attr("name")||l==e.svgObject.id+"_Series"+S||"none"==e.model.AreaType)$("#"+l).attr("class",e._id+"SelectionStyle"+T+"Point"+S),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T+"Point"+S),s&&$("#"+n).remove();else{if($("#"+l).attr("class",e._id+"SelectionStyle"+T),"cylinder"==this.model.commonSeriesOptions.columnFacet||"cylinder"==i.columnFacet)for(u=0;u<2;u++)$("#"+l.replace(/2$/,u)).attr("class",e._id+"SelectionStyle"+T);$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T),$("#"+l+"_symbol").attr("class",e._id+"SelectionStyle"+T),s&&($("#"+l+"_symbol").attr("class",e._id+"SelectionStyle"+T),$("#"+n).remove())}null!=(v=$("#"+l).attr("name"))&&("candle"==v||v.indexOf("hilo")>=0)&&($("[id$="+l+"]").attr("class",e._id+"SelectionStyle"+T),$("#"+this.svgObject.id+"_LegendItemShape"+S).attr("class",e._id+"SelectionLegendStyle"+T))}else{for(p=this.svgObject.id+"_Series",x=e.model.clusterPoints,S=l.match(/(\d+)/g),r=parseInt(S[S.length-1]),l.indexOf("SeriesText")>=0&&(r=this.GetSeriesPoint(t).region.Region.PointIndex),f=0;f<x.length;f++)T="ClusterSeries"+(_=x[f].seriesIndex),(m={}).index=_,m.name="2D",m.api="Selection"+T,m.color=""!=(C=y[_].selectionSettings).color?C.color:this.model.seriesColors[_],"[object Array]"===Object.prototype.toString.call(m.color)&&(m.color=m.color[1].color),D=C.opacity,A=C.border.color,O=C.border.width,j="none"==k||e.vmlRendering||""==k?m.color:this.pattern(e,t,m,C),$("style").each((function(){$(this).html().indexOf("."+e._id+"SelectionStyle"+T)>-1&&(g=!0)})),g||(this.createStyle(e,e._id+"Selection",T,D,j,A,O),this.createStyle(e,e._id+"SelectionLegend",T,D,j,"transparent",0)),b=$("#"+p+x[f].seriesIndex+"_Point"+x[f].pointIndex).attr("name")?e._id+"SelectionPathStyle"+T:e._id+"SelectionStyle"+T,$("#"+p+x[f].seriesIndex+"_Point"+x[f].pointIndex).attr("class",b),$("#"+p+x[f].seriesIndex+"_Point"+x[f].pointIndex+"_symbol").attr("class",b),"hidden"!=e.model._visibleSeries[_].visibility&&$("#"+this.svgObject.id+"_LegendItemShape"+_).not("[class*='Highlight']").attr("class",e._id+"SelectionLegendStyle"+T),null!=(v=$("#"+l).attr("name"))&&("candle"==v||v.indexOf("hilo")>=0)&&$("[id$="+p+x[f].seriesIndex+"_Point"+x[f].pointIndex+"]").attr("class","HighlightStyle"+T);s&&($("#"+this.svgObject.id+"_Series"+_+"_Point"+r).attr("class",e._id+"SelectionStyle"+T),$("#"+this.svgObject.id+"_Series"+_+"_Point"+r+"_symbol").attr("class",e._id+"SelectionStyle"+T),$("#"+n).remove())}}},removeSelection:function(e,t,i,s,a,o,r){var n,l,d,h=i.length,c=this.model.clusterPoints,u=c?c.length:0;if(("series"==s||o)&&("none"!=this.model.AreaType||"none"==this.model.AreaType&&h>1))for(l=0;l<h;l++)"point"!=(n=i[l].selectionSettings).mode&&"single"==n.type.toLowerCase()||o&&"single"==n.type.toLowerCase()?($(this.svgObject).find("[id*="+this.svgObject.id+"_SeriesGroup_"+l+"],[id*="+this.svgObject.id+"_symbolGroup_"+l+"],[id*=_Region_Series_"+l+"_]").each((function(){$(this).find("*").attr("class",""),$(this).attr("class","")})),$("#"+this._id+"_Selection_Legend"+l+"_canvas").remove(),$("#"+this._id+"_Selection_series"+l+"_canvas").remove(),$("[id*=_Region_Series_"+l+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class","")):r&&"multiple"==n.type.toLowerCase()&&($("#"+this._id+"_Selection_series"+e+"_canvas").remove(),$("#"+this._id+"_Selection_Legend"+e+"_canvas").remove(),$("[id*=_Region_Series_"+e+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class",""));if("cluster"==s&&"none"!=this.model.AreaType&&!o)if(a)if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster_point_"+t+"]").remove(),0==$("[id*="+this._id+"_Selection_Cluster]").length&&$("[id*="+this._id+"_SelectionCluster_Legend]").remove();else{for(d=0;d<u;d++)$("[id*=_Region_Series_"+c[d].seriesIndex+"_Point_"+c[d].pointIndex+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+c[d].seriesIndex+"_Point"+c[d].pointIndex+"]").attr("class","");0==this.foundClasses(this.model.enable3D?"_Region_Series_"+e:this.svgObject.id+"_Series"+e).length&&$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class","")}else if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster]").remove(),$("[id*="+this._id+"_SelectionCluster_Legend]").remove(),this.selectedPoint=null;else for(d=0;d<u;d++)$("[id*=_Region_Series_"+c[d].seriesIndex+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+c[d].seriesIndex+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+c[d].seriesIndex).attr("class","");"point"!=s||"none"==this.model.AreaType||o||(a?($("#"+this._id+"_Selection_series"+e+"_point_"+t+"_canvas").remove(),$("[id*=_Region_Series_"+e+"_Point_"+t+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point"+t+"]").attr("class",""),0==$("[id*="+this._id+"_Selection_series"+e+"]").length&&$("#"+this._id+"_Selection_Legend"+e+"_canvas").remove(),0==this.foundClasses(this.model.enable3D?"_Region_Series_"+e:this.svgObject.id+"_Series"+e).length&&$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class","")):($("[id*="+this._id+"_Selection_series"+e+"_point_]").remove(),$("[id*="+this._id+"_Selection_Legend"+e+"]").remove(),$("[id*=_Region_Series_"+e+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class",""))),"point"!=s&&"cluster"!=s&&("series"!=s||1!=this.model._visibleSeries.length||"none"!=this.model.AreaType||o)||(a?($("#"+this._id+"_Selection_series"+e+"_point_"+t+"_canvas").remove(),$("[id*=_Region_Series_"+e+"_Point_"+t+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point"+t+"]").attr("class",""),this.model._visibleSeries.length>1?$("#"+this.svgObject.id+"_LegendItemShape"+e).attr("class",""):$("#"+this.svgObject.id+"_LegendItemShape"+t).attr("class",""),this.model._visibleSeries.length>1?$("#"+this._id+"_Selection_Legend"+e+"_canvas").remove():$("#"+this._id+"_Selection_Legend"+t+"_canvas").remove()):($("[id*="+this._id+"_Selection_series]").remove(),$("[id*="+this._id+"_Selection_Legend]").remove(),$("[id*=_Region_Series_"+e+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+e+"_Point]").attr("class",""),this.model._visibleSeries.length>1?$("[id*="+this.svgObject.id+"_LegendItemShape"+e+"]").attr("class",""):$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class","")))},createStyle:function(e,t,i,s,a,o,r,n){var l,d,h;e.vmlRendering?((l=document.createElement("style")).id=t+"Segment",d="."+t+"Style"+i+" {filter: alpha(opacity="+(s*=100)+");}."+t+"PathStyle"+i+"  {filter: alpha(opacity="+s+");}",l.setAttribute("type","text/css"),l.styleSheet?l.styleSheet.cssText=d:(h=document.createTextNode(d),l.appendChild(h)),document.getElementsByTagName("head")[0].appendChild(l)):($("<style id="+t+"Segment"+i+" type='text/css'> ."+t+"Style"+i+"{ fill:"+a+";opacity:"+s+";stroke:"+o+";stroke-width:"+r+";stroke-opacity:"+n+"}</style>").appendTo("body"),$("<style id="+t+"Path"+i+" type='text/css'> ."+t+"PathStyle"+i+"{ opacity:"+s+";stroke:"+o+";stroke-width:"+r+";stroke-opacity:"+n+"}</style>").appendTo("body"))},highlightPoint:function(e,t,i,s,a,o,r){for(var n,l,d="_Region_Series_"+t+"_Point_"+i,h=$(this.svgObject).find("[id$="+d+"],[id*="+d+"back],[id*="+d+"front]"),c=0;c<h.length;c++)(n=[]).api=s+a,n.seriesName=a,n.name=$("[id="+h[c].id+"]").attr("name"),n.index=c,l=this.highlightFill(o,e,t,i),($("#"+h[c].id).attr("class")||"").indexOf("Selection")<0&&$("[id="+h[c].id+"]").attr("class",this.dStyle(n,l,e,r,o))},highlightCluster:function(e,t,i,s,a,o,r){var n,l,d,h,c,u,p,m,g,_,f;if("none"!=e.model.AreaType){for(u=[],p=e.model._visibleSeries[t]._visiblePoints[i].x,m=0,g=e.model._visibleSeries.length;m<g;m++)for(f=0;f<e.model._visibleSeries[m]._visiblePoints.length;f++)p==e.model._visibleSeries[m]._visiblePoints[f].x&&(u[u.length]={seriesIndex:m,pointIndex:f});for(_=0;_<u.length;_++){for(a="series"+_,n="_Region_Series_"+u[_].seriesIndex+"_Point_"+u[_].pointIndex,l=$(this.svgObject).find("[id$="+n+"],[id*="+n+"back],[id*="+n+"front]"),f=0;f<l.length;f++)(d=[]).api=s+a,d.seriesName="series"+_,d.name=$("[id="+l[f].id+"]").attr("name"),d.index=f,h=this.highlightFill(o="Highlight"==s?e.model._visibleSeries[_].highlightSettings:e.model._visibleSeries[_].selectionSettings,e,t=_,i),(c=(c=$("#"+l[f].id).attr("class"))||"").indexOf("Selection"+a+"Style")<0&&c.indexOf("SelectionStyle")<0&&$("[id="+l[f].id+"]").attr("class",this.dStyle(d,h,e,r,o));"Highlight"==s?$("#"+this.svgObject.id+"_LegendItemShape"+_).not("[class*='Selection']").attr("class","Highlight"+a+"Style"+a+"1"):$("#"+this.svgObject.id+"_LegendItemShape"+_).attr("class","Selection"+a+"Style"+a+"1")}}},highlightSeries:function(e,t,i,s,a,o,r,n){t=t;var l,d,h,c=i,u="none"==e.model.AreaType&&1==e.model._visibleSeries.length?"_Region_Series_"+t+"_Point_"+i:"_Region_Series_"+t+"_Point_",p=$(this.svgObject).find("[id*="+u+"]"),m=n?$("#"+this.svgObject.id+"_LegendItemShape"+i).attr("class"):r?$("#"+r.target.id).attr("class"):"";if((m=m||"").indexOf("SelectionStyle")<0||n)for(h=0;h<p.length;h++)(l=[]).api=s+a,l.seriesName=a,l.name=$("[id="+p[h].id+"]").attr("name"),l.index=h,d=this.highlightFill(o,e,t,c,n),(m=(m=$("#"+p[h].id).attr("class"))||"").indexOf("SelectionStyle")<0&&m.indexOf("Selection"+a+"Style")<0&&$("[id="+p[h].id+"]").attr("class",this.dStyle(l,d,e,r,o))},highlight:function(e,t,i,s,a,o,r,n){var l,d,h,c,u,p,m,g,_,f,b,v,x,y=i.highlightSettings,w=$.inArray(i,e.model._visibleSeries),S="series"+w,C=!1,T=w,L=r||t.target.id,k=jQuery.uaMatch(navigator.userAgent);!n&&this.isTouch(t)&&"chrome"==k.browser&&(l=t.originalEvent.changedTouches[0],L=document.elementFromPoint(l.clientX,l.clientY).id);var P=(o=o||t.target.parentNode.id).indexOf(this.svgObject.id+"_SeriesGroup_")>=0||o.indexOf(this.svgObject.id+"_Chart3D")>=0,j=($("#"+L).attr("name"),y.pattern.toLowerCase()),D=e.model._visibleSeries.length;if("none"==e.model.AreaType&&1==D&&(e.model.enable3D?T=s?s.legendItem.LegendItem.PointIndex:a.region.Region.PointIndex:(d=(s?this.svgObject.id+"_LegendItemShape"+s.legendItem.LegendItem.PointIndex:L).substr((s?this.svgObject.id+"_LegendItemShape":this.svgObject.id+"_Series"+w+"_Point").length),T=d)),$("style").each((function(){$(this).html().indexOf(".HighlightStyle"+S)>-1&&(C=!0)})),e.model.enable3D&&!e.vmlRendering)"series"!=y.mode&&!s||("none"!=e.model.AreaType||1==D)&&"none"==e.model.AreaType?"cluster"==y.mode&&"none"!=e.model.AreaType?this.highlightCluster(e,w,a.pointData.pointIndex,"Highlight",S,y,t):(this.highlightPoint(e,w,d=a?a.pointData.pointIndex:T,"Highlight",S+d,y,t),$("#"+this.svgObject.id+"_LegendItemShape"+T).not("[class*='Selection']").attr("class","Highlight"+S+d+"Style"+S+d+"1")):(this.highlightSeries(e,w,T,"Highlight",S,y,t,s),$("#"+this.svgObject.id+"_LegendItemShape"+T).not("[class*='Selection']").attr("class","Highlight"+S+"Style"+S+"1"));else{if(y.mode||"none"==this.model.AreaType){(h={}).name="2D",h.index=w,h.api="Highlight",h.color=""!=y.color?y.color:s?"none"==this.model.AreaType?this.model.pointColors[T]:this.model.seriesColors[T]:$("#"+L).attr("fill"),"[object Array]"===Object.prototype.toString.call(h.color)&&(h.color=h.color[1].color);var A="none"==j||e.vmlRendering||""==j?y.color:this.pattern(e,t,h,y),O=n?1:y.opacity,I=n?-1==i.type.toLowerCase().indexOf("hilo")?e.model.highlightColor:A:y.border.color,R=n?3.5:y.border.width,M=n&&-1==i.type.toLowerCase().indexOf("hilo")?.5:1;C||(this.createStyle(e,"Highlight",S,O,A,I,R,M),this.createStyle(e,"HighlightLegend",S,O,A,"transparent",0,M))}if(-1==(V=(V=s?$("#"+this.svgObject.id+"_LegendItemShape"+T).attr("class"):$("#"+L).attr("class"))||"").indexOf("Selection"))if(("series"==y.mode&&!n||s)&&("none"==e.model.AreaType&&1!=D||"none"!=e.model.AreaType))$("[id*="+this.svgObject.id+"_Series"+T+"]").each((function(){if(this.parentNode.id==e.svgObject.id+"_SeriesGroup_"+T||this.parentNode.id==e.svgObject.id+"_symbolGroup_"+T){var t=$(this).attr("class"),i=$(this).attr("name")?"HighlightPathStyle"+S:"HighlightStyle"+S;(null==t||-1==t.indexOf("SelectionStyle"))&&t!="SelectionStyle"+S&&t!="SelectionStyleClusterSeries"+w&&t!="SelectionPathStyle"+S&&o.indexOf(e.svgObject.id+"_symbolGroup_"+T)<=0&&$(this).attr("class",i)}})),$("#"+this.svgObject.id+"_LegendItemShape"+T).not("[class*='Selection']").attr("class","HighlightLegendStyle"+S);else if("cluster"!=y.mode||"none"==e.model.AreaType||n){if(!$("#"+L).attr("name")&&L!=e.svgObject.id+"_Series"+T){if(0!=(E=$("#"+L).attr("class")?$("#"+L).attr("class"):"").indexOf("Selection")&&o.indexOf(e.svgObject.id+"_symbolGroup_"+T)<=0&&(a||s)){if(P&&($("#"+L).attr("class","HighlightStyle"+S),"cylinder"==this.model.commonSeriesOptions.columnFacet||"cylinder"==i.columnFacet))for(_=0;_<2;_++)$("#"+L.replace(/2$/,_)).attr("class","HighlightStyle"+S);$("#"+L+"_symbol").attr("class","HighlightStyle"+S),$("#"+this.svgObject.id+"_Series"+w+"_Point"+d).not("[class*='Selection']").attr("class","HighlightStyle"+S),$("#"+this.svgObject.id+"_LegendItemShape"+T).not("[class*='Selection']").attr("class","HighlightLegendStyle"+S)}L.indexOf("symbol")>-1&&$("#"+L).attr("class","HighlightStyle"+S)}null!=(x=$("#"+L).attr("name"))&&("candle"==x||x.indexOf("hilo")>=0)&&($("[id$="+L+"]").attr("class","HighlightStyle"+S),$("#"+this.svgObject.id+"_LegendItemShape"+T).not("[class*='Selection']").attr("class","HighlightLegendStyle"+S))}else{if(c=this.svgObject.id+"_Series",u=[],(T=L.match(/(\d+)/g))&&L.toLowerCase().indexOf("point")>0)for(d=parseInt(T[T.length-1]),m=e.model._visibleSeries[w]._visiblePoints[d].xValue,_=0,f=e.model._visibleSeries.length;_<f;_++)for(b=0;b<e.model._visibleSeries[_]._visiblePoints.length;b++)m==(g=e.model._visibleSeries[_]._visiblePoints[b]).xValue&&0==g.isEmpty&&1==g.visible&&(u[u.length]={seriesIndex:_,pointIndex:b});for(v=0;v<u.length;v++){S="series"+(p=u[v].seriesIndex),(h={}).name="2D",h.api="Highlight"+S,h.color=""!=(y=e.model._visibleSeries[p].highlightSettings).color?y.color:this.model.seriesColors[p],"[object Array]"===Object.prototype.toString.call(h.color)&&(h.color=h.color[1].color),O=y.opacity,I=y.border.color,R=y.border.width,A="none"==j||e.vmlRendering||""==j?h.color:this.pattern(e,t,h,y),C||(this.createStyle(e,"Highlight",S,O,A,I,R),this.createStyle(e,"HighlightLegend",S,O,A,"transparent",0));var E=$("#"+c+u[v].seriesIndex+"_Point"+u[v].pointIndex).attr("class"),V=($("#"+c+u[v].seriesIndex+"_Point"+u[v].pointIndex+"_symbol").attr("class"),$("#"+c+u[v].seriesIndex+"_Point"+u[v].pointIndex).attr("name")?"HighlightPathStyle"+S:"HighlightStyle"+S);(null==E||-1==E.indexOf("SelectionStyleseries"+v))&&E!="SelectionStyleseries"+v&&E!="SelectionPathStyle"+S&&o.indexOf(e.svgObject.id+"_symbolGroup_"+v)<=0&&($("#"+c+u[v].seriesIndex+"_Point"+u[v].pointIndex).attr("class",V),$("#"+c+u[v].seriesIndex+"_Point"+u[v].pointIndex+"_symbol").attr("class",V)),"hidden"!=e.model._visibleSeries[p].visibility&&$("#"+this.svgObject.id+"_LegendItemShape"+p).not("[class*='Selection']").attr("class","HighlightLegendStyle"+S),null!=(x=$("#"+L).attr("name"))&&("candle"==x||x.indexOf("hilo")>=0)&&$("[id$="+c+u[v].seriesIndex+"_Point"+u[v].pointIndex+"]").attr("class","HighlightStyle"+S)}}}},dStyle:function(e,t,i,s,a){var o,r,n=ej.Ej3DRender.prototype.polygon3D.prototype,l=a,d=e.api,h=e.seriesName,c=l.opacity;return t=i.colorNameToHex(t),t="XLight"==e.name?n.applyXLight(t,i):"ZLight"==e.name?n.applyZLight(t,i):t,(o={}).name=e.name,o.color=t,o.api=d,t="none"==l.pattern?t:this.pattern(i,s,o,l),document.getElementById(d+"Segment"+h)?(r=document.getElementById(d+"Segment"+h)).innerHTML=r.innerHTML+"."+d+"Style"+h+e.index+" { fill:"+t+";opacity:"+c+" }":((r=document.createElement("style")).id=d+"Segment"+h,r.type="text/css",r.innerHTML="."+d+"Style"+h+e.index+" { fill:"+t+";opacity:"+c+" }",document.getElementsByTagName("head")[0].appendChild(r)),d+"Style"+h+e.index},pattern:function(e,t,i,s){var a,o,r,n=s,l=i.api,d=n.pattern.toLowerCase(),h=i.color,c=""!=n.opacity?n.opacity:$("#"+t.target.id).attr("opacity"),u="#ffffff";switch(document.getElementById(l+"Def")?a=$("#"+l+"Def")[0]:(a=e.svgRenderer.createPattern({id:l+"Def"},"svg"),e.svgRenderer.append(a,e.svgObject)),e.model.enable3D&&(u="XLight"==i.name?"#595959":"ZLight"==i.name?"#737373":"#808080"),$("#"+d+"_"+l+"_"+i.name+"_"+i.index).remove(),o=[],d){case"chessboard":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},"pattern"),o[0]={x:0,y:0,width:10,height:10,fill:u,opacity:c,name:"rect"},o[1]={x:0,y:0,width:5,height:5,fill:h,opacity:c,name:"rect"},o[2]={x:5,y:5,width:5,height:5,fill:h,opacity:c,name:"rect"},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"pacman":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"17.917",height:"18.384"},"pattern"),o[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"crosshatch":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"8",height:"8"},"pattern"),o[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:u,opacity:c,name:"rect"},o[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:h,name:"path"},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"dots":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),o[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:u,opacity:c,name:"rect"},o[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:h,name:"circle"},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"diagonalforward":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),o[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:u,opacity:c,name:"rect"},o[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:h,name:"path"},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"diagonalbackward":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),o[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:u,opacity:c,name:"rect"},o[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:h,name:"path"},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"grid":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),o[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"turquoise":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"17",height:"17"},"pattern"),o[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:h,fill:h},o[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:h,fill:h},o[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:h,fill:h},o[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:h,fill:h},o[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:h,fill:h},o[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:h,fill:h},o[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"star":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"21",height:"21"},"pattern"),o[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"triangle":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"10",height:"10"},"pattern"),o[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"circle":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"9",height:"9"},"pattern"),o[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"tile":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"18",height:"18"},"pattern"),o[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:h,fill:h},o[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:h,fill:h},o[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:h,fill:h},o[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"horizontaldash":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},"pattern"),o[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"verticaldash":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},"pattern"),o[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"rectangle":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:12,height:12},"pattern"),o[0]={name:"rect",width:12,height:12,fill:u,opacity:c},o[1]={name:"rect",x:1,y:2,width:4,height:9,fill:h,opacity:c},o[2]={name:"rect",x:7,y:2,width:4,height:9,fill:h,opacity:c},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"box":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},"pattern"),o[0]={name:"rect",width:13,height:13,fill:u,opacity:c},o[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:h,opacity:c},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"horizontalstripe":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"10",height:"12"},"pattern"),o[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"verticalstripe":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"10"},"pattern"),o[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:h,fill:h},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"bubble":return r=e.svgRenderer.createPattern({id:d+"_"+l+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"20",height:"20"},"pattern"),o[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:u,opacity:c},o[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},o[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:h},o[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"},this.loadPattern(e,o,r),a.appendChild(r),"url(#"+d+"_"+l+"_"+i.name+"_"+i.index+")";case"custom":return"url(#"+n.customPattern+")"}},loadPattern:function(e,t,i,s){for(var a,o=0;o<t.length;o++)s?"rect"==t[o].name?(t[o].stroke="transparent",this.drawRect(t[o],s)):"path"==t[o].name?ej.EjCanvasRender.prototype.drawPath(t[o],s):"circle"==t[o].name&&(t[o].stroke="transparent",ej.EjCanvasRender.prototype.drawCircle(t[o],s)):(a=e.svgRenderer.createPattern(t[o],t[o].name),i.appendChild(a))},drawRect:function(e,t){t.save(),t.beginPath(),t.globalAlpha=e.opacity,t.lineWidth=e["stroke-width"],t.strokeStyle=e.stroke,t.rect(e.x,e.y,e.width,e.height),"none"==e.fill&&(e.fill="transparent"),t.fillStyle=e.fill,e.transform&&t.translate(e.transform[0],e.transform[1]),t.rotate(e.rotate*Math.PI/180),t.fillRect(e.x,e.y,e.width,e.height),t.clip(),t.stroke(),t.restore()},chartRightClick:function(e){return this.chartRightClick=!0,this.isTouch(e)&&this.model.crosshair.visible?(event.preventDefault(),event.stopPropagation(),!1):void 0},chartMouseUpTouch:function(e){var t=this,i=(jQuery.uaMatch(navigator.userAgent),this.calMousePosition(e));return this.mousemoveX=i.X,this.mousemoveY=i.Y,this.enableTrackBall(),clearTimeout(this.model.doubleTapTimer),this.drag||(this.model.doubleTapTimer=setTimeout((function(){(t.model.tapNum<2||t.model.crosshair.visible)&&t.singleTap(e),t.model.tapNum=0,t.model.cachedX=0,t.model.cachedY=0}),200)),2==t.model.tapNum&&(t.model.doubleTapped=!1),!0},getEvent:function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:e},doubleTap:function(e){var t,i=this.getEvent(e),s=i.pageX,a=i.pageY,o=this.model.m_AreaBounds;this.model.cachedX=this.model.cachedX||s,this.model.cachedY=this.model.cachedY||a,(new Date).getTime(),this.mouseDownX>=o.X&&this.mouseDownX<o.X+o.Width&&this.mouseDownY<o.Y+o.Height&&this.mouseDownY>=o.Y&&Math.abs(s-this.model.cachedX)<200&&Math.abs(a-this.model.cachedY)<200&&this.model.tapNum++,2==this.model.tapNum&&(this.model.doubleTapped=!0,this.multiSelectMouseDown(e),this.drag=this.model.zooming.enable||this._isMultiSelect,(t=this.model.trackerElement)&&($(t).finish(),t=null))},singleTap:function(e){var t,i,s,a,o,r,n,l=this,d=e.target.id,h=this.getEvent(e),c=h.pageX,u=h.pageY;if(!this.panning&&!this.isZoomButtonHovered(e.target)){for(this.cancelEvent(e),l.model.trackerElement&&($.finish?$(l.model.trackerElement).finish():$(l.model.trackerElement).stop(!0,!0),l.model.trackerElement=null),$(".ejTooltip"+this._id).remove(),(!l.model.crosshair.visible||"cartesianaxes"!=l.model.AreaType)&&Math.abs(c-l.model.cachedX)<10&&Math.abs(u-l.model.cachedY)<10?this.chartInteractiveBehavior(e):(l.model.element=$(document).find("#"+this.svgObject.id+"_CrosshairGroup"),l.model.trackerElement=$(l.model.element).children().not(".Tracker").not("defs"),$(l.model.trackerElement).length>0&&$(l.model.trackerElement).fadeOut(1e3,(function(){$(l.model.element).find('[id*="trackSymbol"]').attr("visibility","hidden"),l.model.trackerElement=null,l._removeHighlight()})),i=$(document).find('[id*="_trackball_grouping_tooltip"]'),$(i).length>0&&$(i).fadeOut(1e3,(function(){$(i).remove()}))),this.axisTooltip(e,d),this.showTitleTooltip(e,d),this.model.enableCanvasRendering&&(this._textTooltip(e,this.model.xAxisLabelRegions),this._textTooltip(e,this.model.yAxisLabelRegions)),s=0,a=this.model.series.length;s<a;s++)r=(o=this.model.series[s]).marker.dataLabel,!o._enableSmartLabels||this.model.enable3D||r.enableWrap||(n=r.font,"none"==this.model.AreaType&&ej.util.isNullOrUndefined(r.template)&&this.datalabelTooltip(e,s,n));$(".ejTooltip"+this._id).length>0&&(t=$(".ejTooltip"+this._id)),$(".tooltipDiv"+this._id).length>0&&(t=$(".tooltipDiv"+this._id)),window.clearTimeout(l.model.timer),l.model.trackerElement=t,l.model.timer=setTimeout((function(){var e,t=l.model.prevPoint;l.model.trackerElement?l.model.trackerElement.fadeOut(500,(function(){if(t){if("polaraxes"!=l.model.AreaType){var e=ej.EjSvgRender.utils._getPoint(t.point,t.series);l.drawTrackerSymbol(t.series,t.seriesIndex,t.pointIndex,null,e)}$("#canvas_trackSymbol").remove()}$("[id*=_TrackSymbol]").remove()})):(t&&"polaraxes"!=l.model.AreaType&&(e=ej.EjSvgRender.utils._getPoint(t.point,t.series),l.drawTrackerSymbol(t.series,t.seriesIndex,t.pointIndex,null,e)),l.model.crosshair.visible||($("#canvas_trackSymbol").remove(),$("[id*=_TrackSymbol]").remove()))}),1200)}e.originalEvent.pointerType||this.panning||!(this.model.selectionEnable||this.isDevice()&&this._isSafari)||this._doClick(e)},_getPieOfPiePoint:function(e,t,i){for(var s,a=i?t.points:t._visiblePoints,o=a.length,r=0;r<o;r++)e==a[r].actualIndex&&(s=a[r]);return s},tooltip:function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S=!1,C=this.GetSeriesPoint(t);if($("#canvas_trackSymbol").remove(),ej.util.isNullOrUndefined(C)&&!this.dragPoint&&$("#"+e.svgObject.id+"_TrackToolTip").remove(),this.model.crosshair.visible||"cartesianaxes"!=this.model.AreaType)$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").hide(),ej.util.isNullOrUndefined(C)&&(clearTimeout(this.removeTooltip),e.removeTooltip=setTimeout((function(){$(".tooltipDiv"+e._id).remove()}),1e3));else{for(var T,L,k,P=this.model.indicators,j=this.model._visibleSeries,D=j.length,A=0,O=0;O<D;O++)for(k=j[O].trendlines,L=0;L<k.length;L++)"visible"!=k[L].visibility.toLowerCase()||k[L].isNull||"boxandwhisker"==this.model.series[0].type||(k[L]._visiblePoints=k[L].points,j=j.concat(k[L]));for(s=0;s<P.length&&P[s].segment;s++)(T=P[s]).visible&&(j=j.concat(T.segment));for(a=j.length,x=0;x<a;x++)B=x,N=(i=j[x]).type.toLowerCase(),"visible"!=i.visibility.toLowerCase()||"scatter"===N||"bubble"===N||"column"===N||-1!=N.indexOf("bar")||"stackingcolumn"===N||"stackingcolumn100"===N||i._hiloTypes?ej.util.isNullOrUndefined(C)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),e.removeTooltip=setTimeout((function(){$(".tooltipDiv"+e._id).remove()}),1e3)):($("#"+e.svgObject.id+"_TrackToolTipTemplate_"+B).remove(),$(".tooltipDiv"+this._id).hasClass(e.svgObject.id)||$(".tooltipDiv"+this._id).remove(),$("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackSymbol_"+B).remove(),$("#"+e.svgObject.id+"_TrackSymbol_"+B).remove(),m=null,o=e.getClosesPointXY([],[],i,e.mousemoveX,e.mousemoveY,t),ej.util.isNullOrUndefined(o.point)&&(!this.model.prevPoint||this.model.prevPoint.seriesIndex&&!this.model.series[this.model.prevPoint.seriesIndex].tooltip.visible)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),e.removeTooltip=setTimeout((function(){$(".tooltipDiv"+e._id).remove()}),1e3)),o.point&&("boxandwhisker"==i.type.toLowerCase()?(A++,m=o.outlierPosition):m=ej.EjSvgRender.utils._getPoint(o.point,i),(r=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveX},region:{SeriesIndex:x,Region:{PointIndex:o.index}}},e._trigger("pointRegionMouseMove",r)),(n=this.model.prevPoint)&&n.seriesIndex==x&&!o.point&&("boxandwhisker"==i.type.toLowerCase()?(A++,l=n.outlierPosition):l=ej.EjSvgRender.utils._getPoint(n.point,n.series),e.model.enableCanvasRendering||e.drawTrackerSymbol(n.series,n.seriesIndex,n.pointIndex,null,l),this.model.prevPoint=null),i.isIndicator||i.isTrendLine||i.selectionSettings.enable||i.highlightSettings.enable||!i.marker.visible&&"boxandwhisker"!=i.type.toLowerCase()||!o.point||r.cancel||(ej.util.isNullOrUndefined(o.point.marker)||ej.util.isNullOrUndefined(o.point.marker.visible)||o.point.marker&&o.point.marker.visible?e.drawTrackerSymbol(i,B,o.index,!1,m):"boxandwhisker"!=i.type||o.point.marker||e.drawTrackerSymbol(i,B,o.index,!1,m),n&&o.point!=n.point&&("boxandwhisker"==i.type.toLowerCase()?(A++,d=n.outlierPosition):d=ej.EjSvgRender.utils._getPoint(n.point,n.series),e.drawTrackerSymbol(n.series,n.seriesIndex,n.pointIndex,null,d,V,A)),(ej.util.isNullOrUndefined(o.point.marker)||ej.util.isNullOrUndefined(o.point.marker.visible)||o.point.marker&&o.point.marker.visible)&&(this.model.prevPoint={point:o.point,pointIndex:o.index,series:i,seriesIndex:B,outlierPosition:o.outlierPosition})),i.tooltip.visible&&o.point&&(!C||x>C.region.SeriesIndex&&!(i._zOrder<this.model._visibleSeries[C.region.SeriesIndex]._zOrder))&&(g=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,e.model.requireInvertedAxes),m.X+g.x<=g.x+g.width&&(m.X+g.x>=g.x||0==m.X)&&Math.abs(m.Y-(g.y+g.height))<=g.y+g.height&&(Math.abs(m.Y-(g.y+g.height))>=g.y||0==m.Y)&&(r.cancel||(0==$(e.svgObject).find("#"+e.svgObject.id+"_TrackToolTip").length&&(e.gTransToolEle=e.svgRenderer.createGroup({id:e.svgObject.id+"_TrackToolTip",transform:"translate("+g.x+","+g.y+")"})),e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_TrackToolTip"),{transform:"translate("+g.x+","+g.y+")",visibility:"visible"}),ej.util.isNullOrUndefined(i.tooltip.template)?(S=!0,$(".tooltipDiv"+this._id).remove(),e.displayShowTooltip(m,o.point,i,o.index)):(S=!0,$("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),e.createTooltip({SeriesIndex:B,Region:{PointIndex:o.index}},t,i))))))}if($(".tooltipDiv"+this._id).hasClass(this.svgObject.id)||$(".tooltipDiv"+this._id).remove(),C&&ej.util.isNullOrUndefined(C.region.isStripLine)){if(("pie"==(F=this.model._visibleSeries[C.region.SeriesIndex].type.toLowerCase())||"pieofpie"==F||"doughnut"==F)&&this.model._visibleSeries[C.region.SeriesIndex].explode&&(this.model._visibleSeries[C.region.SeriesIndex].enableAnimation?(this.model.AnimationComplete||this.model.enableCanvasRendering)&&this.pieExplosion(C,t):this.model.enable3D||this.pieExplosion(C,t)),C.region.isIndicator)c=(I=this.model.indicators[C.region.SeriesIndex]).segment[0]._visiblePoints[C.region.Region.PointIndex],I.fill=I.segment[0].fill;else if("pieofpie"!=(I=this.model._visibleSeries[C.region.SeriesIndex]).type||this.model.enable3D){if("pie"!=I.type&&"doughnut"!=I.type||this.model.enable3D)c=this.model._visibleSeries[C.region.SeriesIndex]._visiblePoints[C.region.Region.PointIndex];else for(h=0;h<I._visiblePoints.length;h++)if(C.region.Region.length==I._visiblePoints.length){if(C.region.Region.PointIndex==I._visiblePoints[h].actualIndex){c=this.model._visibleSeries[C.region.SeriesIndex]._visiblePoints[h];break}}else if(C.region.Region.Index==h){c=this.model._visibleSeries[C.region.SeriesIndex]._visiblePoints[h];break}}else c=this._getPieOfPiePoint(C.region.Region.PointIndex,I);if(c&&"polaraxes"==this.model.AreaType){for(x=0;x<this.model._visibleSeries.length;x++)$("[id*=_TrackSymbol]").remove(),u="canvas_trackSymbol_"+x,$("#"+this._id).find("[id*="+u+"]").remove();if(p="polaraxes"!=this.model.AreaType?ej.EjSvgRender.utils._getPoint(c,I):ej.EjSvgRender.utils.TransformToVisible(I,c.xValue,c.y,this),f=this.model.prevPoint,!ej.util.isNullOrUndefined(f)&&f!=C&&I.marker.visible){var I=this.model._visibleSeries[f.region.SeriesIndex],R=this.model._visibleSeries[f.region.SeriesIndex]._visiblePoints[f.region.Region.PointIndex],M=ej.EjSvgRender.utils.TransformToVisible(I,R.xValue,R.y,this);this.drawTrackerSymbol(I,f.region.SeriesIndex,f.region.Region.PointIndex,null,M),this.model.prevPoint=null}I.marker.visible&&"column"!=I.drawType&&"rangecolumn"!=I.drawType.toLowerCase()&&(this.drawTrackerSymbol(I,C.region.SeriesIndex,C.region.Region.PointIndex,!0,p),this.model.prevPoint=C)}I.tooltip.visible&&!S&&"visible"==I.visibility.toLowerCase()&&(ej.util.isNullOrUndefined(I.tooltip.template)?("cartesianaxes"==this.model.AreaType?(g=ej.EjSvgRender.utils._getTransform(I.xAxis,I.yAxis,this.model.requireInvertedAxes),0==$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length&&(this.gTransToolEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_TrackToolTip",transform:"translate("+g.x+","+g.y+")"})),this.svgRenderer._setAttr($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip"),{transform:"translate("+g.x+","+g.y+")"}),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","visible"),m={X:C.location.x-this.model.m_AreaBounds.X,Y:Math.abs(C.location.y-this.model.m_AreaBounds.Y)}):(0==$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length&&(this.gTransToolEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_TrackToolTip"})),m={X:C.location.x,Y:Math.abs(C.location.y)}),$(".tooltipDiv"+this._id).remove(),this.displayShowTooltip(m,c,I,C.region.Region.PointIndex)):($("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),this.createTooltip(C.region,t))),(_=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=C,this._trigger("pointRegionMouseMove",_)}else if(ej.util.isNullOrUndefined(this.model.prevPoint)||"polaraxes"!=this.model.AreaType){if(!ej.util.isNullOrUndefined(this.model.explodeValue)){var E,V,N=this.model.series[this.model.explodeValue.SeriesIndex].type.toLowerCase(),F=(I=this.model._visibleSeries[this.model.explodeValue.SeriesIndex],new ej.seriesTypes[N]),B=(I.labelPosition.toLowerCase(),this.model.explodeValue.SeriesIndex),z=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,I):I._visiblePoints[this.model.explodeValue.Index],Y=F._calculateArcData(this,this.model.explodeValue.PointIndex,z,I,B,this.model.explodeValue.PieSeriesIndex);for(this.model.enableCanvasRendering&&(this.model.series[B].explodeIndex=null,b=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(b.left,b.top,b.width,b.height),$("#"+this._id).ejChart("redraw")),V=this.svgObject.id+"_SeriesGroup_"+B,E=1==this.model.explodeValue.PieSeriesIndex?$(this.gSeriesEle).children("#"+V)[1]:$(this.gSeriesEle).children("#"+V)[0],v=$(E).children(),x=0;x<v.length;x++)if(w=this.svgRenderer._getAttrVal($(y=v[x])[0],"data-pointIndex"),parseInt(w)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(y),{d:Y.Direction});break}F.drawDataLabelAcc(this,I,this.model.explodeValue.Index,z,B,this.model.explodeValue.PieSeriesIndex),this.model.explodeValue=null,this.model.explode=!1}}else I=this.model._visibleSeries[(f=this.model.prevPoint).region.SeriesIndex],c=this.model._visibleSeries[f.region.SeriesIndex]._visiblePoints[f.region.Region.PointIndex],p=ej.EjSvgRender.utils.TransformToVisible(I,c.xValue,c.y,this),this.drawTrackerSymbol(I,f.region.SeriesIndex,f.region.Region.PointIndex,null,p),this.model.prevPoint=null},chartTrackball:function(e,t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S;this.crosshairLinePath=[];var C,T,L,k,P,j,D,A,O,I,R,M,E,V,N,F,B,z,Y,X=e.model.requireInvertedAxes,H=[],W=[],U=this.model.indicators,G=this.model._visibleSeries,q=!1,Z=[],Q=[],K=[],J=[],ee=this.model.enableCanvasRendering,te=0,ie=0,se=0,ae=($("#"+this._id).offset(),[]),oe=[],re=[],ne=this.model.crosshair.trackballTooltipSettings.mode.toLowerCase(),le=e._id+"_trackball_grouping_tooltip",de=this.model.locale,he=0,ce=0;if(!this.model.enable3D&&this.model.crosshair.visible&&"trackball"==this.model.crosshair.type.toLowerCase()){for(0==$("#"+this.svgObject.id+"_CrosshairGroup").length?(s={id:e.svgObject.id+"_CrosshairGroup",visibility:"visible"},ee?(s.position="absolute",e.svgRenderer.drawCrosshairLine(s,"#chartContainer_"+this._id)):(e.gTrackball=e.svgRenderer.createGroup(s),e.svgRenderer.append(e.gTrackball,e.svgObject))):e.model.trackerElement&&($.finish?$(e.model.trackerElement).finish():$(e.model.trackerElement).stop(!0,!0),e.model.trackerElement=null),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),$("#secondCanvas").remove(),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#"+le).children().remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="TrackToolTipTemplate"]').remove(),ee&&$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),a=G.length,o=0;o<U.length&&U[o].segment;o++)G=G.concat(U[o].segment);for(R=G.length,S=0;S<R;S++)if("visible"==G[S].visibility&&G[S].enableTrackTooltip&&(P=S,j=[],D=X?e.mousemoveY+G[S].xAxis.plotOffset>G[S].xAxis.y&&e.mousemoveY<G[S].xAxis.y+G[S].xAxis.height+G[S].xAxis.plotOffset:e.mousemoveX+G[S].xAxis.plotOffset>G[S].xAxis.x&&e.mousemoveX<G[S].xAxis.x+G[S].xAxis.width+G[S].xAxis.plotOffset,ee&&(this.canvasX=G[S].xAxis.x),A=e.getClosestPointX(j,G[S],e.mousemoveX,e.mousemoveY),O=G[S].xAxis.visibleRange,""!=A.point&&(n="boxandwhisker"==G[S].type.toLowerCase()?A.point[0].boxPlotLocation[0].YValues:A.point[0].YValues[0],""!=A.point&&(n>=G[S].yAxis.visibleRange.min||"grouping"==ne)&&A.point[0].xValue>=O.min&&A.point[0].xValue<=O.max&&D)))for(l=0;l<A.point.length;l++)A.point[l].visible&&(G[S].isIndicator||te++);for(S=0;S<R;S++){if(P=S,r=[],"visible"==(L=G[S]).visibility.toLowerCase()&&L.enableTrackTooltip)if(j=[],D=X?e.mousemoveY+G[S].xAxis.plotOffset>L.xAxis.y&&e.mousemoveY<L.xAxis.y+L.xAxis.height+G[S].xAxis.plotOffset:e.mousemoveX+G[S].xAxis.plotOffset>L.xAxis.x&&e.mousemoveX<L.xAxis.x+L.xAxis.width+G[S].xAxis.plotOffset,ee&&(this.canvasX=L.xAxis.x),A=e.getClosestPointX(j,L,e.mousemoveX,e.mousemoveY),O=L.xAxis.visibleRange,""!=A.point){if(((n="boxandwhisker"==G[S].type.toLowerCase()?A.point[0].boxPlotValues.midvalue:A.point[0].YValues[0])>=G[S].yAxis.visibleRange.min||"grouping"==ne)&&A.point[0].xValue>=O.min&&A.point[0].xValue<=O.max)if(D)for(T=A.point.length,l=0;l<T;l++)if(A.point[l].visible){if(!L.isIndicator){if("boxandwhisker"==L.type)for(he++,d={xValue:A.point[l].xValue,YValues:A.point[l].boxPlotLocation[0].YValues},(C=ej.EjSvgRender.utils._getPoint(d,L)).YValues=d.YValues,r.push(C),h=0;h<A.point[l].boxPlotLocation.length;h++)1==A.point[l].boxPlotLocation[h].outlier&&r.push({X:A.point[l].boxPlotLocation[h].X,Y:A.point[l].boxPlotLocation[h].Y,YValues:A.point[l].boxPlotLocation[h].YValues,outlier:A.point[l].boxPlotLocation[h].outlier});else C=ej.EjSvgRender.utils._getPoint(A.point[l],L);if(this.model.financial=1==a&&1==T&&L._hiloTypes||!1,X)if(k=this.model.financial?"M "+L.yAxis.x+" "+(C.Y+L.xAxis.y)+" L "+((C.X<C.low?C.X:C.low)+L.yAxis.x)+" "+(C.Y+L.xAxis.y)+" M "+(L.yAxis.x+(C.X>C.low?C.X:C.low))+" "+(C.Y+L.xAxis.y)+" L "+(L.yAxis.x+L.yAxis.width)+" "+(C.Y+L.xAxis.y):"M "+L.yAxis.x+" "+(C.Y+L.xAxis.y)+" L "+(L.yAxis.x+L.yAxis.width)+" "+(C.Y+L.xAxis.y),"boxandwhisker"==L.type)for(b=0;b<r.length;b++)Q.push({X:r[b].X,Y:r[b].Y,YValues:r[b].YValues,outlier:r[b].outlier});else Q.push({X:A.point[l].location.X+L.yAxis.x,Y:A.point[l].location.Y+L.xAxis.y});else if(k=this.model.financial?"M "+(C.X+L.xAxis.x)+" "+e.model.m_AreaBounds.Y+" L "+(C.X+L.xAxis.x)+" "+((C.Y<C.low?C.Y:C.low)+L.yAxis.y)+" M "+(C.X+L.xAxis.x)+" "+((C.Y>C.low?C.Y:C.low)+L.yAxis.y)+" L "+(C.X+L.xAxis.x)+" "+(e.model.m_AreaBounds.Y+e.model.m_AreaBounds.Height):"M "+(C.X+L.xAxis.x)+" "+e.model.m_AreaBounds.Y+" L "+(C.X+L.xAxis.x)+" "+(e.model.m_AreaBounds.Y+e.model.m_AreaBounds.Height),"boxandwhisker"==L.type)for(b=0;b<r.length;b++)Q.push({X:r[b].X,Y:r[b].Y,YValues:r[b].YValues,outlier:r[b].outlier});else Q.push({X:A.point[l].location.X+L.xAxis.x,Y:A.point[l].location.Y+L.yAxis.y});if(this.crosshairLinePath.push(I={id:e.svgObject.id+"_Tracker",fill:"none","stroke-width":e.model.crosshair.line.width,"clip-path":"url(#"+e.svgObject.id+"_ChartAreaClipRect)",stroke:e.model.crosshair.line.color,d:k}),0==$("#"+e.svgObject.id+"_Tracker").length?(ee?(u=this.svgRenderer.createCrosshairCanvas()).ctx=u.getContext("2d"):(u=this.svgRenderer,c=e.gTrackball),e.svgRenderer.drawPath.call(u,I,c),q=!0):(q=!0,ej.util.isNullOrUndefined(this._closest)?e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_Tracker"),{d:k,visibility:"visible"}):this._beforeMin?this._closest>=A.point[l].xValue&&e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_Tracker"),{d:k,visibility:"visible"}):this._afterMax&&this._closest<=A.point[l].xValue&&e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_Tracker"),{d:k,visibility:"visible"}),$("#"+e.svgObject.id+"_Tracker").css({display:"block"}),ee&&((u=this.svgRenderer.createCrosshairCanvas()).ctx=u.getContext("2d"),e.svgRenderer.drawPath.call(u,I,e.gTrackball)),$("#"+this._id).find('[id*="canvas_Tracker"]').css("visibility","visible")),M=ej.EjSvgRender.utils._getTransform(L.xAxis,L.yAxis,X),e.gTransToolEle=e.svgRenderer.createGroup({transform:"translate("+M.x+","+M.y+")",id:e.svgObject.id+"_TrackToolTip_"+P}),E=this.model.prePoint,ej.util.isNullOrUndefined(E)||E.pointIndex[0]!=A.index[0]||!$("#"+e.svgObject.id+"_trackSymbol_"+P+"_"+A.index)){if(ej.util.isNullOrUndefined(V)&&(e.gTransToolEle&&e.gTrackerEle&&($(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').attr("visibility","hidden"),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden")),V=A),p=L.type.toLowerCase(),m=0,(!L._hiloTypes||p.indexOf("rangearea")>-1)&&("grouping"!=ne||"grouping"==ne&&p.indexOf("column")<0&&p.indexOf("bar")<0))if("boxandwhisker"==L.type)for(g=0;g<r.length;g++)e.drawTrackerSymbol(L,P,A.index[l],!0,r[g],null,m),m++;else e.drawTrackerSymbol(L,P,A.index[l],!0,C);if(L.trackerRemoved=!0,e.model.crosshair.trackballTooltipSettings.tooltipTemplate)"grouping"===ne?(A=e.getClosestPointX(j,L,e.mousemoveX,e.mousemoveY),ge=this.getSeriesColor(A.point[l],P,L),W.push({seriesColor:ge}),T=A.point.length,(pe=this.getTooltipFormat(A.point[l],L,P,A.index[l],_e)).text="&nbsp"+pe.text+"&nbsp",ae.push({text:pe.text,seriesIndex:P,pointIndex:A.index[l]}),H.push({point:A.point[l]}),Z.push({series:L}),(L._hiloTypes&&"rangearea"!=p||p.indexOf("column")>-1||p.indexOf("bar")>-1)&&this.highlightStart(i,{region:{Region:{PointIndex:A.index[l]},SeriesIndex:P}},this._id+"_svg_SeriesGroup_"+P,this._id+"_svg_Series"+P+"_Point"+A.index[l],!0),te===ae.length&&(z=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],e.displayGroupingTemplate(F,B,C,H,Z,P,A.index[l],z,W))):(z=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],e.displayTemplateTooltip(F,B,C,A.point[l],L,P,A.index[l],z));else if(N=Q.length-1,ce=r.length,"grouping"==ne){var ue,pe,me,ge=this.getSeriesColor(A.point[l],P,L),_e=L.tooltip.format,fe=[];if("boxandwhisker"==L.type)for(b=0;b<ce;b++)me=this.getTooltipFormat(A.point[l],L,P,A.index[l],_e,r[b]),fe.push(me),pe=null;else pe=this.getTooltipFormat(A.point[l],L,P,A.index[l],_e);if(_=L.tooltip.font&&L.tooltip.font.color?L.tooltip.font.color:ge,ye=L.tooltip.font?$.extend(!1,L.font,{},L.tooltip.font):L.font,"object"==typeof _&&(_=ge[1].color),"boxandwhisker"==L.type)for(f=0;f<fe.length;f++)ae.push({text:fe[f].text,seriesIndex:P,pointIndex:A.index[l]});else pe.text="&nbsp"+pe.text+"&nbsp",ae.push({text:pe.text,seriesIndex:P,pointIndex:A.index[l]});if((L._hiloTypes&&"rangearea"!=p||p.indexOf("column")>-1||p.indexOf("bar")>-1)&&this.highlightStart(i,{region:{Region:{PointIndex:A.index[l]},SeriesIndex:P}},this._id+"_svg_SeriesGroup_"+P,this._id+"_svg_Series"+P+"_Point"+A.index[l],!0),"boxandwhisker"==L.type)for(f=0;f<fe.length;f++)re.push(e._id+"_grouping_text_"+P+"_"+A.index[l]+f);else re.push(e._id+"_grouping_text_"+P+"_"+A.index[l]);if(ue={color:_,"font-size":ye.size,"font-family":ye.fontFamily,"font-style":ye.fontStyle,"font-weight":ye.fontWeight},"boxandwhisker"==L.type)for(f=0;f<fe.length;f++)oe.push(ue);else oe.push(ue);(he==te&&"boxandwhisker"==L.type||te==ae.length&&"boxandwhisker"!=L.type)&&e.displayTooltip(!0,{point:A.point[l],series:L,textCollection:ae,textOptionsCollection:oe,groupingTextId:re})}else{var be,ve=this.getTooltipFormat(A.point[l],L,P,S,L.tooltip.format,S),xe=L.tooltip,ye=xe.font?$.extend(!1,L.font,{},xe.font):L.font,we=ej.EjSvgRender.utils._measureText(ve.text,null,ye),Se=(ie=ie>(se=X?we.height:we.width)?ie:se,Math.ceil(ve.text.toString().split("<br/>").length/2));if(this.model.tooltipPadding=Number(ye.size.toString().replace(/px/i,""))/3,be=this.model.tooltipPadding+2*L.tooltip.border.width,X)K.push({Start:Q[N].X-be-we.width/2,End:Q[N].X+be+we.width/2}),J.push({Point:Q[N],ClosestPoint:A.point[l],Series:L,ClosestPointIndex:A.index[l],Tgap:0,StEnd:K[N],TextArea:we,ReqInvertAxis:X});else if("boxandwhisker"==L.type)for(b=0;b<ce;b++)K.push({Start:r[b].Y-be*Se-we.height/2,End:r[b].Y+be*Se+we.height/2}),J.push({Point:r[b],ClosestPoint:A.point[l],Series:L,ClosestPointIndex:A.index[l],Tgap:0,StEnd:K[b],TextArea:we,ReqInvertAxis:X});else K.push({Start:Q[N].Y-be*Se-we.height/2,End:Q[N].Y+be*Se+we.height/2}),J.push({Point:Q[N],ClosestPoint:A.point[l],Series:L,ClosestPointIndex:A.index[l],Tgap:0,StEnd:K[N],TextArea:we,ReqInvertAxis:X});if("boxandwhisker"==L.type&&he==te)for(ie+=2*be,J=J.sort(X?function(e,t){return e.Point.X-t.Point.X}:function(e,t){return e.Point.Y-t.Point.Y}),this.SmartTooltipPosition(J),v=J.length,e.displayTooltip(!1,J,ie),S=0;S<v;S++)P=$.inArray(J[S].Series,this.model._visibleSeries),J[S].Series._hiloTypes&&this.highlightStart(i,{region:{Region:{PointIndex:J[S].ClosestPointIndex},SeriesIndex:P}},this._id+"_svg_SeriesGroup_"+P,this._id+"_svg_Series"+P+"_Point"+J[S].ClosestPointIndex,!0);else if(J.length==te&&"boxandwhisker"!=L.type)for(ie+=2*be,J=J.sort(X?function(e,t){return e.Point.X-t.Point.X}:function(e,t){return e.Point.Y-t.Point.Y}),this.SmartTooltipPosition(J),v=J.length,e.displayTooltip(!1,J,ie),S=0;S<v;S++)P=$.inArray(J[S].Series,this.model._visibleSeries),J[S].Series._hiloTypes&&this.highlightStart(i,{region:{Region:{PointIndex:J[S].ClosestPointIndex},SeriesIndex:P}},this._id+"_svg_SeriesGroup_"+P,this._id+"_svg_Series"+P+"_Point"+J[S].ClosestPointIndex,!0)}}else Y=$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($(Y),{visibility:"visible"}),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","visible"),Y=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($(Y),{visibility:"visible"}),Y=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($(Y),{visibility:"visible"}),$(e.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible"),null!=this.model.crosshair.trackballTooltipSettings.tooltipTemplate&&("grouping"===ne?(Y=$(document).find('[id*="TrackGroupToolTipTemplate"]'),this.svgRenderer._setAttr($(Y),{visibility:"visible"})):(Y=$(document).find('[id*="_TrackToolTipTemplate_"]'),this.svgRenderer._setAttr($(Y),{visibility:"visible"})))}}else $("#"+this.svgObject.id+"_TrackSymbol_"+P).remove();else this._removeTrackBall()}else q||$(e.svgObject).find('[id*="_Tracker"]').remove(),$("#"+e.svgObject.id+"_TrackSymbol_"+S),x=this.svgObject.id+"_TrackSymbol_"+P,$("#"+this._id).find("[id*="+x+"]").remove(),$("#"+e._id).find("[id*=_canvas_trackSymbol_"+S+"]").css("visibility","hidden"),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove());L.trackerRemoved=!1}if(null!=this.model.closestPoint&&(this.model.prePoint={point:A.point,pointIndex:A.index,series:L,seriesIndex:P}),0==$("#"+this.svgObject.id+"_TrackAxisToolTip").length&&this.model.crosshairLabelVisibility?(e.gTrackAxisEle=e.svgRenderer.createGroup({id:e.svgObject.id+"_TrackAxisToolTip",visibility:"visible"}),e.svgRenderer.append(e.gTrackAxisEle,e.gTrackball)):$("#"+this.svgObject.id+"_TrackAxisToolTip").css("display","block"),C&&(y=A.point[0],ee?$(e.svgObject.parentElement).find('[id*="AxisToolTipRect"]').css({visibility:"hidden",display:"none"}):$(e.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible").children().attr({display:"none"}),$.each(e.model._axes,(function(i,s){var a,o=s.x,r=s._opposed;if(X){if("vertical"==s.orientation.toLowerCase()&&s.crosshairLabel.visible&&e.mousemoveY<=s.y+s.height&&s.y<=e.mousemoveY){var n=s._valueType.toLowerCase(),l=y.xValue;"logarithmic"==n&&(l=Math.pow(s.logBase,l).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==n&&(l=ej.format(new Date(Math.floor(l)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,de)),"category"==n&&(l=ej.EjSvgRender.utils._getLabelContent(l,s,de)),e.displayAxisTooltip({X:s.x,Y:C.Y+s.y},l,s,i,t)}}else"horizontal"==s.orientation.toLowerCase()&&s.crosshairLabel.visible&&C.X+o<=s.x+s.width&&s.x<=Q[Q.length-1].X&&(n=s._valueType.toLowerCase(),a=(C.X/s.width*s.visibleRange.delta+s.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),"logarithmic"==n&&(a=Math.pow(s.logBase,a)),"datetime"==n&&(a=ej.format(new Date(Math.floor(a)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,de)),("category"==n||"datetimecategory"==n)&&("object"!=typeof y.x&&(a=y.xValue),a=(a="category"!=n&&ej.util.isNullOrUndefined(s.labelFormat)?ej.format(new Date(s.labels[Math.floor(a)]),ej.EjSvgRender.utils._dateTimeLabelFormat(s.intervalType,s),de):ej.EjSvgRender.utils._getLabelContent(Math.floor(a),s,de))||"undefined"),e.displayAxisTooltip({X:Q[Q.length-1].X,Y:r?s.y+s.height-s.majorTickLines.size:s.y+s.height+s.majorTickLines.size+10},a,s,i,t,!0))}))),"grouping"!==ne&&e.model.crosshair.trackballTooltipSettings.tooltipTemplate)for(w=$(document).find('[id*="_TrackToolTipTemplate_"]'),S=0;S<w.length;S++)$(w[S]).appendTo(this.templateContainer),$(this.templateContainer).appendTo(this.chartContainer)}},chartCrossHair:function(e,t){var i,s,a,o,r,n,l,d=ej.util.isNullOrUndefined(this.model.primaryYAxis.roundingPlaces)?2:this.model.primaryYAxis.roundingPlaces,h=e.model.enableCanvasRendering,c=this.model.locale;if(!this.model.enable3D&&this.model.crosshair.visible&&"crosshair"==this.model.crosshair.type.toLowerCase()){for(0==$("#"+this.svgObject.id+"_CrosshairGroup").length?(i={id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"},h?(i.position="absolute",e.svgRenderer.drawCrosshairLine(i,"#chartContainer_"+this._id)):(this.gCrosshair=this.svgRenderer.createGroup(i),this.svgRenderer.append(this.gCrosshair,this.svgObject))):$("#"+this.svgObject.id+"_CrosshairGroup").css("display","block"),e.model.trackerElement&&($.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.trackerElement=null),n=0;n<this.model._axes.length;n++)"vertical"==(l=this.model._axes[n]).orientation.toLowerCase()?t.y>=l.y&&t.y<=l.y+l.height&&(l.x<t.x?s=Math.min(s||l.x,l.x):a=Math.max(a||l.x,l.x)):t.x>=l.x&&t.x<=l.x+l.width&&(l.y<t.y?o=Math.min(o||l.y,l.y):r=Math.max(r||l.y,l.y));var u,p,m=s||this.model.m_AreaBounds.X,g=a?a-m:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-m,_=o||this.model.m_AreaBounds.Y,f=r?r-_:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height-_,b="M "+this.mousemoveX+" "+_+" L "+this.mousemoveX+" "+(_+f),v="M "+m+" "+this.mousemoveY+" L "+(m+g)+" "+this.mousemoveY,x=$("#"+this._id).offset(),y=e.svgObject,w={left:y.offsetLeft>x.left?y.offsetLeft:x.left,top:y.offsetTop>x.top?y.offsetTop:x.top};0==$("#"+e.svgObject.id+"_CrosshairVertical").length?(u={id:e.svgObject.id+"_CrosshairVertical",fill:"none","stroke-width":e.model.crosshair.line.width,stroke:e.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:b},h?(u.width=0,u.height=f,u.top=_,u.left=m,u.position="absolute",u.style="solid",u.opacity=.5,e.svgRenderer.drawCrosshairLine(u,"#"+this.svgObject.id+"_CrosshairGroup")):e.svgRenderer.drawPath(u,e.gCrosshair)):(e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_CrosshairVertical"),{d:b}),h&&($("#secondCanvas").remove(),$("#"+e.svgObject.id+"_CrosshairVertical").css("left",this.mousemoveX).css({top:_,height:f,display:"block"})),$("#"+e.svgObject.id+"_CrosshairVertical").attr("visibility","visible").css("display","block")),0==$("#"+e.svgObject.id+"_CrosshairHorizontal").length?(p={id:e.svgObject.id+"_CrosshairHorizontal",fill:"none","stroke-width":e.model.crosshair.line.width,stroke:e.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:v},h?(p.top=_+w.top,p.left=m+w.left,p.width=g,p.height=0,p.position="absolute",p.style="solid",p.opacity=.5,e.svgRenderer.drawCrosshairLine(p,"#"+this.svgObject.id+"_CrosshairGroup")):e.svgRenderer.drawPath(p,e.gCrosshair)):(e.svgRenderer._setAttr($(e.svgObject).find("#"+e.svgObject.id+"_CrosshairHorizontal"),{d:v}),$("#"+e.svgObject.id+"_CrosshairHorizontal").attr("visibility","visible").css("display","block"),h&&$("#"+e.svgObject.id+"_CrosshairHorizontal").css("top",this.mousemoveY).css({left:m,width:g,display:"block"})),0==$("#"+e.svgObject.id+"_AxisCrossToolTip").length?(e.gTrackAxisEle=e.svgRenderer.createGroup({id:e.svgObject.id+"_AxisCrossToolTip",visibility:"visible"}),e.svgRenderer.append(e.gTrackAxisEle,e.gCrosshair)):(this.svgRenderer._setAttr($(e.gTrackAxisEle),{visibility:"visible"}),$(e.gTrackAxisEle).css("display","block")),$.each(e.model._axes,(function(i,s){var a,o,r,n=s._valueType.toLowerCase();"horizontal"==s.orientation.toLowerCase()&&s.crosshairLabel.visible?e.mousemoveX<=s.x+s.width&&s.x<=e.mousemoveX?(a="category"==s._valueType&&"betweenticks"==s.labelPlacement.toLowerCase()?.5:0,o=(Math.abs(e.mousemoveX-(s.isInversed?s.x+s.width:s.x))/s.width*s.visibleRange.delta+s.visibleRange.min+a).toFixed(2).replace(new RegExp("\\.0{2}"),""),"logarithmic"==n&&(o=Math.pow(s.logBase,o).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==n&&(o=ej.format(new Date(Math.floor(o)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,c)),("category"==n||"datetimecategory"==n)&&("category"!=n&&ej.util.isNullOrUndefined(s.labelFormat)?(o=o<0?0:o,o=ej.format(new Date(s.labels[Math.floor(o)]),ej.EjSvgRender.utils._dateTimeLabelFormat(s.intervalType,s),c)):o=ej.EjSvgRender.utils._getLabelContent(o,s,c)),e.displayAxisTooltip({X:e.mousemoveX,Y:s.y},o,s,i,t),$("#"+e.svgObject.id+"_AxisToolTipText_"+i).show(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).show()):($("#"+e.svgObject.id+"_AxisToolTipText_"+i).hide(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).hide()):"vertical"==s.orientation.toLowerCase()&&s.crosshairLabel.visible&&(e.mousemoveY<=s.y+s.height&&s.y<=e.mousemoveY?(r=(Math.abs(1-Math.abs(e.mousemoveY-(s.isInversed?s.y+s.height:s.y))/s.width/s.height)*s.visibleRange.delta+s.visibleRange.min).toFixed(d).replace(new RegExp("\\.0{"+d+"}"),""),"logarithmic"==n&&(r=Math.pow(s.logBase,r).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==n&&(r=ej.format(new Date(Math.floor(r)),ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(s._intervalType,s):s.labelFormat,c)),("category"==n||"datetimecategory"==n)&&(r="category"==n||ej.util.isNullOrUndefined(s.labelFormat)?ej.EjSvgRender.utils._getLabelContent(r,s,c):ej.format(new Date(s.labels[Math.floor(r)]),ej.EjSvgRender.utils._dateTimeLabelFormat(s.intervalType,s),c)),e.displayAxisTooltip({X:s.x,Y:e.mousemoveY},r,s,i,t),$("#"+e.svgObject.id+"_AxisToolTipText_"+i).show(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).show()):($("#"+e.svgObject.id+"_AxisToolTipText_"+i).hide(),$("#"+e.svgObject.id+"_AxisToolTipRect_"+i).hide()))}))}},chartTouchMove:function(e){this.cancelEvent(e),this.chartInteractiveBehavior(e=e.originalEvent.touches[0])},isZoomButtonHovered:function(e){if(null!=e.parentNode){var t=e.parentNode.id,i=e.id;if(-1==i.indexOf("_ZoomInBtn ")&&-1==i.indexOf("ZoomOutBtn")&&-1==i.indexOf("_ZoomBtn")&&-1==i.indexOf("_ResetZoom")&&-1==i.indexOf("_PanBtn")&&t&&-1==t.indexOf("_ZoomInBtn")&&-1==t.indexOf("_ZoomOutBtn")&&-1==t.indexOf("_ZoomBtn")&&-1==t.indexOf("_ResetZoom")&&-1==t.indexOf("_PanBtn"))return!1}return!0},showTooltipOnDrag:function(e){$("#"+e.svgObject.id).find("#"+e.svgObject.id+"_TrackToolTip").attr("visibility","visible"),$("#"+e.svgObject.id+"_TrackToolTip").show(),$(".tooltipDiv").css("display","block")},chartInteractiveBehavior:function(e){var t,i,s,a,o,r,n,l,d=this.calMousePosition(e);this.mousemoveX=d.X,this.mousemoveY=d.Y,t="#"+this.svgObject.id,this.mouseWheelCoords&&(i=Math.abs(this.mouseWheelCoords.x-e.pageX),s=Math.abs(this.mouseWheelCoords.y-e.pageY),(i>0||s>0)&&!this.panning?this.enableTrackBall():this.disableTrackBall()),r=e.target.id,"cartesianaxes"==(a=this).model.AreaType&&this.mousemoveX>=this.model.m_AreaBounds.X&&this.mousemoveX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousemoveY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousemoveY>=this.model.m_AreaBounds.Y&&this.model.initSeriesRender?(o={x:a.mousemoveX,y:a.mousemoveY},null==(r=a.svgRenderer._getAttrVal($(e.target).parent(),"id"))||r!=a.svgRenderer._getAttrVal($(this.svgObject).find(t+"_ZoomBtn"),"id")&&r!=a.svgRenderer._getAttrVal($(this.svgObject).find(t+"_ResetZoom"),"id")&&r!=a.svgRenderer._getAttrVal($(this.svgObject).find(t+"_PanBtn"),"id")?this.enableTrackBall():this.disableTrackBall(),this.model.crosshair.visible||this.isZoomButtonHovered(e.target)?this.dragPoint?this.showTooltipOnDrag(a,e):this.closestXyPoint||($("#"+a.svgObject.id).find("#"+a.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+a.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none")):this.tooltip(a,e),this.model.enable3D||(this.chartTrackball(a,o,e),this.chartCrossHair(a,o))):("none"!=a.model.AreaType&&"polaraxes"!=a.model.AreaType||this.isZoomButtonHovered(e.target)?this.dragPoint?this.showTooltipOnDrag(a,e):this.closestXyPoint||($("#"+a.svgObject.id).find("#"+a.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+a.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none"),this._removeTrackBall(),this._removeHighlight()):this.tooltip(a,e),(n=this.model.prevPoint)&&n.point&&(this.model.enableCanvasRendering?$("#canvas_trackSymbol").remove():(l="boxandwhisker"==n.series.type?n.outlierPosition:ej.EjSvgRender.utils._getPoint(n.point,n.series),a.drawTrackerSymbol(n.series,n.seriesIndex,n.pointIndex,null,l)),this.model.prevPoint=null))},highlightSvg:function(e,t,i,s,a,o,r){var n,l;null!=t&&(n=t.substr((this.svgObject.id+"_SeriesGroup_").length),t.indexOf(this.svgObject.id+"_symbolGroup_")>=0&&(n=t.substr((this.svgObject.id+"_symbolGroup_").length))),l=this.model.series[n=null!=a?a.region.SeriesIndex:n],i&&l&&(l.highlightSettings.enable||r)&&this.highlight(e,s,l,null,a,t,o,r)},highlightCanvas:function(e,t,i){for(var s,a,o,r,n,l=0;l<this.model._visibleSeries.length;l++)if(a=(s=this.model._visibleSeries[l]).type.toLowerCase(),"cartesianaxes"==this.model.AreaType&&"visible"==s.visibility.toLowerCase()&&"scatter"!==a&&"bubble"!==a&&"column"!==a&&-1==a.indexOf("bar")&&"stackingcolumn"!==a&&"stackingcolumn100"!==a&&!s._hiloTypes){var d=this.calMousePosition(t);this.mousemoveX=d.X,this.mousemoveY=d.Y,o=this.getClosesPointXY([],[],s,this.mousemoveX,this.mousemoveY,t),ej.util.isNullOrUndefined(o.point)||((r=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:l,Region:{PointIndex:o.index}}})}(i=r?r.data:i)&&this.model.series[i.region.SeriesIndex].highlightSettings.enable&&((n=$.extend({},this.model.series[i.region.SeriesIndex])).pointIndex=i.region.Region.PointIndex,n.seriesIndex=i.region.SeriesIndex,n.data=i,0==$("#"+this._id+"_Selection_series"+n.seriesIndex+"_canvas").length&&($("[id*="+this._id+"_Highlight_]").remove(),this.findCanvasSelection(n.seriesIndex,n.pointIndex,n.selectionSettings.mode.toLowerCase())||this.canvasHighlight(this,t,n)))},resizeCursor:function(e,t,i,s,a,o,r){var n=this.selectedRectIndex;t<=s||i<=a||t>=o+s||i>=r+a?($("#"+e+"_resize_rightRect"+n).css({cursor:"default"}),$("#"+e+"_resize_leftRect"+n).css({cursor:"default"}),$("#"+e+"_resize_bottomRect"+n).css({cursor:"default"}),$("#"+e+"_resize_topRect"+n).css({cursor:"default"}),$("#"+e+"_resize_bottomRightCornerCircle"+n).css({cursor:"default"})):(t>=s||i>=a||t<=o+s||i<=r+a)&&($("#"+e+"_resize_rightRect"+n).css({cursor:"e-resize"}),$("#"+e+"_resize_leftRect"+n).css({cursor:"w-resize"}),$("#"+e+"_resize_bottomRect"+n).css({cursor:"s-resize"}),$("#"+e+"_resize_topRect"+n).css({cursor:"n-resize"}),$("#"+e+"_resize_bottomRightCornerCircle"+n).css({cursor:"se-resize"}))},multiSelectMouseMove:function(evt){var q,rectOptions,translate;if(this._isMultiSelect&&"range"==this.multiSelectMode&&!this.dragPoint){var mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y,gripMouseMoveX,gripMouseMoveY,translate,selectionSettingsType=this.multiSelectType,width,height,x,y,rectX,rectY,rectWidth,rectHeight,id,x1,x2,y1,y2,xPlotOffset,yPlotOffset,modifiedX,modifiedY,mouseDownX=this.mouseDownX,mouseDownY=this.mouseDownY,selectedRectIndex=this.selectedRectIndex,containerSvg=this.svgObject.id,chartArea="#"+containerSvg+"_ChartArea",chartAreaX=parseInt($(chartArea).attr("x")),chartAreaY=parseInt($(chartArea).attr("y")),chartAreaWidth=parseInt($(chartArea).attr("width")),chartAreaHeight=parseInt($(chartArea).attr("height")),multiSelectMouseDownId=this.multiSelectMouseDownId,selctRectId="#"+containerSvg+"_selectRect",multiAxis=this.multiAxis;for(q=0;q<multiAxis.length;q++)"horizontal"==multiAxis[q].orientation.toLowerCase()?(x1=multiAxis[q].Location.X1,x2=multiAxis[q].Location.X2,xPlotOffset=multiAxis[q].plotOffset):(y1=multiAxis[q].Location.Y1,y2=multiAxis[q].Location.Y2,yPlotOffset=multiAxis[q].plotOffset);if(this.drag&&!this.resize&&!this.rectPan&&!this.removeRect){var currentX=mouseMoveX,currentY=mouseMoveY,areaBounds=this.model.m_AreaBounds;switch(this.multiSelectDraw=!0,mouseMoveX<areaBounds.X?currentX=areaBounds.X:mouseMoveX>areaBounds.X+areaBounds.Width&&(currentX=areaBounds.X+areaBounds.Width),currentY=mouseMoveY<areaBounds.Y?areaBounds.Y:mouseMoveY>areaBounds.Y+areaBounds.Height?areaBounds.Y+areaBounds.Height:mouseMoveY,selectionSettingsType){case"x":width=Math.abs(currentX-mouseDownX),height=y1-y2+yPlotOffset+yPlotOffset,x=currentX>mouseDownX?mouseDownX:currentX,y=y2-yPlotOffset;break;case"y":width=x2-x1+xPlotOffset+xPlotOffset,height=Math.abs(currentY-mouseDownY),x=x1-xPlotOffset,y=currentY>mouseDownY?mouseDownY:currentY;break;case"xy":width=Math.abs(currentX-mouseDownX),height=Math.abs(currentY-mouseDownY),x=currentX>mouseDownX?mouseDownX:currentX,y=currentY>mouseDownY?mouseDownY:currentY}width>0&&height>0&&(rectOptions={id:this.svgObject.id+"_selectRect"+this.selectedRectIndex,x:x,y:y,width:width,height:height,fill:"rgba(41,136,214,0.2)","stroke-width":2,stroke:"rgba(41,136,214,0.5)",cursor:"pointer","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},x>=x1+xPlotOffset&&mouseMoveX<=x2-xPlotOffset&&mouseMoveY<=y1+yPlotOffset&&y>=y2-yPlotOffset&&this.svgRenderer.drawRect(rectOptions,this.gEle),null!=this.gEle&&($(this.gEle).appendTo(this.parentgEle),0==this.selectedRectIndex&&(this.model.gCurrentEle=this.gEle),$(this.parentgEle).appendTo(this.svgObject)))}if(rectX=parseInt($(selctRectId+selectedRectIndex).attr("x")),rectY=parseInt($(selctRectId+selectedRectIndex).attr("y")),rectWidth=parseInt($(selctRectId+selectedRectIndex).attr("width")),rectHeight=parseInt($(selctRectId+selectedRectIndex).attr("height")),!this.drag&&(evt.target.id.indexOf("selectRect")>=0||evt.target.id.indexOf("resize")>=0)){evt.target.parentNode.id.indexOf("selectedRect")>=0&&(id=evt.target.parentNode.id.split("selectedRect")[1].match(/\d+/)[0],this.gripIndex=eval(id));var selectRectId="#"+containerSvg+"_selectRect",selectRectWidth=parseInt($(selectRectId+this.gripIndex).attr("width")),selectRectHeight=parseInt($(selectRectId+this.gripIndex).attr("height")),selectRectX=parseInt($(selectRectId+this.gripIndex).attr("x")),selectRectY=parseInt($(selectRectId+this.gripIndex).attr("y"));$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"}),(selectRectX+selectRectWidth-16>=selectRectX||selectRectY+selectRectHeight-16>=selectRectY)&&$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:""}),(selectRectX+selectRectWidth-16<selectRectX||selectRectY+selectRectHeight-16<selectRectY)&&(translate="translate(15,15)",$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:translate})),this.oldId!=evt.target.id&&$("#"+containerSvg+"_gripCollection"+this.oldGripIndex).css({visibility:"hidden"}),$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"visible"}),this.oldId=evt.target.id,this.oldGripIndex=this.gripIndex}if(evt.target.id.indexOf("selectRect")<0&&evt.target.id.indexOf("resize")<0&&$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"hidden"}),this.resize){$("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePath"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide(),$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"});var oldRectX=this.oldRectX[selectedRectIndex],oldRectY=this.oldRectY[selectedRectIndex],oldRectHeight=this.oldRectHeight[selectedRectIndex],oldRectWidth=this.oldRectWidth[selectedRectIndex],oldReBottomRectY=this.oldReBottomRectY[selectedRectIndex],oldReRightRectX=this.oldReRightRectX[selectedRectIndex];switch(selectionSettingsType){case"x":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex&&(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"y":multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex&&(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"xy":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex?(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth)):multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex?(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY)):multiSelectMouseDownId==containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex&&(rectWidth=mouseMoveX-oldRectX,rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex).attr({cx:mouseMoveX,cy:mouseMoveY}),mouseMoveX<oldRectX&&mouseMoveY<oldRectY?(rectX=mouseMoveX,rectY=mouseMoveY,rectWidth=oldRectX-mouseMoveX,rectHeight=oldRectY-mouseMoveY):mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveX>=oldRectX&&mouseMoveY>=oldRectY&&(rectX=oldRectX,rectY=oldRectY)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight)}switch(selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,width:rectWidth});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY,height:rectHeight});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY,width:rectWidth,height:rectHeight})}}if(this.rectPan)switch($("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePath"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide(),$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"}),(mouseMoveX<=chartAreaX||mouseMoveY<=chartAreaY||mouseMoveX>=chartAreaX+chartAreaWidth||mouseMoveY>=chartAreaY+chartAreaHeight)&&this.multiSelectMouseUp(evt),modifiedX=this.PreviousCoords.X-evt.pageX,modifiedY=this.PreviousCoords.Y-evt.pageY,rectX-=modifiedX,rectY-=modifiedY,this.PreviousCoords.X=evt.pageX,this.PreviousCoords.Y=evt.pageY,selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY})}}},isTouch:function(e){var t=e.originalEvent?e.originalEvent:e;return"touch"==t.pointerType||2==t.pointerType||t.type.indexOf("touch")>-1},highlightStart:function(e,t,i,s,a){if(null!=e.target.parentNode)var o=(i=i||e.target.parentNode.id).indexOf(this.svgObject.id+"_SeriesGroup_")>=0||i.indexOf(this.svgObject.id+"_symbolGroup_")>=0||i.indexOf(this.svgObject.id+"_TrackSymbol_")>=0||i.indexOf(this.svgObject.id+"_Chart3D")>=0;this.model.enableCanvasRendering?this.highlightCanvas(this,e,t):this.highlightSvg(this,i,o,e,t,s,a)},_changeDraggingPoints:function(e,t,i,s){i="datetime"==e.xAxis._valueType?new Date(i):i,s="datetime"==e.yAxis._valueType?new Date(s):s;var a=e.dragSettings.type.toLowerCase();("x"==a||"xy"==a)&&"category"!=e.xAxis._valueType&&(this.dragPoint?(e.pointCollection[t].x=i,e.pointCollection[t].xValue="datetime"==e.xAxis._valueType&&"object"!=typeof i?new Date(i):i):(e._visiblePoints[t].x=e.points[t].x=i,e._visiblePoints[t].xValue=e.points[t].xValue="datetime"==e.xAxis._valueType&&"object"==typeof i?Date.parse(i):i),ej.util.isNullOrUndefined(e.dataSource)||(e.dataSource[t][e.xName]=i)),("y"==a||"xy"==a)&&(this.dragPoint?(e.pointCollection[t].y=s,e.pointCollection[t].YValues[0]="datetime"==e.yAxis._valueType&&"object"!=typeof s?new Date(s):s):(e._visiblePoints[t].y=e.points[t].y=s,e._visiblePoints[t].YValues[0]=e.points[t].YValues[0]="datetime"==e.yAxis._valueType&&"object"==typeof s?Date.parse(s):s),ej.util.isNullOrUndefined(e.dataSource)||(e.dataSource[t][e.yName]=s))},_dragDelta:function(e,t,i,s,a,o){var r={X:i,Y:s},n={X:e,Y:t},l=$.extend({},this.commonDragEventArgs);l.data={seriesIndex:a,pointIndex:o,oldValue:r,newValue:n},this._trigger("dragging",l),this.commonDragEventArgs=l},_getDraggedPoint:function(e,t,i){var s,a,o,r=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes);return this.model.requireInvertedAxes?(a=r.y+r.height-i,o=t-r.x):(a=t-r.x,o=r.y+r.height-i),s=ej.EjSvgRender.utils._getValuebyPoint(a,o,e,this.model.requireInvertedAxes),{X:parseFloat(s.PointX.toFixed(2)),Y:parseFloat(s.PointY.toFixed(2))}},_pointDragandDrop:function(e,t,i){var s,a,o,r,n,l,d,h,c=e.data.seriesIndex,u=[],p=null,m=e.type.toLowerCase(),g={axes:{}};for(a=0;a<this.model._axes.length;a++)g.axes[this.model._axes[a].name]={};$("#"+this._id).find('[id*="_Marker"]').remove();var _=this._getDraggedPoint(e,this.mousemoveX,this.mousemoveY),f=_.X,b=_.Y,v=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.xValue:this.commonDragEventArgs.data.oldValue.X,x=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.yValue[0]:this.commonDragEventArgs.data.oldValue.Y;if(e.region?i._dragDelta(f,b,v,x,(h=e.region).SeriesIndex,h.Region.PointIndex):i._dragDelta(f,b,v,x,(o=e.pointData).seriesIndex,o.index),this.model.enableCanvasRendering)this.canvasElement&&this.canvasElement.clearRect(0,0,i.svgWidth,i.svgHeight),0==$("#"+i._id+"_PreviewSeries"+c+"_canvas").length&&(r=document.getElementById(i._id+"_canvas").getBoundingClientRect(),s=this.createCanvasElement(i._id+"_PreviewSeries"+c+"_canvas",i.svgWidth,i.svgHeight,r),this.createRect(i,s),this.canvasElement=s);else{e.xAxis=null==e.xAxis?this.model._axes[0]:e.xAxis,e.yAxis=null==e.yAxis?this.model._axes[1]:e.yAxis;var y=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,this.model.requireInvertedAxes),w={id:this.svgObject.id+"_PreviewSeriesGroup",transform:p="translate("+y.x+","+y.y+")",cursor:"default",visibility:"visible"};$("#"+this.svgObject.id+"_PreviewSeriesGroup").attr("transform",p),this.gPreviewSeriesGroupEle||(this.chartObj=i,this.chartObj.gPreviewSeriesGroupEle=this.gPreviewSeriesGroupEle=this.svgRenderer.createGroup(w)),this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0])}u=$.extend(!0,{},e._visiblePoints),e.pointCollection=u,u.length=e._visiblePoints.length;var S=i.commonDragEventArgs.data,C=S.pointIndex,T=S.seriesIndex;if(i._changeDraggingPoints(e,C,S.newValue.X,S.newValue.Y),n=new ej.seriesTypes[m],l=e.pointCollection[C],"bubble"==m)L=ej.EjSvgRender.utils._getPoint(l,e),d={id:this.svgObject.id+"_PreviewSeries"+T+"_Point"+C,cx:L.X+this.canvasX,cy:L.Y+this.canvasY,r:l.radius,fill:e.fill,"stroke-width":2,visibility:"visible","stroke-dasharray":"",opacity:.6,stroke:"transparent"},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(d,s):this.svgRenderer.drawCircle(d,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle);else if("scatter"==m){var L=ej.EjSvgRender.utils._getPoint(l,e),k=e.marker.shape.capitalizeFirstString(),P=(L={startX:L.X+this.canvasX,startY:L.Y+this.canvasY},{ShapeSize:{width:e.marker.size.width,height:e.marker.size.height},ID:this.svgObject.id+"_PreviewSeries"+T+"_Point"+C,Style:{Color:e.fill,BorderWidth:e.marker.border.width,BorderColor:"transparent",Opacity:.6,Visibility:"visible"}});this.model.enableCanvasRendering?ej.EjSvgRender.chartSymbol["_draw"+k](L,P,this,s):ej.EjSvgRender.chartSymbol["_draw"+k](L,P,this,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle)}else if("column"==m||"bar"==m){l.xValue="object"==typeof l.xValue?Date.parse(l.xValue):l.xValue;var j=ej.EjSeriesRender.prototype.getOrigin(i,e,g),D=l.YValues[0],A=j,O=ej.EjSeriesRender.prototype.calculateSides(l,e.sidebysideInfo),I=ej.EjSeriesRender.prototype.getRectangle(O.x1,D,O.x2,A,e,i);d={id:this.svgObject.id+"_PreviewSeries"+T+"_Point"+C,x:I.X+this.canvasX,y:I.Y+this.canvasY,width:I.Width,height:I.Height,cornerRadius:e.cornerRadius,fill:e.fill,"stroke-width":2,plot:D<0?"negative":"positive",opacity:.6,stroke:"transparent","stroke-dasharray":""},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawRect(d,s):(this.svgRenderer.drawRect(d,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle))}else("spline"==m||"splinearea"==m)&&(l.xValue="object"==typeof l.xValue?Date.parse(l.xValue):l.xValue),n.draw(this,e,g);L=ej.EjSvgRender.utils._getPoint(l,e),e.tooltip.visible&&(ej.util.isNullOrUndefined(e.tooltip.template)?($(".tooltipDiv"+this._id).remove(),i.displayShowTooltip(L,l,e,l.actualIndex)):($("#"+i.svgObject.id).find("#"+i.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),i.createTooltip(h={SeriesIndex:T,Region:{PointIndex:l.actualIndex}},t,e)))},_dragPointMarker:function(e,t,i,s,a){var o,r,n,l,d=e.seriesIndex;o=ej.EjSvgRender.utils._getPoint(a.point,e),this.model.enableCanvasRendering?0==$("#"+this.svgObject.id+"_Marker").length&&(n=document.getElementById(this.svgObject.id).getBoundingClientRect(),r=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,n)):this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_markerGroup_"+d})),l={id:this.svgObject.id+"_Series"+d+"_Point"+a.index+"_Marker",cx:o.X+this.model.m_AreaBounds.X,cy:o.Y+this.model.m_AreaBounds.Y,r:7,fill:e.fill,"stroke-width":3,opacity:1,stroke:"white",visibility:"visible"},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(l,r):(this.svgRenderer.drawCircle(l,this.gMarkerGroupEle),this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle))},_dragPointGripper:function(e){var t,i,s,a,o,r,n,l,d,h,c=e.region.type.toLowerCase(),u=this.model._visibleSeries[e.region.SeriesIndex],p=u.isTransposed,m=u.yAxis.isInversed;if("column"==c||"bar"==c){for(this.model.enableCanvasRendering?(i=document.getElementById(this.svgObject.id).getBoundingClientRect(),t=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,i),document.getElementById(t.canvas.id).style.zIndex=1):this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_markerGroup_"+e.region.SeriesIndex})),l=e.region.Region.Bounds,(p&&"bar"==c||"column"==c&&!p)&&(s=l.Width,a=l.X),(!p&&"bar"==c||"column"==c&&p)&&(s=l.Height,a=l.Y),n=(s>75?s-75:0)/2+a+(o=s<75?s-s/3:50)/6+(r=(o-6)/6)/2,d=1;d<=3;d++)n+=1==d?r:2*r+3,(h={id:this.svgObject.id+"_Series"+e.region.SeriesIndex+"_Point"+e.region.Region.PointIndex+"_Marker"+d,fill:"white",opacity:1,stroke:"white",visibility:"visible"}).r=Math.abs(r),(p&&"bar"==c||"column"==c&&!p)&&(h.cx=n,h.cy=m?l.Y+l.Height-r-5:l.Y+r+5),(!p&&"bar"==c||"column"==c&&p)&&(h.cx=m?l.X+r+5:l.X+l.Width-r-5,h.cy=n),this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(h,t):this.svgRenderer.drawCircle(h,this.gMarkerGroupEle);this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle)}},chartMouseMove:function(e){function t(t){var i,s=h._id;$("#"+s+"_tooltip").length<=0?(i=$("<div></div>").attr({id:s+"_tooltip",class:"zoom"+s}),$(i).html("&nbsp"+t+"&nbsp"),$(document.body).append(i),$(i).css({left:e.pageX+10,top:e.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})):$("#"+s+"_tooltip").css({left:e.pageX+10,top:e.pageY+10})}var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k,P,j,D=this.GetSeriesPoint(e),A=this.svgObject,O=this.model,I=O.zooming.enable,R=O.enableCanvasRendering;if(O.event=e,clearTimeout(this.removeTooltip),this.doPan&&e.target.id.indexOf(this._id+"_scrollbar")>-1&&(this.doPan=!1),i={left:0,top:0},"cartesianaxes"!=this.multiSelectAreaType||I||R||this.multiSelectMouseMove(e),this.rotateActivate&&this.oPreviousCoords){if(s=this.oPreviousCoords.Y-this.mousemoveY,((a=this.oPreviousCoords.X-this.mousemoveX)||s)&&(O.tilt-=s,O.rotation+=a,this.model.isSelected&&(o=this.selectedStyle(this)),this.isTouch(e)||$(this.chart3D).empty(),$("#template_group_"+this._id).empty(),r={Width:$(A).width(),Height:$(A).height()},this.graphics.view(A,this,O.rotation,O.tilt,r,O.perspectiveAngle,O.depth),this.svgRenderer.append(this.chart3D,A),this.model.isSelected))for(C=0;C<o.length;C++)$("#"+o[C].id).attr("class",o[C].className);this.oPreviousCoords.Y=this.mousemoveY,this.oPreviousCoords.X=this.mousemoveX}var M,E=A.id,V=this.isZoomButtonHovered(e.target),N=O._visibleSeries;for(C=(M=N.length)-1;C>=0;C--)if(p=(n=N[C]).type.toLowerCase(),n.dragSettings.enable&&!O.enable3D){if($("#"+this._id).find('[id*="_Marker"]').remove(),this._enableDragging(n,C,e),this.dragPoint)break;if(te=this.calMousePosition(e),this.mousemoveX=te.X,this.mousemoveY=te.Y,l=this.GetSeriesPoint(e),!n.marker.visible&&"bubble"!=p&&"scatter"!=p&&"column"!=p&&"bar"!=p&&(d=this.getClosesPointXY(c,u,n,this.mousemoveX,this.mousemoveY,e)).point){n.seriesIndex=C,this._dragPointMarker(n,this.mousemoveX,this.mousemoveY,e,d),this.closestXyPoint=d;break}if(l&&l.region.SeriesIndex==C){this._dragPointGripper(l);break}}if(h=this,this.dragPoint&&(c=[],u=[],$(document).keyup((function(e){27==e.keyCode&&($(".tooltipDiv"+this._id).remove(),$("#"+E+"_TrackToolTip").remove(),h.dragPoint=!1,N[h.commonDragEventArgs.data.seriesIndex].pointCollection=null,h.chartMouseUp(e))})),h._pointDragandDrop(N[k=this.dragIndex.seriesIndex],e,h)),this.calMousePosition(e),$("#"+this._id+"_tooltip").remove(),!this.dragPoint&&(this.drag||V||(this.isTouch(e)||O.doubleTapped)&&!O.crosshairMoved)||this.chartInteractiveBehavior(e),O.crosshair.visible&&"cartesianaxes"==O.AreaType||(R&&D||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),this.highlightStart(e,D)),!this.panning&&(y="#"+E,I&&"cartesianaxes"==O.AreaType&&!O.enable3D&&this.drag&&!this.dragPoint&&!this.chartRightClick)){this.disableTrackBall(),$("#"+E+"_ZoomArea").remove();var F,B,z,Y,X=this.mousemoveX,H=this.mousemoveY,W=O.m_AreaBounds;this.mousemoveX<W.X?X=W.X:this.mousemoveX>W.X+W.Width&&(X=W.X+W.Width),H=this.mousemoveY<W.Y?W.Y:this.mousemoveY>W.Y+W.Height?W.Y+W.Height:this.mousemoveY,"x"==(m=O.zooming.type.toLowerCase())?(F=Math.abs(X-this.mouseDownX),B=W.Height,z=X>this.mouseDownX?this.mouseDownX:X,Y=W.Y):"y"==m?(F=W.Width,B=Math.abs(H-this.mouseDownY),z=W.X,Y=H>this.mouseDownY?this.mouseDownY:H):(F=Math.abs(X-this.mouseDownX),B=Math.abs(H-this.mouseDownY),z=X>this.mouseDownX?this.mouseDownX:X,Y=H>this.mouseDownY?this.mouseDownY:H),$(A).css({"-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}),this.zooming=!0,g={id:E+"_ZoomArea",x:z+i.left,y:Y+i.top,width:F,height:B,fill:"rgba(69,114,167,0.25)","stroke-width":1,stroke:"rgba(69,114,167,0.25)","clip-path":"url(#"+E+"_ChartAreaClipRect)"},R?this.svgRenderer.drawZoomRect(g,this):this.svgRenderer.drawRect(g,A)}if(_=O.zooming.enableDeferredZoom,this.panning&&this.doPan&&"cartesianaxes"==O.AreaType&&!this.dragPoint)if(this.currentPageX=e.pageX,this.currentPageY=e.pageY,$("#secondCanvas").remove(),$("#"+this._id+"_canvas").css({cursor:"pointer"}),ej.isTouchDevice()||_){if(ej.isTouchDevice()||_){for(b=0;b<N.length;b++){var U=O.series[b],G=ej.EjSvgRender.utils._getTransform(U.xAxis,U.yAxis,O.requireInvertedAxes),q=e.pageX-this.oPreviousCoords.x+G.x,Z=e.pageY-this.oPreviousCoords.y+G.y,Q="translate("+q+","+Z+")";$("#"+E+"_SeriesGroup_"+b).attr("transform",Q),$("#"+E+"_symbolGroup_"+b).attr("transform",Q),$("#"+E+"_TextGroup_"+b).attr("transform",Q)}for(k=0;k<O.indicators.length&&O.indicators[k]._points.length>0;k++)v=O.indicators[k],G=ej.EjSvgRender.utils._getTransform(v.xAxis,v.yAxis,O.requireInvertedAxes),Q="translate("+(q=e.pageX-this.oPreviousCoords.x+G.x)+","+(Z=e.pageY-this.oPreviousCoords.y+G.y)+")",$("#"+E+"_indicatorGroup_"+k).attr("transform",Q)}}else f={x:this.oPreviousCoords.x-e.pageX,y:this.oPreviousCoords.y-e.pageY},this.oPreviousCoords={x:e.pageX,y:e.pageY},$.each(O._axes,(function(e,t){var i=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);h.translate(t,f.x,f.y,i)})),this._updateScroll(),this.redraw(!0,null,e.target,this.isTouch(e)),this._cursorToPointer(),this._enableZoomingButtons();if(""!=(x=e.target.id)||ej.util.isNullOrUndefined(e.target.parentNode)||(x=e.target.parentNode.id.indexOf("_XLabel_")>=0||e.target.parentNode.id.indexOf("_YLabel_")>=0?e.target.parentNode.id:x),y=this._id,w=ej.util.isNullOrUndefined(e.target.parentNode)?"":e.target.parentNode.id,I&&(w==y+"_svg_ResetZoom"?t(this._localizedLabels.reset):w==y+"_svg_PanBtn"?t(this._localizedLabels.pan):w==y+"_svg_ZoomBtn"?t(this._localizedLabels.zoom):w==y+"_svg_ZoomInBtn"?t(this._localizedLabels.zoomIn):w==y+"_svg_ZoomOutBtn"&&t(this._localizedLabels.zoomOut)),(S=this.getAxisLabelData(e))&&((j=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=S,this._trigger("axisLabelMouseMove",j)),!this.isTouch(e))for(this.axisTooltip(e,x),O.title.enableTrim&&this.showTitleTooltip(e,x),C=0,M=O.series.length;C<M;C++)T=(U=O.series[C]).marker&&U.marker.dataLabel,!U._enableSmartLabels||this.model.enable3D||T.enableWrap||(J=T.font,"none"==O.AreaType&&ej.util.isNullOrUndefined(T.template)&&this.datalabelTooltip(e,C,J));if($(A).find(y+"_ResetZoom,"+y+"_PanBtn,"+y+"_ZoomBtn").length>0&&$(A).find(y+"_ResetZoom,"+y+"_PanBtn,"+y+"_ZoomBtn").appendTo(A),L=this.getLegendData(e)){var K=this.model.legend.isReversed,J=this.model.legend.font,ee=$.extend({},ej.EjSvgRender.commonChartEventArgs);if(ee.data=L,L.series.highlightSettings.enable&&(R?((U=$.extend({},L.series)).seriesIndex=L.legendItem.LegendItem.SeriesIndex,U.pointIndex=L.legendItem.LegendItem.PointIndex,0==$("#"+h._id+"_Selection_Legend"+(k="none"==this.model.AreaType?U.pointIndex:U.seriesIndex)+"_canvas").length&&($("[id*="+this._id+"_Highlight_]").remove(),this.canvasHighlight(h,e,U,L))):this.highlight(h,e,L.series,L)),this._trigger("legendItemMouseMove",ee),R){var te=this.calMousePosition(e),ie=te.X,se=te.Y,ae=O.LegendBounds;$(this.legendContainer).children().css({cursor:"pointer"}),ie>=ae.X&&ie<=ae.X+O.LegendViewerBounds.Width&&se<=ae.Y+O.LegendViewerBounds.Height&&se>=ae.Y&&this._textTooltip(e,O.legendTextRegion,K,J)}else this._textTooltip(e,O.legendTextRegion,K,J)}else R&&$(this.legendContainer).children().css("cursor","default");if(R&&(-1!=x.indexOf("_ResetZoom")||-1!=w.indexOf("_ResetZoom")?t(this._localizedLabels.reset):-1!=x.indexOf("_PanBtn")||-1!=w.indexOf("_PanBtn")?t(this._localizedLabels.pan):-1!=x.indexOf("_ZoomBtn")||-1!=w.indexOf("_ZoomBtn")?t(this._localizedLabels.zoom):-1!=x.indexOf("_ZoomInBtn")||-1!=w.indexOf("_ZoomInBtn")?t(this._localizedLabels.zoomIn):(-1!=x.indexOf("_ZoomOutBtn")||-1!=w.indexOf("_ZoomOutBtn"))&&t(this._localizedLabels.zoomOut),this.isTouch(e)||(this._textTooltip(e,O.xAxisLabelRegions),this._textTooltip(e,O.yAxisLabelRegions))),P=this,O.xAxisTitleRegion){X=this.mousemoveX,H=this.mousemoveY;var oe=this.model.primaryXAxis.title.isReversed,re=this.model.primaryXAxis.font;$.each(O.xAxisTitleRegion,(function(t,i){X>=i.Bounds.X&&X<=i.Bounds.X+i.Bounds.Width&&H>=i.Bounds.Y-i.Bounds.Height&&H<=i.Bounds.Y&&i.trimText!=i.labelText&&P.showAxisTooltip(e.pageX,e.pageY,i.labelText,i.trimText,oe,re)}))}O.yAxisTitleRegion&&(X=this.mousemoveX,H=this.mousemoveY,oe=this.model.primaryXAxis.title.isReversed,re=this.model.primaryXAxis.font,$.each(O.yAxisTitleRegion,(function(t,i){X>=i.Bounds.X&&X<=i.Bounds.X+i.Bounds.Width&&H>=i.Bounds.Y-i.Bounds.Height&&H<=i.Bounds.Y&&i.trimText!=i.labelText&&P.showAxisTooltip(e.pageX,e.pageY,i.labelText,i.trimText,oe,re)}))),O.axisMultiLevelLabelRegions&&(X=this.mousemoveX,H=this.mousemoveY,$.each(O.axisMultiLevelLabelRegions,(function(t,i){X>=i.Bounds.X&&X<=i.Bounds.X+i.Bounds.Width&&H>=i.Bounds.Y-i.Bounds.Height&&H<=i.Bounds.Y&&i.trimText!=i.labelText&&P.showAxisTooltip(e.pageX,e.pageY,i.labelText)}))),(j=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:O.svgHeight,width:O.svgWidth},id:e.target.id,pageX:e.pageX,pageY:e.pageY},this._trigger("chartMouseMove",j)},axisTooltip:function(e,t){var i,s,a,o,r,n,l=this.svgObject.id,d=this.model.hAxes,h=this.model.vAxes;if(t.indexOf("svghorizontal")>-1){var c,u=d[0],p=t.replace(this._id,"").replace("_svghorizontal","");(c=u.visibleLabels[parseInt(p)]).Text=c.Text.toString(),c.Text.indexOf("...")>-1&&this.showAxisTooltip(e.pageX,e.pageY,n=c.Text==c.originalText?"":c.originalText)}if(t.indexOf("_YLabel_")>=0){for(s=0;s<h.length;s++)if(t.indexOf(l+"_"+h[s].name+"_YLabel_")>=0){u=h[s];break}if(u&&u.enableTrim)for(i=u.visibleLabels.length,r=0;r<i&&"cartesianaxes"==this.model.AreaType;r++)if(t==l+"_"+h[s].name+"_YLabel_"+r){if(""==(n=(c=u.visibleLabels[r]).Text==c.displayText?"":u.labelFormat?u.labelFormat.replace("{value}",c.Text):c.Text))break;"inside"==u.labelPosition.toLowerCase()&&(this._hideTooltip(),this._removeTrackBall()),this.showAxisTooltip(e.pageX,e.pageY,n,c.displayText)}}if(t.indexOf("_XLabel_")>=0){for(s=0;s<d.length;s++)if(t.indexOf(l+"_"+d[s].name+"_XLabel_")>=0){u=d[s];break}if(u&&(u.enableTrim||"trim"==u.labelIntersectAction.toLowerCase()||"wrapbyword"==u.labelIntersectAction.toLowerCase()))for(i=u.visibleLabels.length,a=u.isInversed,o=u.font,r=0;r<i&&"cartesianaxes"==this.model.AreaType;r++)if(t==l+"_"+d[s].name+"_XLabel_"+r){if(""==(n=(c=u.visibleLabels[r]).Text==c.displayText?"":c.Text))break;"inside"==u.labelPosition.toLowerCase()&&(this._hideTooltip(),this._removeTrackBall()),this.showAxisTooltip(e.pageX,e.pageY,n,c.displayText,a,o)}}},showTitleTooltip:function(e,t){ej.EjSvgRender.utils._measureText(this.model.title.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.font);var i,s=this.model,a=s._titleLocation,o=s._subTitleLocation,r=s.title.enableTrim,n=s.elementSpacing,l=this.mousemoveX,d=this.mousemoveY,h=(s.title.textOverflow.toLowerCase(),s.title.subTitle.enableTrim),c=(s.title.subTitle.textOverflow.toLowerCase(),s.title.text),u=s.title.subTitle.text,p=s.title.isReversed;r&&this.model.trimTooltip&&(i=ej.EjSvgRender.utils._trimText(c,s.title.maximumWidth,s.title.font),(t.indexOf("ChartTitleText")>=0||this.model.enableCanvasRendering&&l>=a.X-n&&l<=a.X-n+a.size.width&&d>=a.Y-a._height&&d<=a.Y+a.size.height)&&this.showAxisTooltip(e.pageX,e.pageY,c,i,p,s.title.font)),h&&s.subTitleTooltip&&(i=ej.EjSvgRender.utils._trimText(u,s.title.subTitle.maximumWidth,s.title.subTitle.font),(t.indexOf("ChartSubTitleText")>=0||s.enableCanvasRendering&&l>=o.X&&l<=o.X+o.size.width&&d>=o.Y&&d<=o.Y+o.size.height)&&this.showAxisTooltip(e.pageX,e.pageY,u,i,p,s.title.subTitle.font))},_updateScroll:function(){for(var e,t=this.model.scrollObj,i=t?t.length:0,s=this.model._axes,a=this.scrollbarContainer,o=0;o<i;o++)t[o]&&((e=t[o]).zoomPosition!=s[o].zoomPosition||e.zoomFactor!=s[o].zoomFactor)&&(e.zoomPosition=s[o].zoomPosition,e.zoomFactor=s[o].zoomFactor,a._initializeScrollbarVariables(e),a._scrollbarUpdate.call(this,e),a._setScrollPosition.call(this,e.startX,e.startX+e.rectWidth,e))},_hideTooltip:function(){$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide(),$(".tooltipDiv"+this._id).css("display","none")},_removeHighlight:function(){var e,t;if($("[id*=HighlightSegment]").remove(),$("[id*=HighlightPath]").remove(),$("[id*=HighlightLegendSegment]").remove(),$("[id*=HighlightLegendPath]").remove(),$("[id*=HighlightDef]").remove(),$("[id*=Highlightseries]").remove(),$("[id*="+this._id+"_Highlight_]").remove(),!this.model.enableCanvasRendering&&!this.vmlRendering)if(null!==(e=this.svgObject.querySelector("[class^='Highlight']"))&&null==e.length)e.removeAttribute("class");else for(t=e&&e.length;t--;)e.removeAttribute("class")},_removeSelection:function(){$("[id*="+this._id+"_SelectionCluster_Legend]").remove(),$("[id*="+this._id+"_Selection_series]").remove(),$("[id*="+this._id+"_Selection_Cluster]").remove(),$("[id*="+this._id+"SelectionSegment]").remove(),$("[id*="+this._id+"SelectionPath]").remove(),$("[id*="+this._id+"SelectionLegend]").remove(),$("[id*="+this._id+"SelectionDef]").remove(),$("[id*="+this._id+"Selectionseries]").remove(),$("[id*="+this._id+"_Selection_]").remove()},datalabelTooltip:function(e,t,i){var s=this.calMousePosition(e);this.mousemoveX=s.X,this.mousemoveY=s.Y;var a,o,r,n,l,d,h,c=this._id,u=this.mousemoveX,p=this.mousemoveY,m=this.vmlRendering,g=this.model.elementSpacing,_=this;ej.util.isNullOrUndefined(this.accDataLabelRegion[t])||$.each(this.accDataLabelRegion[t],(function(t,s){a=s.bounds.minX,o=s.bounds.minY,r=s.bounds.maxX,n=s.bounds.maxY,m&&(a=s.bounds.minX+s.bounds.width/2,r=s.bounds.maxX+s.bounds.width/2,o=s.bounds.minY,n=s.bounds.maxY),u>=a&&u<=r&&p>=o&&p<=n&&($("#"+c+"_tooltip").remove(),l=$("<div></div>").attr({id:c+"_tooltip",class:"ejTooltip"+c}),s.trimmedText!=s.text&&($("#"+_.svgObject.id+"_TrackToolTip").hide(),$(l).html(s.text),$(document.body).append(l),d=ej.EjSvgRender.utils._measureText(s.text,s.text.length,s.font).width,$(l).css({top:e.pageY+g,display:"block",position:"absolute","z-index":"13000",cursor:"default",color:"#000000","font-size":i.size,"background-color":"#FFFFFF",border:"1px solid #707070","white-space":"nowrap",padding:"5px"}),("pyramid"==s.type||"funnel"==s.type)&&(_.model.m_AreaBounds.Width+_.model.m_AreaBounds.X-e.pageX>d?$(l).css({left:e.pageX+g}):(h=e.pageX-d+2*g,$(l).css({left:h}))),("pie"==s.type||"doughnut"==s.type||"pieofpie"==s.type)&&(a>s.bounds.centerX?_.svgWidth-_.model.margin.left-_.model.margin.right-u<d?(h=e.pageX-d,$(l).css({left:h+g})):$(l).css({left:e.pageX+g}):u<d?$(l).css({left:e.pageX+g}):(h=e.pageX-d,$(l).css({left:h-2*g})))))}))},showAxisTooltip:function(e,t,i,s,a,o){var r=this._id,n=$("<div></div>").attr({id:r+"_tooltip",class:"ejTooltip"+r});if($(n).html(i),a&&!ej.util.isNullOrUndefined(o))var l=ej.EjSvgRender.utils._measureText(i,null,o).width,d=ej.EjSvgRender.utils._measureText(s,null,o).width,h=d<=l?l:d;$(document.body).append(n),$(n).css({left:a?e-h:e+10,top:t+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})},_textTooltip:function(e,t,i,s){var a,o,r=this.calMousePosition(e),n=this.model.legend._ejScroller,l=0,d=i&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||"scroll"==$("#legend_"+this._id)[0].style.overflowY)?r.X-18:r.X,h=r.Y,c=d,u=h,p=this._id,m=this.model.legend,g=m.enableScrollbar;m.textOverflow.toLowerCase(),a=n?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop(),l=n?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft(),i&&n&&(l=0==l?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft),(g||n)&&(c=d+(l||0),u=h+(a||0)),$.each(t,(function(t,a){if(c>=a.bounds.x&&c<=a.bounds.x+a.bounds.width&&(u>=a.bounds.y&&u<=a.bounds.y+a.bounds.height||u>=a.bounds.y-a.bounds.height/3&&u<=a.bounds.y)&&($("#"+p+"_tooltip").remove(),o=$("<div></div>").attr({id:p+"_tooltip",class:"ejTooltip"+p}),("array"==jQuery.type(a.trimText)?a.trimText.join(" "):a.trimText)!=a.labelText)){if($(o).html(a.labelText),i&&!ej.util.isNullOrUndefined(s))var r=ej.EjSvgRender.utils._measureText(a.labelText,null,s).width;$(document.body).append(o),$(o).css({left:i?e.pageX-r-15:e.pageX+10,top:e.pageY+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})}}))},pieExplosion:function(e){var t,i,s,a,o,r,n,l;this.model.explode=!0;var d,h,c,u=e,p=u.region.Series,m=u.region.SeriesIndex,g=new(ej.seriesTypes[p.type.toLowerCase()]),_=p.explodeIndex,f=(p.labelPosition.toLowerCase(),{SeriesIndex:u.pointData[0].SeriesIndex,PointIndex:u.pointData[0].Index}),b=this.model._isPieOfPie?u.pointData[0].PointIndex:u.region.Series._visiblePoints[u.pointData[0].Index].actualIndex;if(_!=b&&!u.region.Series.explodeAll){if(p.explodeIndex=b,c=u.pointData[0].PieSeriesIndex,!ej.util.isNullOrUndefined(this.model.explodeValue)&&this.model.explodeValue!=f){for(this.model.explodeValue.SeriesIndex!=u.region.SeriesIndex&&(p=this.model._visibleSeries[this.model.explodeValue.SeriesIndex]),t=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,p):p._visiblePoints[this.model.explodeValue.Index],i=g._calculateArcData(this,this.model.explodeValue.PointIndex,t,p,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex),d=this.svgObject.id+"_SeriesGroup_"+this.model.explodeValue.SeriesIndex,h=1==this.model.explodeValue.PieSeriesIndex?$(this.gSeriesEle).children("#"+d)[1]:$(this.gSeriesEle).children("#"+d)[0],a=$(h).children(),o=0;o<a.length;o++)if(n=this.svgRenderer._getAttrVal($(r=a[o])[0],"data-pointIndex"),parseInt(n)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(r),{d:i.Direction});break}g.drawDataLabelAcc(this,p,this.model.explodeValue.Index,t,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex)}for(s=this.model._isPieOfPie?this._getPieOfPiePoint(e.region.Region.PointIndex,p):p._visiblePoints[u.pointData[0].Index],i=g._calculateArcData(this,u.pointData[0].PointIndex,s,u.region.Series,m,c),d=this.svgObject.id+"_SeriesGroup_"+u.region.SeriesIndex,h=1==c?$(this.gSeriesEle).children("#"+d)[1]:$(this.gSeriesEle).children("#"+d)[0],a=$(h).children(),o=0;o<a.length;o++)if(n=this.svgRenderer._getAttrVal($(r=a[o])[0],"data-pointIndex"),parseInt(n)==u.pointData[0].PointIndex){this.svgRenderer._setAttr($(r),{d:i.Direction});break}this.model.enableCanvasRendering&&(l=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(l.left,l.top,l.width,l.height),$("#"+this._id).ejChart("redraw")),g.drawDataLabelAcc(this,p,u.pointData[0].Index,s,m,c),this.model.explodeValue={SeriesIndex:u.pointData[0].SeriesIndex,PointIndex:u.pointData[0].PointIndex,Index:u.pointData[0].Index,PieSeriesIndex:u.pointData[0].PieSeriesIndex}}u.region.Series.explodeIndex=_},displayGroupingTemplate:function(e,t,i,s,a,o,r,n,l){var d,h,c,u,p,m,g,_,f,b,v,x,y,w,S=[],C=[],T=[];for(d=$.extend(!0,{},l),T=$.extend(!0,{},a),h=Object.keys(T).length,S=$.extend(!0,{},s),b=0;b<h;b++)c=T[b].series.isTransposed,S[b].point.x=S[b].point.x,"datetime"==T[b].series.xAxis._valueType.toLowerCase()&&(S[b].point.x=ej.format(new Date(S[b].point.x),ej.EjSvgRender.utils._dateTimeLabelFormat(T[b].series.xAxis.intervalType,T[b].series.xAxis))),"category"==T[b].series.xAxis._valueType.toLowerCase()&&(S[b].point.x=ej.EjSvgRender.utils._getLabelContent(r,T[b].series.xAxis)),e=ej.util.isNullOrUndefined(e)?0:e,t=ej.util.isNullOrUndefined(t)?0:t,u=this.model.m_AreaBounds.X,p=this.model.m_AreaBounds.Y,m=c||this.model.requireInvertedAxes?T[b].series.yAxis.y:i.X+e+u+this.model.crosshair.marker.size.width+5,g=c||this.model.requireInvertedAxes?T[b].series.xAxis.x+i.Y:this.model.m_AreaBounds.Height/2+p,_=$("#"+this.model.crosshair.trackballTooltipSettings.tooltipTemplate).clone(),$(_).css("background-color",d[b].seriesColor),$(_).css("display","block"),S[b].point.count=1,a.count=void 0,v={series:a,point:S[b].point},C.push($(_).html($(_).html().parseTemplate(v)));0==$("#"+this.svgObject.id+"_TrackGroupToolTipTemplate").length&&(f=$("<div id ="+this.svgObject.id+"TrackGroupToolTipTemplate style='pointer-events:none; position: absolute; z-index: 13000; display: block;'></div>"),$(f).appendTo(this.chartContainer)),$(f).append(C),x=this.model.crosshair.trackballTooltipSettings.border,$(f).css("border",x.width+"px solid "+x.color),y=parseFloat($(f).css("height")),w=parseFloat($(f).css("width")),g=c||this.model.requireInvertedAxes?g:g-y/2,1!=h||c||(g=i.Y+p+y/2),1==h&&(c||this.model.requireInvertedAxes)&&(m=i.X+e+u+this.model.crosshair.marker.size.width+5-w/2,g=i.Y+p-y-this.model.crosshair.marker.size.height-5),g+y<this.model.m_AreaBounds.Y?g=this.model.m_AreaBounds.Y:g+y/2>this.model.m_AreaBounds.Height&&(g-=y),m+w>u+this.model.m_AreaBounds.Width&&!c&&(m=i.X+e+u-this.model.crosshair.marker.size.width-5-w),$(f).css("left",m),$(f).css("top",g)},displayTemplateTooltip:function(e,t,i,s,a,o,r,n){var l,d,h,c,u,p,m,g,_,f,b=$.extend(!0,{},s);b.x=b.x,"datetime"==a.xAxis._valueType.toLowerCase()&&(b.x=ej.format(new Date(b.x),ej.EjSvgRender.utils._dateTimeLabelFormat(a.xAxis.intervalType,a.xAxis))),"category"==a.xAxis._valueType.toLowerCase()&&(b.x=ej.EjSvgRender.utils._getLabelContent(r,a.xAxis)),e=ej.util.isNullOrUndefined(e)?0:e,t=ej.util.isNullOrUndefined(t)?0:t;var v,x,y=this.model.m_AreaBounds.X,w=this.model._axes,S=a._xAxisName,C=a._yAxisName;for(l=0,d=w.length;l<d;l++)S==w[l].name?a._isTransposed?v=w[l].Location.Y2:x=w[l].Location.X1:C==w[l].name&&(a._isTransposed?x=w[l].Location.X1:v=w[l].Location.Y2);h=i.X+this.model.crosshair.marker.size.width+x,c=i.Y+t+v,0==$("#"+this.svgObject.id+"_TrackToolTipTemplate_"+o).length&&(u=$("<div id="+this.svgObject.id+"_TrackToolTipTemplate_"+o+" style='pointer-events:none;position: absolute; z-index: 13000; display: block;'></div>"),$(document.body).append(u)),null!=this.model.crosshair.trackballTooltipSettings.tooltipTemplate&&(p=document.getElementById(this.model.crosshair.trackballTooltipSettings.tooltipTemplate).cloneNode(!0),$(p).css("display","block").appendTo(u),a.count=1,b.count=1,m=this.getSeriesColor(b,o,a),$(u).css("background-color","array"==jQuery.type(m)?m[0].color:m),g={series:a,point:b},$(u).html($(u).html().parseTemplate(g))),c-=parseFloat($(u).css("height"))/2,_=parseFloat($(u).css("height")),f=parseFloat($(u).css("width")),(a.isTransposed||this.model.requireInvertedAxes)&&(c=i.Y+this.model.m_AreaBounds.Y-_-5-this.model.crosshair.marker.size.height,h=i.X+y-f/2),c+_<this.model.m_AreaBounds.Y&&(a.isTransposed||this.model.requireInvertedAxes)&&(c+=_+this.model.crosshair.marker.size.height+5+n.top),h+f>y+this.model.m_AreaBounds.Width&&(h-=f+10+this.model.crosshair.marker.size.width),$(u).css("left",h),$(u).css("top",c)},displayAxisTooltip:function(e,t,i,s,a,o){var r,n,l,d,h;"double"==i._valueType.toLowerCase()&&(r=i.labelFormat?i.labelFormat.match("{value}"):null,t=i.labelFormat?null!=r?i.labelFormat.replace("{value}","${value}"==i.labelFormat?"$"+Number(t):Number(t)):ej.format(Number(t),i.labelFormat,this.model.locale):t);var c,u=0,p=i.orientation.toLowerCase(),m=0,g=0,_=i._opposed,f=this.model.enableCanvasRendering,b=_?u+10+(i.x+i.width):i.x+i.width;for(n=0;n<this.model._axes.length;n++)this.model._axes[n].majorTickLines.size>u&&(u=this.model._axes[n].majorTickLines.size);if(e.X>=0&&e.X<=b){var v=e.X,x=e.Y,y=$.extend({},ej.EjSvgRender.commonChartEventArgs);y.data={axisIndex:s,chartAxis:i,currentTrackText:t,location:a},this._trigger("trackAxisToolTip",y),l=ej.EjSvgRender.utils._measureText(y.data.currentTrackText,null,i.crosshairLabel.font),"horizontal"==p&&(v-=l.width/2,"inside"==i.labelPosition||(_?a.y<i.y:a.y>i.y)?(0==_&&(x=i.y-l.height+u-(i._isScroll?this.model.scrollerSize:0),c="top"),1==_&&(x=i.y+l.height-u,c="bottom")):(1==_&&(x=i.y-l.height/2-5-u,c="bottom"),0==_&&(x=i.y+l.height-5+u,c="top")),m=5,x+=i._isScroll?i.opposedPosition?-this.model.scrollerSize:this.model.scrollerSize:0),!_&&v+l.width>this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&(v=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X-l.width+5+this.model.elementSpacing),"vertical"==p&&(x=e.Y+l.height/4,"inside"==i.labelPosition||!_&&a.x<i.x?(1==_&&(v=i.x-l.width+5-u,c="left"),0==_&&(v=i.x+10+(i._isScroll?this.model.scrollerSize:0),c="right")):(1==_&&(v=l.width+i.x>$(this.svgObject).width()-5?$(this.svgObject).width()-l.width-5:i.x+15,c="left"),0==_&&(v=l.width>i.x?10:i.x-l.width-u,c="right")),v+=i._isScroll?i.opposedPosition?this.model.scrollerSize:-this.model.scrollerSize:0,g=5);var w={id:this.svgObject.id+"_AxisToolTipText_"+s,x:v-g,y:x+m,fill:i.crosshairLabel.font.color,"font-size":i.crosshairLabel.font.size,"font-family":i.crosshairLabel.font.fontFamily,"font-style":i.crosshairLabel.font.fontStyle,"font-weight":i.crosshairLabel.font.fontWeight,"text-anchor":"start",opacity:i.crosshairLabel.font.opacity},S=ej.EjSvgRender.utils._measureText(y.data.currentTrackText,this.model.m_AreaBounds.Width,i.crosshairLabel.font),C=i.crosshairLabel,T={x:(v-=5)-g,y:(x-=S.height)+m,width:S.width+10,height:2*S.height-10,rx:C.rx*(f?2:1),ry:C.ry*(f?2:1)},L=ej.EjSvgRender.utils._calculateroundedCorner(null,T,!0,c,0,o);T={id:this.svgObject.id+"_AxisToolTipRect_"+s,d:L,fill:C.fill,"stroke-width":C.border.width,stroke:C.border.color},a.y<(d=this.model._axes[s]).y+d.height&&a.y>d.y||a.x<d.x+d.width&&a.x>d.x?(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+s),{display:"block"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+s),{display:"block"}),T.display="block"):(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+s),{display:"none"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+s),{display:"none"}),T.display="none"),f?(h=this.svgRenderer.createCrosshairCanvas()).ctx=h.getContext("2d"):h=this.svgRenderer,this.svgRenderer.drawPath.call(h,T,this.gTrackAxisEle),this.svgRenderer.drawText.call(h,w,y.data.currentTrackText,this.gTrackAxisEle)}},maxWdithArrayCollection:function(e,t){for(var i,s=0,a=0,o=0,r=ej.EjSvgRender.utils._measureText,n=0,l=e.length;n<l;n++)a=(i=r(e[n],0,t)).width,o+=i.height,s=0==s||s<a?a:s;return{maxTextWidth:s,totalHeight:o}},displayTooltip:function(e,t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v=this.model.crosshair,x=v.trackballTooltipSettings,y=x.rx,w=x.ry,S=x.border,C=this.model.m_AreaBounds,T=this.model.crosshair.isReversed;if(e){var L,k,P,j,D=t.series,A=document.getElementById(this._id),O=($(A).offset(),(se=D.tooltip).font?$.extend(!1,D.font,{},se.font):D.font),I=D.marker.size.width/2+D.marker.border.width+S.width+5,R=D._isTransposed?D.xAxis.y+I:D.yAxis.y,M=t.textCollection,E=t.textOptionsCollection,V=t.groupingTextId,N={X:(B={X:(D._isTransposed?D.yAxis.x:D.xAxis.x+I)+(z="boxandwhisker"==D.type?t.point.boxPlotLocation[3]:t.point.location).X,Y:R+z.Y}).X,Y:B.Y},F=document.getElementById(this._id+"_trackball_grouping_tooltip");if(this._trigger("trackToolTip",{data:{currentText:M,location:N}}),!ej.util.isNullOrUndefined(this.model.trackToolTip)&&""!=this.model.trackToolTip)for(Z=0,xe=M.length;Z<xe-1;Z++)""==M[Z].text&&(M.splice(Z,1),E.splice(Z,1),V.splice(Z,1));for(ej.util.isNullOrUndefined(F)?(F=document.createElement("div"),P={left:N.X,top:N.Y,border:parseInt(S.width?S.width:1)+"px solid "+(S.color?S.color:"#000000"),background:x.fill?x.fill:"#ffffff",opacity:x.opacity,position:"absolute",height:"auto",width:"auto","border-radius":y+"px "+w+"px","pointer-events":"none"},F.setAttribute("id",this._id+"_trackball_grouping_tooltip")):P={left:N.X,top:N.Y},Z=0,xe=M.length;Z<xe;Z++)(j=document.createElement("span")).setAttribute("id",V[Z]),s=M[Z].text,$(j).html(s+"</br>"),$(j).css(E[Z]),F.appendChild(j);a=M.map((function(e){return e.text})),i=(L=this.maxWdithArrayCollection(a,O)).maxTextWidth,k=L.totalHeight,P.top=D._isTransposed?P.top:P.top-.5*k,P.left=D._isTransposed?P.left-.5*i:P.left,M.length>1&&(P.top=D._isTransposed?P.top:R+(.5*C.Height-.5*k),P.left=D._isTransposed?C.Width/2+C.X-.5*i:P.left),D._isTransposed?k+P.top>C.Y+C.Height&&(P.top-=k+2*I):P.left+i>=C.X+C.Width&&(P.left-=i+2*(I+S.width)),P.left=N.X==B.X?P.left:N.X,P.top=N.Y==B.Y?P.top:N.Y,$(F).css(P),$(F).appendTo(this.chartContainer)}else for(o=0,r=t.length;o<r;o++){var B=t[o].Point,z=t[o].ClosestPoint,Y=t[o].ClosestPointIndex,X=t[o].Tgap,H=$.inArray(D=t[o].Series,this.model._visibleSeries),W={X1:C.X,Y1:C.Y+C.Height,X2:C.X+C.Width,Y2:C.Y},U=this.model._axes,G=D._xAxisName,q=D._yAxisName;for(n=0,xe=U.length;n<xe;n++)G==U[n].name?D._isTransposed?(W.Y1=U[n].Location.Y1,W.Y2=U[n].Location.Y2):(W.X1=U[n].Location.X1,W.X2=U[n].Location.X2):q==U[n].name&&(D._isTransposed?(W.X1=U[n].Location.X1,W.X2=U[n].Location.X2):(W.Y1=U[n].Location.Y1,W.Y2=U[n].Location.Y2));if(B.X="boxandwhisker"==D.type?B.X+W.X1:B.X,B.Y="boxandwhisker"==D.type?B.Y+W.Y2:B.Y,B.X>=W.X1&&B.X<=W.X2&&B.Y>=W.Y2&&B.Y<=W.Y1||e){var Z,Q,K=this.model.requireInvertedAxes,J=B.X+(D.isIndicator?0:ej.util.isNullOrUndefined(D._trackMarker)?D.marker.size.width:D._trackMarker.size.width)+oe+1,ee=B.Y,te=D.tooltip.format,ie=ej.util.isNullOrUndefined(D.yAxis.roundingPlaces)?2:D.yAxis.roundingPlaces;if(l=this.getTooltipFormat(z,D,H,Y,te,"boxandwhisker"==t[o].Series.type&&B.outlier?B:ie),D.name&&D.name.replace(" ",""),(d=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Location:{X:J,Y:ee},Series:D,serIndex:H,pointIndex:Y,currentText:l.text},this._trigger("trackToolTip",d),!d.cancel){J=d.data.Location.X,ee=d.data.Location.Y;var se,ae,oe=this.model.tooltipPadding,re=X,ne=(O=(se=D.tooltip).font?$.extend(!1,D.font,{},se.font):D.font,ej.EjSvgRender.utils._measureText(d.data.currentText,D.xAxis.width,O)),le=this.getSeriesColor(z,H,D),de=(this.getTooltipOptions(le,D),ne.width+2*oe),he=ne.height+2*oe,ce=K?D.yAxis.width:D.xAxis.width,ue=K?X+B.X-de/2:X+B.Y-he/2,pe=K?X+B.X+de/2:X+B.Y+he/2,me=K?C.X:C.Y,ge=K?C.X+C.Width:C.Y+C.Height,_e=[],fe=this.model.financial?0:3+v.marker.border.width+(K?v.marker.size.height:v.marker.size.width)/2+5,be=D.type.toLowerCase(),ve=0==be.indexOf("rangearea")?this.model.crosshair.marker.size.height/2:0;if(ue>=me&&pe<=ge||this.model.financial){K?B.Y-fe-i<C.Y?(h={x:B.X-de/2+re,y:B.Y+fe,width:de,height:he,rx:y,ry:w},_e.push({X:B.X-de/2+oe+re,Y:B.Y+fe+he/2-oe}),ae="top"):(this.model.financial?(Z=(J=B.X-de/2+re)+oe,Q=(ee=B.Y+oe+ve)+2*oe,ae="top"):(J=B.X-de/2+re,ee=B.Y-fe-he,Z=B.X-de/2+oe+re,Q=B.Y-fe-he/2-oe,ae="bottom"),h={x:J,y:ee,width:de,height:he,rx:y,ry:w},_e.push({X:Z,Y:Q})):B.X+fe+i-C.X>=ce||T?(this.model.financial?(Z=(J=B.X-de/2)+oe,Q=(ee=B.Y-he-oe-ve)+re+he,ae="bottom"):B.X-i<=this.model.m_AreaBounds.X&&T?(ee=B.Y-he/2+re,Z=(J=B.X+fe)+oe,Q=B.Y+re+he/2,ae="left"):(ee=B.Y-he/2+re,Z=(J=B.X-fe-de)+oe,Q=B.Y+re+he/2,ae="right"),h={x:J,y:ee,width:de,height:he,rx:y,ry:w},_e.push({X:Z,Y:Q})):(this.model.financial?(Z=(J=B.X-de/2)+oe,Q=(ee=B.Y-ve-he-2*oe)+re+he,ae="bottom"):(ee=B.Y-he/2+re,Z=(J=B.X+fe)+oe,Q=B.Y+re+he/2,ae="left"),h={x:J,y:ee,width:de,height:he,rx:y,ry:w},_e.push({X:Z,Y:Q})),"object"==typeof(u=le)&&(u=le[1].color);var xe,ye=d.data.currentText,we=ej.EjSvgRender.utils._measureText(ye,D.xAxis.width,O).height;d.data.currentText.indexOf("<br/>")>=0&&(ye=d.data.currentText.split("<br/>"),K?B.Y-fe-i<C.Y?_e.push({X:B.X-de/2+oe+re,Y:B.Y+fe+we/ye.length}):(this.model.financial?(Z=B.X-de/2+oe+re,Q=B.Y+4*oe+ve):(Z=B.X-de/2+oe+re,Q=B.Y-fe-he+we/ye.length),_e.push({X:Z,Y:Q})):(p=be.indexOf("candle")>=0||be.indexOf("hiloopenclose")>=0||!1,B.X+fe+i-C.X>=ce?(this.model.financial?(Z=B.X-de/2+oe,Q=B.Y+re-he-ve+(p?0:2*oe),h.y-=p?3*oe:oe,h.height+=p?2*oe:oe):(Z=B.X-de-fe+oe,Q=B.Y+re-he/2+we/ye.length),_e.push({X:Z,Y:Q})):(this.model.financial?(Z=B.X-de/2+oe,Q=B.Y+re-he-ve+(p?0:oe),h.y-=p?2*oe:oe,h.height+=p?2*oe:oe):(Z=B.X+fe+oe,Q=B.Y+re-he/2+we/ye.length),_e.push({X:Z,Y:Q}))),we=0),g={id:this.svgObject.id+"_ToolTipText_"+H+"_"+(m="boxandwhisker"==D.type?o:Y),x:_e[xe=_e.length-1].X,y:_e[xe].Y+(we=K?we:-we)/2,fill:se.font&&se.font.color?se.font.color:"#ffffff","font-size":O.size,"font-family":O.fontFamily,"font-style":O.fontStyle,"font-weight":O.fontWeight,"text-anchor":"start",isTrackball:!0,padding:this.model.tooltipPadding},c=ej.EjSvgRender.utils._calculateroundedCorner(null,h,!0,ae,re),_={id:this.svgObject.id+"_gTooltip_"+H+"_"+m,d:c,fill:x.fill?x.fill:u,"stroke-width":parseInt(x.border.width?x.border.width:0)+"px",stroke:x.border.color?x.border.color:"transparent","fill-opacity":x.opacity},this.model.enableCanvasRendering?(f=this.svgRenderer.createCrosshairCanvas()).ctx=f.getContext("2d"):f=this.svgRenderer,b=this.svgRenderer.createGroup({id:this.svgObject.id+"_gTooltip_"+H+"_"+m}),this.svgRenderer.drawPath.call(f,_,b),this.svgRenderer.drawText.call(f,g,ye,b,O)}}0==$("#"+this.svgObject.id+"_TrackToolTip_"+H).length&&this.svgRenderer.append($(b),this.gTrackball)}}},SmartTooltipPosition:function(e){for(var t=[[],[]],i=e.length,s=[],a=e[0].Series._isTransposed?this.model.m_AreaBounds.Width:this.model.m_AreaBounds.Height,o=this.model.tooltipPadding,r=-o,n=0;n<i;n++)t[0][n]=$.extend({},e[n].StEnd),t[1][n]={yAxis:e[n].Series._yAxisName,xAxis:e[n].Series._xAxisName,isTransposed:e[n].Series._isTransposed},s[n]=e[n].ReqInvertAxis?e[n].Point.X:e[n].Point.Y,r+=e[n].StEnd.End-e[n].StEnd.Start+o;for(this.ContinousOverlappingPoints(t[0],s),r<a&&this.verticalArrangeMents(t),n=0;n<i;n++)e[n].Tgap=this.model.financial?0:t[0][n].Start-e[n].StEnd.Start},verticalArrangeMents:function(e){for(var t,i,s,a,o,r,n,l,d=e[0],h=e[1],c=this.model.tooltipPadding,u=this.model._axes,p=d.length,m=p-1,g=0,_=0,f=u.length;m>=0;m--){for(t=h[m].isTransposed,a=h[m].yAxis,_=0;_<f;_++)a==u[_].name&&(t?(i=u[_].Location.X2,s=u[_].Location.X1):(i=u[_].Location.Y1,s=u[_].Location.Y2));if(l=(o=d[m]).End-o.Start,i<o.End)for(o.End=i-2,o.Start=o.End-l,g=m-1;g>=0;g--)n=(r=d[g]).End-r.Start,r.End>d[g+1].Start&&d[g+1].Start>s&&d[g+1].End<i&&(r.End=d[g+1].Start-c,r.Start=r.End-n)}for(m=0;m<p;m++){for(t=h[m].isTransposed,a=h[m].yAxis,_=0;_<f;_++)a==u[_].name&&(t?(i=u[_].Location.X2,s=u[_].Location.X1):(i=u[_].Location.Y1,s=u[_].Location.Y2));if(l=(o=d[m]).End-o.Start,o.Start<s)for(o.Start=s+1,o.End=o.Start+l,g=m+1;g<=p-1;g++)n=(r=d[g]).End-r.Start,r.Start<d[g-1].End&&d[g-1].Start>s&&d[g-1].End<i&&(r.Start=d[g-1].End+c,r.End=r.Start+n)}},ContinousOverlappingPoints:function(e,t){var i,s,a,o,r,n=this.model.tooltipPadding,l=0,d=0,h=0,c=0,u=e.length-1,p=e[0].End-e[0].Start+n;for(l=e[0].Start+p,h=e[0].Start,a=0;a<u;a++)if(l>=e[a+1].Start){if(l+=p=e[a+1].End-e[a+1].Start+n,++d-1==u-1||a==u-1){for(i=e[c].End-e[c].Start,e[c].Start=(t[c]+t[a+1])/2-(l-h)/2,e[c].End=e[c].Start+i,o=c;o>0&&e[o].Start<=e[o-1].End+n;o--)e[o-1].Start=e[o].Start-(s=e[o-1].End-e[o-1].Start)-n,e[o-1].End=e[o-1].Start+s;for(r=c+1;r<=c+d;r++)i=e[r].End-e[r].Start,e[r].Start=e[r-1].End+n,e[r].End=e[r].Start+i}}else{if((d=a>0?d:0)>0){for(i=e[c].End-e[c].Start,e[c].Start=(t[c]+t[a])/2-(l-h)/2,e[c].End=e[c].Start+i,o=c;o>0&&e[o].Start<=e[o-1].End+n;o--)e[o-1].Start=e[o].Start-(s=e[o-1].End-e[o-1].Start)-n,e[o-1].End=e[o-1].Start+s;for(r=c+1;r<=c+d;r++)i=e[r].End-e[r].Start,e[r].Start=e[r-1].End+n,e[r].End=e[r].Start+i;d=0}l=e[a+1].Start+(p=e[a+1].End-e[a+1].Start+n),h=e[a+1].Start,c=a+1}},getTooltipOptions:function(e,t){var i,s,a,o,r,n;return this.model.theme.indexOf("gradient")>=0?(i="array"==jQuery.type(e)?e[0].color:e,s="white",r="#333333",a=5,o=5):(-1==(n=t.type.toLowerCase()).indexOf("column")&&-1==n.indexOf("waterfall")&&-1==n.indexOf("bar")&&-1==n.indexOf("box")&&"rangearea"!=n&&"none"!=this.model.AreaType?(s="array"==jQuery.type(e)?e[0].color:e,i="transparent",r="white"):(i="#333333",s="white",r="#333333"),a=0,o=0),{rectBColor:i,rectFColor:s,rectTextColor:r,rectX:a,rectY:o}},getSeriesColor:function(e,t,i){return!i||i.isIndicator||i.isTrendLine?i.fill:e._hiloFill?e._hiloFill._gradientStop?e._hiloFill._gradientStop[0].color:e._hiloFill:e.fill?e.fill._gradientStop?e.fill._gradientStop[0].color:e.fill:"waterfall"==i.type.toLowerCase()&&i.positiveFill&&(e.y>0&&!e.showIntermediateSum&&!e.showTotalSum||e.waterfallSum>0)?i.positiveFill:this.model.seriesColors[t]},getFormat:function(e,t){if(!e.tooltip.format){var i=e.type.toLowerCase(),s="boxandwhisker"!=e.type?"null":t.outlier;return i.indexOf("range")>-1||i.indexOf("hilo")>-1&&-1==i.indexOf("open")?"#point.x# <br/> High : #point.high# <br/> Low : #point.low#":i.indexOf("candle")>-1||i.indexOf("open")>-1?"#point.x# <br/> High : #point.high# <br/> Low : #point.low# <br/> Open : #point.open# <br/> Close : #point.close#":i.indexOf("bubble")>-1?"#point.x# : #point.y# : #point.size#":i.indexOf("box")>-1&&s?"X : #boxPlotPoints.xValue#  Y : #boxPlotPoints.YValues#":i.indexOf("box")>-1?"Minimum : #boxPlotPoints.Minimum# <br/> Upper Quartile : #boxPlotPoints.UpperQuartile# <br/> Median : #boxPlotPoints.midvalue# <br/> Lower Quartile : #boxPlotPoints.LowerQuartile# <br/> Maximum : #boxPlotPoints.Maximum#  ":"#point.x# : #point.y#"}return e.tooltip.format},getTooltipFormat:function(e,t,i,s,a,o){var r,n,l,d,h,c,u,p,m,g,_,f,b=$.extend(!0,{},e),v=this.model.AreaType,x=this.model.locale,y=t.xAxis,w=t.yAxis,S=y._valueType.toLowerCase(),C=ej.util.isNullOrUndefined,T=y.labelFormat,L=w.labelFormat,k=ej.EjSvgRender.utils._dateTimeLabelFormat,P=(ej,!1),j=!1;for(t.count=1,b.count=1,a=this.getFormat(t,o);a.indexOf("ej.format(")>=0;)"#point.x#"==(g=(h=a.substring(a.indexOf("ej.format("),a.indexOf(")")+1)).substring(h.indexOf("(")+1,h.indexOf(",")))?(P=!0,r=h.substring(h.indexOf(",")+1,h.indexOf(")"))):"#point.y#"==g?(j=!0,n=h.substring(h.indexOf(",")+1,h.indexOf(")"))):(c=h.substring(h.indexOf(",")+1,h.indexOf(")")),p=(u=g.substring(g.indexOf("#")+1)).substring(u.indexOf(".")+1,u.indexOf("#")),b.hasOwnProperty(p)&&b[p]&&(b[p]=ej.format(b[p],c,x))),a=a.replace(h,g);if("cartesianaxes"==v?"datetime"==S.toLowerCase()?(b.x=ej.format(new Date(b.xValue),C(T)?k(y._intervalType,y):t.xAxis.labelFormat,x),b.x=P?ej.format(new Date(b.xValue),r,x):b.x):"datetimecategory"==S.toLowerCase()?(b.x=ej.format(new Date(b.x),C(T)?k(y.intervalType,y):y.labelFormat,x),b.x=P?ej.format(new Date(b.x),r,x):b.x):"category"==S.toLowerCase()?b.x=this.model.primaryXAxis.isIndexed?b.x?b.x:"undefined":ej.EjSvgRender.utils._getLabelContent(b.xValue,t.xAxis,x):(b.x=!P||0!=r.indexOf("e")&&0!=r.indexOf("E")?P?ej.format(b.x,r,x):b.x:this.convertExponential(m,6,20,b.x,r),l=T?T.match("{value}"):null,b.x=T?null!=l?T.replace("{value}","${value}"==T?"$"+b.x:b.x):P||0==T.indexOf("e")||0==T.indexOf("E")?b.x:ej.format(Number(b.x),T,x):b.x):"date"==S&&(b.x=ej.format(new Date(b.xValue),k("days"),x),b.x=P?ej.format(new Date(b.xValue),r,x):b.x),!j||0!=n.indexOf("e")&&0!=n.indexOf("E")?(b.y=b.waterfallSum?b.waterfallSum:b.y,b.y=j?ej.format(b.y,n,x):b.y):b.y=this.convertExponential(void 0,6,20,b.y,n),l=L?L.match("{value}"):null,b.y=L?null!=l?L.replace("{value}","${value}"==L?"$"+b.y:b.y):j||0==L.indexOf("e")||0==L.indexOf("E")?b.y:ej.format(Number(b.y),L,x):b.y,("none"==v||"polaraxes"==v)&&P&&(0==r.indexOf("e")||0==r.indexOf("E"))&&(b.x=this.convertExponential(m,6,20,b.x,r)),t.isStacking&&"area"==t.drawType&&("polar"==t.type||"radar"==t.type)&&(b.y=t.stackedValue.EndValues[s]-t.stackedValue.StartValues[s]),"boxandwhisker"==t.type.toLowerCase()){if(_=t._visiblePoints[s].boxPlotValues,1==o.outlier)for(f=0;f<_.outliers.length;f++)o.YValues==_.outliers[f]&&(o.YValues=L?null!=l?L.replace("{value}","${value}"==L?"$"+o.YValues:o.YValues):j||0==L.indexOf("e")||0==L.indexOf("E")?o.YValues:ej.format(Number(o.YValues),L,x):o.YValues);else o.YValues==_.Minimum?_.Minimum=L?null!=l?L.replace("{value}","${value}"==L?"$"+_.Minimum:_.Minimum):j||0==L.indexOf("e")||0==L.indexOf("E")?_.Minimum:ej.format(Number(_.Minimum),L,x):_.Minimum:o.YValues==_.Maximum?_.Maximum=L?null!=l?L.replace("{value}","${value}"==L?"$"+_.Maximum:_.Maximum):j||0==L.indexOf("e")||0==L.indexOf("E")?_.Maximum:ej.format(Number(_.Maximum),L,x):_.Maximum:o.YValues==_.UpperQuartile?_.UpperQuartile=L?null!=l?L.replace("{value}","${value}"==L?"$"+_.UpperQuartile:_.UpperQuartile):j||0==L.indexOf("e")||0==L.indexOf("E")?_.UpperQuartile:ej.format(Number(_.UpperQuartile),L,x):_.UpperQuartile:o.YValues==_.LowerQuartile?_.LowerQuartile=L?null!=l?L.replace("{value}","${value}"==L?"$"+_.LowerQuartile:_.LowerQuartile):j||0==L.indexOf("e")||0==L.indexOf("E")?_.LowerQuartile:ej.format(Number(_.LowerQuartile),L,x):_.LowerQuartile:o.YValues==_.midvalue&&(_.midvalue=L?null!=l?L.replace("{value}","${value}"==L?"$"+_.midvalue:_.midvalue):j||0==L.indexOf("e")||0==L.indexOf("E")?_.midvalue:ej.format(Number(_.midvalue),L,x):_.midvalue);_.count=t.count,_.xValue=b.x,_.YValues=o.YValues,d={boxPlotPoints:_}}else d={series:t,point:b};return{data:b,text:a=a.parseTemplate(d)}},convertExponential:function(e,t,i,s,a){return e=a.match(/(\d+)/g),s.toExponential(e=null==e?t:e>i?i:e)},displayShowTooltip:function(e,t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x=this.model.requireInvertedAxes,y=i.tooltip.isReversed;if(!1!==t.visible){$(".ejTooltip"+this._id).not("#"+this.svgObject.id+"_TrackToolTip").remove(),$.finish?$(".ejTooltip"+this._id).finish():$(".ejTooltip"+this._id).stop(!0,!0);var w,S,C,T,L,k,P=i.isIndicator||i.isTrendLine?0:$.inArray(i,this.model._visibleSeries),j=7,D=i.tooltip.format,A=document.getElementById(this.svgObject.id).getClientRects()[0],O=this.model.m_AreaBounds,I=i.type.toLowerCase();switch(this.model.AreaType){case"cartesianaxes":T=y?e.X-(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?"bubble"==I?t.radius+15:i.marker.size.width:i._trackMarker.size.width)+("column"==I||"bar"==I||"stackingbar"==I||"stackingcolumn"==I||"waterfall"==I||"rangecolumn"==I?O.X:x?i.yAxis.x:i.xAxis.x):e.X+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?"bubble"==I?t.radius+15:i.marker.size.width:i._trackMarker.size.width)+("column"==I||"bar"==I||"stackingbar"==I||"stackingcolumn"==I||"waterfall"==I||"rangecolumn"==I?O.X:x?i.yAxis.x:i.xAxis.x),L=e.Y+(-1!=I.indexOf("column")||-1!=I.indexOf("waterfall")||-1!=I.indexOf("bar")||-1!=I.indexOf("rangearea")||"scatter"==I||"bubble"==I?this.dragPoint?x?i.xAxis.y:i.yAxis.y:O.Y:x?i.xAxis.y:i.yAxis.y),this.dragPoint&&(T=T>i.xAxis.x?T:i.xAxis.x,L=L<i.yAxis.height+i.yAxis.y?L:i.yAxis.height+i.yAxis.y),C=this.getSeriesColor(t,P,i);break;case"polaraxes":T=y?e.X-j+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width):e.X+j+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width),L=e.Y,C=this.getSeriesColor(t,P,i);break;case"none":T=y?e.X-i.marker.size.width+j:e.X+i.marker.size.width+j,L=e.Y,C=this.model.pointColors[s]}if("boxandwhisker"==i.type.toLowerCase())for(a=0;a<i._visiblePoints[s].boxPlotLocation.length;a++)(o=i._visiblePoints[s].boxPlotLocation[a]).outlier?o.X+i.outlierSettings.size.width/2>e.X&&o.X-i.outlierSettings.size.width/2<e.X&&o.Y+i.outlierSettings.size.height/2>e.Y&&o.Y-i.outlierSettings.size.height/2<e.Y&&(k=this.getTooltipFormat(t,i,P,s,D,o),ej.EjSvgRender.utils._measureText(k.text)):(k=this.getTooltipFormat(t,i,P,s,D,o),ej.EjSvgRender.utils._measureText(k.text));else k=this.getTooltipFormat(t,i,P,s,D),ej.EjSvgRender.utils._measureText(k.text);var R,M=this.getTooltipOptions(C,i),E=M.rectBColor,V=M.rectFColor,N=M.rectTextColor,F=M.rectX,B=M.rectY,z=i.tooltip;if(j=5,R=null==document.getElementById(this.svgObject.id+"_TrackToolTip")?$("<div></div>").attr({id:this.svgObject.id+"_TrackToolTip",class:"ejTooltip"+this._id}):$("#"+this.svgObject.id+"_TrackToolTip"),r=!!navigator.userAgent.match(/Trident\/7\./),!ej.isTouchDevice()||r||this.vmlRendering?this._on(R,"mousemove",this.chartTooltipHover):window.navigator.msPointerEnabled?this._on(R,"MSPointerMove",this.chartTooltipHover):this._on(R,"touchmove",this.chartTooltipHover),$("#"+this.svgObject.id+"_TrackToolTip").show(),S=$("#"+this._id).parent()[0].style.zIndex,z={top:L+$(document).scrollTop(),left:T+$(document).scrollLeft(),"background-color":z.fill?z.fill:V,"border-style":"solid",position:"absolute","border-color":z.border.color?z.border.color:E,"border-width":z.border.width||0==z.border.width?z.border.width:1,opacity:z.opacity,"z-index":S+1e6,"border-radius":(z.rx?z.rx:F).toString()+"px "+(z.ry?z.ry:B).toString()+"px","padding-left":"5px","padding-right":"5px","padding-top":"2px","padding-bottom":"2px"},$(R).css(z),(n=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={seriesIndex:P,pointIndex:s,currentText:k.text,isTrendLine:i.isTrendLine,trendlineIndex:i.trendlineIndex},this._trigger("toolTipInitialize",n),!n.cancel){var Y=i.tooltip,X=Y.font?$.extend(!1,i.font,{},Y.font):i.font,H={top:L+$(document).scrollTop(),left:T+$(document).scrollLeft(),color:Y.font&&Y.font.color?X.color:N,"font-size":X.size,"font-family":X.fontFamily,"font-style":X.fontStyle,"font-weight":X.fontWeight,"align-self":"baseline"};for($(R).css(H),null==document.getElementById(this.svgObject.id+"_TrackToolTip")&&$(document.body).append(R[0]),l=w=n.data.currentText,$("#"+this.svgObject.id+"_TrackToolTip").html(l),d=0,h=0,l=(l=l.replace(/<br >/g,"<br/>").replace(/<br \/>/g,"<br/>").replace(/<br>/g,"<br/>")).split("<br/>"),c=0;c<l.length;c++)for(u=(u=l[c]).split("</tr>"),p=0;p<u.length;p++)m=(m=this.RemoveTableAttr(m=u[p])).replace(/&nbsp;/g," "),d+=ej.EjSvgRender.utils._measureText(m,null,X).height,h<(g=ej.EjSvgRender.utils._measureText(m,null,X).width)&&(h=g);"cartesianaxes"==this.model.AreaType?ej.EjSvgRender.utils._measureText(w,i.xAxis.width,X):ej.EjSvgRender.utils._measureText(l,null,X);var W="cartesianaxes"==this.model.AreaType?this.model.requireInvertedAxes?i.yAxis.width:i.xAxis.width:$(this.svgObject).width()-("right"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Width+2*this.model.elementSpacing:0),U="cartesianaxes"==this.model.AreaType?this.model.requireInvertedAxes?i.xAxis.height:i.yAxis.height:$(this.svgObject).height()-("bottom"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Height+this.model.elementSpacing:0),G=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect();$("#"+this.svgObject.id+"_TrackToolTip").css("top",$(document).scrollTop()+G.top+A.top-(d+4)/2),$("#"+this.svgObject.id+"_TrackToolTip").css("left",$(document).scrollLeft()+G.left+A.left+(G.left-T)),T+(h+j)>=W+i.xAxis.x&&!y&&(f=document.getElementById(this.svgObject.id).getClientRects()[0],v=T-(h+2*j+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:"bubble"==I?t.radius+15:0:i._trackMarker.size.width)+2*j),$("#"+this.svgObject.id+"_TrackToolTip").css("left",v+f.left-j+$(document).scrollLeft())),((G=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect()).bottom>=i.yAxis.y+U+A.top||G.bottom>=i.xAxis.y+U+A.top)&&(_=L-(G.bottom-G.top+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.height:0:i._trackMarker.size.height))+j+A.top,$("#"+this.svgObject.id+"_TrackToolTip").css("top",_+$(document).scrollTop())),(G=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect()).left<0&&(f=document.getElementById(this.svgObject.id).getClientRects()[0],e.X<O.Width/2?$("#"+this.svgObject.id+"_TrackToolTip").css("left",T+A.left):($("#"+this.svgObject.id+"_TrackToolTip").css("width",G.right-2*j),$("#"+this.svgObject.id+"_TrackToolTip").css("left",0))),(G.top<A.top||G.top<0)&&$("#"+this.svgObject.id+"_TrackToolTip").css("top",(A.top<0?$(document).scrollTop():A.top)+"px"),y&&(b=G.right-G.left,$("#"+this.svgObject.id+"_TrackToolTip").css("left",G.x-b),G.x<i.xAxis.x&&(v=h+2*j+(i.isIndicator||i.isTrendLine?0:ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:"bubble"==I?t.radius+15:0:i._trackMarker.size.width)+2*j,$("#"+this.svgObject.id+"_TrackToolTip").css("left",G.x+v))),$("#"+this.svgObject.id+"_TrackToolTip").show()}}},RemoveTableAttr:function(e){var t,i,s;for((-1!=e.indexOf("<table>")||-1!=e.indexOf("</table>")||-1!=e.indexOf("<td>")||-1!=e.indexOf("</td>")||-1!=e.indexOf("<tr>"))&&(e=e.replace(/\//g,"").replace(/<table>/g,"").replace(/<th>/g,"").replace(/<tr>/g,"").replace(/<td>/g,""));e.search(/<td/i)>-1;)if(e.search(/<tr/)>-1)e=e.slice(e.search(/<td/i));else if(e.search(/<td/)>-1&&e.indexOf(">")>e.search(/<td/)){for(t=(e=e.slice(e.indexOf(">")+1)).split("<td"),i=0;i<t.length;i++)t[i]=(s=t[i]).indexOf(">")>-1?s.slice(s.indexOf(">")+1):s;e=t.join("")}return e},chartTooltipHover:function(e){var t,i=$("#"+e.target.id)[0].getBoundingClientRect(),s=e.clientX-i.left;$("#"+e.target.id).css("left",i.left+s+5),i=$("#"+e.target.id)[0].getBoundingClientRect(),t=document.getElementById(this.svgObject.id).getClientRects()[0],i.right>t.right+5&&$("#"+e.target.id).css("left",e.clientX-(i.right-i.left)-5)},_initializeSeriesColors:function(){var e,t,i,s,a,o,r,n,l,d,h,c=this,u=c.model.palette?c.model.palette:c.model.colors,p=u.length,m=c.model.AreaType;if(c.model.seriesColors=[],c.model.seriesBorderColors=[],c.model.pointColors=[],c.model.pointBorderColors=[],o=c.model._visibleSeries.length,"none"!=m)e=c.model._visibleSeries,t=c.model.seriesColors,i=c.model.seriesBorderColors;else{for(l=0,h=0;h<o;h++)n=c.model._visibleSeries[h].type.toLowerCase(),c.model._visibleSeries[h].points.length>l?(l=c.model._visibleSeries[h].points.length,r=c.model._visibleSeries[h].points):c.model._visibleSeries[h].points.length==l&&"funnel"!=n&&"pieofpie"!=n&&"pyramid"!=n&&(r=c.model._visibleSeries[h].points);e=r||[],t=c.model.pointColors,i=c.model.pointBorderColors}if("none"==m&&o>1)for(d=0;d<o;d++)c.model.seriesColors[d]=u[d%p];for(h=0;h<e.length;h++)a=(s=e[h]).trendlines,s.isFill=null==s.isFill?!(!s.fill||""==s.fill):s.isFill,s.isFill?t[h]=s.fill:(t[h]=u[h%p],s._hiloTypes||(s.fill=t[h])),"none"!=m&&a.length>0&&this._initializeTrendlinesColors(a,t[h]),ej.util.isNullOrUndefined(s.border)||ej.util.isNullOrUndefined(s.border.color)||""==s.border.color?(i[h]=c.model.seriesBorderDefaultColors[h%10],"none"!=m&&(s.border.color=i[h])):i[h]=s.border.color,s.dataPoint=s.points,s.trendLine=s.trendlines},_initializeTrendlinesColors:function(e,t){for(var i in e)(ej.util.isNullOrUndefined(e[i].fill)||""==e[i].fill)&&(e[i].fill=t)},_createAxisLabelAndRange:function(){for(var e,t,i,s,a,o=0,r=this.model,n=r.series,l=n.length,d=r.primaryXAxis,h=r.primaryYAxis,c=0;c<l;c++)n[c]._isTransposed&&"polaraxes"!=this.model.AreaType&&o++;for(l&&(o==l||n[0]._isTransposed&&"polaraxes"!=this.model.AreaType)&&(r.requireInvertedAxes=!0),r.requireInvertedAxes?(h.orientation="horizontal",d.orientation="vertical",h.labelPlacement=h.labelPlacement?h.labelPlacement:ej.datavisualization.Chart.LabelPlacement.OnTicks):(h.orientation="vertical",d.orientation="horizontal"),h.name=ej.util.isNullOrUndefined(h.name)?"SecondaryAxis":h.name,d.name=ej.util.isNullOrUndefined(d.name)?"PrimaryAxis":d.name,r._axes=[],r._axes[0]=d,r._axes[1]=h,a=r.axes.length,s=r.indicators,c=0;c<a;c++)if((u=r.axes[c]).name){for(e=0;e<l;e++){if(t=n[e].type.toLowerCase(),n[e].xAxisName==u.name){u.orientation=-1!=t.indexOf("bar")?n[e].isTransposed?"horizontal":"vertical":n[e].isTransposed?"vertical":"horizontal";break}if(n[e].yAxisName==u.name){u.orientation=-1!=t.indexOf("bar")?n[e].isTransposed?"vertical":"horizontal":n[e].isTransposed?"horizontal":"vertical";break}}for(i=0;i<s.length;i++){if(s[i].xAxisName==u.name){u.orientation="horizontal";break}if(s[i].yAxisName==u.name){u.orientation="vertical";break}}if(!u.orientation)continue;r.axes[c]="horizontal"==u.orientation.toLowerCase()?$.extend(!0,{},r.secondaryX,u):$.extend(!0,{},r.secondaryY,u),r._axes.push(r.axes[c])}for(i=0;i<r._axes.length;i++){var u,p=(u=this.model._axes[i]).scrollbarSettings,m=p.range;u.orientation.toLowerCase(),u.visibleLabels=[],u.range=null==u.range.min&&null==u.range.max&&null==u.range.interval?null:u.range,u.setRange=!!u.range&&(!!ej.util.isNullOrUndefined(u.setRange)||u.setRange),u.setRange=!(!u.actual_Range&&0==u.setRange),u.actualRange=u.actualRange?u.actualRange:null==u.range?{}:$.extend(!0,{},u.range),u.visibleRange=u.visibleRange?u.visibleRange:null==u.range?{}:u.range,u.name=u.name?u.name:i.toString(),u._isScroll=p.visible&&(null!=p.pointsLength||null!=m.min||null!=m.max)||r.zooming.enableScrollbar&&p.visible&&(u.zoomFactor<1||u.zoomPosition>0),u._pointsLength=p.pointsLength,"string"==typeof m.min&&-1!=m.min.indexOf("/Date(")&&(m.min=new Date(parseInt(m.min.substr(6)))),"string"==typeof m.max&&-1!=m.max.indexOf("/Date(")&&(m.max=new Date(parseInt(m.max.substr(6))))}},_drawTitle:function(){var e,t,i,s,a,o,r,n=this.model.title,l=this.model.margin,d=$(this.svgObject).width(),h=ej.EjSvgRender.utils._measureText(n.text,d-l.left-l.right,n.font),c=this.model.elementSpacing,u=""!=n.text&&n.visible?h.height+c:0,p=(l=l,this.model.m_AreaBounds),m=this.model.AreaType,g="left"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Width/2:"right"==this.model.legend.position.toLowerCase()?-this.model.LegendViewerBounds.Width/2:0,_=l.left+c+this.model.border.width,f=l.right+c+this.model.border.width,b=this.model.titleWrapTextCollection,v=parseInt(n.font.size),x=1.2*parseInt(n.font.size),y=n.enableTrim,w=n.maximumWidth,S=(n.textAlignment.toLowerCase(),n.textOverflow.toLowerCase()),C=n.text,T=n.isReversed,L=!(!y||"wrap"!=S&&"wrapandtrim"!=S||!(b.length>1));if("auto"==w.toString()||""==w.toString()?this.model.titleMaxWidth=w=.75*p.Width:w=parseInt(w),t=h.width>w,y&&t&&"trim"==S&&(C=ej.EjSvgRender.utils._trimText(C,w,n.font),this.model.titleTrim=h=ej.EjSvgRender.utils._measureText(C,d-l.left-l.right,n.font),this.model.trimTooltip=!0),this.model.trimTooltip&&"wrap"==S&&(this.model.trimTooltip=!1),i={width:this.model.trimTooltip&&L||b.length>1?this.model.titleMaxWidth:h.width,height:h.height*(b.length>0?b.length-1:1)},""!=n.text&&null!=n.text){if(e="transparent"==n.border.color&&"transparent"==n.background?l.top+u/2+c:l.top+x/2+c+v/4,s=("cartesianaxes"!=m?(d-l.left-l.right)/2+(l.left+g):_+(d-f)/2)-i.width/2,"near"==this.model.title.textAlignment.toLowerCase()?s=T?d-f-h.width:_:"far"==this.model.title.textAlignment.toLowerCase()&&(s=T?_:d-f-i.width),(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={title:C,location:{x:s,y:e},size:h},this._trigger("titleRendering",a),o={id:this.svgObject.id+"_ChartTitleText",x:a.data.location.x,y:a.data.location.y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,"text-anchor":"start"},this.svgRenderer.drawRect({id:this.svgObject.id+"_ChartTitleBorder",x:a.data.location.x-c,y:a.data.location.y-x+x/4,rx:n.border.cornerRadius,ry:n.border.cornerRadius,width:L&&t?this.model.titleMaxWidth+2*c:h.width+2*c,height:L&&t?h.height*b.length:x,fill:n.background,"stroke-width":n.border.width,stroke:n.border.color,opacity:n.border.opacity,class:"e-titleborder"},this.gTitleEle),L&&t)for(r=0;r<b.length;r++)o.id=this.svgObject.id+"_ChartTitleText_"+r,0!=r&&(o.y=o.y+h.height),this.svgRenderer.drawText(o,b[r],this.gTitleEle);else this.svgRenderer.drawText(o,a.data.title,this.gTitleEle);this.model._titleLocation={X:a.data.location.x,Y:a.data.location.y,size:i,_height:h.height},this.svgRenderer.append(this.gTitleEle,this.svgObject),""!=n.subTitle.text&&n.subTitle.text&&n.subTitle.visible&&this._drawSubTitle()}},_getLegendSize:function(e){var t=this.model.legend.itemStyle,i=ej.EjSvgRender.utils._measureText(e.Text,null,e.Font);return{Width:t.width+10+i.width,Height:Math.max(t.height,i.height)}},_getYValues:function(e){for(var t=[],i=e.length,s=0;s<i;s++)t.push(e[s].y);return t},_getXValues:function(e){for(var t=[],i=e.length,s=0;s<i;s++)t.push(e[s].xValue);return t},_drawSubTitle:function(){var e,t,i,s,a,o,r=this.model.title,n=r.isReversed,l=r.subTitle,d=$(this.svgObject).width(),h=ej.EjSvgRender.utils._measureText(r.text,d-this.model.margin.left-this.model.margin.right,r.font),c=ej.EjSvgRender.utils._measureText(l.text,d-this.model.margin.left-this.model.margin.right,l.font),u="middle",p=this.model.elementSpacing,m=parseInt(l.font.size),g=this.model.m_AreaBounds.Width,_=1.2*parseInt(r.font.size),f=1.2*parseInt(l.font.size),b=""!=l.text&&l.visible?c.height+p:0,v=l.enableTrim,x=l.maximumWidth,y=r.maximumWidth,w=l.textOverflow.toLowerCase(),S=(r.textAlignment.toLowerCase(),l.textAlignment.toLowerCase()),C=r.text,T=r.enableTrim,L=r.textOverflow.toLowerCase(),k=l.text,P=!(!T||"wrap"!=L&&"wrapandtrim"!=L),j=!(!v||"wrap"!=w&&"wrapandtrim"!=w);if(y="auto"==y.toString()||""==y.toString()?.75*g:parseInt(y),x="auto"==x.toString()||""==x.toString()?.75*g:parseInt(x),h=ej.EjSvgRender.utils._measureText(r.text,d-this.model.margin.left-this.model.margin.right,r.font),v&&c.width>x&&"trim"==w&&(C=T&&"trim"==L?ej.EjSvgRender.utils._trimText(C,y,r.font):C,k=ej.EjSvgRender.utils._trimText(k,x,l.font),h=ej.EjSvgRender.utils._measureText(C,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,r.font),c=ej.EjSvgRender.utils._measureText(k,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,l.font),this.model.subTitleTooltip=!0),""!=k&&null!=k){e="transparent"==this.model.title.border.color&&"transparent"==this.model.title.background||"transparent"==this.model.title.subTitle.border.color&&"transparent"==this.model.title.subTitle.background?b/2+p+this.model._titleLocation.Y+this.model._titleLocation._height*(this.model.titleWrapTextCollection?this.model.titleWrapTextCollection.length-1:0):f/2+10+p+(P&&h.width>y?h.height*this.model.titleWrapTextCollection.length:_)+10+m/3,i=this.model._titleLocation.X+this.model._titleLocation.size.width/2,"near"==S?(i=t=n?this.model._titleLocation.X+this.model._titleLocation.size.width:this.model._titleLocation.X,u=n?"end":"start"):"far"==S&&(i=n?this.model._titleLocation.X:this.model._titleLocation.X+this.model._titleLocation.size.width,u=n?"start":"end"),(s=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={subTitle:k,location:{x:i,y:e},size:c},this._trigger("subTitleRendering",s);var D={id:this.svgObject.id+"_ChartSubTitleText",x:s.data.location.x,y:"transparent"==r.border.color&&"transparent"==r.background||"transparent"==r.subTitle.border.color&&"transparent"==r.subTitle.background?s.data.location.y:s.data.location.y-p/2,fill:l.font.color,"font-size":l.font.size,"font-family":l.font.fontFamily,"font-style":l.font.fontStyle,"font-weight":l.font.fontWeight,opacity:l.font.opacity,"text-anchor":u},A=s.data.location.x;if(this.svgRenderer.drawRect({id:this.svgObject.id+"_ChartSubTitleBorder",x:"start"==u?A-p:"end"==u?j?A-p-this.model.subTitleMaxWidth:A-p-c.width:j?A-p-this.model.subTitleMaxWidth/2:A-p-c.width/2,y:"transparent"==r.border.color&&"transparent"==r.background||"transparent"==l.border.color&&"transparent"==l.background?s.data.location.y-f+f/4:s.data.location.y-f+f/4-p/2,rx:l.border.cornerRadius,ry:l.border.cornerRadius,width:j?this.model.subTitleMaxWidth+2*p:c.width+2*p,height:j?c.height*this.model.subTitleWrapTextCollection.length:f,fill:l.background,"stroke-width":l.border.width,stroke:l.border.color,opacity:l.border.opacity,class:"e-subtitleborder"},this.gSubTitleEle),j&&c.width>x)for(a=0;a<this.model.subTitleWrapTextCollection.length;a++)D.id=this.svgObject.id+"_ChartSubTitleText_"+a,0!=a&&(D.y=D.y+c.height),this.svgRenderer.drawText(D,this.model.subTitleWrapTextCollection[a],this.gSubTitleEle);else this.svgRenderer.drawText(D,s.data.subTitle,this.gSubTitleEle);o={width:this.model.subTitleTooltip?x:c.width,height:c.height*this.model.subTitleWrapTextCollection.length},"middle"==u?t=i-o.width/2:"end"==u&&(t=i-o.width),this.model._subTitleLocation={X:t,Y:s.data.location.y-c.height/2,size:o},this.svgRenderer.append(this.gSubTitleEle,this.gTitleEle)}},_calculateStackingValues:function(e,t,i){var s,a,o,r,n=this.model;n.stackedValue[t.name]=[],(s=n.stackedValue[t.name]).min=0,s.max=0;var l,d,h,c,u,p=n.requireInvertedAxes?n.vAxes:n.hAxes,m=p.length,g=ej.util.isNullOrUndefined;for(a=0;a<m;a++){r=0;var _,f=[],b=[],v=[],x=[],y=0;for(o=0;o<e.length;o++)if(e[o]._xAxisName==p[a].name&&(-1!=e[o].type.toLowerCase().indexOf("stacking")||e[o].isStacking)){for((u={}).StartValues=[],u.EndValues=[],(h=e[o].stackingGroup)&&"stackingarea"!=e[o].type.toLowerCase()||(h=""),g(f[h])&&(f[h]=[],b[h]=[],v[h]=[],x[h]=[]),"number"!=typeof(y=this._getXCrossValue(_=e[o],p[a],i))&&(y=0),c=ej.EjSeriesRender.prototype._isVisiblePoints(_),d=this._getYValues(_._visiblePoints),l=c.length,r=0;r<l;r++){var w=0,S=d[r];g(f[h][_._visiblePoints[r].xValue])&&(f[h][_._visiblePoints[r].xValue]=y),g(b[h][_._visiblePoints[r].xValue])&&(b[h][_._visiblePoints[r].xValue]=y),u.StartValues.length<=r&&(u.StartValues.push(0),u.EndValues.push(0)),S>=0?(v[h][r]=null==v[h][r],S-=v[h][r]&&y,w=-1!=_.type.toLowerCase().indexOf("stacking")||S>0?f[h][_._visiblePoints[r].xValue]:0,f[h][_._visiblePoints[r].xValue]+=S,u.StartValues[r]=w+(w<y?y-w:0),u.EndValues[r]=S+w):(x[h][r]=null==x[h][r],w=b[h][_._visiblePoints[r].xValue],b[h][_._visiblePoints[r].xValue]+=S-=x[h][r]&&y,u.StartValues[r]=w,u.EndValues[r]=S+w,y<u.EndValues[r]&&(b[h][_._visiblePoints[r].xValue]=u.StartValues[r],f[h][_._visiblePoints[r].xValue]=u.EndValues[r],v[h][r]=null==v[h][r])),_.points[c[r].actualIndex].YValues=[u.EndValues[r]]}u.stackedSeries=!0,s.push(u),s.min>Math.min.apply(0,u.StartValues)&&(s.min=Math.min.apply(0,u.StartValues)),s.max<Math.max.apply(0,u.EndValues)&&(s.max=Math.max.apply(0,u.EndValues)),_.stackedValue=u}}},_calculateStackingCumulativeValues:function(e,t,i){var s,a,o,r,n,l,d,h,c,u,p,m,g,_;this.model.stackedValue[t.name]=[],this.model.stackedValue[t.name].min=0,this.model.stackedValue[t.name].max=0;var f,b=this.model.requireInvertedAxes?this.model.vAxes:this.model.hAxes,v=e.length,x=b.length;for(s=0;s<x;s++){var y=[],w=[],S=[],C=" ",T=[],L=[],k=0,P=[];for(o=0;o<v;o++)if(ej.EjSeriesRender.prototype._isVisiblePoints(e[o]),C=e[o].stackingGroup,-1!=e[o].type.toLowerCase().indexOf("100")&&e[o]._xAxisName==b[s].name)for(e[o].stackingGroup&&" stackingarea100 "!=e[o].type.toLowerCase()||(e[o].stackingGroup="",C=e[o].stackingGroup),y[C]||(S[C]=[],y[C]=[],w[C]=[],T[C]=[],L[C]=[]),P[C]=o,h=(d=this._getYValues(e[o]._visiblePoints)).length,c=0;c<h;c++)a=d[c],S[C][e[o].points[c].xValue]||(S[C][e[o].points[c].xValue]=0),S[C][e[o].points[c].xValue]+=Math.abs(a);for(o=0;o<v;o++)if(C=e[o].stackingGroup,-1!=e[o].type.toLowerCase().indexOf("100")&&(r=!1,e[o]._xAxisName==b[s].name)){for((n={}).StartValues=[],n.EndValues=[],"number"!=typeof(k=this._getXCrossValue(l=e[o],b[s],i))&&(k=0),h=(d=this._getYValues(l._visiblePoints)).length,c=0;c<h;c++)p=0,f=(m=d[c])/S[C][l.points[c].xValue]*100,m=isNaN(f)?0:f,l.points[c].percentage=m.toFixed(2),y[C][l.points[c].xValue]||(y[C][l.points[c].xValue]=k),w[C][l.points[c].xValue]||(w[C][l.points[c].xValue]=k),n.StartValues.length<=c&&(n.StartValues.push(0),n.EndValues.push(0)),m>=0?(g=y[C][l.points[c].xValue],T[C][c]=null==T[C][c],p=g<k?k-g:0,u=g,y[C][l.points[c].xValue]+=m-=T[C][c]&&k):(_=w[C][l.points[c].xValue],L[C][c]=null==L[C][c],p=_>k?k-_:0,u=_,w[C][l.points[c].xValue]+=m-=L[C][c]&&k),n.StartValues[c]=u+p,n.EndValues[c]=u+m,n.EndValues[c]>100&&(n.EndValues[c]=100),l.points[c].YValues=[n.EndValues[c]],r=P[C]!=o||r;n.stackedSeries=r,this.model.stackedValue[t.name].push(n),this.model.stackedValue[t.name].min>Math.min.apply(0,n.StartValues)&&(this.model.stackedValue[t.name].min=Math.min.apply(0,n.StartValues)),this.model.stackedValue[t.name].max<Math.max.apply(0,n.EndValues)&&(this.model.stackedValue[t.name].max=Math.max.apply(0,n.EndValues)),this.model.stackedValue[t.name].min>Math.min.apply(0,n.EndValues)&&(this.model.stackedValue[t.name].min=-100),l.stackedValue=n}}},_legendItemBounds:function(e,t,i){var s,a,o=this.model.legend,r=o.position.toLowerCase(),n=0,l=0;return ej.util.isNullOrUndefined(o.columnCount)&&o.rowCount?(a=o.rowCount,n=t*Math.ceil(e/a),l=i*a):ej.util.isNullOrUndefined(o.rowCount)&&o.columnCount?(a=Math.ceil(e/o.columnCount),n=t*(s=o.columnCount),l=i*a):o.rowCount&&o.columnCount&&(o.columnCount<o.rowCount?(a=o.rowCount,n=t*Math.ceil(e/a),l=i*a):o.columnCount>o.rowCount?"top"===r||"bottom"===r||"custom"===r?(a=Math.ceil(e/o.columnCount),n=t*(s=o.columnCount),l=i*a):(a=Math.ceil(e/o.columnCount),n=t*Math.ceil(e/a),l=i*a):"top"===r||"bottom"===r||"custom"===r?(a=Math.ceil(e/o.columnCount),s=Math.ceil(e/o.rowCount),n=t*o.columnCount,l=i*s):(a=o.rowCount,n=t*Math.ceil(e/a),l=i*a)),{LegendWidth:n,LegendHeight:l+=this.model.elementSpacing}},_isEjScroller:function(){var e=this.model,t=$(this.legendContainer),i=e.legend;i._ejScroller=!ej.util.isNullOrUndefined($("#"+t[0].id).ejScroller)&&i.enableScrollbar},_rowsCalculation:function(e,t,i){for(var s,a,o,r=[],n=(e.legendItem?e.legendItem.Text.toString():e.text).split(" "),l=t,d=e.legendItem?e.legendItem.LegendStyle.Font:e.font,h=n.length,c=0,u=0;u<h;u++)if(s=n[u],(a=ej.EjSvgRender.utils._measureText(s,null,d).width)<=l){for(;u<h;){if(!((a=ej.EjSvgRender.utils._measureText(s,null,d).width)+(o=n[u+1]?ej.EjSvgRender.utils._measureText(n[u+1],null,d).width:0)<=l&&o>0)){c=Math.max(c,a);break}s=s.concat(" "+n[u+1]),u++}r.push(s)}else"wrapandtrim"==i?(s=ej.EjSvgRender.utils._trimText(s,l,d),r.push(s),this.model._legendMaxWidth=l,c=Math.max(c,l),e.legendItem||(this.model.trimTooltip=!0)):(r.push(s),e.legendItem?this.model._legendMaxWidth=Math.max(this.model._legendMaxWidth,a):c=Math.max(c,a));return this.model._legendMaxHeight=Math.max(this.model._legendMaxHeight,r.length),{textCollection:r,wordMax:c}},_triggerLegendEvent:function(e,t,i){var s,a,o,r,n,l=this,d=l.model,h=d.legend,c=d.AreaType,u=h.itemStyle,p=u.border,m=h.size.width,g=ej.EjSvgRender,_=l.svgRenderer,f=d._visibleSeries.length,b=l.svgObject,v=d.enableCanvasRendering,x=d.elementSpacing,y=h.textOverflow.toLowerCase(),w={BorderColor:p.color,BorderWidth:p.width,Opacity:h.opacity,Color:t,Font:$.extend(!0,{},h.font)};return(r=$.extend({},g.commonChartEventArgs)).data={svgRenderer:_,svgObject:b,symbolShape:h.shape,legendItem:{Text:e,Shape:h.shape,LegendStyle:w,SeriesIndex:"none"==c&&1==f?0:i},style:{ShapeSize:u,ElementSpace:x,Style:w,ID:l.svgObject.id+"_LegendItemShape"+i,SeriesIndex:"none"==c&&1==f?0:i},gLegendItemEle:l.gLegendItemEle},v&&(r.data.style.context=!0),l._trigger("legendItemRendering",r),s=r.data.legendItem.Text,a=r.data.legendItem.LegendStyle.Font,o=ej.EjSvgRender.utils._measureText(s,null,a).width,m=(m=m?parseInt(m,10):null)||d.svgWidth/100*parseInt(h.legendContainerWidth,10),"trim"!=y||"left"!==h.position&&"right"!==h.position?("wrap"==y||"wrapandtrim"==y)&&(s=l._rowsCalculation(r.data,m,this.model.legend.textOverflow.toLowerCase()).textCollection):(n=h.itemPadding+h.itemStyle.width,o>m&&(s=ej.EjSvgRender.utils._trimText(s,m+(h.size.width?-n:n),a),l.model._legendMaxWidth=m)),{commonEventArgs:r,legendItem:s}},_calculateLegendBounds:function(){var e,t;this.model.legendCollection=[],this.model.legendTextRegion=[],this.model.legendRegion=[],this.model.svgHeight=$(this.svgObject).height(),this.model.svgWidth=$(this.svgObject).width(),this.model._legendMaxWidth=0,this.model._legendMaxHeight=0;var i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x,y,w,S,C,T,L,k=this,P=k.model,j=Math,D=j.max,A=j.min,O=j.abs,I=P.legend,R=I.size.height,M=I.size.width,E=I.isReversed,V=I.itemPadding>0?I.itemPadding:0,N=I.position.toLowerCase(),F=0,B=0,z=P.svgHeight,Y=P.svgWidth,X=0,H=0,W=0,U=0,G=1,q={},Z=[],Q=P.AreaType,K=P._visibleSeries,J=I.rowCount,ee=I.columnCount,te=P.elementSpacing,ie=ej.EjSvgRender.utils._measureText(I.title.text,null,I.title.font),se=0,ae=0,oe=P.border.width,re=I.border.width,ne=I.textOverflow.toLowerCase(),le=z-(4*te+2*oe+2*I.border.width),de=Y-(4*te+2*oe+2*re);if(K&&I.visible&&0!=K.length){if(S=K[0].type.toLowerCase(),"none"==Q&&1==K.length||"pieofpie"==S||"pyramid"==S||"funnel"==S)for(m=K[0],g=(p=ej.EjSeriesRender.prototype._calculateVisiblePoints(m).legendPoints).length,h=!E||"top"!=N&&"bottom"!=N?0:g-1;!E||"top"!=N&&"bottom"!=N?h<g:h>=0;!E||"top"!=N&&"bottom"!=N?h++:h--)_=I.fill?I.fill._gradientStop?I.fill._gradientStop:I.fill:P.pointColors[p[h].actualIndex],u=p[h],f=ej.util.isNullOrUndefined(u.x)?"series"+h:u.x,u.isEmpty||"visible"!=(u.visibleOnLegend?u.visibleOnLegend:"visible").toLowerCase()||"visible"!=m.visibleOnLegend.toLowerCase()||(C=this._triggerLegendEvent(f,_,h),Z.push(q={Text:C.legendItem,displayText:C.commonEventArgs.data.legendItem.Text,Font:(T=C.commonEventArgs.data.legendItem.LegendStyle).Font,SeriesIndex:0,PointIndex:h,ActualIndex:u.actualIndex,fill:T.Color,visibility:!1!==u.visible?"visible":"hidden",Shape:C.commonEventArgs.data.legendItem.Shape,LegendStyle:T,CommonEventArgs:{cancel:C.commonEventArgs.cancel,data:C.commonEventArgs.data}}));else for(g=K.length,h=!E||"top"!=N&&"bottom"!=N?0:g-1;!E||"top"!=N&&"bottom"!=N?h<g:h>=0;!E||"top"!=N&&"bottom"!=N?h++:h--)for(_=I.fill?I.fill._gradientStop?I.fill._gradientStop:I.fill:ej.util.isNullOrUndefined(P.seriesColors[h])?P.pointColors[h]:P.seriesColors[h],f=(m=K[h]).name?m.name:"series"+h,"visible"==m.visibleOnLegend.toLowerCase()&&(C=this._triggerLegendEvent(f,_,h),Z.push(q={Text:C.legendItem,displayText:C.commonEventArgs.data.legendItem.Text,Font:(T=C.commonEventArgs.data.legendItem.LegendStyle).Font,SeriesIndex:h,fill:T.Color,visibility:m.visibility,Shape:C.commonEventArgs.data.legendItem.Shape,LegendStyle:T,CommonEventArgs:{cancel:C.commonEventArgs.cancel,data:C.commonEventArgs.data}})),n=(l=m.trendlines).length,e=0;e<n;e++)d=l[e],_=I.fill?I.fill._gradientStop?I.fill._gradientStop:I.fill:d.fill,f=d.name?d.name:"series"+h,""!=d.visibility&&"visible"==d.visibleOnLegend.toLowerCase()&&(q={Text:(C=this._triggerLegendEvent(f,_,h)).legendItem,displayText:C.commonEventArgs.data.legendItem.Text,Font:(T=C.commonEventArgs.data.legendItem.LegendStyle).Font,SeriesIndex:h,trendLineIndex:e,fill:T.Color,isTrendLine:!0,visibility:"visible"==m.visibility.toLowerCase()?d.visibility:"hidden",Shape:C.commonEventArgs.data.legendItem.Shape,LegendStyle:T,CommonEventArgs:{cancel:C.commonEventArgs.cancel,data:C.commonEventArgs.data}},Z.push(q));for(b=Z.length,h=0;h<b;h++)L=(i=Z[h]).CommonEventArgs.data.style.ShapeSize.width,y=k._getLegendSize(i),X=D(this.model._legendMaxWidth>0?this.model._legendMaxWidth+V+L:y.Width,X),H=D("wrap"==ne||"wrapandtrim"==ne?y.Height*this.model._legendMaxHeight:y.Height,H);for(U=H+2*te,W=X,(ee||J)&&(W=(a=k._legendItemBounds(Z.length,X+V,H+V)).LegendWidth,U=a.LegendHeight,"top"===N||"bottom"===N||"custom"===N?U=U-V+te:W-=V),t=0;t<b;t++)m=P.series[(i=Z[t]).SeriesIndex],y=k._getLegendSize(i),("wrap"==ne||"wrapandtrim"==ne)&&(y.Width=X,y.Height=H),J||ee||("top"==N||"bottom"==N||"custom"==N?((F+=y.Width+V)>de&&0!=t?(W=D(W,F-=y.Width+V),F=y.Width+V,G++,U+=H+V):W=D(W,F),B=D(B,H)):((B+=y.Height+V)>le?(U=D(U,B-=y.Height+V),B=y.Height+V,W+=X+V):U=D(U,B),F=D(F,X))),w="visible"==i.visibility.toLowerCase()?k.svgRenderer.createGradientElement("legend"+t,Z[t].fill,0,0,0,le,k.gLegendEle):"gray",i.CommonEventArgs.data.legendItem.LegendStyle.Color=w,(s=J||ee?{Width:X,Height:H}:y)._Width=y.Width,i.isTrendLine&&(i.TrendLineIndex=i.trendLineIndex,c=m.trendlines[i.trendLineIndex].type.toLowerCase(),i.CommonEventArgs.data.legendItem.drawType=i.drawType="linear"==c||"movingaverage"==c?"line":"spline"),Z[t].Bounds=s,P.legendCollection.push(i);"top"===N||"bottom"===N||"custom"===N?(B+=20,P.LegendBounds={Width:D(W=ie.width>W-V?ie.width+20+V:W+20,F+=10)-V,Height:D(U,B),Rows:G}):(B+=10,P.LegendBounds={Width:D(W=ie.width>W?ie.width+20:W+20,F+=10),Height:D(U,B)+10-V,Columns:G}),P.LegendViewerBounds={Width:"0",Height:"0"},""==R||null==R?(o=O("left"==N||"right"==N||"custom"==N?z:z/100*parseInt("20%")),P.LegendViewerBounds.Height=A(o,P.LegendBounds.Height)):P.LegendViewerBounds.Height=-1!=R.indexOf("%")?O(z/100*parseInt(R)):parseInt(R),""==M||null==M?(r=O("top"==N||"bottom"==N||"custom"==N?Y:Y/100*parseInt("20%")),P.LegendViewerBounds.Width=A(r,P.LegendBounds.Width)):P.LegendViewerBounds.Width=-1!=M.indexOf("%")?O(Y/100*parseInt(M)):parseInt(M)}else P.LegendBounds={Width:0,Height:0},P.LegendViewerBounds={Width:0,Height:0};v=$(k.legendContainer),x=$(k.legendSvgContainer),I.enableScrollbar?(P.LegendActualBounds=P.LegendViewerBounds,v.removeAttr("style"),v.css({visibility:"hidden",width:P.LegendViewerBounds.Width,height:P.LegendViewerBounds.Height}),x.css({height:P.LegendBounds.Height,width:P.LegendBounds.Width}),I._ejScroller?(I._ejScroller&&E&&v.addClass("e-rtl"),$("#"+v[0].id).ejScroller({width:P.LegendViewerBounds.Width,height:P.LegendViewerBounds.Height})):(v.css({overflow:"scroll"}),v.hasClass("e-rtl")&&v.removeClass("e-rtl")),P.LegendBounds.Width>P.LegendViewerBounds.Width&&P.LegendBounds.Height>P.LegendViewerBounds.Height?I._ejScroller?(ae=$(".e-hscrollbar").height()||0,se=$(".e-vscrollbar").width()||0):(v.css({overflow:"scroll"}),ae=v[0].offsetHeight-2*re-v[0].clientHeight,se=v[0].offsetWidth-2*re-v[0].clientWidth):P.LegendBounds.Width>P.LegendViewerBounds.Width?I._ejScroller?(ae=$(".e-hscrollbar").height()||0,se=0):(v[0].style.overflowX="scroll",v[0].style.overflowY="hidden",ae=v[0].offsetHeight-2*re-v[0].clientHeight,se=0):P.LegendBounds.Height>P.LegendViewerBounds.Height&&(I._ejScroller?(ae=0,se=$(".e-vscrollbar").width()):(v[0].style.overflowY="scroll",v[0].style.overflowX="hidden",ae=0,se=v[0].offsetWidth-2*re-v[0].clientWidth))):(P.LegendActualBounds=P.LegendBounds,""!=M&&null!=M&&(P.LegendActualBounds.Width=parseInt(M)),""!=R&&null!=R&&(P.LegendActualBounds.Height=parseInt(R))),P.LegendActualBounds.Height+=Math.abs(ae),P.LegendActualBounds.Width+=Math.abs(se),P.LegendActualBounds.hScrollSize=ae,P.LegendActualBounds.vScrollSize=se},GetPointXYOrgin:function(e,t,i,s){return{X:(e-i)/(this.model.axes.PrimaryXaxis.visibleRange.max-i)*this.model.m_AreaBounds.Width,Y:(t-s)/(this.model.axes.PrimaryYaxis.visibleRange.max-s)*(this.model.m_AreaBounds.Height-this.GetPointXY(this.model.axes.PrimaryXaxis.visibleRange.min,Math.max(this.model.axes.PrimaryYaxis.visibleRange.min,0)).Y)}},_wrap:function(e,t,i,s,a,o){var r,n,l,d,h,c,u,p=i,m=o.width,g=[],_=[],f=p.length,b=0,v=i.split(" "),x=v.length;if("wrap"==s){if(m>t)for(n=1;n<=p.length;n++)i=p.substring(0,n),(m=ej.EjSvgRender.utils._measureText(i,null,a).width)>t&&(i=p.substring(0,n-1),g[b]=i,r=(p=p.slice(n-1,f)).split(" "),p=v.indexOf(r[0])>-1?p:"-"+p,l=ej.EjSvgRender.utils._measureText(i,null,a).width,b++,n=0);g[b]=i}else if("wrapandtrim"==s)for(d=0,b=0;b<x;b++)if(h=v[b],(c=ej.EjSvgRender.utils._measureText(h,null,a).width)<t&&m>t){for(;b<x;){if(!((c=ej.EjSvgRender.utils._measureText(h,null,a).width)+(u=v[b+1]?ej.EjSvgRender.utils._measureText(v[b+1],null,a).width:0)<=t&&u>0)){d=Math.max(d,c);break}h=h.concat(" "+v[b+1]),b++}g.push(h)}else{if(!(m>t)){g.push(i);break}_.push(h),h=ej.EjSvgRender.utils._trimText(h,t,a),l=ej.EjSvgRender.utils._measureText(h,null,a).width,d=Math.max(d,l),g.push(h)}return{text:g,unTrimmedText:_}},getMultiLevelLabelSize:function(e){var t,i=0;e._multiLevelLabelHeight=0;for(var s,a,o,r,n,l,d,h,c,u,p,m=[],g=[],_=[],f=e.multiLevelLabels.length,b=e.visibleRange,v=e.orientation.toLowerCase(),x=[],y="vertical"==v?e.length:e.width?e.width:this.model.primaryYAxis.AxisMaxWidth?e.length-this.model.primaryYAxis.AxisMaxWidth:e.length,w=0;w<f;w++)c=(s=e.multiLevelLabels[w]=m[w]=$.extend(!0,{},this.model.multiLevelLabelsDefault,e.multiLevelLabels[w])).border.type.toLowerCase(),a=s.level,!s.visible||""==s.text||ej.util.isNullOrUndefined(s.start)||ej.util.isNullOrUndefined(s.end)||(o=Math.ceil(ej.EjSvgRender.utils._getPointXY(s.start,b,e.isInversed)*y),r=Math.ceil(ej.EjSvgRender.utils._getPointXY(s.end,b,e.isInversed)*y),n=ej.EjSvgRender.utils._measureText(s.text,null,s.font),p=s.textOverflow.toLowerCase(),l=ej.util.isNullOrUndefined(s.maximumTextWidth)?r-o:s.maximumTextWidth,d="vertical"==v?s.maximumTextWidth?s.maximumTextWidth:n.width:n.height,d+=2*s.border.width,n.width>l-10&&("wrap"==p||"wrapandtrim"==p)&&(h=(h=this._wrap(e,l-10,s.text,p,s.font,n)).text,d="vertical"==v?l-10:d*h.length),g[a]=ej.util.isNullOrUndefined(g[a])||g[a]<d?d:g[a]);for(m.sort((function(e,t){return parseFloat(e.level)-parseFloat(t.level)})),e.multiLevelLabels.sort((function(e,t){return parseFloat(e.level)-parseFloat(t.level)})),t=0;t<m.length;t++)0==t?(e.multiLevelLabels[t]._level=m[t]._level=0,u=0):m[t].level>u+1?(e.multiLevelLabels[t]._level=m[t]._level=u+1,u=m[t]._level):(e.multiLevelLabels[t]._level=m[t]._level=m[t].level,u=m[t].level>u?m[t].level:u),"curlybrace"==c&&(x[e.multiLevelLabels[t]._level]=!0);for(w=0;w<g.length;w++)_[w]=i,ej.util.isNullOrUndefined(g[w])?(g.splice(w,1),w--):(i="brace"==c?i+g[w]:i+g[w]+5,x[w]&&(i+=10,g[w]+=10));return e._multiLevelLabelHeight=i,e.multiLevelLabelHeight=g,e.prevHeight=_,i},_saturationColor:function(e,t){e=this.colorNameToHex(e),(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var i,s="#",a=0;a<3;a++)i=parseInt(e.substr(2*a,2),16),s+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16))).substr(i.length);return s},_drawChartAreaRect:function(){var e,t,i=this.model.background&&this.model.background._gradientStop?"url(#"+this.svgObject.id+"_backGradient)":this.model.background;this.model.backGroundImageUrl&&(i="transparent"),t={id:this.svgObject.id+"_SvgRect",x:(e=this.model.border).width/2,y:e.width/2,width:$(this.svgObject).width()-2*e.width,height:$(this.svgObject).height()-2*e.width,fill:i,opacity:e.opacity,"stroke-width":e.width,stroke:e.color,class:"e-chartborder"},this.svgRenderer.drawRect(t,this.svgObject),this.model.backGroundImageUrl&&this._drawBackImage(),"cartesianaxes"!=this.model.AreaType||this.model.enable3D||this.svgRenderer.drawRect({id:this.svgObject.id+"_ChartArea",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:this.model.chartArea.background,"stroke-width":this.model.chartArea.border.width,opacity:this.model.chartArea.border.opacity,stroke:this.model.chartArea.border.color,class:"e-chartareaborder"},this.svgObject)},axesIndexCount:function(e,t){for(var i,s=[],a=0;a<e.length;a++)"vertical"==(i=e[a]).orientation.toLowerCase()?i.rowIndex==t&&s.push(i):i.columnIndex==t&&s.push(i);return s},axesCount:function(e){var t,i,s,a=[],o=[],r=0,n=this.model;if($.each(e,(function(e,t){"vertical"==t.orientation.toLowerCase()?(r=n.rowDefinitions?n.rowDefinitions.length:0,(0==e||t.rowIndex!=a[a.length-1].axis.rowIndex)&&a.push({axis:t,index:t.rowIndex})):(r=n.columnDefinitions?n.columnDefinitions.length:0,(0==e||t.columnIndex!=a[a.length-1].axis.columnIndex)&&a.push({axis:t,index:t.columnIndex}))})),r>(t=a.length))for(t=r,i=0;i<r;i++)o.push(i);else for(s=0;s<t;s++)o.push(a[s].index);return{length:t,indexValue:o}},_calRowSize:function(){var e,t,i,s,a,o,r=0,n=[],l=0,d=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;if(null!=this.model._rowDefinitions[0].rowDefinitions)for(e=0,t=this.model._rowDefinitions.length;e<t;e++)(i=this.model._rowDefinitions[e].rowDefinitions).rowHeight=Math.abs(i.rowHeight),s=0,"percentage"==i.unit.toLowerCase()?(a=this._axisRowDefinitionSize(this.model.rowDefinitions),s=Math.floor(this.model.m_AreaBounds.Height*(i.rowHeight/a))):s=i.rowHeight,0==e&&n.push(d),n.push(d-s-l),l+=s;else{for(o=Math.floor(this.model.m_AreaBounds.Height/this.model._rowDefinitions.length),r=d;r>=this.model.m_AreaBounds.Y;r-=o)n.push(r),o=o||1;n.length&&n.length<=1&&n.push(r)}return n},_calColumnSize:function(){var e,t,i,s,a,o,r,n,l=[],d=this.model.m_AreaBounds.X,h=this.model.m_AreaBounds.Width,c=0,u=this.model._columnDefinitions;if(null!=u[0].columnDefinitions)for(e=0,t=u.length;e<t;e++)(i=u[e].columnDefinitions).columnWidth=Math.abs(i.columnWidth),"percentage"==i.unit.toLowerCase()?(a=this._axisColumnDefinitionSize(this.model.columnDefinitions),s=Math.floor(h*(i.columnWidth/a))):s=i.columnWidth,0==e&&l.push(d),l.push(d+s+c),c+=s;else{for(o=Math.floor(h/u.length),r=d,n=d+h;r<=n;r+=o)l.push(r),o=o||1;l.length&&l.length<=1&&l.push(r)}return l},_calculateAxisSize:function(e){for(var t,i,s,a,o,r,n=!0,l=!0,d=this._calColumnSize(),h=this.model._columnDefinitions,c=0,u=h.length;c<u;c++){var p=d[c],m=d[c+1],g=0,_=0,f=!0,b=!0,v=this.model.m_AreaBounds.Y,x=v+this.model.m_AreaBounds.Height;for(o=0,t=h[c].axis.length;o<t;o++){var y=h[c].axis[o],w=0,S=y._opposed;if(e.axes[y.name]._validCross||(S?b&&(l||0==_)?(w=v,b=!1):(w=v-=h.farSizes[_],_++):f&&(n||0==g)?(w=x,f=!1):(w=x+=h.nearSizes[g],g++)),y.columnSpan){if(h[c].index!=y.columnIndex)continue;m=d[u>=c+y.columnSpan?c+y.columnSpan:c+1],S||0!=g||(n=f),S&&0==_&&(l=b)}else m=d[c+1],n=!0,l=!0;y.Location={},y.Location.X1=p+y.plotOffset,y.Location.Y1=w,y.Location.X2=m-y.plotOffset,y.Location.Y2=w,y.x=y.Location.X1,y.y=y.Location.Y1,y.width=y.Location.X2-y.Location.X1,y.height=y.Location.Y2-y.Location.Y1}}for(n=!0,l=!0,i=this._calRowSize(),c=0,a=(s=this.model._rowDefinitions).length;c<a;c++){var C=i[c],T=i[c+1],L=0,k=0,P=!0,j=!0,D=this.model.m_AreaBounds.X,A=D,O=D+this.model.m_AreaBounds.Width;for(o=0,r=s[c].axis.length;o<r;o++){var I=0,R=s[c].axis[o];if(S=R._opposed,e.axes[R.name]._validCross||(S?j&&(l||0==l)?(I=O,j=!1):(I=O+=s.farSizes[k],k++):P&&(n||0==L)?(I=D,P=!1):(I=A-=s.nearSizes[L],L++)),R.rowSpan){if(s[c].index!=R.rowIndex)continue;T=i[a>=c+R.rowSpan?c+R.rowSpan:c+1],S||0!=L||(n=P),S&&0==k&&(l=j)}else T=i[c+1],n=!0,l=!0;R.Location={},R.Location.X1=I,R.Location.Y1=C-R.plotOffset,R.Location.X2=I,R.Location.Y2=T+R.plotOffset,R.x=R.Location.X1,R.y=R.Location.Y2,R.height=R.Location.Y1-R.Location.Y2,R.width=R.axisLine.width}}},_validateCrossing:function(e){if(e._opposedPosition=!1,null!=e.crossesAt){var t=this._getCrossAxis(this.model._axes,"horizontal"==e.orientation.toLowerCase(),e.crossesInAxis);return e._crossValue=this._getCrossValue(e,t,t._valueType),((t.isInversed?!e.opposedPosition:e.opposedPosition)?e._crossValue<=t.visibleRange.min:e._crossValue>=t.visibleRange.max)&&(e._opposedPosition=!0),t.visibleRange.min<e._crossValue&&t.visibleRange.max>e._crossValue}return!1},_axisCrossing:function(e,t,i){var s="horizontal"==e.orientation.toLowerCase(),a=this._getCrossAxis(this.model._axes,s,e.crossesInAxis),o=Math.abs((a.isInversed?a.visibleRange.max:a.visibleRange.min)-e._crossValue);this._locateAxis(e,a,s,o),t||(i._crossAxisOverlap=this._avoidOverlapping(e,this.model.m_AreaBounds,s,e.opposedPosition,i)||i._crossAxisOverlap)},_locateAxis:function(e,t,i,s){var a=(i?t.height:t.width)*s/t.visibleRange.delta;i?e.y=t.y+t.height-a:e.x=t.x+a},_avoidOverlapping:function(e,t,i,s,a){var o=0,r=e.showNextToAxisLine?a.axes[e.name]._bounds:0;if(i){if(!s&&e.y+r>t.Y+t.Height)return t.Height-=o=e.y+r-t.Y-t.Height,this._recalculateSpace(e,i,s,o),!0;if(s&&e.y-r<t.Y)return t.Y+=o=r-(e.y-t.Y),t.Height-=o,this._recalculateSpace(e,i,s,o),!0}else{if(!s&&e.x-r<t.X)return t.X+=o=r-(e.x-t.X),t.Width-=o,this._recalculateSpace(e,i,s,o),!0;if(s&&e.x+r>t.X+t.Width)return t.Width-=o=e.x+r-t.X-t.Width,this._recalculateSpace(e,i,s,o),!0;if("inside"==e.labelPosition&&e.x+r>t.X+t.Width)return t.Width-=o=e.x+r-t.X-t.Width,this._recalculateSpace(e,i,s,o,e.showNextToAxisLine),!0}},_recalculateSpace:function(e,t,i,s,a){var o,r,n,l,d,h,c,u;if(t){for(d=0,h=(r=this.model._rowDefinitions)[n=i?r.length-1:0].axis.length;d<h;d++)r[n].axis[d].height-=s,r[n].axis[d].Location.Y2-=s,i&&(r[n].axis[d].Location.Y1=r[n].axis[d].y+=s);for(o=e.columnIndex,d=0,h=(r=this.model._columnDefinitions).length;d<h;d++)if(d!==o)for(c=0,u=r[d].axis.length;c<u;c++)r[d].axis[c]._opposed===i&&(r[d].axis[c].Location.Y1=r[d].axis[c].Location.Y2=r[d].axis[c].y+=(i?1:-1)*s)}else{for(d=0,h=(r=this.model._columnDefinitions)[n=i?r.length-1:0].axis.length;d<h;d++)r[n].axis[d].width-=s,a||(i?r[n].axis[d].Location.X2-=s:r[n].axis[d].Location.X1=r[n].axis[d].x+=s);for(l=e.rowIndex,d=0,h=(r=this.model._rowDefinitions).length;d<h;d++)if(d!==l)for(c=0,u=r[d].axis.length;c<u;c++)r[d].axis[c]._opposed===i&&(r[d].axis[c].Location.X1=r[d].axis[c].Location.X2=r[d].axis[c].x+=(i?-1:1)*s)}},_getCrossValue:function(e,t,i){switch(i.toLowerCase()){case"category":return-1!=t.labels.indexOf(e.crossesAt)?t.labels.indexOf(e.crossesAt):e.crossesAt;case"datetime":return isNaN(Date.parse(e.crossesAt))?null:Date.parse(e.crossesAt);case"logarithmic":return Math.log(e.crossesAt)/Math.log(t.logBase)}return e.crossesAt},_getXCrossValue:function(e,t,i){var s=t.crossesInAxis,a=e._yAxisName;return(i.axes[t.name]._validCross||null==i.axes[t.name]._validCross)&&t.crossesAt&&(!s&&a===this.model.primaryYAxis.name||s&&this._getCrossAxis(this.model._axes,!0,s).name===a)?t.crossesAt:0},_getAxisByName:function(e,t,i){if(i)for(var s=0,a=e.length;s<a;s++)if(e[s].name===i&&(t?"vertical"==e[s].orientation:"horizontal"==e[s].orientation))return e[s]},_getCrossAxis:function(e,t,i){return this._getAxisByName(e,t,i)||(this.model.requireInvertedAxes?t?this.model.primaryXAxis:this.model.primaryYAxis:t?this.model.primaryYAxis:this.model.primaryXAxis)},_arrangeAxis:function(){for(var e,t,i,s,a,o,r,n,l,d,h,c,u,p,m=this,g=0;g<this.model._axes.length;g++)"horizontal"==(u=this.model._axes[g]).orientation.toLowerCase()?(m.model.hAxes.push(u),u.columnIndex=ej.util.isNullOrUndefined(u.columnIndex)?0:u.columnIndex,m.model.hAxes[m.model.hAxes.length-1].columnIndex=u.columnIndex):"vertical"==u.orientation.toLowerCase()&&(m.model.vAxes.push(u),u.rowIndex=ej.util.isNullOrUndefined(u.rowIndex)?0:u.rowIndex,m.model.vAxes[m.model.vAxes.length-1].rowIndex=u.rowIndex,(p=ej.util.isNullOrUndefined(m.model.rowDefinitions)?null:m.model.rowDefinitions[u.rowIndex])&&(u.axisBottomLine={},u.axisBottomLine.visible=!0,u.axisBottomLine.lineWidth=p.lineWidth,u.axisBottomLine.color=p.lineColor));if(this.model.hAxes=ej.DataManager(this.model.hAxes,ej.Query().sortBy("columnIndex")).executeLocal(),this.model.vAxes=ej.DataManager(this.model.vAxes,ej.Query().sortBy("rowIndex")).executeLocal(),e=this.axesCount(m.model.vAxes),m.model._rowDefinitions=[],m.model.vAxes.length>0)for(t=0;t<e.length;t++)s=(i=m.model.rowDefinitions)?i[t]?i[t]:i[0]:null,m.model._rowDefinitions.push({axis:this.axesIndexCount(m.model.vAxes,e.indexValue[t]),index:e.indexValue[t],rowDefinitions:s});if(o=this._axisFilter(a=m.model._rowDefinitions,"rowSpan"),this._SpanningAxes(a,o,!0),r=this.axesCount(m.model.hAxes),m.model._columnDefinitions=[],m.model.hAxes.length>0)for(n=0;n<r.length;n++)d=(l=m.model.columnDefinitions)?l[n]?l[n]:l[0]:null,m.model._columnDefinitions.push({axis:this.axesIndexCount(m.model.hAxes,r.indexValue[n]),index:r.indexValue[n],columnDefinitions:d});c=this._axisFilter(h=m.model._columnDefinitions,"columnSpan"),this._SpanningAxes(h,c,!1),this._axisSize()},_SpanningAxes:function(e,t,i){for(var s,a,o,r,n,l,d=0,h=t.length;d<h&&null!=(s=t[d]);d++)if(a=i?s.rowSpan:s.columnSpan,null!=e[o=i?s.rowIndex:s.columnIndex])for(r=e[o].axis.indexOf(s),n=1,l=o+1;n<a&&l<e.length;n++,l++)e[l].axis.length>=r&&e[l].axis.splice(r,0,s)},_axisFilter:function(e,t){var i=[];return e.filter((function(e){for(var s=ej.DataManager(e.axis,ej.Query().where(t,">",1)).executeLocal(),a=0,o=s.length;a<o;a++)i.push(s[a])})),i},_axisSize:function(){for(var e,t,i,s,a,o,r=this._getLegendSpace(),n=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right-2*this.model.elementSpacing-r.leftLegendWidth-r.rightLegendWidth,l=Math.floor(n/this.axesCount(this.model.hAxes).length),d=$(this.svgObject).height()-this.model.margin.top-this.model.margin.bottom-2*this.model.elementSpacing-r.topLegendHeight-r.bottomLegendHeight-r.modelTitleHeight-r.modelsubTitleHeight,h=Math.floor(d/this.axesCount(this.model.vAxes).length),c=0;c<this.model._axes.length;c++)"horizontal"==(e=this.model._axes[c]).orientation.toLowerCase()?"polaraxes"!=this.model.AreaType?(i=l,(t=ej.util.isNullOrUndefined(this.model.columnDefinitions)?[]:this.model.columnDefinitions[e.columnIndex])&&(t.unit=null==t.unit?"percentage":t.unit,t.columnWidth=null==t.columnWidth?100:t.columnWidth,"percentage"==t.unit.toLowerCase()?(o=this._axisColumnDefinitionSize(this.model.columnDefinitions),i=Math.floor(l*(t.columnWidth/o))):i=t.columnWidth),e.length=e.columnSpan?e.columnSpan*i:i):e.length=n>2*d?n-d:n:"vertical"==e.orientation.toLowerCase()&&("polaraxes"!=this.model.AreaType?(a=h,(s=ej.util.isNullOrUndefined(this.model.rowDefinitions)?[]:this.model.rowDefinitions[e.rowIndex])&&(s.unit=null==s.unit?"percentage":s.unit,s.rowHeight=null==s.rowHeight?100:s.rowHeight,"percentage"==s.unit.toLowerCase()?(o=this._axisRowDefinitionSize(this.model.rowDefinitions),a=Math.floor(h*(s.rowHeight/o))):a=s.rowHeight),e.length=e.rowSpan?e.rowSpan*a:a):e.length=d/2)},_axisRowDefinitionSize:function(e){var t,i=0;if(e)for(t=0;t<e.length;t++)i+=e[t].rowHeight;return i>100?i:100},_axisColumnDefinitionSize:function(e){var t,i=0;if(e)for(t=0;t<e.length;t++)i+=e[t].columnWidth;return i>100?i:100},_axisMeasure:function(e,t,i,s){var a,o=0,r=0;e.axisLine.width=e.axisLine.width<0?0:e.axisLine.width,e.majorTickLines.size=e.visible?e.majorTickLines.size<0?0:e.majorTickLines.size:0;var n=!this.model.enable3D&&e.visible&&e.axisLine.visible&&e.axisLine.width,l=ej.EjSvgRender.utils._measureText(e.title.text,t,e.title.font),d=e.visible?this.model.elementSpacing:0;return"vertical"==i?(r=e._LableMaxWidth.width,o=""!=e.title.text&&e.title.visible&&e.visible?8===document.documentMode?l.width:l.height+2*d:0):(r=e._LableMaxWidth.height,o=""!=e.title.text&&e.title.visible&&e.visible?l.height+d:0),o="inside"==e.title.position.toLowerCase()?0:o,a=this.getMultiLevelLabelSize(e),e.AxisMaxWidth=0==s&&"inside"==e.tickLinesPosition&&"inside"==e.labelPosition?o+a+n+d:0==s&&"inside"==e.tickLinesPosition&&"inside"!=e.labelPosition?o+a+n+d+r:0==s&&"inside"!=e.tickLinesPosition&&"inside"==e.labelPosition?o+a+n+d+e.majorTickLines.size:o+a+n+d+e.majorTickLines.size+r,e.AxisMaxWidth+=e._isScroll?18:0,e.AxisMaxWidth},_arraySum:function(e){for(var t=0,i=0;i<e.length;i++)t+=parseFloat(e[i])||0;return t},_calSpace:function(e,t,i,s){for(var a,o,r,n,l,d,h,c=[],u=[],p=0;p<t.length;p++)for(a=0,o=0,r=0;r<t[p].axis.length;r++)l=s.axes[(n=t[p].axis[r]).name]._bounds=this._axisMeasure(n,e,i,r),h=(d=s.axes[n.name]._validCross=this._validateCrossing(n))?0:l,n._opposed=n.opposedPosition?!n._opposedPosition:n._opposedPosition||n.opposedPosiiton||!1,d&&t[p].axis[r].showNextToAxisLine||(n.showNextToAxisLine||(h="inside"==n.labelPosition?l-n._multiLevelLabelHeight:l),n._opposed?(u.length<=o?u.push(h):u[o]<h&&(u[o]=h),o++):(c.length<=a?c.push(h):c[a]<h&&(c[a]=h),a++));return{nearSizes:c,farSizes:u}},_getLegendSpace:function(){var e,t,i=this.model,s=i.legend,a=s.position.toLowerCase(),o=i.LegendActualBounds,r=ej.EjSvgRender.utils._measureText,n=i.title,l=n.subTitle,d=i.elementSpacing,h=i.margin,c=i.svgWidth,u=s.border.width,p=0,m=0,g=0,_=0,f=0,b=0,v=(n.text.split(" "),n.enableTrim),x="auto"==(x=n.maximumWidth).toString()||""==x.toString()?.75*c:parseInt(x),y=n.textOverflow.toLowerCase(),w=n.text,S=n.visible,C=ej.EjSvgRender.utils._measureText(n.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,n.font),T=(l.text.split(" "),l.enableTrim),L="auto"==(L=l.maximumWidth).toString()||""==L.toString()?.75*c:parseInt(L),k=l.textOverflow.toLowerCase(),P=l.text,j=l.visible,D=ej.EjSvgRender.utils._measureText(l.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,l.font),A=!!(S&&v&&C.width>x),O=!!(j&&T&&D.width>L),I="wrap"==y||"wrapandtrim"==y,R="wrap"==k||"wrapandtrim"==k;this.model.titleWrapTextCollection=[],this.model.subTitleWrapTextCollection=[],this.model.trimTooltip=!1,this.model.subTitleTooltip=!1,s.visible&&(m=o.Width+5+d+2*u,g="left"==a?m:0,_="right"==a?m:0,s.title.text&&(p=r(s.title,null,s.title.font).height),f="top"==a?o.Height+p+2*u:0,b="bottom"==a?o.Height+p+2*u:0),A&&"wrap"==y||A&&"wrapandtrim"==y?e=this._rowsCalculation({text:w,font:n.font},x,y):("wrapandtrim"==y||"wrap"==y)&&(e=this._rowsCalculation({text:w,font:n.font},ej.EjSvgRender.utils._measureText(w,null,n.font).width,y)),this.model.titleWrapTextCollection=e?e.textCollection:"",this.model.titleMaxWidth=e?e.wordMax:x,O&&"wrap"==k?t=this._rowsCalculation({text:P,font:l.font},L,k):O&&"wrapandtrim"==k?(t=this._rowsCalculation({text:P,font:l.font},L,k),this.model.subTitleTooltip=this.model.trimTooltip):("wrapandtrim"==k||"wrap"==k)&&(t=this._rowsCalculation({text:P,font:l.font},L,k)),this.model.subTitleWrapTextCollection=t?t.textCollection:"",this.model.subTitleMaxWidth=t?t.wordMax:L;var M=r(n.text,c-h.left-h.right,n.font).height,E=r(l.text,c-h.left-h.right,l.font).height;return{leftLegendWidth:g,rightLegendWidth:_,topLegendHeight:f,bottomLegendHeight:b,modelTitleHeight:""!=n.text&&n.visible?v&&I&&C.width>x?M*this.model.titleWrapTextCollection.length+d:M+d:0,modelsubTitleHeight:""!=l.text&&l.visible&&n.visible?T&&R&&D.width>L?E*this.model.subTitleWrapTextCollection.length+d:E+d:0}},_arraySome:function(e,t){for(var i=!1,s=this.model.zooming.enableScrollbar,a=e.length,o=0;o<a;o++)i=i||(e[o]._isScroll&&e[o].maxPointLength<e[o].scrollbarSettings.pointsLength||e[o].zoomFactor<1&&e[o].scrollbarSettings.enableScrollbar&&s)&&e[o].orientation.toLowerCase()==t;return i},_calculateAreaBounds:function(e){var t,i,s=this,a=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,o=s.model.border.width;this.model.zooming.type.toLowerCase(),s.model.scrollerSize=18,this.model._yScroll=this._arraySome(this.model._axes,"vertical"),this.model._xScroll=this._arraySome(this.model._axes,"horizontal"),t=this._calSpace(a,s.model._rowDefinitions,"vertical",e),s.model._rowDefinitions.nearSizes=t.nearSizes,s.model._rowDefinitions.farSizes=t.farSizes;var r=this._arraySum(t.nearSizes),n=this._arraySum(t.farSizes),l=this._getLegendSpace(),d=r+l.leftLegendWidth+s.model.margin.left+o,h=n+l.rightLegendWidth+s.model.margin.right+s.model.margin.left+2*o,c=$(this.svgObject).width(),u=c-(d+h);if((u=Math.round(u)<=0?0:u)<=0&&"cartesianaxes"==this.model.AreaType)$(this.svgObject).width(c-u+1),this._calculateAreaBounds(e);else{i=this._calSpace(a,s.model._columnDefinitions,"horizontal",e),s.model._columnDefinitions.nearSizes=i.nearSizes,s.model._columnDefinitions.farSizes=i.farSizes;var p=this._arraySum(i.nearSizes),m=this._arraySum(i.farSizes),g=m+this.model.margin.top+(p||m?this.model.elementSpacing:0)+l.modelTitleHeight+l.modelsubTitleHeight+l.topLegendHeight+o,_=p+this.model.margin.bottom+l.bottomLegendHeight+2*o,f=Math.abs($(this.svgObject).height()-(g+_));this.model.m_AreaBounds={X:d,Y:g,Width:u,Height:f=0==f?1:f},this.model.m_Spacing={Left:d,Top:g,Right:h,Bottom:_},this.model.enableCanvasRendering?(this.canvasX=d,this.canvasY=g,this.canvasWidth=u,this.canvasHeight=f):this.canvasX=this.canvasY=this.canvasHeight=this.canvasWidth=0}}},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}}(jQuery),ej.EjSvgScrollbarRender=function(e,t){var i,s;this.svgSupport=!!window.SVGSVGElement,i=jQuery(e).attr("id"),this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[],this.svgSupport?(this.svgLink="http://www.w3.org/2000/svg",this.scrollsvgObj[t.index]=document.createElementNS(this.svgLink,"svg"),this.scrollsvgObj[t.index].setAttribute("id","scrollbar_"+i+t.index)):(s=document,this.scrollsvgObj[t.index]=s.createElement("div"),this.scrollsvgObj[t.index].style.position="relative",this.scrollsvgObj[t.index].setAttribute("id","scrollbar_"+i+t.index))},function(e){ej.EjSvgScrollbarRender.prototype={_initializeScrollbarVariables:function(e){e.offsetLeftX=0,e.rectWidth=e.offsetRightX=e.oldWidth=e.width,e.startX=0,e.endX=0,e.scrollbarLoaded=!1,(e.zoomPosition||e.zoomFactor)&&(e.offsetLeftX=e.zoomPosition*e.width,e.rectWidth=e.zoomFactor*e.width)},_scrollbarUpdate:function(e){var t,i=15,s=parseFloat(e.width)-30;e.offsetLeftX=e.scrollbarLoaded?e.offsetLeftX-i:e.offsetLeftX,e.offsetLeftX=e.offsetLeftX<i?0:e.offsetLeftX;var a=e.offsetLeftX/e.oldWidth*s+i,o=e.rectWidth/e.oldWidth*s;e._diff=o<44?44-o:0,o=o>44?o:44,e.oldWidth=s,t=a+o,e.rectWidth=o,e.offsetLeftX=e.startX=a,e.offsetRightX=t-i<=a?t+i:t,e.endX=e.width-e.offsetRightX,e.startX=a<i?i:a,a+o>e.width-i&&(e.offsetLeftX=e.startX=e.width-i-o,e.offsetRightX=e.width-i,e.endX=e.width-e.offsetRightX),e.scrollbarLoaded=!0},_renderScrollbar:function(t){var i,s;this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[],e(this.scrollsvgObj[t.index]).empty(),this.scrollsvgObj[t.index]&&e(document).find("[id*= "+this.scrollsvgObj[t.index].id+"]").attr("height","0px");var a=this._id,o=15;this.scrollsvgObj[t.index]=this.scrollbarContainer.scrollsvgObj[t.index];var r=parseFloat(t.width),n=r-30;t.offsetLeftX=t.scrollbarLoaded?t.offsetLeftX-o:t.offsetLeftX,t.offsetLeftX=t.offsetLeftX<o?0:t.offsetLeftX;var l=t.offsetLeftX/t.oldWidth*n+o,d=t.rectWidth/t.oldWidth*n;t._diff=d<44?44-d:0,d=d>44?d:44,t.oldWidth=n,i=(l=l+d>n?n-(d-o):l)+d,t.rectWidth=d,t.offsetLeftX=t.startX=l,t.offsetRightX=l+d,t.endX=t.width-t.offsetRightX,t.scrollbarLoaded=!0,i=i-o<=l?i+o:i,this.scrollbar=this.renderer.createGroup("horizontal"==t.orientation?{id:a+"_scrollbar_"+t.index,transform:"translate("+(this.padding||0)+","+(this.vmlRendering?-5:0)+")"}:{id:a+"_scrollbar_"+t.index,transform:"translate(0,"+t.width+") rotate(270)"});var h=function(e,t,i,s,a,o){var r=" ",n=o.orientation,l=o.opposed;return"vertical"==n&&!l||l&&"vertical"!=n?"M 0 4 v 14 h "+i+" v"+r+-14+" a"+r+4+r+4+r+0+r+0+r+0+r+-4+" -4 h"+r+-(i-8)+" a"+r+4+r+4+r+0+r+0+r+0+r+-4+" 4 z":"M 0 0 v 14 a 4 4 0 0 0 4 4 h "+(i-8)+" a"+r+4+r+4+r+0+r+0+r+0+r+4+r+-4+" v"+" -14 z"}(0,0,r,0,0,t),c={id:a+"_scrollbarBackRect_"+t.index,"stroke-width":1,height:18,width:r,"stroke-linejoin":"round",stroke:"#B4B4B4",fill:"#F7F7F7",class:"e-rangeScroll-backRect"};this.vmlRendering?this.renderer.drawRect(c,this.scrollbar):(c.d=h,this.renderer.drawPath(c,this.scrollbar)),this.renderer.drawRect({id:a+"_scrollbarRightRect_"+t.index,"stroke-width":1,x:r-5,height:18,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"},this.scrollbar),this.renderer.drawRect({id:a+"_scrollbarLeftRect_"+t.index,"stroke-width":1,x:0,height:18,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"},this.scrollbar),this.renderer.drawPath({id:a+"_scrollbarLeftArrow_"+t.index,"stroke-width":1,stroke:"#999999",d:"M 5 9 L 10 14 L 10 3.5 Z",fill:"#999999",class:"e-rangeScroll-arrow"},this.scrollbar),this.renderer.drawPath({id:a+"_scrollbarRightArrow_"+t.index,"stroke-width":1,stroke:"#999999",d:"M "+(r-5)+" 9 L "+(r-10)+" 14 L "+(r-10)+" 3.5 Z",fill:"#999999",class:"e-rangeScroll-arrow"},this.scrollbar),this.renderer.drawRect({id:a+"_scrollbarSelect_"+t.index,x:l,y:0,width:d,rx:4,ry:4,height:17,stroke:"#999999","stroke-width":1,fill:"#CECECE",class:"e-rangeScroll-select"},this.scrollbar),this.centerLine=this.renderer.createGroup({id:a+"_scrollbarCenterLine_"+t.index,transform:"translate("+(l+d/2-7.5)+")"}),this.renderer.drawPath({id:a+"_scrollbarCenterShape_"+t.index,"stroke-width":1,stroke:"#999999",d:"M 0 3.5 L 0 13.5 ZM 5 3.5 L 5 13.5 ZM 10 3.5 L 10 13.5 ZM 15 3.5 L 15 13.5 Z",fill:"#999999",class:"e-rangeScroll-centerShape"},this.centerLine),this.renderer.append(this.centerLine,this.scrollbar),this.renderer.drawRect({id:a+"_leftHeaderHideRect_"+t.index,x:l,y:0,width:11,height:17,fill:"transparent",opacity:0,"stroke-width":1,class:"e-rangeScroll-leftRect"},this.scrollbar),this.renderer.drawCircle({id:a+"_scrollbarLeftHeader_"+t.index,cx:l+8,cy:8.5,r:3,fill:"#999999",stroke:"#999999","stroke-width":1,class:"e-rangeScroll-leftCircle"},this.scrollbar),this.renderer.drawRect({id:a+"_rightHeaderHideRect_"+t.index,x:i-11,y:0,width:11,height:17,fill:"transparent",opacity:0,"stroke-width":1,class:"e-rangeScroll-rightRect"},this.scrollbar),this.renderer.drawCircle({id:a+"_scrollbarRightHeader_"+t.index,fill:"#999999",cx:i-8,cy:8.5,r:3,stroke:"#999999","stroke-width":1,class:"e-rangeScroll-rightCircle"},this.scrollbar),this.renderer.append(this.scrollbar,this.scrollsvgObj[t.index]),"horizontal"==t.orientation?(this.scrollsvgObj[t.index].setAttribute("height",18),this.scrollsvgObj[t.index].setAttribute("width",r)):(this.scrollsvgObj[t.index].setAttribute("height",r),this.scrollsvgObj[t.index].setAttribute("width",18)),this.renderer.append(this.scrollsvgObj[t.index],t.parent),s=this.vmlRendering?t.y+5:t.y,this.scrollsvgObj[t.index].setAttribute("style","ejRangeNavigator"==this.pluginName?"overflow:visible;position:relative;display:block; top:"+(s-t.y)+"px;left:"+t.x+"px":"overflow:visible;position:absolute;display:block; top:"+s+"px;left:"+t.x+"px"),e("#"+a+"_scrollbarSelect_"+t.index).css({cursor:"pointer"}),t.enableResize?(e("#"+a+"_leftHeaderHideRect_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"}),e("#"+a+"_rightHeaderHideRect_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"}),e("#"+a+"_scrollbarRightHeader_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"}),e("#"+a+"_scrollbarLeftHeader_"+t.index).css({cursor:"horizontal"==t.orientation?"w-resize":"n-resize"})):(e("#"+a+"_leftHeaderHideRect_"+t.index).hide(),e("#"+a+"_rightHeaderHideRect_"+t.index).hide(),e("#"+a+"_scrollbarLeftHeader_"+t.index).hide(),e("#"+a+"_scrollbarRightHeader_"+t.index).hide()),this.vmlRendering&&(e("#"+a+"_leftHeaderHideRect_"+t.index).css("visibility","hidden"),e("#"+a+"_rightHeaderHideRect_"+t.index).css("visibility","hidden")),this.scrollbarContainer._bindScrollEvents.call(this,t)},_bindScrollEvents:function(t){function i(t){this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"mousedown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"mousedown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"mousedown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"mousedown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"mousedown",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"mouseup",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"mousedown",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"mouseup",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"mousedown",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"mousedown",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"mouseup",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"mouseup",this.scrollbarContainer._scrollbarUp),this._on(e(this.svgObject),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"mouseup",this.scrollbarContainer._scrollbarUp)}function s(t){this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"touchstart",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"touchstart",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"touchstart",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"touchstart",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"touchstart",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"touchend",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"touchstart",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"touchend",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"touchstart",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"touchstart",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"touchend",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"touchmove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"touchend",this.scrollbarContainer._scrollbarUp),this._on(e(this.scrollsvgObj[t.index]),"touchmove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"touchend",this.scrollbarContainer._scrollbarUp)}var a,o=this._id,r=jQuery.uaMatch(navigator.userAgent),n=!!navigator.userAgent.match(/Trident\/7\./);if(i.call(this,t),window.PointerEvent)this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"pointerdown",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"pointerup",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"pointerdown",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"pointerup",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"pointerdown",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"pointerdown",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"pointerup",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"pointerup",this.scrollbarContainer._scrollbarUp),this._on(e(this.scrollsvgObj[t.index]),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"pointerup",this.scrollbarContainer._scrollbarUp),e(this.scrollsvgObj[t.index]).css("touch-action","none");else if(window.navigator.msPointerEnabled&&!n)this._on(e("#"+o+"_scrollbarLeftHeader_"+t.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_scrollbarRightHeader_"+t.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_leftHeaderHideRect_"+t.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(e("#"+o+"_rightHeaderHideRect_"+t.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"MSPointerDown",this.scrollbarContainer._leftArrowDown),this._on(e("#"+o+"_scrollbarLeftArrow_"+t.index),"MSPointerUp",this.scrollbarContainer._leftArrowUp),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"MSPointerDown",this.scrollbarContainer._rightArrowDown),this._on(e("#"+o+"_scrollbarRightArrow_"+t.index),"MSPointerUp",this.scrollbarContainer._rightArrowUp),this._on(e("#"+o+"_scrollbarSelect_"+t.index),"MSPointerDown",this.scrollbarContainer._scrollSelectRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"MSPointerDown",this.scrollbarContainer._scrollBackRectDown),this._on(e("#"+o+"_scrollbarBackRect_"+t.index),"MSPointerUp",this.scrollbarContainer._scrollBackRectUp),this._on(e(window),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(e(window),"MSPointerUp",this.scrollbarContainer._scrollbarUp),this._on(e(this.scrollsvgObj[t.index]),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(e(this.scrollsvgObj[t.index]),"MSPointerUp",this.scrollbarContainer._scrollbarUp),e(this.scrollsvgObj[t.index]).css("-ms-touch-action","none");else if("chrome"==r.browser.toLowerCase())s.call(this,t);else if(this.isDevice()){var l=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),d=window.location!=window.parent.location?window.parent.navigator.userAgent.toLowerCase():window.navigator.userAgent.toLowerCase(),h=/mobile|tablet|android|kindle/i.test(d);ej.isMobile()&&this.isWindows()||!h&&ej.isMobile()&&l?(i.call(this),e(this.scrollsvgObj[t.index]).css("-ms-touch-action","none")):s.call(this,t)}a="mozilla"==r.browser.toLowerCase()?n?"mousewheel":"DOMMouseScroll":"mousewheel",this._on(e(this.scrollsvgObj[t.index]),a,this.scrollbarContainer._scrollMouseWheel),n&&e(this.scrollsvgObj[t.index]).css("touch-action","none")},_setScrollPosition:function(t,i,s){var a=this._id,o=t+s.rectWidth/2-7.5;e("#"+a+"_scrollbarLeftHeader_"+s.index).attr("cx",t+8),e("#"+a+"_leftHeaderHideRect_"+s.index).attr("x",t),e("#"+a+"_scrollbarRightHeader_"+s.index).attr("cx",i-8),e("#"+a+"_rightHeaderHideRect_"+s.index).attr("x",i-5),e("#"+a+"_scrollbarSelect_"+s.index).attr("x",t),e("#"+a+"_scrollbarSelect_"+s.index).attr("width",s.rectWidth),e("#"+a+"_scrollbarCenterLine_"+s.index).attr("transform","translate("+o+")"),"ejRangeNavigator"==this.pluginName&&(e("#"+a+"_scrollbarLeftHeader_"+s.index).css("left",t),e("#"+a+"_leftHeaderHideRect_"+s.index).css("left",t),e("#"+a+"_scrollbarRightHeader_"+s.index).css("left",i-8),e("#"+a+"_rightHeaderHideRect_"+s.index).css("left",i-5),e("#"+a+"_scrollbarSelect_"+s.index).css("left",t),e("#"+a+"_scrollbarCenterLine_"+s.index).css("left",o))},_calculateScrollLeftMove:function(e,t){t._startX-e>15?(t.startX=t._startX-e,t.offsetLeftX=t.startX,t._offsetRightX=t.startX+t.rectWidth,t.offsetRightX=t._offsetRightX,t.endX=t.width-t.offsetRightX):(t.startX=15,t._offsetLeftX=t.offsetLeftX,t.offsetLeftX=t.startX,t._offsetRightX=t.startX+t.rectWidth,t.offsetRightX=t._offsetRightX,t.endX=t.width-t.offsetRightX)},_calculateScrollRightMove:function(e,t){t&&t._offsetRightX+Math.abs(e)<t.width-15?(t._startX=t.startX+Math.abs(e),t.offsetLeftX=t._startX,t.offsetRightX=t._offsetRightX+Math.abs(e),t.endX=t.width-t.offsetRightX):(t._ofsetRightX=t.offsetRightX,t.offsetRightX=t.width-15,t._startX=t.offsetRightX-t.rectWidth,t.offsetLeftX=t._startX,t.endX=t.width-t.offsetRightX)},_calculateRange:function(t,i,s){var a,o,r,n,l,d,h,c;return a=(t-15)/(s.width-30-s._diff),r=s.scrollRange,o=(s.rectWidth-s._diff)/(s.width-30-s._diff),s.isRTL?n=(l=r.max-a*r.delta)-o*r.delta:l=(n=r.min+a*r.delta)+o*r.delta,"datetime"==s.valueType?(d=s.startDateTime,h=s.endDateTime,s.startDateTime=this.startDateTime=n=new Date(n),s.endDateTime=this.endDateTime=l=new Date(l)):(d=parseInt(s.startValue),h=parseInt(s.endValue),s.startValue=this.startValue=n=Math.ceil(n),s.endValue=this.endValue=l=Math.ceil(l)),s._scrollChanged=!0,(c=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:a,zoomFactor:o,oldRange:{start:d,end:h},newRange:{start:n,end:l}},s.zoomPosition=a,s.zoomFactor=o,c},_calculateScrollPosition:function(t,i){var s,a,o,r,n,l,d,h,c,u;if(this.leftScrollbarClicked&&i.enableResize)return s=((t=(t=t>=15?t:15)>=15&&t<i.offsetRightX-15?t:i.offsetRightX-15)-36)/(i.width-30),a=i.rectWidth/(i.width-30),h=i.valueType.toLowerCase(),o=i.scrollRange,i.isRTL?(n=(n=o.max-s*o.delta)<o.max?n:o.max,"datetime"==h?(l=i.startDateTime,d=i.endDateTime,i.endDateTime=this.endDateTime=n=new Date(n),r=i.startDateTime):(l=parseInt(i.startValue),d=parseInt(i.endValue),i.endValue=this.endValue=n=Math.ceil(n),r=Math.ceil(i.startValue))):(r=(r=o.min+s*o.delta)>o.min?r:o.min,"datetime"==h?(l=i.startDateTime,d=i.endDateTime,i.startDateTime=this.startDateTime=r=new Date(r),n=i.endDateTime):(l=parseInt(i.startValue),d=parseInt(i.endValue),i.startValue=this.startValue=r=Math.ceil(r),n=Math.ceil(i.endValue))),(c=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:s,zoomFactor:a,oldRange:{start:l,end:d},newRange:{start:r,end:n}},i._scrollChanged=!0,i.zoomPosition=s,i.zoomFactor=a,c;if(this.rightScrollbarClicked&&i.enableResize)return o=i.scrollRange,a=i.rectWidth/(i.width-30),s=i.zoomPosition,h=i.valueType.toLowerCase(),i.isRTL?(r=o.max-(s=(t-36)/(i.width-30))*o.delta,"datetime"==h?(l=i.startDateTime,d=i.endDateTime,i.startDateTime=this.startDateTime=r=new Date(r),n=i.endDateTime):(l=parseInt(i.startValue),d=parseInt(i.endValue),i.startValue=this.startValue=r=Math.floor(r),n=Math.ceil(i.endValue))):(n=o.min+s*o.delta+a*o.delta,"datetime"==h?(l=i.startDateTime,d=i.endDateTime,i.endDateTime=this.endDateTime=n=new Date(n),r=i.startDateTime):(l=parseInt(i.startValue),d=parseInt(i.endValue),i.endValue=this.endValue=n=Math.floor(n),r=Math.ceil(i.startValue))),(c=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:i.zoomPosition?i.zoomPosition:0,zoomFactor:a,oldRange:{start:l,end:d},newRange:{start:r,end:n}},i._scrollChanged=!0,i.zoomFactor=a,c;if(i&&this.scrollRectClicked){if((u=this.mouseDownPos-t)>0&&i.offsetLeftX>=0)return this.scrollbarContainer._calculateScrollLeftMove.call(this,u,i),this.scrollbarContainer._calculateRange.call(this,i.startX,i.offsetRightX,i);if(u<0)return this.scrollbarContainer._calculateScrollRightMove.call(this,u,i),this.scrollbarContainer._calculateRange.call(this,i._startX,i.offsetRightX,i)}},_scrollbarMove:function(t){var i,s;if(this.moveClientX=ej.isNullOrUndefined(t.clientX)?null==t.originalEvent.clientX?t.originalEvent.touches[0].clientX:t.originalEvent.clientX:t.clientX,this.moveClientX!=this.downClientX){var a,o,r=this.model.padding||0,n=jQuery.uaMatch(navigator.userAgent),l=this.scrollbarContainer._doScrollIndex.call(this,t);if(!l)return 0;if(this.lastIndex=l.index,a=!this.vmlRendering&&"[object TouchEvent]"!==t.originalEvent.toString()&&"msie"!=n.browser.toLowerCase()||this.vmlRendering?("horizontal"==l.orientation?this.calMousePosition(t).X-l.x:l.width-(this.calMousePosition(t).Y-l.y))-r:("horizontal"==l.orientation?this.calTouchPosition(t).X-l.x:l.width-(this.calTouchPosition(t).Y-l.y))-r,this.mouseX=a,i=this._id,this.leftScrollbarClicked&&l.enableResize&&(l&&(a>34||a>23)&&a<l.offsetRightX-34?(l.rectWidth=l.width-(l.endX+a-8),o=a-8+l.rectWidth/2-7.5,e("#"+i+"_scrollbarLeftHeader_"+l.index).attr("cx",a),e("#"+i+"_leftHeaderHideRect_"+l.index).attr("x",a-7.5),e("#"+i+"_scrollbarSelect_"+l.index).attr("x",a-8),e("#"+i+"_scrollbarSelect_"+l.index).attr("width",l.rectWidth),e("#"+i+"_scrollbarCenterLine_"+l.index).attr("transform","translate("+o+")"),"ejRangeNavigator"==this.pluginName&&(e("#"+i+"_scrollbarLeftHeader_"+l.index).css("left",a),e("#"+i+"_leftHeaderHideRect_"+l.index).css("left",a-7.5),e("#"+i+"_scrollbarSelect_"+l.index).css("left",a),e("#"+i+"_scrollbarSelect_"+l.index).css("width",l.rectWidth),e("#"+i+"_scrollbarCenterLine_"+l.index).css("left",o)),l.offsetLeftX=l.startX=a-8,this.scrollbarContainer._scrollStartArgs.call(this,l),this.scrollbarContainer._scrollChangeArgs.call(this,l),l._diff=0):a>l.offsetRightX-34&&(this.rectWidth=42.89984101748814)),this.rightScrollbarClicked&&l.enableResize&&l&&(a<=l.width-34||a<=l.width-23)&&a>l.offsetLeftX+34&&(l.rectWidth=a-l.offsetLeftX+8,o=l.offsetLeftX+l.rectWidth/2-7.5,e("#"+i+"_scrollbarRightHeader_"+l.index).attr("cx",a),e("#"+i+"_rightHeaderHideRect_"+l.index).attr("x",a-2.5),e("#"+i+"_scrollbarSelect_"+l.index).attr("width",l.rectWidth),e("#"+i+"_scrollbarCenterLine_"+l.index).attr("transform","translate("+o+")"),"ejRangeNavigator"==this.pluginName&&(e("#"+i+"_scrollbarRightHeader_"+l.index).css("left",a),e("#"+i+"_rightHeaderHideRect_"+l.index).css("left",a-2.5),e("#"+i+"_scrollbarSelect_"+l.index).css("width",l.rectWidth),e("#"+i+"_scrollbarCenterLine_"+l.index).css("left",o)),l.offsetRightX=a+8,l.endX=l.width-a-8,this.scrollbarContainer._scrollStartArgs.call(this,l),this.scrollbarContainer._scrollChangeArgs.call(this,l),l._diff=0),this.scrollRectClicked&&(s=this.mouseDownPos-a,l._startX=ej.isNullOrUndefined(l._startX)?l.startX:l._startX,l&&s>0&&l.offsetLeftX>=0&&(this.scrollbarContainer._calculateScrollLeftMove.call(this,s,l),this.scrollbarContainer._setScrollPosition.call(this,l.startX,l.offsetRightX,l),(l.offsetLeftX>15||l.offsetLeftX!=l._offsetLeftX)&&(this.scrollbarContainer._scrollStartArgs.call(this,l),this.scrollbarContainer._scrollChangeArgs.call(this,l))),l&&s<0&&(ej.isNullOrUndefined(l._offsetRightX)&&(this.scrollbarContainer._scrollSelectRectDown.call(this,t),this.scrollbarContainer._scrollbarMove.call(this,t)),this.scrollbarContainer._calculateScrollRightMove.call(this,s,l),this.scrollbarContainer._setScrollPosition.call(this,l._startX,l._startX+l.rectWidth,l),(l.offsetRightX<l.width-15||l.offsetRightX!=l._ofsetRightX)&&(this.scrollbarContainer._scrollStartArgs.call(this,l),!1===this.model.enableDeferredUpdate||l.isZooming||""!=this.model.scrollChanged)))){var d,h,c,u,p=this.scrollbarContainer._calculateRange.call(this,l._startX,l._startX+l.rectWidth,l),m=p.data.oldRange,g=p.data.newRange;"datetime"==l.valueType.toLowerCase()?(d=Date.parse(m.start),c=Date.parse(g.start),h=Date.parse(m.end),u=Date.parse(g.end)):(d=m.start,c=g.start,h=m.end,u=g.end),""!=this.model.scrollChanged&&(d!=c||h!=u)&&(p=this.scrollbarContainer._args.call(this,l,p),this._trigger("scrollChanged",p)),this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,l))}}this.offsetX=a},_scrollbarUp:function(t){var i,s,a,o,r,n,l,d,h,c=this.scrollbarContainer._doScrollIndex.call(this,t);e("[id^="+this._id+"_scrollbarSelect_]").attr("class","e-rangeScroll-select"),this.lastIndex=null,i=this.scrollbarContainer._calculateScrollPosition.call(this,this.mouseX,c),s=this.model.enableDeferredUpdate,i&&(a=i.data.oldRange,o=i.data.newRange,"datetime"==c.valueType.toLowerCase()?(r=Date.parse(a.start),l=Date.parse(o.start),n=Date.parse(a.end),d=Date.parse(o.end)):(r=a.start,l=o.start,n=a.end,d=o.end),(r!=l||n!=d||this.scrollRectClicked&&!s||s||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(!(h=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1)||h&&(this.leftScrollbarClicked||this.rightScrollbarClicked)&&this.downClientX!=this.moveClientX||this.scrollRectClicked||this.leftArrowClicked||this.rightArrowClicked)&&(!this.leftScrollbarClicked&&!this.rightScrollbarClicked||(this.leftScrollbarClicked||this.rightScrollbarClicked)&&Math.ceil(c.rectWidth)!=Math.ceil(this.rectOldWidth)&&(Math.abs(c.rectWidth-c.rectOldWidth)>4||!c.rectOldWidth))&&(ej.isNullOrUndefined(c._previousStart)||c._previousStart!=l||c._previousEnd!=d)&&(i=this.scrollbarContainer._args.call(this,c,i),this._trigger("scrollEnd",i),c._scrollStarted=!1,c._previousStart=l,c._previousEnd=d,c.rectOldWidth=c.rectWidth,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,c)),c.release=!0,c.clicked=!1),this._scrollEnd=!1,this.leftScrollbarClicked=!1,this.rightScrollbarClicked=!1,this.scrollRectClicked=!1,this.leftArrowClicked=!1,this.rightArrowClicked=!1,this.scrollbarBackRectClicked=!1},_leftScrollbarDown:function(e){e.preventDefault(),this.leftScrollbarClicked=!0,this.downClientX=ej.isNullOrUndefined(e.clientX)?e.originalEvent.touches[0].clientX:e.clientX},_rightScrollbarDown:function(e){e.preventDefault(),this.rightScrollbarClicked=!0,this.downClientX=ej.isNullOrUndefined(e.clientX)?e.originalEvent.touches[0].clientX:e.clientX},_scrollSelectRectDown:function(t){var i,s=this.scrollbarContainer._doScrollIndex.call(this,t);e("#"+this._id+"_scrollbarSelect_"+s.index).attr("class","e-rangeScroll-select e-rangeScroll-select-hover"),t.preventDefault();var a=jQuery.uaMatch(navigator.userAgent),o=this.model.padding||0;s=this.scrollbarContainer._doScrollIndex.call(this,t),i=!this.vmlRendering&&"[object TouchEvent]"!==t.originalEvent.toString()&&"msie"!=a.browser.toLowerCase()||this.vmlRendering?("horizontal"==s.orientation?this.calMousePosition(t).X-s.x:s.width-(this.calMousePosition(t).Y-s.y))-o:("horizontal"==s.orientation?this.calTouchPosition(t).X-s.x:s.width-(this.calTouchPosition(t).Y-s.y))-o,this.mouseDownPos=i,s._startX=s.startX=s.offsetLeftX,s._offsetRightX=s.offsetRightX,s.clicked=!0,s.release=!1,this.scrollRectClicked=!0},_scrollMouseWheel:function(e){e.preventDefault();var t=this.scrollbarContainer._doScrollIndex.call(this,e),i=!!navigator.userAgent.match(/Trident\/7\./),s=e.originalEvent.wheelDelta,a="mozilla"==jQuery.uaMatch(navigator.userAgent).browser.toLowerCase()?i?s/120>0?1:-1:-e.originalEvent.detail/3>0?1:-1:s/120>0?1:-1,o=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1),r=Math.max(o+.25*a,1);this.scrollbarContainer.doMouseWheelZoom.call(this,r,.5,t)},_scrollStartArgs:function(t){if(t._scrollStarted=!0,""!=this.model.scrollStart&&!this._scrollEnd){var i=e.extend({},ej.EjSvgRender.commonChartEventArgs);i.data=t.isZooming?{axis:this.model._axes[t.index],currentRange:this.model._axes[t.index].visibleRange}:{startRange:"datetime"==t.valueType?t.startDateTime:t.startValue,endRange:"datetime"==t.valueType?t.endDateTime:t.endValue},this._trigger("scrollStart",i),this._scrollEnd=!0}},_scrollChangeArgs:function(e){if(!1===this.model.enableDeferredUpdate||e.isZooming||""!=this.model.scrollChanged){var t,i,s,a,o=this.scrollbarContainer._calculateRange.call(this,e.offsetLeftX,e.offsetRightX,e),r=o.data.oldRange,n=o.data.newRange;"datetime"==e.valueType.toLowerCase()?(t=Date.parse(r.start),s=Date.parse(n.start),i=Date.parse(r.end),a=Date.parse(n.end)):(t=r.start,s=n.start,i=r.end,a=n.end),""!=this.model.scrollChanged&&(t!=s||i!=a)&&(o=this.scrollbarContainer._args.call(this,e,o),this._trigger("scrollChanged",o)),this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,e))}},_scrollEndArgs:function(e,t){var i,s,a,o,r,n,l=this.scrollbarContainer._calculateRange.call(this,e,t.offsetRightX,t);l&&t._scrollStarted&&(i=l.data.oldRange,s=l.data.newRange,"datetime"==t.valueType.toLowerCase()?(a=Date.parse(i.start),r=Date.parse(s.start),o=Date.parse(i.end),n=Date.parse(s.end)):(a=i.start,r=s.start,o=i.end,n=s.end),(a!=r||o!=n||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(l=this.scrollbarContainer._args.call(this,t,l),this._trigger("scrollEnd",l)),t._scrollStarted=!1,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,t))},_args:function(e,t){if(e.isZooming){var i=this.model._axes[e.index],s=t.data;s.axis=i,s.newRange=i.visibleRange,s.oldRange=i.previousRange}return e.isVirtual&&(t.data.axis=this.model._axes[e.index],delete t.data.zoomFactor,delete t.data.zoomPosition),t},doMouseWheelZoom:function(e,t,i){if(e>=1){var s=this.scrollbarContainer.calZoomFactors(e,t,i.zoomFactor,i.zoomPosition);i.zoomPosition!=s.zoomMPosition&&s.zoomMPosition+i.zoomFactor<=1&&i.zoomPosition>=0&&(s.zoomMPosition+i.zoomFactor>=1&&(s.zoomMPosition=1-i.zoomFactor),s.zoomMPosition<0&&(s.zoomMPosition=0),i.zoomPosition=s.zoomMPosition,i.startX=i.zoomPosition*(i.width-30-i._diff)+15,i.startX=i.startX+i.rectWidth+5>i.width?i.width-i.rectWidth-15:i.startX,i.offsetLeftX=i.startX,i._offsetRightX=i.startX+i.rectWidth,i._offsetRightX>i.width-15?(i.offsetRightX=i.width-15,i.startX=i.offsetRightX-i.rectWidth,i.offsetLeftX=i.startX):i.offsetRightX=i._offsetRightX,i.endX=i.width-i.offsetRightX,this.scrollbarContainer._setScrollPosition.call(this,i.startX,i.offsetRightX,i),this.scrollbarContainer._calculateMouseWheelRange.call(this,i.startX,i.offsetRightX,i))}return!1},_calculateMouseWheelRange:function(t,i,s){var a,o,r,n,l,d,h,c,u,p,m,g;s.zoomFactor=s.rectWidth/(s.width-30),s.zoomPosition=(t-15)/(s.width-30-s._diff),a=s.scrollRange,s.isRTL?o=(r=a.max-s.zoomPosition*a.delta)-s.zoomFactor*a.delta:r=(o=a.min+s.zoomPosition*a.delta)+s.zoomFactor*a.delta,"datetime"==s.valueType?(n=s.startDateTime,l=s.endDateTime,s.startDateTime=this.startDateTime=o=new Date(o),s.endDateTime=this.endDateTime=r=new Date(r)):(n=parseInt(s.startValue),l=parseInt(s.endValue),s.startValue=this.startValue=o=Math.ceil(o),s.endValue=this.endValue=r=Math.ceil(r)),(d=e.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:s.zoomPosition,zoomFactor:s.zoomFactor,oldRange:{start:n,end:l},newRange:{start:o,end:r}},s._scrollChanged=!0,s._scrollStarted=!1,h=d.data.oldRange,c=d.data.newRange,"datetime"==s.valueType.toLowerCase()?(u=Date.parse(h.start),m=Date.parse(c.start),p=Date.parse(h.end),g=Date.parse(c.end)):(u=h.start,m=c.start,p=h.end,g=c.end),(u!=m||p!=g||s.isZooming)&&(this.scrollbarContainer._scrollStartArgs.call(this,s),d=this.scrollbarContainer._args.call(this,s,d),this._trigger("scrollEnd",d),this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,s),this._scrollEnd=!1)},calZoomFactors:function(e,t,i,s){var a,o;return 1==e?(a=1,o=0):o=s+(i-(a=ej.EjSvgRender.utils._minMax(1/e,0,1)))*t,{zoomMFactor:a,zoomMPosition:o}},_leftArrowDown:function(e){var t,i;this.leftArrowClicked=!0,(t=this.scrollbarContainer._doScrollIndex.call(this,e))._startX=t.startX=t.offsetLeftX,t._offsetRightX=t.offsetRightX,t.leftIncrement=5,i=this,t.interval=setInterval((function(){i.scrollbarContainer.leftArrowRecursive.call(i,t)}),50)},_leftArrowUp:function(e){this.leftArrowClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,e);this.scrollbarContainer.leftArrowRecursive.call(this,t)},leftArrowRecursive:function(e){this.leftArrowClicked?(this.scrollbarContainer._calculateScrollLeftMove.call(this,e.leftIncrement,e),e._scrollStarted=!0,e.startX>15&&this.scrollbarContainer._scrollEndArgs.call(this,e.startX,e),this.scrollbarContainer._setScrollPosition.call(this,e.startX,e.offsetRightX,e),e.leftIncrement+=5):(clearInterval(e.interval),e.leftIncrement=0)},_rightArrowDown:function(e){var t,i;this.rightArrowClicked=!0,(t=this.scrollbarContainer._doScrollIndex.call(this,e))._startX=t.startX=t.offsetLeftX,t._offsetRightX=t.offsetRightX,t.rightIncrement=-5,i=this,t.interval=setInterval((function(){i.scrollbarContainer.rightArrowRecursive.call(i,t)}),50)},_rightArrowUp:function(e){this.rightArrowClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,e);this.scrollbarContainer.rightArrowRecursive.call(this,t)},rightArrowRecursive:function(e){this.rightArrowClicked?(this.scrollbarContainer._calculateScrollRightMove.call(this,e.rightIncrement,e),e._scrollStarted=!0,e.offsetRightX<e.width-15&&this.scrollbarContainer._scrollEndArgs.call(this,e._startX,e),this.scrollbarContainer._setScrollPosition.call(this,e._startX,e.offsetRightX,e),e.rightIncrement-=5):(clearInterval(e.interval),e.rightIncrement=0)},_scrollBackRectDown:function(e){var t,i,s,a=jQuery.uaMatch(navigator.userAgent),o=this.model.padding||0,r=this.scrollbarContainer._doScrollIndex.call(this,e);t=!this.vmlRendering&&"[object TouchEvent]"!==e.originalEvent.toString()&&"msie"!=a.browser.toLowerCase()||this.vmlRendering?("horizontal"==r.orientation?this.calMousePosition(e).X-r.x:r.width-(this.calMousePosition(e).Y-r.y))-o:("horizontal"==r.orientation?this.calTouchPosition(e).X-r.x:r.width-(this.calTouchPosition(e).Y-r.y))-o,this.mouseDownPos=t,this.scrollbarBackRectClicked=!0,i=this,this.scrollbarContainer._scrollStartArgs.call(this,r),s=setInterval((function(){i.scrollbarContainer.scrollBackRectRecursive.call(i,r),this.scrollbarBackRectClicked||clearInterval(s)}),50)},_scrollBackRectUp:function(e){this.scrollbarBackRectClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,e);this.scrollbarContainer.scrollBackRectRecursive.call(this,t)},_doScrollIndex:function(e){var t=this._id+"_scrollbar_",i=e.target.parentNode&&e.target.parentNode.id?e.target.parentNode.id:"",s=i.indexOf(t)>-1?parseInt(i.substr(t.length)):NaN;return ej.isNullOrUndefined(this.lastIndex)||isNaN(this.lastIndex)||!this.model.scrollObj[this.lastIndex].release&&this.model.scrollObj[this.lastIndex].clicked&&(s=this.lastIndex),this.lastIndex=ej.isNullOrUndefined(this.lastIndex)?s:this.lastIndex,ej.isNullOrUndefined(this.model.scrollObj[s])?this.model.scrollObj[this.lastIndex]:this.model.scrollObj[s]},scrollBackRectRecursive:function(e){if(this.scrollbarBackRectClicked){var t=.1*(e.width-30);e._startX=e.startX=e.offsetLeftX,e._offsetRightX=e.offsetRightX,this.mouseDownPos<e.startX?(this.scrollbarContainer._calculateScrollLeftMove.call(this,t=t<e.startX?t:e.startX-16,e),e._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,e.startX,e),this.scrollbarContainer._setScrollPosition.call(this,e.startX,e.offsetRightX,e)):this.mouseDownPos>e.offsetRightX?(this.scrollbarContainer._calculateScrollRightMove.call(this,t=-1*(t<e.endX?t:e.endX-16),e),e._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,e._startX,e),this.scrollbarContainer._setScrollPosition.call(this,e._startX,e.offsetRightX,e)):e._scrollStarted=!1}else e._scrollStarted=!1},_appendScrollRange:function(e){if(this.scrollbarUpdate=!0,"ejRangeNavigator"==this.pluginName)this.renderNavigator();else{var t=this.model._axes[e.index];e.isZooming&&(t.zoomFactor!=e.zoomFactor||t.zoomPosition!=e.zoomPosition)&&(t.zoomFactor=e.zoomFactor,t.zoomPosition=e.zoomPosition,this.redraw(!0))}this.scrollbarUpdate=!1}}}(jQuery),function(e,t){t.widget("ejChart","ej.datavisualization.Chart",{element:null,model:null,validTags:["div"],defaults:{border:{color:"transparent",width:0,opacity:.3},chartArea:{border:{color:"Gray",width:.5,opacity:.3},background:"transparent"},highlightColor:null,primaryXAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,isIndexed:!1,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alignment:"center",labelPlacement:"",scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},range:{min:null,max:null,interval:null},labelPosition:"outside",tickLinesPosition:"outside",alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",width:0,textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular",color:null}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,showNextToAxisLine:!0,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",color:null,fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},primaryYAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},labelPlacement:"",labelPosition:"outside",tickLinesPosition:"outside",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular"}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular",color:null},axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},zoomFactor:1,zoomPosition:0},axes:[],secondaryX:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,labelPlacement:"",desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular"}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",edgeLabelPlacement:"none",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},secondaryY:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular",color:null}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",labelPlacement:"",edgeLabelPlacement:"none",crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular"},axisLine:{color:null,visible:!0,width:1,dashArray:"",offset:0},zoomFactor:1,zoomPosition:0},trendlineDefaults:{type:"linear",visibility:"",visibleOnLegend:"visible",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",opacity:1}}},indicatorDefaults:{visible:!0,points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",width:2,xAxisName:"",yAxisName:"",visibility:"visible",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,enableAnimation:!1,animationDuration:null},annotationsDefault:{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}},multiLevelLabelsDefault:{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}},stripLineDefault:{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over",borderWidth:1},rowDefinitions:null,columnDefinitions:null,title:{text:"",enableTrim:!1,visible:!0,isReversed:!1,maximumWidth:"auto",textOverflow:"trim",textAlignment:"center",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"16px",opacity:1,fontWeight:"regular"},subTitle:{text:"",enableTrim:!1,visible:!0,maximumWidth:"auto",textOverflow:"trim",textAlignment:"far",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"}}},lineCap:{butt:"butt",round:"round",square:"square"},lineJoin:{round:"round",bevel:"bevel",miter:"miter"},legendAlignment:{near:"near",center:"center",far:"far"},legendPosition:{top:"top",bottom:"bottom",right:"right",left:"left",custom:"custom"},enableAnimation:!0,legend:{title:{text:"",textAlignment:"center",font:{color:null,size:"12px",fontFamily:"Segoe UI",fontStyle:"normal",fontWeight:"regular"}},border:{color:"transparent",width:1},visible:!0,isReversed:!1,textOverflow:"trim",textWidth:34,legendContainerWidth:"20%",toggleSeriesVisibility:!0,enableScrollbar:!0,itemPadding:10,shape:"None",alignment:"Center",position:"Bottom",location:{x:0,y:0},itemStyle:{height:9,width:9,border:{color:"transparent",width:1}},rowCount:null,columnCount:null,opacity:1,fill:null,background:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px"},size:{height:null,width:null}},indicators:[{points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",animationDuration:null,type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",visible:!0,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},width:2,xAxisName:"",yAxisName:"",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,visibility:"visible",enableAnimation:!1}],background:null,backGroundImageUrl:null,annotations:[{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}}],series:[{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!0,columnSpacing:0,columnWidth:.7,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,points:null,pieCoefficient:.8,doughnutSize:.8,dataSource:null,high:"",low:"",open:"",close:"",bullFillColor:null,bearFillColor:null,query:null,xName:"",yName:"",pointColorMappingName:"",visibility:"visible",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:null,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{width:1,color:null},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{width:1,color:"transparent",dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,showEdgeLabels:!1,enableContrastColor:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",opacity:1,fill:null,border:{color:"white",width:.1},maximumLabelWidth:null,enableWrap:!1,connectorLine:{width:.5,type:"line",color:null},offset:{x:0,y:0},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"11px",opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},_isdesigntime:!0}],commonSeriesOptions:{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!1,columnWidth:.7,columnSpacing:0,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,pieCoefficient:.8,doughnutSize:.8,dataSource:null,xName:"",yName:"",pointColorMappingName:"",high:"",low:"",open:"",close:"",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:!1,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{color:null,width:1},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{color:"transparent",width:1,dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,enableContrastColor:!1,showEdgeLabels:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",maximumLabelWidth:null,enableWrap:!1,opacity:1,fill:null,border:{color:"white",width:.1},offset:{x:0,y:0},connectorLine:{width:.5,type:"line",height:null},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"11px",color:null,opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},crosshair:{line:{width:1},marker:{visible:!0,size:{width:10,height:10},opacity:1,border:{width:3}},visible:!1,isReversed:!1,type:"crosshair",trackballTooltipSettings:{fill:null,mode:"float",border:{width:null,color:null},rx:3,ry:3,opacity:1,tooltipTemplate:null}},pointStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:null,borderWidth:1},textStyle:{marker:{textAlignment:"center",textPosition:"top"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},symbolShape:{None:0,LeftArrow:1,RightArrow:2,Circle:3,Cross:4,HorizLine:5,VertLine:6,Diamond:7,Rectangle:8,Triangle:9,InvertedTriangle:10,Hexagon:11,Pentagon:12,Star:13,Ellipse:14,Wedge:15,Trapezoid:16,UpArrow:17,DownArrow:18,Image:19,SeriesType:20},initSeriesRender:!0,theme:"flatlight",canResize:!1,isResponsive:!1,enable3D:!1,enableRotation:!1,sideBySideSeriesPlacement:null,perspectiveAngle:90,rotation:0,tilt:0,wallSize:2,depth:100,enableCanvasRendering:!1,selectedDataPointIndexes:[],exportSettings:{type:"png",fileName:"Chart",orientation:"portrait",angle:0,mode:"client",action:"",multipleExport:!1},zooming:{enable:!1,isReversed:!1,enableScrollbar:!1,type:"x,y",enablePinching:!0,enableMouseWheel:!1,enableDeferredZoom:!1,toolbarItems:["zoomIn","zoomOut","zoom","pan","reset"]},type:"x,y",locale:null,xZoomFactor:1,yZoomFactor:1,xZoomPosition:0,yZoomPosition:0,load:"",axesLabelRendering:"",axesRangeCalculate:"",axesTitleRendering:"",dragStart:"",dragging:"",dragEnd:"",chartAreaBoundsCalculate:"",legendItemRendering:"",legendBoundsCalculate:"",preRender:"",seriesRendering:"",trendlineRendering:"",symbolRendering:"",titleRendering:"",subtitleRendering:"",axesLabelsInitialize:"",pointRegionClick:"",seriesRegionClick:"",annotationClick:"",axisLabelClick:"",chartClick:"",scrollStart:"",scrollEnd:"",scrollChanged:"",chartDoubleClick:"",pointRegionMouseMove:"",legendItemClick:"",axisLabelMouseMove:"",chartMouseMove:"",legendItemMouseMove:"",chartMouseLeave:"",displayTextRendering:"",toolTipInitialize:"",trackAxisToolTip:"",trackToolTip:"",animationComplete:"",zoomed:"",destroy:"",create:"",beforeResize:"",afterResize:"",rangeSelected:"",multiLevelLabelClick:"",multiLevelLabelRendering:"",margin:{left:10,right:10,top:10,bottom:10},size:{width:null,height:null},elementSpacing:10,dateStart:25568.791666666668},dataTypes:{commonSeriesOptions:{dataSource:"data"},axes:"array",series:"array",annotations:"array",indicators:"array",seriesColors:"array",palette:"array",rowDefinitions:"array",columnDefinitions:"array",seriesBorderColors:"array",pointColors:"array",pointBorderColors:"array",initSeriesRender:"boolean",theme:"enum",canResize:"boolean",isResponsive:"boolean",elementSpacing:"number",primaryXAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",tickLinesPosition:"enum",labelPosition:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number",showNextToAxisLine:"boolean"},primaryYAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},legend:{textOverflow:"enum",shape:"enum",alignment:"enum",position:"enum",itemPadding:"number"},exportSettings:{type:"string",fileName:"string",orientation:"enum",angle:"number",mode:"enum",action:"string",multipleExport:"boolean"},zooming:{enable:"boolean",type:"string",enableMouseWheel:"boolean",toolbarItems:"array",enableScrollbar:"boolean"},size:{width:"string",height:"string"}},observables:["xZoomFactor","yZoomFactor","xZoomPosition","yZoomPosition"],_tags:[{tag:"series",attr:["xAxisName","yAxisName","zOrder","endAngle","startAngle","explodeIndex","labelPosition","xName","yName","pointColorMappingName","pyramidMode","boxPlotMode","showMedian","pieCoefficient","explodeAll","explodeOffset","funnelWidth","columnFacet","funnelHeight","gapRatio","isClosed","isTransposed","enableTrackTooltip","isStacking","bearFillColor","bullFillColor","dataSource","enableAnimation","animationDuration","doughnutCoefficient","doughnutSize","enableSmartLabels","drawType","dashArray","visibleOnLegend","columnSpacing","columnWidth","drawType","positiveFill","explodeIndex","cornerRadius","lineCap","lineJoin","highlightSettings.enable","highlightSettings.mode","highlightSettings.pattern","highlightSettings.color","highlightSettings.opacity","highlightSettings.customPattern","highlightSettings.border.color","highlightSettings.border.width","selectionSettings.enable","selectionSettings.mode","selectionSettings.pattern","selectionSettings.color","selectionSettings.opacity","selectionSettings.customPattern","selectionSettings.type","selectionSettings.rangeType","selectionSettings.border.width","selectionSettings.border.color","dragSettings.enable","dragSettings.type","connectorLine.width","connectorLine.opacity","connectorLine.dashArray","cornerRadius.topLeft","cornerRadius.topRight","cornerRadius.bottomLeft","cornerRadius.bottomRight","errorBar.visibility","errorBar.mode","errorBar.type","errorBar.horizontalErrorValue","errorBar.verticalErrorValue","errorBar.horizontalPositiveErrorValue","errorBar.horizontalNegativeErrorValue","errorBar.verticalPositiveErrorValue","errorBar.verticalNegativeErrorValue","errorBar.direction","errorBar.cap.visible","errorBar.cap.width","errorBar.cap.length","errorBar.width","errorBar.opacity","emptyPointSettings.visible","emptyPointSettings.style.color","emptyPointSettings.style.border.color","emptyPointSettings.style.border.width","emptyPointSettings.displayMode","bubbleOptions.minRadius","bubbleOptions.maxRadius","bubbleOptions.radiusMode","tooltip.visible","tooltip.format","tooltip.template","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color","border.width","border.color","border.dashArray","marker.shape","marker.imageUrl","marker.size.width","marker.size.height","marker.visible","marker.opacity","marker.fill","marker.border.color","marker.border.width","marker.dataLabel.visible","marker.dataLabel.angle","marker.dataLabel.template","marker.dataLabel.textMappingName","marker.dataLabel.verticalTextAlignment","marker.dataLabel.horizontalTextAlignment","marker.dataLabel.textPosition","marker.dataLabel.textAnchor","marker.dataLabel.shape","marker.dataLabel.opacity","marker.dataLabel.fill","marker.dataLabel.border.color","marker.dataLabel.border.width","marker.dataLabel.maximumLabelWidth","marker.dataLabel.enableWrap","marker.dataLabel.connectorLine.width","marker.dataLabel.connectorLine.type","marker.dataLabel.connectorLine.color","marker.dataLabel.offset","marker.dataLabel.offset.x","marker.dataLabel.offset.y","marker.dataLabel.font.size","marker.dataLabel.font.color","marker.dataLabel.enableContrastColor","marker.dataLabel.showEdgeLabels","marker.dataLabel.font.opacity","marker.dataLabel.font.fontFamily","marker.dataLabel.font.fontStyle","marker.dataLabel.font.fontWeight","marker.dataLabel.margin","marker.dataLabel.margin.left","marker.dataLabel.margin.top","marker.dataLabel.margin.bottom","marker.dataLabel.margin.right","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","splineType","cardinalSplineTension",[{tag:"trendlines",attr:["visibility","visibilityOnLegend","dashArray","forewardForecast","backwardForecast","polynomialOrder","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color"],singular:"trendline"}],[{tag:"points",attr:["x","y","text","textMappingName","isEmpty","fill","visible"],singular:"points"}]],singular:"series"},{tag:"axes",attr:["columnIndex","rowIndex","desiredIntervals","multiLevelLabelsColor","multiLevelLabelsFontColor","isIndexed","labelPlacement","edgeLabelPlacement","intervalType","labelFormat","labelPosition","labelRotation","logBase","labelIntersectAction","opposedPosition","plotOffset","rangePadding","roundingPlaces","valueType","zoomFactor","zoomPosition","orientation","crossesAt","crossesInAxis","scrollbarSettings.visible","scrollbarSettings.canResize","scrollbarSettings.range.min","scrollbarSettings.range.max","scrollbarSettings.pointsLength","range.min","range.max","range.interval","tickLinesPosition","alternateGridBand.odd.fill","alternateGridBand.odd.opacity","alternateGridBand.even.fill","alternateGridBand.even.opacity","enableAutoIntervalOnZooming","majorGridLines.width","majorGridLines.color","majorGridLines.dashArray","majorGridLines.visible","majorGridLines.opacity","majorTickLines.color","majorTickLines.width","majorTickLines.size","majorTickLines.visible","minorGridLines.width","minorGridLines.dashArray","minorGridLines.color","minorGridLines.visible","minorTickLines.color","minorTickLines.width","minorTickLines.size","minorTickLines.visible","labelBorder.color","labelBorder.width","minorTicksPerInterval","columnSpan","crosshairLabel.visible","crosshairLabel.rx","crosshairLabel.ry","crosshairLabel.border.color","crosshairLabel.border.width","crosshairLabel.fill","crosshairLabel.font.fontFamily","crosshairLabel.font.fontStyle","crosshairLabel.font.size","crosshairLabel.font.fontWeight","crosshairLabel.font.opacity","crosshairLabel.font.color","font.size","font.color","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","isInversed","enableTrim","maximumLabelWidth","axisLine.visible","axisLine.width","axisLine.color","axisLine.dashArray","axisLine.offset","maximumLabels","title.text","title.visible","title.enableTrim","title.offset","title.alignment","title.position","title.maximumTitleWidth","title.font.size","title.font.color","title.font.opacity","title.font.fontFamily","title.font.fontStyle","title.font.fontWeight","additionalPadding","showNextToAxisLine",[{tag:"stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"stripLine"}],[{tag:"multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"multiLevelLabel"}]],singular:"axis"},{tag:"primaryXAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryXAxis.stripLine"},{tag:"primaryYAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryYAxis.stripLine"},{tag:"primaryXAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryXAxis.multiLevelLabel"},{tag:"primaryYAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryYAxis.multiLevelLabel"},{tag:"indicators",attr:["seriesName","xName","xAxisName","macdType","shortPeriod","longPeriod","enableAnimation","animationDuration","yAxisName","standardDeviations","kPeriod","dPeriod","periodLine.fill","periodLine.width","lowerLine.fill","lowerLine.width","upperLine.fill","upperLine.width","macdLine.fill","macdLine.width","histogram.fill","histogram.opacity","histogram.border.color","histogram.border.width","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity",[{tag:"points",attr:[]}]],singular:"indicator"},{tag:"annotations",attr:["coordinateUnit","verticalAlignment","horizontalAlignment","xAxisName","yAxisName","margin.left","margin.right","margin.top","margin.bottom"],singular:"annotation"},{tag:"rowDefinitions",attr:["rowHeight","lineColor","lineWidth","unit"],singular:"rowDefinition"},{tag:"columnDefinitions",attr:["columnWidth","lineColor","lineWidth","unit"],singular:"columnDefinition"}],_xZoomFactor:t.util.valueFunction("xZoomFactor"),_yZoomFactor:t.util.valueFunction("yZoomFactor"),_xZoomPosition:t.util.valueFunction("xZoomPosition"),_yZoomPosition:t.util.valueFunction("yZoomPosition"),_init:function(){this._renderSfChart()},_destroy:function(){e("#template_group_"+this._id).remove(),e("#annotation_group_"+this._id).remove(),e(this.element).removeClass("e-chart e-js").find("#"+this.svgObject.id).remove(),e(this.element).removeClass("e-chart e-js").find("#legend_"+this.svgObject.id).remove()},_series:function(){this.redraw(),this._trigger("refresh")},_series_points:function(){this.redraw(),this._trigger("refresh")},_primaryXAxis_stripLine:function(){this.redraw(),this._trigger("refresh")},_primaryYAxis_stripLine:function(){this.redraw(),this._trigger("refresh")},_axes:function(){this.redraw(),this._trigger("refresh")},_axes_stripLine:function(){this.redraw(),this._trigger("refresh")},_ignoreOnExport:["dataSource"],_removeZoomkit:function(){this.model.zooming.enable&&(e("[id^="+this._id+"_][id$=_ResetZoom]").remove(),e("[id^="+this._id+"_][id$=_PanBtn]").remove(),e("[id^="+this._id+"_][id$=_ZoomBtn]").remove(),e("[id^="+this._id+"_][id$=_ZoomInBtn]").remove(),e("[id^="+this._id+"_][id$=_ZoomOutBtn]").remove())},getCanvasElement:function(t){e("#"+t);var i,s=document.createElement("canvas"),a=s.getContext("2d"),o=e("#"+t+"_canvas").width(),r=e("#"+t+"_canvas").height();return s.setAttribute("width",o),s.setAttribute("height",r),i=e("#"+t+"_canvas")[0],a.drawImage(i,0,0,o,r),{canvasContainer:s,canvasArea:a,width:o,height:r}},getSVGElement:function(t){var i=e("#"+t+"_svg").width(),s=e("#"+t+"_svg").height(),a=document.getElementById(t+"_svg"),o=e("<div>").append(e(a).clone()).html(),r=document.getElementById("legend_"+t+"_svg"),n=e("#legend_"+t).position();return e("#"+t+"_svg_Legend").attr("transform","translate("+n.left+","+n.top+")"),{chartSVG:o,legendChartSVG:e("<div>").append(e(r).clone()).html(),width:i,height:s}},print:function(){for(var t,i,s,a,o,r,n,l,d,h,c,u,p,m,g,_,f,b,v,x=[],y=[],w=this.model.series.length,S="",C=0,T=0;T<arguments.length;T++)if(f=e("#"+arguments[T]),p=arguments[T],f.hasClass("e-datavisualization-chart")){_=f.ejChart("instance"),u="<html> <div style='position:relative; left:0px; top:"+C+"px'>",v="",C=e("#"+(m=_.svgObject.id)).height()+50,e("#axisScrollbar_"+p)[0]&&(v=e("#axisScrollbar_"+p)[0].innerHTML);var L,k=["ResetZoom","PanBtn","ZoomBtn","ZoomOutBtn","ZoomInBtn"],P=[];for(n=0;n<5;n++)e(L="#"+m+"_"+k[n])[0]&&(P.push(e(L)),e(L).remove());if(1==_.model.enableCanvasRendering){for(g=this.getCanvasElement(p),(S=document.createElement("img")).setAttribute("src",e("#legend_"+p+"_canvas")[0].toDataURL()),e("#legend_Scroller"+p).prepend(S),u+=document.getElementById("chartContainer_"+p).outerHTML,e(S).remove(),S="",i=0;i<w;i++)if(t=_.model.series[i].selectionSettings.mode.toLowerCase(),"none"!=_.model.AreaType)if("series"==t)e(f).find("#"+p+"_Selection_series"+i+"_canvas").length>0&&(b=e("#"+p+"_Selection_series"+i+"_canvas")[0],g.canvasArea.drawImage(b,0,0,g.width,g.height)),e(f).find("#"+p+"_Selection_Legend"+i+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+e("#"+p+"_Selection_Legend"+i+"_canvas")[0].toDataURL()+"'/>");else if("point"==t){for(s=_.model.selectedDataPointIndexes,n=0;n<s.length;n++)s[n].seriesIndex==i&&e(f).find("#"+p+"_Selection_series"+i+"_point_"+s[n].pointIndex+"_canvas").length>0&&(b=e("#"+p+"_Selection_series"+i+"_point_"+s[n].pointIndex+"_canvas")[0],g.canvasArea.drawImage(b,0,0,g.width,g.height));e(f).find("#"+p+"_Selection_Legend"+i+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+e("#"+p+"_Selection_Legend"+i+"_canvas")[0].toDataURL()+"'/>")}else{for(s=_.model.selectedDataPointIndexes,n=0;n<s.length;n++)s[n].seriesIndex==i&&e(f).find("#"+p+"_Selection_Cluster_point_"+s[n].pointIndex+"_canvas").length>0&&(b=e("#"+p+"_Selection_Cluster_point_"+s[n].pointIndex+"_canvas")[0],g.canvasArea.drawImage(b,0,0,g.width,g.height));e(f).find("#"+p+"_SelectionCluster_Legend"+i+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+e("#"+p+"_SelectionCluster_Legend"+i+"_canvas")[0].toDataURL()+"'/>")}else for(s=_.model.selectedDataPointIndexes,n=0;n<s.length;n++)s[n].seriesIndex==i&&e("#"+p+"_Selection_series"+i+"_point_"+s[n].pointIndex+"_canvas").length>0&&(b=document.getElementById(p+"_Selection_series"+i+"_point_"+s[n].pointIndex+"_canvas"),g.canvasArea.drawImage(b,0,0,g.width,g.height),e("#"+p+"_Selection_Legend"+s[n].pointIndex+"_canvas").length>0&&(S="<img style='position:absolute;left:0px;' src='"+document.getElementById(p+"_Selection_Legend"+s[n].pointIndex+"_canvas").toDataURL()+"'/>"));g.canvasArea.save(),x.push(g.canvasContainer)}else a=this.getSVGElement(p),e("#"+p+"_svg_Legend").removeAttr("transform"),u+=e("#chartContainer_"+p)[0].outerHTML,u=this._getSelectionContentInSVG(_,p,u,"print"),null!=_.model.backGroundImageUrl&&((h=new Image).src=_.model.backGroundImageUrl,r=(o=document.createElement("canvas")).getContext("2d"),o.setAttribute("width",a.width),o.setAttribute("height",a.height),r.drawImage(h,0,0,a.width,a.height),u+="<img src='"+o.toDataURL()+"'/>"),u+='<svg xmlns="http://www.w3.org/2000/svg" style="left:0px; top:0px; position:absolute;" width="'+a.width+'" height="'+a.height+'" >',u+=a.chartSVG.toString()+" </svg>",y.push(u+=v+"</div></html>");for(n=0;n<P.length;n++)e("#chartContainer_"+p).append(P[n])}else u="<html>",u+=document.getElementById(arguments[T]).innerHTML,y.push(u+="</html>");for(l=window.open(),d=0;d<y.length;d++)l.document.write(y[d]);if(x.length>0){for(h=new Image,c=0;c<x.length;c++)u+="<img src='"+x[c].toDataURL()+"'/>",h.src=x[c].toDataURL();u+=S,u+=v+"</div></html>",h.onload=function(){l.document.write(u),u="",l.document.close(),l.focus(),l.print(),l.close()}}else y.length>0&&(u="",l.document.close(),l.focus(),l.print(),l.close())},redraw:function(i,s,a,o){var r,n;if(this.model.enableCanvasRendering)this.model.zooming.enable&&this.svgRenderer.ctx?(this.svgRenderer.ctx.clearRect(0,0,e("#"+this._id).width(),e("#"+this._id).height()),e(this.axisScroll).empty()):(e(this.svgObject).remove(),r=this.svgWidth,e("#canvas_trackSymbol").remove(),e("#"+this._id+"_canvas_Tracker").remove(),e("#secondCanvas").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?r:this.model.size.width,this.svgObject=this.svgRenderer.svgObj,this.svgRenderer.svgObj.getContext("2d"),e(this.scrollerContainer).remove(),e(this.legendSvgContainer).remove(),e(this.legendContainer).remove(),this.legendContainer=e("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=e("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),e(this.scrollerContainer).appendTo(this.legendContainer),e(this.legendContainer).appendTo(this.chartContainer));else if(-1!=this.svgObject.id.indexOf("_canvas"))this._removeZoomkit(),e(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,e(this.scrollerContainer).remove(),e(this.legendSvgContainer).remove(),e(this.legendContainer).remove(),this.legendContainer=e("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=e("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),e(this.scrollerContainer).appendTo(this.legendContainer),e(this.legendContainer).appendTo(this.chartContainer);else if(!this.dragPoint||!s&&(!this.panning||!a||this.scrollbarUpdate||o||this.panning&&"chrome"!=this.model.browserInfo.name)||this.model.enable3D)e(this.svgObject).empty(),e(this.legendSvgContainer).empty(),e(this.axisScroll).empty();else{for(n=this.svgObject,this.chartUpdating=!0,!this.continuePinching&&a&&(a.id="",a.setAttribute("opacity",0),n.appendChild(a),this.continuePinching=!1);n.childNodes.length>1;)n.removeChild(n.firstChild);e(this.legendSvgContainer).empty()}this.model._chartAreaZoom&&(this.zoomed=this.model._chartAreaZoom=this.model._axes.some((function(e){return e.zoomFactor<1||e.zoomPosition>0}))),this._removeZoomkit(),e("#annotation_group_"+this._id).remove(),i||(this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents()),this.bindTo(i)},export:function(e,i,s){var a,o=this.model.exportSettings;return e=t.util.isNullOrUndefined(e)?o.type:e.toLowerCase(),i=t.util.isNullOrUndefined(i)?o.action:i.toLowerCase(),"xlsx"==e?this._getExportModel(e,i,s):a="svg"!=e&&this.model.enableCanvasRendering?this.imageExport():this.svgExport(),a},_getExportModel:function(i,s,a){var o,r,n,l,d,h,c=e.extend(!0,{},this.model),u=this.model.exportSettings,p=(a=t.util.isNullOrUndefined(i)?u.multipleExport:a,c.size.height),m=c.size.width,g=t.buildTag("form","",null,{action:s,method:"post"}),_=this;if(c.event=null,c.primaryXAxis.range=c.primaryXAxis.actualRange,c.primaryYAxis.range=c.primaryYAxis.actualRange,delete c.chartRegions,this._ignoreOnExport)for(o=c.series,l=0;l<o.length;l++)delete o[l].dataSource,delete o[l].query,o[l].fill="array"==jQuery.type(o[l].fill)?o[l].fill[0].color:o[l].fill;for(l=0;l<o.length;l++){if(!o[l].dataPoint)for(o[l].dataPoint=o[l].points,r=0;r<o[l].dataPoint.length;r++)!o[l].dataPoint[r].fill&&c.pointColors.length>r&&(o[l].dataPoint[r].fill=c.pointColors[r]);o[l].trendLine||(o[l].trendLine=o[l].trendlines)}if(t.raiseWebFormsServerEvents)this.raiseWebServerEvents(JSON.stringify(c),"excelExporting"),this.raiseWebServerEvents(JSON.stringify(c));else{if(c.size.height&&-1!=c.size.height.indexOf("%")&&(c.size.height=e(this.svgObject).height().toString()),c.size.width&&-1!=c.size.width.indexOf("%")&&(c.size.width=e(this.svgObject).width().toString()),a)n={},e("body").find(".e-datavisualization-chart").each((function(i,s){var a,r,l,d,h=e(s).data("ejChart");if(!t.isNullOrUndefined(h)&&(h.model.event=null,a=JSON.parse(JSON.stringify(h.model)),_._ignoreOnExport)){for(o=a.series,r=0;r<o.length;r++)delete o[r].dataSource,delete o[r].query,o[r].fill="array"==jQuery.type(o[r].fill)?o[r].fill[0].color:o[r].fill;n[i]=JSON.stringify(a),l={name:"ChartModel",type:"hidden",value:JSON.stringify(a)},d=t.buildTag("input","",null,l),g.append(d)}}));else{for(o=c.series,l=0;l<o.length;l++)delete o[l]._visiblePoints,delete o[l].points;d={name:"ChartModel",type:"hidden",value:JSON.stringify(c)},h=t.buildTag("input","",null,d),g.append(h),g.append(this)}e("body").append(g),g.submit(),c.size={width:m,height:p}}return c},imageExport:function(){var i,s,a,o,r=e.extend(!0,{},this.model);r.primaryXAxis.range=r.primaryXAxis.actualRange,r.primaryYAxis.range=r.primaryYAxis.actualRange,r.event=null;var n,l,d,h,c,u,p,m=this._id,g=e("[id*="+m+"_Selection_]"),_=e("#legend_"+m+"_canvas")[0],f=this.model.exportSettings,b=f.angle,v=this.model.LegendBounds,x=this.getCanvasElement(m);for(n=x.canvasContainer,l=x.canvasArea,d=x.width,h=x.height,c=e("#"+m+"_canvas")[0],n.setAttribute("id","Export_"+m),0==b?(v=this.model.LegendBounds).X&&0!=v.Width&&0!=v.Height&&l.drawImage(_,v.X,v.Y):90==b||-90==b?(n.setAttribute("width",h),n.setAttribute("height",d),l.save(),l.translate(h/2,d/2),l.rotate(b*Math.PI/180),l.drawImage(c,-d/2,-h/2),l.restore(),v.X&&(l.save(),90==b?l.translate(h-v.Y-v.Height/2,d-v.X-v.Width/2):l.translate(v.Y+v.Height/2,v.X+v.Width/2),l.rotate(b*Math.PI/180),l.drawImage(_,-v.Width/2,-v.Height/2),l.restore())):(n.setAttribute("width",d),n.setAttribute("height",h),l.save(),l.translate(d,h),l.rotate(Math.PI/1),l.drawImage(c,0,0),l.restore(),v.X&&(l.save(),l.translate(v.X+v.Width/2,h-v.Y-v.Height/2),l.rotate(b*Math.PI/180),l.drawImage(_,-v.Width/2,-v.Height/2),l.restore())),u=0;u<g.length;u++)document.getElementById(g[u].id).getBoundingClientRect(),0==b?l.drawImage(g[u],0,0):90==b||-90==b?(l.save(),l.translate(h/2,d/2),l.rotate(b*Math.PI/180),l.drawImage(g[u],-d/2,-h/2),l.restore(),90==b&&g[u].id.indexOf(m+"_Selection_Legend")>=0?(l.save(),l.translate(h-v.Y-v.Height/2,d-v.X-v.Width/2),l.rotate(b*Math.PI/180),l.drawImage(g[u],-v.Width/2,-v.Height/2),l.restore()):-90==b&&g[u].id.indexOf(m+"_Selection_Legend")>=0&&(l.save(),l.translate(v.X+v.Width/2,h-v.Y-v.Height/2),l.rotate(b*Math.PI/180),l.drawImage(g[u],-v.Width/2,-v.Height/2),l.restore())):180==b&&(l.save(),l.translate(d,h),l.rotate(Math.PI/1),l.drawImage(g[u],0,0),l.restore(),180==b&&g[u].id.indexOf(m+"_Selection_Legend")>=0&&(l.save(),l.translate(v.X+v.Width/2,h-v.Y-v.Height/2),l.rotate(b*Math.PI/180),l.drawImage(g[u],-v.Width/2,-v.Height/2),l.restore()));if(p="jpg"==f.type?n.toDataURL("image/jpeg"):n.toDataURL(),"client"==f.mode)return n;t.raiseWebFormsServerEvents?this.raiseWebServerEvents(p):"server"==f.mode&&(i=t.buildTag("form","",null,{action:f.action,method:"post"}),s={name:"ChartModel",type:"hidden",value:JSON.stringify(r)},a=t.buildTag("input","",null,s),o=t.buildTag("input","",null,{name:"Data",type:"hidden",value:p}),i.append(a).append(o).append(this),e("body").append(i),i.submit())},svgExport:function(){for(var i,s,a,o,r,n,l=this.svgObject.id,d=e.extend(!0,{},this.model),h=0;h<this.model._axes.length;h++)d._axes[h].range=d._axes[h].actual_Range;d.event=null;var c="legend_"+this.svgObject.id.substring(0,this.svgObject.id.length-4),u=document.getElementById(c),p="";""!==u.style.left&&""!==u.style.top&&(i=u.firstChild.innerHTML,(s=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("x",u.style.left),s.setAttribute("y",u.style.top),p=((new XMLSerializer).serializeToString(s).replace("/>",">")+i+"</svg>").toString());var m,g=this._id,_=this.getSVGElement(g),f=this.model.exportSettings,b=f.angle,v=_.height,x=_.chartSVG,y=_.legendChartSVG,w=_.width,S='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+w+'px" height="'+v+'px" >';if(S=0==b?S+x.toString()+p+"</svg>":90==b?S+'<g transform="translate('+v+',0) rotate(90 0 0)">'+x.toString()+y.toString()+"</g></svg>":-90==b?S+'<g transform="translate(0,'+w+') rotate(-90 0 0)">'+x.toString()+y.toString()+"</g></svg>":S+'<g transform="translate('+w+","+v+') rotate(180 0 0)">'+x.toString()+y.toString()+"</g></svg>",m=this._getSelectionContentInSVG(this,g,S,"export"),S=e("#"+g).find('[class*="Selection"]').length>0?m:S,S=encodeURIComponent(S),e("#"+l+"_Legend").removeAttr("transform"),"client"==f.mode)return S;t.raiseWebFormsServerEvents?this.raiseWebServerEvents(S):"server"==f.mode&&(a=t.buildTag("form","",null,{action:f.action,method:"post"}),n={name:"ChartModel",type:"hidden",value:JSON.stringify(d)},r=t.buildTag("input","",null,n),o=t.buildTag("input","",null,{name:"Data",type:"hidden",value:S}),a.append(o).append(r).append(this),e("body").append(a),a.submit())},_getSelectionContentInSVG:function(i,s,a,o){var r,n,l,d,h,c,u,p,m,g,_=this.model.series.length;if(i.model.enable3D){for(c="",g=0;g<_;g++)e("#Selectionseries"+g+"Segmentseries"+g).length>0&&(c+=e("#Selectionseries"+g+"Segmentseries"+g)[0].outerHTML);a+=c}else{for(g=0;g<_;g++)if(u=i.model.series[g].selectionSettings.mode.toLowerCase(),"none"!=i.model.AreaType)"cluster"!=u?e("#"+s+"SelectionSegmentseries"+g).length>0&&(n=document.getElementById(s+"SelectionSegmentseries"+g),l=e("<div>").append(e(n).clone()).html(),d=document.getElementById(s+"SelectionLegendSegmentseries"+g),h=e("<div>").append(e(d).clone()).html(),"export"===o?r=a.slice(0,a.length-6)+"<svg>"+l.toString()+h.toString()+"</svg></svg>":a+=l.toString()+h.toString()):e("#"+s+"SelectionSegmentClusterSeries"+g).length>0&&(n=document.getElementById(s+"SelectionSegmentClusterSeries"+g),l=e("<div>").append(e(n).clone()).html(),d=document.getElementById(s+"SelectionLegendSegmentClusterSeries"+g),h=e("<div>").append(e(d).clone()).html(),"export"===o?r=(t.util.isNullOrUndefined(r)?a.slice(0,a.length-6):r)+"<svg >"+l.toString()+h.toString()+"</svg>":a+=l.toString()+h.toString());else for(p=i.model.selectedDataPointIndexes,m=0;m<p.length;m++)p[m].seriesIndex==g&&e("#"+s+"SelectionSegmentseries"+g+"Point"+p[m].pointIndex).length>0&&(n=document.getElementById(s+"SelectionSegmentseries"+g+"Point"+p[m].pointIndex),l=e("<div>").append(e(n).clone()).html(),d=document.getElementById(s+"SelectionLegendSegmentseries"+g+"Point"+p[m].pointIndex),h=e("<div>").append(e(d).clone()).html(),"export"===o?r=a.slice(0,a.length-6)+"<svg>"+l.toString()+h.toString()+"</svg></svg>":a+=l.toString()+h.toString());"cluster"==u&&"export"===o&&(r+="</svg>")}return"export"===o?r:a},raiseWebServerEvents:function(i,s){var a=e.extend(!0,{},this.model),o=this.model.exportSettings;s=t.util.isNullOrUndefined(s)?"exporting":s,this.model.size._width=e(this.svgObject).width(),this.model.size._height=e(this.svgObject).height(),t.raiseWebFormsServerEvents(s,{model:a,originalEventType:s},{Data:i,Format:o.type,Orientation:o.orientation,FileName:o.fileName})},animate:function(e){var t,i,s,a;if(e)if(e.constructor===Array)for(a=0;a<e.length;a++)e[a]._animatedSeries=!1,e[a]._animatedTrendline=!1,e[a].AnimationComplete=!1;else e._animatedSeries=!1,e._animatedTrendline=!1,e.AnimationComplete=!1;else{for(t=this.model.series,a=0;a<t.length;a++)t[a]._animatedSeries=!1,t[a]._animatedTrendline=!1,t[a].AnimationComplete=!1;for(i=this.model.indicators,s=0;s<i.length;s++)i[s]._animatedSeries=!1,i[s]._animatedTrendline=!1}this.redraw()},_setModel:function(i){var s,a,o,r,n,l,d;for(o in i)switch(this.disableAnimation(),o){case"theme":for(this.model._themeChanged=!0,this.model.theme=i[o],this.setTheme(t.EjSvgRender.themes,this.model.theme),e.extend(!0,this.model.primaryXAxis,t.EjSvgRender.themes[this.model.theme].primaryXAxis),e.extend(!0,this.model.primaryYAxis,t.EjSvgRender.themes[this.model.theme].primaryYAxis),r=0;r<this.model.axes.length;r++)this.model.axes[r].orientation&&"horizontal"==this.model.axes[r].orientation.toLowerCase()?e.extend(!0,this.model.axes[r],t.EjSvgRender.themes[this.model.theme].secondaryX):e.extend(!0,this.model.axes[r],t.EjSvgRender.themes[this.model.theme].secondaryY);for(n=0;n<this.model.series.length;n++)e.extend(!0,this.model.series[n],t.EjSvgRender.themes[this.model.theme].commonSeriesOptions);break;case"commonSeriesOptions":for(l=0;l<this.model.series.length;l++)i[o].dataSource&&(this.model.series[l].dataSource=null),e.extend(!0,this.model.series[l],{},i[o]);break;case"series":for(i[o].length<this.model.series.length&&(this.model.series=this.model.series.slice(0,i[o].length)),s=this.model.series,l=0;l<s.length;l++)i[o][l].dataSource&&(s[l].dataSource=null);for(e.extend(!0,s,{},i[o]),l=0,d=s.length;l<d;l++)s[l].enableAnimation&&(s[l]._animatedSeries=!1),i[o][l]&&i[o][l].dataSource instanceof t.DataManager&&(s[l].dataSource=i[o][l].dataSource),i[o][l]&&i[o][l].query instanceof t.Query&&(s[l].query=i[o][l].query);break;case"legend":e.extend(!0,this.model.legend,{},i[o]);break;case"axes":e.extend(!0,this.model.axes,{},i[o]);break;case"primaryXAxis":this.model.primaryXAxis.setRange=!!i[o].range,this.model.primaryXAxis.setAxisInterval=!(!i[o].range||!i[o].range.interval)||this.model.primaryXAxis.setAxisInterval,this.model.primaryXAxis.actual_Range=this.model._axes[0].setRange?null:this.model._axes[0].actual_Range,e.extend(!0,this.model.primaryXAxis,{},i[o]);break;case"primaryYAxis":this.model.primaryYAxis.setRange=!!i[o].range,this.model.primaryYAxis.log_Range=i[o].range?i[o].range:this.model.primaryYAxis.log_Range,this.model.primaryYAxis.actual_Range=!this.model._axes||this.model._axes[1].setRange?null:this.model._axes[1].actual_Range,e.extend(!0,this.model.primaryYAxis,{},i[o]);break;case"xZoomFactor":for(this.model.primaryXAxis.zoomFactor=this._xZoomFactor(),a=this.model.axes,l=0;l<a.length;l++)"horizontal"==a[l].orientation.toLowerCase()&&(a[l].zoomFactor=this._xZoomFactor());break;case"yZoomFactor":for(this.model.primaryYAxis.zoomFactor=this._yZoomFactor(),a=this.model.axes,l=0;l<a.length;l++)"vertical"==a[l].orientation.toLowerCase()&&(a[l].zoomFactor=this._yZoomFactor());break;case"xZoomPosition":for(this.model.primaryXAxis.zoomPosition=this._xZoomPosition(),a=this.model.axes,l=0;l<a.length;l++)"horizontal"==a[l].orientation.toLowerCase()&&(a[l].zoomPosition=this._xZoomPosition());break;case"yZoomPosition":for(this.model.primaryYAxis.zoomPosition=this._yZoomPosition(),a=this.model.axes,l=0;l<a.length;l++)"vertical"==a[l].orientation.toLowerCase()&&(a[l].zoomPosition=this._yZoomPosition());break;case"drilldown":this.model.series=[],this.model.explodeValue=null,e.extend(!0,this.model,{},i[o]);break;case"datasource":for(l=0;l<this.model.series.length;l++)this.model.series[l].dataSource=null,this.model.series[l].points=null;e.extend(!0,this.model,{},i[o]);break;case"chartArea":e.extend(!0,this.model.chartArea,{},i[o]);break;default:for(e.extend(!0,this.model,{},i[o]),l=0,d=(s=this.model.series).length;l<d;l++)s[l].enableAnimation&&(s[l]._animatedSeries=!1)}this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents(),e("#annotation_group_"+this._id).remove(),this.model.enableCanvasRendering?(e(this.svgObject).remove(),e("#canvas_trackSymbol").remove(),e("#"+this._id+"_canvas_Tracker").remove(),e("#secondCanvas").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?e("#"+this._id).width():this.model.size.width,this.svgObject=this.svgRenderer.svgObj,e(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):-1!=this.svgObject.id.indexOf("_canvas")?(this._removeZoomkit(),e(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,e(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):this.chartUpdating||(e(this.svgObject).empty(),e(this.legendSvgContainer).empty()),this.bindTo()}}),t.datavisualization.Chart.Locale=t.datavisualization.Chart.Locale||{},t.datavisualization.Chart.Locale.default=t.datavisualization.Chart.Locale["en-US"]={zoomIn:"Zoom In",zoomOut:"Zoom Out",zoom:"Zoom",pan:"Pan",reset:"Reset"},t.datavisualization.Chart.CrosshairType={Crosshair:"crosshair",TrackBall:"trackBall"},t.datavisualization.Chart.TrackballDisplayMode={Float:"float",Grouping:"grouping"},t.datavisualization.Chart.VisibleOnLegend={Visible:"visible",Hidden:"hidden"},t.datavisualization.Chart.ExportingType={PNG:"png",JPG:"jpg",PDF:"pdf",SVG:"svg",DOCX:"docx",XLSX:"xlsx"},t.datavisualization.Chart.ExportingMode={Client:"client",Server:"server"},t.datavisualization.Chart.ExportingOrientation={Portrait:"portrait",Landscape:"landscape"},t.datavisualization.Chart.ValueType={Double:"double",DateTime:"datetime",Category:"category",Logarithmic:"logarithmic",DateTimeCategory:"datetimecategory"},t.datavisualization.Chart.TextOverflow={None:"none",Wrap:"wrap",Trim:"trim",WrapAndTrim:"wrapandtrim"},t.datavisualization.Chart.Type={Line:"line",Spline:"spline",Column:"column",Doughnut:"doughnut",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",PieOfPie:"pieofpie",Hilo:"hilo",HiloOpenClose:"hiloopenclose",Candle:"candle",Bubble:"bubble",Scatter:"scatter",Bar:"bar",StackingArea:"stackingarea",StackingArea100:"stackingarea100",RangeColumn:"rangecolumn",StackingColumn:"stackingcolumn",StackingColumn100:"stackingcolumn100",StackingBar:"stackingbar",StackingBar100:"stackingbar100",Pyramid:"pyramid",Funnel:"funnel",Polar:"polar",Radar:"radar",RangeArea:"rangearea",SplineRangeArea:"splinerangearea",Waterfall:"waterfall",BoxAndWhishker:"boxandwhisker",StackingSplineArea:"stackingsplinearea",StackingSplineArea100:"stackingsplinearea100"},t.datavisualization.Chart.SplitMode={Position:"position",Value:"value",Percentage:"percentage",Indexes:"indexes"},t.datavisualization.Chart.SplineType={Natural:"natural",Monotonic:"monotonic",Cardinal:"cardinal",Clamped:"clamped"},t.datavisualization.Chart.DragType={XY:"xy",X:"x",Y:"y"},t.datavisualization.Chart.LabelPlacement={BetweenTicks:"betweenTicks",OnTicks:"onTicks"},t.datavisualization.Chart.TrendlinesType={Linear:"linear",Exponential:"exponential",Logarithmic:"logarithmic",Power:"power",Polynomial:"polynomial"},t.datavisualization.Chart.ErrorBarType={FixedValue:"fixedValue",Percentage:"percentage",StandardDeviation:"standardDeviation",StandardError:"standardError",Custom:"custom"},t.datavisualization.Chart.ErrorBarMode={Both:"both",Vertical:"vertical",Horizontal:"horizontal"},t.datavisualization.Chart.ErrorBarDirection={Both:"both",Plus:"plus",Minus:"minus"},t.datavisualization.Chart.LabelIntersectAction={None:"none",Rotate90:"rotate90",Rotate45:"rotate45",Wrap:"wrap",WrapByword:"wrapByWord",Trim:"trim",Hide:"hide",MultipleRows:"multipleRows"},t.datavisualization.Chart.EdgeLabelPlacement={None:"none",Shift:"shift",Hide:"hide"},t.datavisualization.Chart.roundedCorner={Both:"both",Start:"start",End:"end"},t.datavisualization.Chart.Theme={Azure:"azure",FlatLight:"flatlight",Azuredark:"azuredark",Lime:"lime",LimeDark:"limedark",Saffron:"saffron",SaffronDark:"saffrondark",GradientLight:"gradientlight",GradientDark:"gradientdark",HighContrast01:"highcontrast01",HighContrast02:"highcontrast02",Material:"material",Office365:"office365",Bootstrap:"bootstrap"},t.datavisualization.Chart.FontStyle={Normal:"normal",Italic:"italic"},t.datavisualization.Chart.FontWeight={Regular:"regular",Bold:"bold",Lighter:"lighter"},t.datavisualization.Chart.IntervalType={Auto:"auto",Days:"days",Hours:"hours",Seconds:"seconds",Milliseconds:"milliseconds",Minutes:"minutes",Months:"months",Weeks:"weeks",Years:"years"},t.datavisualization.Chart.RangePadding={Additional:"additional",Normal:"normal",None:"none",Round:"round",Auto:"auto"},t.datavisualization.Chart.TextAlignment={MiddleTop:"middletop",MiddleCenter:"middlecenter",MiddleBottom:"middlebottom"},t.datavisualization.Chart.LabelPosition={Inside:"inside",Outside:"outside"},t.datavisualization.Chart.ZIndex={Over:"over",Behind:"behind"},t.datavisualization.Chart.Unit={percentage:"percentage",pixel:"pixel"},t.datavisualization.Chart.PyramidMode={Linear:"linear",Surface:"Surface"},t.datavisualization.Chart.DrawType={Line:"line",Column:"column",Area:"area",RangeColumn:"rangecolumn",Scatter:"scatter",Spline:"spline"},t.datavisualization.Chart.AnimationType={Linear:"linear",Smooth:"smooth"},t.datavisualization.Chart.columnFacet={Rectangle:"rectangle",Cylinder:"cylinder"},t.datavisualization.Chart.EmptyPointMode={Gap:"gap",Zero:"zero",Average:"average"},t.datavisualization.Chart.Pattern={None:"none",Chessboard:"chessboard",Crosshatch:"crosshatch",Dots:"dots",Pacman:"pacman",DiagonalBackward:"diagonalBackward",DiagonalForward:"diagonalForward",Grid:"grid",Turquoise:"turquoise",Star:"star",Triangle:"triangle",Circle:"circle",Tile:"tile",HorizontalDash:"horizontalDash",VerticalDash:"verticalDash",Rectangle:"rectangle",Box:"box",VerticalStripe:"verticalStripe",HorizontalStripe:"horizontalStripe",Bubble:"bubble",Custom:"custom"},t.datavisualization.Chart.Mode={Series:"series",Point:"point",Cluster:"cluster",Range:"range"},t.datavisualization.Chart.SelectionType={Single:"single",Multiple:"multiple"},t.datavisualization.Chart.Shape={None:"none",LeftArrow:"leftarrow",RightArrow:"rightarrow",Circle:"circle",Cross:"cross",HorizLine:"horizline",VertLine:"vertLine",Diamond:"diamond",Rectangle:"rectangle",Triangle:"triangle",InvertedTriangle:"invertedtriangle",Hexagon:"hexagon",Pentagon:"pentagon",Star:"star",Ellipse:"ellipse",Wedge:"wedge",Trapezoid:"trapezoid",UpArrow:"uparrow",DownArrow:"downarrow",Image:"image"},t.datavisualization.Chart.DrawMode={Both:"both",Open:"open",Close:"close"},t.datavisualization.Chart.LineCap={Butt:"butt",Round:"round",Square:"square"},t.datavisualization.Chart.LineJoin={Round:"round",Bevel:"bevel",Miter:"miter"},t.datavisualization.Chart.Position={Top:"top",Middle:"middle",Bottom:"bottom"},t.datavisualization.Chart.Alignment={Center:"center",Near:"near",Far:"far"},t.datavisualization.Chart.RotateOn={Start:"start",Middle:"middle",End:"end"},t.datavisualization.Chart.TextAnchor={Start:"start",Middle:"middle",End:"end"},t.datavisualization.Chart.TickLinesPosition={Inside:"inside",Outside:"outside"},t.datavisualization.Chart.CoordinateUnit={None:"none",Pixels:"pixels",Points:"points"},t.datavisualization.Chart.HorizontalAlignment={Left:"left",Right:"right",Middle:"middle"},t.datavisualization.Chart.VerticalAlignment={Top:"top",Bottom:"bottom",Middle:"middle"},t.datavisualization.Chart.Region={Chart:"chart",Series:"series"},t.datavisualization.Chart.ConnectorLineType={Line:"line",Bezier:"bezier"},t.datavisualization.Chart.HorizontalTextAlignment={Near:"near",Far:"far",Center:"center"},t.datavisualization.Chart.VerticalTextAlignment={Near:"near",Far:"far",Center:"center"},t.datavisualization.Chart.multiLevelLabelsBorderType={None:"none",Rectangle:"rectangle",WithoutTopAndBottom:"withouttopandbottom",Brace:"brace",CurlyBrace:"curlybrace"},t.datavisualization.Chart.MACDType={Line:"line",Histogram:"histogram",Both:"both"},t.datavisualization.Chart.IndicatorsType={RSI:"rsi",Momentum:"momentum",Bollingerband:"bollingerband",Accumulationdistribution:"accumulationdistribution",EMA:"ema",SMA:"sma",Stochastic:"stochastic",ATR:"atr",MACD:"macd",TMA:"tma"},t.datavisualization.Chart.BoxPlotMode={Normal:"normal",Exclusive:"exclusive",Inclusive:"inclusive"},t.datavisualization.Chart.BubbleRadiusMode={MinMax:"minmax",Auto:"auto"},t.datavisualization.Chart.SizeType={Auto:"auto",Pixel:"pixel",Years:"years",Months:"months",Weeks:"weeks",Days:"days",Hours:"hours",Minutes:"minutes",Seconds:"seconds"},e.extend(t.datavisualization.Chart.prototype,t.ejChart)}(jQuery,Syncfusion)},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("wGFc")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=n)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},wGFc:function(e,t,i){var s,a,o;a=[i("EVdn")],void 0===(o="function"==typeof(s=function(){var e,t,i;window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i){"use strict";var s,a,o,r;t.version="13.3.0.8",t.consts={NamespaceJoin:"-"},t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.serverTimezoneOffset=0,t.parseDateInUTC=!1,t.persistStateVersion=null,t.locales=t.locales||[],Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==i}),Date.prototype.toISOString||function(){function e(e){var t=String(e);return 1===t.length&&(t="0"+t),t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.defineClass=function(e,s,a,o){if(!e||!a)return i;for(var r=e.split("."),n=window,l=0;l<r.length-1;l++)t.isNullOrUndefined(n[r[l]])&&(n[r[l]]={}),n=n[r[l]];return(o||t.isNullOrUndefined(n[r[l]]))&&(n[r[l]]=s="function"==typeof s?s:function(){},n[r[l]].prototype=a),n[r[l]]},t.util={getNameSpace:function(e){var i=e.toLowerCase().split(".");return"ej"===i[0]&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(e,s){var a,o,r;if(!s||!e)return i;for("string"!=typeof e&&(e=JSON.stringify(e)),a=s,o=e.split("."),r=0;r<o.length&&!t.util.isNullOrUndefined(a);r++)a=a[o[r]];return a},createObject:function(e,i,s){for(var a,o=e.split("."),r=s||window,n=r,l=o.length,d=0;d<l;d++)a=o[d],d+1==l?n[a]=i:t.isNullOrUndefined(n[a])&&(n[a]={}),n=n[a];return r},isNullOrUndefined:function(e){return e===i||null===e},exportAll:function(i,s){var a,o,r,n,l,d,h,c,u=[],p=[],m=t.buildTag("form","",null,{action:i,method:"post","data-ajax":"false"});if(0!=s.length){for(h=0;h<s.length;h++)o=h,r=e("#"+s[h]),n=e("#"+s[h]).data(),a=n.ejWidgets,l=e(r).data(a[0]),p.push({id:l._id,locale:l.model.locale}),t.isNullOrUndefined(l)||(d=l._getExportModel(l.model),u.push({name:a[0],type:"hidden",value:l.stringify(d)}),c=t.buildTag("input","",null,u[o]),m.append(c));e("body").append(m),m.submit(),setTimeout((function(){var i,s;if(p.length)for(s=0;s<p.length;s++)t.isNullOrUndefined(p[s].locale)||(i=e("#"+p[s].id).data(),a=i.ejWidgets,e("#"+p[s].id).data(a[0]).model.locale=p[s].locale)}),0),m.remove()}return!0},print:function(i,s){var a,o,r=t.buildTag("div"),n=i.clone();r.append(n),s||(s=window.open("","print","height=452,width=1024,tabbar=no")),s.document.write("<!DOCTYPE html>"),a=e("head").find("link").add("style"),"msie"===t.browserInfo().name?(o="",a.each((function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML})),s.document.write("<html><head></head><body>"+o+r[0].innerHTML+"</body></html>")):(o="",s.document.write("<html><head>"),a.each((function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML})),s.document.writeln(o+"</head><body>"),s.document.writeln(r[0].innerHTML+"</body></html>")),s.document.close(),s.focus(),setTimeout((function(){t.isNullOrUndefined(s.window)||(s.print(),setTimeout((function(){s.close()}),1e3))}),1e3)},ieClearRemover:function(t){var i=e(t).height();t.style.paddingTop=parseFloat(i/2)+"px",t.style.paddingBottom=parseFloat(i/2)+"px",t.style.height="1px",t.style.lineHeight="1px"},sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,s,a,o){var r,n=/^[a-z]*[0-9a-z]+/gi.exec(t)[0],l=/#([_a-z0-9-&@\/\\,+()$~%:*?<>{}\[\]]+\S)/gi.exec(t);return l=l?l[l.length-1].replace(/[&@\/\\,+()$~%.:*?<>{}\[\]]/g,""):i,r=(r=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(t))?r[r.length-1]:i,e(document.createElement(n)).attr(l?{id:l}:{}).addClass(r||"").css(a||{}).attr(o||{}).html(s||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var t=1;return((t=Math.max.apply(null,e.map(e("body *"),(function(t){if("absolute"==e(t).css("position")||"fixed"==e(t).css("position"))return parseInt(e(t).css("z-index"))||1}))))==i||null==t)&&(t=1),t},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(t,i){var s,a,o,r=e(t).parents().andSelf().filter(":hidden");return r&&(a={visibility:"hidden",display:"block"},o=[],r.each((function(){var e={};for(var t in a)e[t]=this.style[t],this.style[t]=a[t];o.push(e)})),s=/(outer)/g.test(i)?e(t)[i](!0):e(t)[i](),r.each((function(e){var t=o[e];for(var i in a)this.style[i]=t[i]}))),s},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||e.support.hasPointer?e.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(e("head"),"data-ej-forceset",!1)?t.getBooleanVal(e("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-tablet",!1)||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return e.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,s){var a=e(t).attr(i);return null!=a?"true"==a.toLowerCase():s},_getSkewClass:function(e,t,i){var s=e.width(),a=e.height(),o=e.offset().left,r=e.offset().left+s,n=e.offset().top,l=e.offset().top+a,d=.3*s,h=.3*a;return t<o+d&&i<n+h?"e-m-skew-topleft":t>r-d&&i<n+h?"e-m-skew-topright":t>r-d&&i>l-h?"e-m-skew-bottomright":t<o+d&&i>l-h?"e-m-skew-bottomleft":t>o+d&&i<n+h&&t<r-d?"e-m-skew-top":t<o+d?"e-m-skew-left":t>r-d?"e-m-skew-right":i>l-h?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){e(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){if(e){var i=e.touches?e.touches[0]:e;t._distX=0,t._distY=0,t._moved=!1,t._pointX=i.pageX,t._pointY=i.pageY}},_isTouchMoved:function(e,t){if(e){var i,s,a=e.touches?e.touches[0]:e,o=a.pageX-t._pointX,r=a.pageY-t._pointY;return Date.now(),t._pointX=a.pageX,t._pointY=a.pageY,t._distX+=o,t._distY+=r,i=Math.abs(t._distX),s=Math.abs(t._distY),!(i<5&&s<5)}},listenEvents:function(e,i,s,a,o,r){for(var n=0;n<e.length;n++)t.listenTouchEvent(e[n],i[n],s[n],a,o,r)},listenTouchEvent:function(i,s,a,o,r,n){for(var l,d=o?"removeEventListener":"addEventListener",h=o?"off":"on",c=e(i),u=0;u<c.length;u++)switch(l=c[u],s){case"touchstart":t._bindEvent(l,d,s,a,"mousedown","MSPointerDown","pointerdown",n);break;case"touchmove":t._bindEvent(l,d,s,a,"mousemove","MSPointerMove","pointermove",n);break;case"touchend":t._bindEvent(l,d,s,a,"mouseup","MSPointerUp","pointerup",n);break;case"touchcancel":t._bindEvent(l,d,s,a,"mousecancel","MSPointerCancel","pointercancel",n);break;case"tap":case"taphold":case"ejtouchmove":case"click":e(l)[h](s,a);break;default:"msie"==t.browserInfo().name&&t.browserInfo().version<9?r._on(e(l),s,a):l[d](s,a,!0)}},_bindEvent:function(t,i,s,a,o,r,n){t[i](e.support.hasPointer?window.navigator.pointerEnabled?n:r:s,a,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),i=0,s=e.length;i<s;i++)if(e[i]+"ransform"in t.styles)return e[i].substr(0,e[i].length-1);return!1},addPrefix:function(e){return""===t.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),t.userAgent()+e)},destroyWidgets:function(t){e(t).find("[data-role *= ejm]").each((function(t,i){var s=e(i),a=s.data("ejWidgets");a&&s[a]("destroy")}))},getAttrVal:function(t,i,s){var a=e(t).attr(i);return null!=a?a:s},getOffset:function(t){var i,s={},a=t.offset()||{left:0,top:0};return e.extend(!0,s,a),"static"!=e("body").css("position")&&(i=e("body").offset(),s.left-=i.left,s.top-=i.top),s},getZindexPartial:function(i,s){var a,o,r;if(!t.isNullOrUndefined(i)&&i.length>0)return a=i.parents(),o=e("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&o.splice(o.index(s),1),e(o).each((function(e,t){a.push(t)})),!(r=Math.max.apply(r,e.map(a,(function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1}))))||r<1e4?r=1e4:r+=1,r},isValidAttr:function(t,i){var s;return void 0!==(t=e(t)[0])[i]||(s=!1,e.each(t,(function(e){if(e.toLowerCase()==i.toLowerCase())return s=!0,!1})),s)}},e.extend(t,t.util),t.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(i,s,a,o,r){var n=null;if(("object"==typeof i||i.startsWith("#")||i.startsWith("."))&&(n=e(i).attr("type")),n){if(n=n.toLowerCase(),t.template[n])return t.template[n](this,i,s,a,o)}else if(!t.isNullOrUndefined(r))return t.template["text/x-"+r](this,i,s,a,o);return t.template.render(this,i,s,a,o)},destroy:function(){var i,a,o,r;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),e(window).off("unload",this._persistHandler));try{this._destroy()}catch(s){}for(i=this.element.data("ejWidgets")||[],r=0;r<i.length;r++)i[r]==this.pluginName&&i.splice(r,1);for(i.length||this.element.removeData("ejWidgets");this._events&&(o=[],a=this._events.pop());){for(r=0;r<a[1].length;r++)e.isPlainObject(a[1][r])||o.push(a[1][r]);e.fn.off.apply(a[0],o)}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var s=[].splice.call(arguments,1,arguments.length-1),a={},o=s.length;a&&"function"!=typeof a;)a=s[--o];return s[o]=t.proxy(s[o],this),this._events.push([i,s,a,s[o]]),e.fn.on.apply(i,s),this},_off:function(t,i,s,a){var o,r,n,l,d=this._events;if(!d||!d.length)return this;for("function"==typeof s&&(o=a,a=s,s=o),r=i.match(/\S+/g)||[""],n=0;n<d.length;n++)if((l=d[n])[0].length&&(!a||l[2]===a)&&(l[1][0]===i||r[0])&&(!s||l[1][1]===s)&&e.inArray(t[0],l[0])>-1){e.fn.off.apply(t,a?[i,s,l[3]]:[i,s]),d.splice(n,1);break}return this},_trigger:function(i,s){var a,o,r,n=null,l={};return e.extend(l,s),i in this.model&&(n=this.model[i]),n&&("string"==typeof n&&(n=t.util.getObject(n,window)),e.isFunction(n)&&(o=t.event(i,this.model,s),a=n.call(this,o),s&&e.extend(s,o),o.cancel||!t.isNullOrUndefined(a)))?!1===a||o.cancel:(r=Boolean(s),(s=s||{}).originalEventType=i,s.type=this.pluginName+i,o=e.Event(s.type,t.event(s.type,this.model,s)),this.element&&this.element.trigger(o),r&&e.extend(s,o),t.isOnWebForms&&0==o.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,s,l),o.cancel)},setModel:function(t,i){var a,o,r,n;if(!this._trigger("modelChange",{changes:t})){for(a in t){if(!i){if(this.model[a]===t[a]){delete t[a];continue}if(e.isPlainObject(t[a])&&(s(this.model[a],t[a]),e.isEmptyObject(t[a]))){delete t[a];continue}}if(this.dataTypes&&!0!==(o=this._isValidModelValue(a,this.dataTypes,t)))throw"setModel - Invalid input for property :"+a+" - "+o;this.model.notifyOnEachPropertyChanges&&this.model[a]!==t[a]&&(t[a]=this._trigger(a+"Change",r={oldValue:this.model[a],newValue:t[a]})?this.model[a]:r.newValue)}e.isEmptyObject(t)||(this._setFirst?((n=t.dataSource)&&delete t.dataSource,e.extend(!0,this.model,t),n&&(this.model.dataSource=n instanceof Array?n.slice():n,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&!1===this._setModel(t)||e.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(s,a,o){if(!s)return this.model;if(e.isPlainObject(s))return this.setModel(s,o);if("string"==typeof s){s=s.replace(/^model\./,"");var r=t.getObject(s,this.model);if(a===i&&!o)return r;if("enablePersistence"===s)return this._setState(a);if(o&&a===t.extensions.modelGUID)return this._setModel(t.createObject(s,t.getObject(s,this.model),{}));if(o||t.getObject(s,this.model)!==a)return this.setModel(t.createObject(s,a,{}),o)}return i},_isValidModelValue:function(e,t,i){var s,a,o,r=t[e],n=i[e];if(!r)return!0;if("string"==typeof r){if("enum"==r&&(i[e]=n?n.toString().toLowerCase():n,r="string"),"array"===r){if("[object Array]"===Object.prototype.toString.call(n))return!0}else if("data"===r||"parent"===r||typeof n===r)return!0;return"Expected type - "+r}if(n instanceof Array){for(a=0;a<n.length;a++)if(!0!==(s=this._isValidModelValue(e,t,n[a])))return" ["+a+"] - "+s;return!0}for(o in n)if(!0!==(s=this._isValidModelValue(o,r,n)))return o+" : "+s;return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},_removeCircularRef:function(e){var t=[];return function e(i,s,a){if("object"!=typeof i);else{if(Array.prototype.indexOf||(Array.prototype.indexOf=function(e){return jQuery.inArray(e,this)}),t.indexOf(i)>=0)return void delete a[s];for(var o in t.push(i),i)i.hasOwnProperty(o)&&e(i[o],o,i);t.pop()}}(e,"obj",null),e},stringify:function(e,i){for(var s,a=this.observables,o=0;o<a.length;o++)s=t.getObject(a[o],e),t.isNullOrUndefined(s)||"function"!=typeof s||this._returnFn(e,a[o]);return i&&(e=this._removeCircularRef(e)),JSON.stringify(e)},_setState:function(i){!0===i?(this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler)):(this.deleteState(),e(window).off("unload",this._persistHandler))},_removeProp:function(e,i){t.isNullOrUndefined(e)||(-1!=i.indexOf(".")?this._removeProp(e[i.split(".")[0]],i.split(".").slice(1).join(".")):delete e[i])},persistState:function(){var e,i;if(this._ignoreOnPersist){for(e=n({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(e,this._ignoreOnPersist[i]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),e);e.addToPersist=this._addToPersist}else e=n({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||null!=t.cookie.get("persistKey")||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,void 0,new Date)},restoreState:function(i){var s,a,o,r=null;if(window.localStorage?r=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(r=t.cookie.get("$ej$"+this.pluginName+this._id)),r&&(s=JSON.parse(r),this._restoreState&&(this._restoreState(s.customPersists),delete s.customPersists),!1===t.isNullOrUndefined(s)&&(t.isNullOrUndefined(s.ignoreOnPersist)?t.isNullOrUndefined(s.addToPersist)||(this._addToPersist=s.addToPersist,delete s.addToPersist):(this._ignoreOnPersist=s.ignoreOnPersist,delete s.ignoreOnPersist))),t.isNullOrUndefined(s)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=e.extend(!0,this.model,s);else{for(a=0,o=this._ignoreOnPersist.length;a<o;a++)-1!==this._ignoreOnPersist[a].indexOf(".")?t.createObject(this._ignoreOnPersist[a],t.getObject(this._ignoreOnPersist[a],this.model),s):s[this._ignoreOnPersist[a]]=this.model[this._ignoreOnPersist[a]];this.model=s}!i&&r&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,s,a=[];if("object"==typeof e?a=e:"string"==typeof e&&a.push(e),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<a.length;t++)this._ignoreOnPersist.push(a[t]);else for(t=0;t<a.length;t++)s=this._addToPersist.indexOf(a[t]),this._addToPersist.splice(s,1)},addToPersist:function(t){var s,a,o=[];if("object"==typeof t?o=t:"string"==typeof t&&o.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],a=0;a<o.length;a++)s=this._ignoreOnPersist.indexOf(o[a]),this._ignoreOnPersist.splice(s,1);else for(a=0;a<o.length;a++)-1===e.inArray(o[a],this._addToPersist)&&this._addToPersist.push(o[a])},formatting:function(i,s,a){var o,r,n,l,d,h,c,u;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),a=t.preferredCulture(a)?a:"en-US",o=i,r=i.split("{0:"),d=i.split("}"),n=r[0],l=d[1],"string"==typeof s&&e.isNumeric(s)&&(s=Number(s)),-1!=i.indexOf("{0:"))return null!=(h=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(i))&&null!=s?null!=n&&null!=l?n+t.format(s,h[2],a)+l:t.format(s,h[2],a):null!=s?s:"";if(o.startsWith("{")&&!o.startsWith("{0:")){var p=o.split(""),m=(s=(s||"")+"").split(""),g=/[0aA\*CN<>\?]/gm;for(c=0,u=0;c<p.length;c++)p[c]=g.test(p[c])?"{"+u+++"}":p[c];return String.format.apply(String,[p.join("")].concat(m)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(e.each(this.data,(function(e,t){o=o.replace(new RegExp("\\{"+e+"\\}","gm"),t)})),o):this.data.Value}},t.WidgetBase=function(){},s=function(t,i){var a,o,r;if(t instanceof Array)for(a=0,o=t.length;a<o;a++)(r=t[a])===i[r]&&delete i[r],e.isPlainObject(i[r])&&e.isPlainObject(r)&&s(r,i[r]);else for(r in t)t[r]===i[r]&&delete i[r],e.isPlainObject(i[r])&&e.isPlainObject(t[r])&&s(t[r],i[r])},t.widget=function(s,o,d){var c,u,p;if("object"!=typeof s)p=d._rootCSS||t.getNameSpace(o),d=t.defineClass(o,(function(i,r){var h,c,u,m,g,_,f,b,v,x;if(this.sfType=o,this.pluginName=s,this.instance=l,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},e.extend(this,t.widgetBase),this.dataTypes)for(h in r)if(!0!==(c=this._isValidModelValue(h,this.dataTypes,r)))throw"setModel - Invalid input for property :"+h+" - "+c;for((u=i.data("ejWidgets")||[]).push(s),i.data("ejWidgets",u),g=0;t.widget.observables&&this.observables&&g<this.observables.length;g++)(m=t.getObject(this.observables[g],r))&&t.createObject(this.observables[g],t.widget.observables.register(m,this.observables[g],this,i),r);if(this.element=i.jquery?i:e(i),this.model=n(!0,{},d.prototype.defaults,r),this.model.keyConfigs=n(this.keyConfigs),this.element.addClass(p+" e-js").data(s,this),this._id=i[0].id,this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(g in window.localStorage)-1!=g.indexOf("$ej$")&&(window.localStorage.removeItem(g),window.localStorage.setItem("persistKey",t.persistStateVersion));else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion)for(_ in document.cookie.split(/; */))-1!=_.indexOf("$ej$")&&(t.cookie.set(_.split("=")[0],void 0,new Date),t.cookie.set("persistKey",t.persistStateVersion));this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(r),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(b in f=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==b){f=!0;break}f&&this._keyPressed&&(v=i,x="keydown",this.keySettings&&(v=this.keySettings.getElement&&this.keySettings.getElement()||v,x=this.keySettings.event||x),this._on(v,x,(function(e){if(this.model.keyConfigs){var t=a.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey);t&&!1===this._keyPressed(t,e.target,{code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey},e)&&e.preventDefault()}})))}this._trigger("create")}),d),e.fn[s]=function(a){for(var n,l,c=a,u=0;u<this.length;u++){var m=e(this[u]),g=m.data(s),_=g&&m.hasClass(p),f=null;if(this.length>0&&e.isPlainObject(c)&&(a=t.copyObject({},c)),_){if(a)if(l=[].slice.call(arguments,1),this.length>0&&l[0]&&"option"===c&&e.isPlainObject(l[0])&&(l[0]=t.copyObject({},l[0])),e.isPlainObject(a))g.setModel(a);else if(0!==a.indexOf("_")&&!t.isNullOrUndefined(f=t.getObject(a,g))||0===a.indexOf("model.")){if(!f||!e.isFunction(f)){if(1==arguments.length)return f;g.option(a,arguments[1]);continue}if((n=f.apply(g,l))!==i)return n}else r(o+": function/property - "+a+" does not exist")}else!0!==d.prototype._requiresID||e(this[u]).attr("id")||m.attr("id",h("ejControl_")),a&&"object"!=typeof a?r(s+": methods/properties can be accessed only after plugin creation"):(d.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in d.prototype.defaults&&"ejChart"!=s&&(!a||"locale"in a?t.isNullOrUndefined(a)&&((a={}).locale=t.setCulture().name):a.locale=t.setCulture().name),new d(m,a))}return-1!=s.indexOf("ejm")&&t.widget.registerInstance(m,s,o,d.prototype),this},t.widget.register(s,o,d.prototype),t.loadLocale(s);else for(c in d=o,s)(u=s[c])instanceof Array&&(d._rootCSS=u[1],u=u[0]),t.widget(c,u,d),s[c]instanceof Array&&(d._rootCSS="")},t.loadLocale=function(i){for(var s=t.locales,a=0,o=s.length;a<o;a++)e.fn["Locale_"+s[a]](i)},e.extend(t.widget,function(){var e={},i=[];return{register:function(i,s,a){t.isNullOrUndefined(e[i])||r("ej.widget : The widget named "+i+" is trying to register twice."),e[i]={name:i,className:s,proto:a},t.widget.extensions&&t.widget.extensions.registerWidget(i)},registerInstance:function(e,t,s,a){i.push({element:e,pluginName:t,className:s,proto:a})},registeredWidgets:e,registeredInstances:i}}()),t.widget.destroyAll=function(e){var t,i,s,a;if(e&&e.length)for(t=0;t<e.length;t++)if((s=(i=e.eq(t).data()).ejWidgets)&&s.length)for(a=0;a<s.length;a++)i[s[a]]&&i[s[a]].destroy&&i[s[a]].destroy()},t.cookie={get:function(e){var t=RegExp(e+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},a={getActionFromCode:function(e,t,i,s,o){var r,n,l;for(r in i=i||!1,s=s||!1,o=o||!1,e)if("focus"!==r)for(n=a.getKeyObject(e[r]),l=0;l<n.length;l++)if(t===n[l].code&&i==n[l].isCtrl&&s==n[l].isShift&&o==n[l].isAlt)return r;return null},getKeyObject:function(t){for(var i,s,o,r={isCtrl:!1,isShift:!1,isAlt:!1},n=e.extend(!0,{},r),l=t.split(","),d=[],h=0;h<l.length;h++){if(i=null,-1!=l[h].indexOf("+"))for(s=l[h].split("+"),o=0;o<s.length;o++)i=a.getResult(e.trim(s[o]),r);else i=a.getResult(e.trim(l[h]),e.extend(!0,{},n));d.push(i)}return d},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},t.getScrollableParents=function(t){return e(t).parentsUntil("html").filter((function(){return"visible"!=e(this).css("overflow")})).add(e(window))},t.browserInfo=function(){var i,s,a,o,r={},n=[],l={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in l)if(l.hasOwnProperty(i)&&(n=navigator.userAgent.match(l[i]))){if(r.name="opr"==n[1].toLowerCase()?"opera":n[1].toLowerCase(),r.version=n[2],r.culture={},r.culture.name=r.culture.language=navigator.language||navigator.userLanguage,void 0!==t.globalize){for(s=t.preferredCulture().name,a=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),o=0;navigator.languages&&o<navigator.languages.length&&(a=t.preferredCulture(navigator.languages[o])).language!=navigator.languages[o];o++);t.preferredCulture(s),e.extend(!0,r.culture,a)}!navigator.userAgent.match(/Trident\/7\./)||(r.name="msie");break}return r.isMSPointerEnabled="msie"==r.name&&r.version>9&&window.navigator.msPointerEnabled,r.pointerEnabled=window.navigator.pointerEnabled,r},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,s){return e.extend(s||{},{type:t,model:i,cancel:!1})},t.proxy=function(e,t,i){return e&&"function"==typeof e?"on"in e&&t?i?e.on(t,i):e.on(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}:null},t.hasStyle=function(e){var t,i,s=document.documentElement.style;if(e in s)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in s)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var n=t.copyObject=function(e,s){var a,o,r,l,d,h,c=2;for("boolean"!=typeof e&&(c=1),r=[].slice.call(arguments,c),1===c&&(s=e,e=i),l=0;l<r.length;l++)for(d in r[l])if(a=s[d],(o=r[l][d])!==i&&a!==o&&r[l]!==o&&s!==o)if(o instanceof Array)if(0===l&&e)if("dataSource"===d||"data"===d||"predicates"===d)s[d]=o.slice();else for(s[d]=[],h=0;h<o.length;h++)n(!0,s[d],o);else s[d]=o.slice();else t.isPlainObject(o)?(s[d]=a||{},e?n(e,s[d],o):n(s[d],o)):s[d]=o;return s},l=function(){return this},d=0,h=function(e){return e+d++};t.template={},t.template.render=t.template["text/x-jsrender"]=function(t,i,s,a,o){"#"!==i.slice(0,1)&&(i=["<div>",i,"</div>"].join(""));var r={prop:o,index:a};return e(i).render(s,r)},t.isPlainObject=function(e){if(!e||t.DataManager!==i&&e instanceof t.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(o){return!1}var s,a=t.support.isOwnLast;for(s in e)if(a)break;return s===i||e.hasOwnProperty(s)},o=!1,t.util.valueFunction=function(e){return function(s,a){var r=t.getObject(e,this.model);if(!1===o&&(o=t.getObject("observables.getValue",t.widget)),s===i)return t.isNullOrUndefined(o)?"function"==typeof r?r.call(this):r:o(r,a);"function"==typeof r?(this["ob.values"][e]=s,r.call(this,s)):t.createObject(e,s,this.model)}},t.util.getVal=function(e){return"function"==typeof e?e():e},t.support={isOwnLast:function(){var e,t=function(){this.a=1};for(e in t.prototype.b=1,new t)return"b"===e}(),outerHTML:document.createElement("div").outerHTML!==i},r=t.throwError=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},t.getRandomValue=function(e,s){var a,o;return e===i||s===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(o=new Uint16Array(1),window.crypto.getRandomValues(o),a=o[0]%(s-e)+e):a=Math.random()*(s-e)+e,0|a)},t.extensions={},t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(e){var t=$(this);$.each(e,(function(e,i){i&&i.specified&&t.attr(i.name,i.value)}))},$.fn.removeEleAttrs=function(e){return this.each((function(){var t=$(this),i=$(this.attributes).clone();$.each(i,(function(i,s){s&&s.specified&&e.test(s.name)&&t.removeAttr(s.name)}))}))},$.fn.attrNotStartsWith=function(e){var t,i,s=[];for(this.each((function(){t=$(this.attributes).clone()})),i=0;i<t.length;i++)t[i]&&t[i].specified&&e.test(t[i].name)||s.push(t[i]);return s},$.fn.removeEleEmptyAttrs=function(){return this.each((function(){var e=$(this),t=$(this.attributes).clone();$.each(t,(function(t,i){i&&i.specified&&""===i.value&&e.removeAttr(i.name)}))}))},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var s=e.attributes,a=0;a<s.length;a++)if(0===s[a].nodeName.indexOf(i[3]))return!1;return!0}});var e=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}(),window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i,s){"use strict";var a,o,r,n,l,d,h,c,u;t.DataManager=function(i,a,o){if(!(this instanceof t.DataManager))return new t.DataManager(i,a,o);i||(i=[]),"string"==typeof(o=o||i.adaptor)&&(o=new t[o]);var r=[],n=this;return i instanceof Array?r={json:i,offline:!0}:"object"==typeof i?e.isPlainObject(i)?(i.json||(i.json=[]),i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),r={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,async:i.async,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,antiForgery:i.antiForgery,jsonp:i.jsonp,dataType:i.dataType,enableAjaxCache:i.enableAjaxCache,offline:i.offline!==s?i.offline:!("remoteSaveAdaptor"==i.adaptor||i.adaptor instanceof t.remoteSaveAdaptor||i.url),requiresFormat:i.requiresFormat}):(i.jquery||R(i))&&(r={json:this._getJsonFromElement(i),offline:!0,table:i}):"string"==typeof i&&(r={url:i,offline:!1,dataType:"json",json:[]}),r.requiresFormat!==s||t.support.cors||(r.requiresFormat=!!c(r.crossDomain)||r.crossDomain),r.antiForgery&&this.antiForgeryToken(),r.dataType===s&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=a,r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=o||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(a||t.Query()).done((function(e){n.dataSource.offline=!0,n.isDataAvailable=!0,r.json=e.result,n.adaptor=new t.JsonAdaptor}))):this.adaptor=r.offline?new t.JsonAdaptor:new t.ODataAdaptor,!r.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(r.jsonp="callback"),this.adaptor=o||this.adaptor,r.enableCaching&&(this.adaptor=new t.CacheAdaptor(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this},t.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(i,a,o,r){var n,d,h;return"function"==typeof i&&(r=o,o=a,a=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),(n=e.Deferred()).then(a,o,r),d={query:i},this.dataSource.offline||this.dataSource.url==s?t.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?l((function(){this._localQueryProcess(i,d,n)}),this):this._localQueryProcess(i,d,n):(h=this.adaptor.processQuery(this,i),t.isNullOrUndefined(h.url)?l((function(){d=this._getDeferedArgs(i,h,d),n.resolveWith(this,[d])}),this):this._makeRequest(h,n,d,i)),n.promise()},_localQueryProcess:function(e,t,i){var s=this.executeLocal(e);t=this._getDeferedArgs(e,s,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=E(e._fromTable,i.result,this),i.getKnockoutModel=V(i.result),i},executeLocal:function(i){var s,a;if(this.defaultQuery||i instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),s=this.adaptor.processQuery(this,i=i||this.defaultQuery),i._subQuery){var o=i._subQuery._fromTable,r=i._subQuery._lookup,n=i._requiresCount?s.result:s;for(r&&r instanceof Array&&p(i._subQuery._fKey,o,n,r,i._subQuery._key),a=0;a<n.length;a++)n[a][o]instanceof Array&&(n[a]=e.extend({},n[a]),n[a][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(n[a][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(s,this,i)},_makeRequest:function(i,s,a,o){var r,n=!!o._subQuerySelector,l=h((function(e){a.error=e,s.rejectWith(this,[a])}),this),c=h((function(e,t,i,r,l,d,h){n||(a.xhr=i,a.count=parseInt(t,10),a.result=e,a.request=r,a.aggregates=d,a.getTableModel=E(o._fromTable,e,this),a.getKnockoutModel=V(e),a.actual=l,a.virtualSelectRecords=h,s.resolveWith(this,[a]))}),this),u=h((function(t,i){var s,r,d=e.Deferred(),h={parent:a};return o._subQuery._isChild=!0,s=this.adaptor.processQuery(this,o._subQuery,t?this.adaptor.processResponse(t):i),r=this._makeRequest(s,d,h,o._subQuery),n||d.then((function(e){t&&(p(o._subQuery._fKey,o._subQuery._fromTable,t,e,o._subQuery._key),c(t))}),l),r}),this),m=d((function(e,i,s,a){-1==s.getResponseHeader("Content-Type").indexOf("xml")&&t.dateParse&&(e=t.parseJSON(e));var r=this.adaptor.processResponse(e,this,o,s,a),l=0,d=null,h=e.virtualSelectRecords;o._requiresCount&&(l=r.count,d=r.aggregates,r=r.result),o._subQuery?n||u(r):c(r,l,s,a,e,d,h)}),this),g=e.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!!t.isNullOrUndefined(this.dataSource.enableAjaxCache)||this.dataSource.enableAjaxCache,beforeSend:h(this._beforeSend,this),processData:!1,success:m,error:l},i);return"async"in this.dataSource&&(g.async=this.dataSource.async),g=e.ajax(g),n&&((r=o._subQuerySelector.call(this,{query:o._subQuery,parent:o}))&&r.length?(g=e.when(g,u(null,r))).then(d((function(e,t,i){var s,a=this.adaptor.processResponse(e[0],this,o,e[2],i[0]),r=0;o._requiresCount&&(r=a.count,a=a.result),s=this.adaptor.processResponse(t[0],this,o._subQuery,t[2],i[1]),r=0,o._subQuery._requiresCount&&(r=s.count,s=s.result),p(o._subQuery._fKey,o._subQuery._fromTable,a,s,o._subQuery._key),n=!1,c(a,r,e[2])}),this),l):n=!1),g},_beforeSend:function(e,t){var i,s,a,o;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,a=0;i&&a<i.length;a++)for(o in s=[],i[a])s.push(o),e.setRequestHeader(o,i[a][o])},saveChanges:function(i,s,a,o){var r,n;return a instanceof t.Query&&(o=a,a=null),r=this.adaptor.batchRequest(this,i,{url:a,key:s||this.dataSource.key},o),this.dataSource.offline?r:(n=e.Deferred(),e.ajax(e.extend({beforeSend:h(this._beforeSend,this),success:d((function(e,t,a,o){n.resolveWith(this,[this.adaptor.processResponse(e,this,null,a,o,i,s)])}),this),error:function(e){n.rejectWith(this,[{error:e}])}},r)),n.promise())},insert:function(i,s,a){var o,r;return i=b.replacer(i,!0),s instanceof t.Query&&(a=s,s=null),o=this.adaptor.insert(this,i,s,a),this.dataSource.offline?o:(r=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:h(this._beforeSend,this),success:d((function(e,i,s,a){try{t.isNullOrUndefined(e)?e=[]:b.parseJson(e)}catch(o){e=[]}e=this.adaptor.processResponse(b.parseJson(e),this,null,s,a),r.resolveWith(this,[{record:e,dataManager:this}])}),this),error:function(e){r.rejectWith(this,[{error:e,dataManager:this}])}},o)),r.promise())},antiForgeryToken:function(){return t.isNullOrUndefined(e("input[name='_ejRequestVerifyToken']").val())?t.buildTag("input","","",{type:"hidden",name:"_ejRequestVerifyToken",value:t.getGuid()}).appendTo("body"):e("input[name='_ejRequestVerifyToken']").val(t.getGuid()),t.cookie.set("_ejRequestVerifyToken",e("input[name='_ejRequestVerifyToken']").val()),{name:"_ejRequestVerifyToken",value:e("input[name='_ejRequestVerifyToken']").val()}},remove:function(i,s,a,o){var r,n;return"object"==typeof s&&(s=s[i]),a instanceof t.Query&&(o=a,a=null),r=this.adaptor.remove(this,i,s,a,o),this.dataSource.offline?r:(n=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:d((function(e,i,s,a){try{t.isNullOrUndefined(e)?e=[]:b.parseJson(e)}catch(o){e=[]}e=this.adaptor.processResponse(b.parseJson(e),this,null,s,a),n.resolveWith(this,[{record:e,dataManager:this}])}),this),error:function(e){n.rejectWith(this,[{error:e,dataManager:this}])}},r)),n.promise())},update:function(i,s,a,o){var r,n;return s=b.replacer(s,!0),a instanceof t.Query&&(o=a,a=null),r=this.adaptor.update(this,i,s,a,o),this.dataSource.offline?r:(n=e.Deferred(),e.ajax(e.extend({contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:d((function(e,i,s,a){try{t.isNullOrUndefined(e)?e=[]:b.parseJson(e)}catch(o){e=[]}e=this.adaptor.processResponse(b.parseJson(e),this,null,s,a),n.resolveWith(this,[{record:e,dataManager:this}])}),this),error:function(e){n.rejectWith(this,[{error:e,dataManager:this}])}},r)),n.promise())},_getJsonFromElement:function(i){"string"==typeof i&&(i=e(e(i).html()));var s=(i=i.jquery?i[0]:i).tagName.toLowerCase();return"table"!==s&&u("ej.DataManager : Unsupported htmlElement : "+s),t.parseTable(i)}};var p=function(e,i,s,a,o){var r,n,l={};for(a.result&&(a=a.result),a.GROUPGUID&&u("ej.DataManager: Do not have support Grouping in hierarchy"),r=0;r<a.length;r++)(l[n=t.getObject(e,a[r])]||(l[n]=[])).push(a[r]);for(r=0;r<s.length;r++)s[r][i]=l[t.getObject(o||e,s[r])]},m="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",g="batch_",_="Content-Type: application/http\nContent-Transfer-Encoding: binary ",f="Content-Type: application/json; charset=utf-8 ",b={parseJson:function(e){var t=typeof e;return"string"===t?e=JSON.parse(e,b.jsonReviver):e instanceof Array?b.iterateAndReviveArray(e):"object"===t&&b.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?b.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?b.parseJson(e[t]):b.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t;for(var i in e)i.startsWith("__")||("object"==typeof(t=e[i])?t instanceof Array?b.iterateAndReviveArray(t):b.iterateAndReviveJson(t):e[i]=b.jsonReviver(i,t))},jsonReviver:function(e,i){var s,a,o=i,r=/[\-,/,\,.,:,]+/;if("string"==typeof i){if(s=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i))return t.parseDateInUTC?b.isValidDate(s[0]):b.replacer(new Date(parseInt(s[1])));(t.dateParse?/^(?:(\d{4}\-\d\d\-\d\d)|(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?)$/.test(i):/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i))&&(a=o.split(/[^0-9]/),/^(\d{4}\-\d\d\-\d\d)$/.test(i)?i=new Date(a[t.dateFormat.split(r).indexOf("yyyy")],a[t.dateFormat.split(r).indexOf("MM")]-1,a[t.dateFormat.split(r).indexOf("dd")]):(i=t.parseDateInUTC?b.isValidDate(i):b.replacer(new Date(i)),isNaN(i)&&(i=b.replacer(new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])))))}return i},isValidDate:function(e){var t=e;return"string"==typeof t&&0==t.indexOf("/Date(")&&(e=t.replace(/\d+/,(function(e){var t=6e4*new Date(parseInt(e)).getTimezoneOffset(),i=parseInt(e)+t;return b.replacer(new Date(parseInt(i)))}))),"string"==typeof e?(e=(e=e.replace("/Date(",(function(){return""}))).replace(")/",(function(){return""})),new Date(e)instanceof Date?new Date(e):e):e},isJson:function(e){return"string"==typeof e[0]?e:t.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e,i){return t.isPlainObject(e)?b.jsonReplacer(e,i):e instanceof Array?b.arrayReplacer(e):e instanceof Date?b.jsonReplacer({val:e},i).val:e},jsonReplacer:function(e,i){var s,a,o;for(a in e)(s=e[a])instanceof Date&&(o=36e5*t.serverTimezoneOffset*(t.isNullOrUndefined(i)||!1===i?1:-1),e[a]=new Date(+s+o));return e},arrayReplacer:function(e){for(var i=0;i<e.length;i++)t.isPlainObject(e[i])?e[i]=b.jsonReplacer(e[i]):e[i]instanceof Date&&(e[i]=b.jsonReplacer({date:e[i]}).date);return e}};t.isJSON=b.isJson,t.parseJSON=b.parseJson,t.dateParse=!0,t.dateFormat="yyyy-MM-dd",t.isGUID=b.isGuid,t.Query=function(e){return this instanceof t.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(e)},t.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof t.DataManager?(this.dataManagar=e,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,i,s,a){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeQuery(this,i,s,a):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new t.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,i){return"function"==typeof i||t.isPlainObject(i)?"function"==typeof i&&this._params.push({key:e,fn:i}):this._params.push({key:e,value:i}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,i,s,a,o){i=(i||t.FilterOperators.equal).toLowerCase();var r=null;return"string"==typeof e?r=new t.Predicate(e,i,s,a,o):e instanceof t.Predicate?r=e:u("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:r}),this},search:function(e,i,s,a,o){i&&"boolean"!=typeof i?"string"==typeof i&&(i=[i]):a=i=[],"boolean"==typeof s&&(a=s,s=null),(s=s||t.FilterOperators.contains).length<3&&(s=t.data.operatorSymbols[s]);var r=t.data.fnOperators[s]||t.data.fnOperators.processSymbols(s);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:s,searchKey:e,ignoreCase:a,ignoreAccent:o,comparer:r}}),this},sortBy:function(e,i,s){var a,o,r,n,l=t.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),i=t.sortOrder.Descending),e instanceof Array){for(r=0;r<e.length;r++)this.sortBy(e[r],i,s);return this}if("boolean"==typeof i?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:"function"==typeof i&&(l="custom"),i&&"string"!=typeof i||(l=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),s)for(a=v(this.queries,"onSortBy"),r=0;r<a.length;r++)if("string"==typeof(o=a[r].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(n=0;n<o.length;n++)if(o[n]===e||e.toLowerCase()===o[n]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:i,direction:l}}),this},sortByDesc:function(e){return this.sortBy(e,t.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return("number"!=typeof e||"number"!=typeof t)&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return"string"==typeof e&&(e=[].slice.call(arguments,0)),e instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,i){return e&&e instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof i&&(this._subQuerySelector=i),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},t.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",antiForgery:"antiForgery"},init:function(){},extend:function(t){var i,s,a=function(t){this.dataSource=t,this.options&&(this.options=e.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}};for(s in(a.prototype=new this.type).type=a,i=a.prototype.base={},t)a.prototype[s]&&(i[s]=a.prototype[s]);return e.extend(!0,a.prototype,t),a},processQuery:function(){},processResponse:function(e){return e.d?e.d:e},convertToQueryString:function(t){return e.param(t)},type:t.Adaptor},t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(e,t,i){var s,o,r,n,l,d,h=v(t.queries,"onSortBy"),u=v(t.queries,"onGroup"),p=v(t.queries,"onWhere"),m=v(t.queries,"onSearch"),g=v(t.queries,"onAggregates"),_=x(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),f=t._params,b=e.dataSource.url,w=null,S=this.options,C={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(_.onPage?o=((o=a((s=_.onPage).pageIndex,t))-1)*(w=a(s.pageSize,t)):_.onRange&&(o=(s=_.onRange).start,w=s.end-s.start),r=0;r<h.length;r++)s=a(h[r].e.fieldName,t),C.sorted.push(y(this,"onEachSort",{name:s,direction:h[r].e.direction},t));for(i&&(s=this.getFiltersFrom(i,t))&&C.filters.push(y(this,"onEachWhere",s.toJSON(),t)),r=0;r<p.length;r++)for(l in C.filters.push(y(this,"onEachWhere",p[r].e.toJSON(),t)),C.filters[r])c(C[l])&&delete C[l];for(r=0;r<m.length;r++)C.searches.push(y(this,"onEachSearch",{fields:(s=m[r].e).fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(r=0;r<u.length;r++)C.grouped.push(a(u[r].e.fieldName,t));for(r=0;r<g.length;r++)C.aggregates.push({type:(s=g[r].e).type,field:a(s.field,t)});for(l in(n={})[S.from]=t._fromTable,S.expand&&(n[S.expand]=t._expands),n[S.select]=_.onSelect?y(this,"onSelect",a(_.onSelect.fieldNames,t),t):"",n[S.count]=t._requiresCount?y(this,"onCount",t._requiresCount,t):"",n[S.search]=C.searches.length?y(this,"onSearch",C.searches,t):"",n[S.skip]=_.onSkip?y(this,"onSkip",a(_.onSkip.nos,t),t):"",n[S.take]=_.onTake?y(this,"onTake",a(_.onTake.nos,t),t):"",n[S.antiForgery]=e.dataSource.antiForgery?e.antiForgeryToken().value:"",n[S.where]=C.filters.length||C.searches.length?y(this,"onWhere",C.filters,t):"",n[S.sortBy]=C.sorted.length?y(this,"onSortBy",C.sorted,t):"",n[S.group]=C.grouped.length?y(this,"onGroup",C.grouped,t):"",n[S.aggregates]=C.aggregates.length?y(this,"onAggregates",C.aggregates,t):"",n.param=[],y(this,"addParams",{dm:e,query:t,params:f,reqParams:n}),n)(c(n[l])||""===n[l]||0===n[l].length||"params"===l)&&delete n[l];return S.skip in n&&S.take in n||null===w||(n[S.skip]=y(this,"onSkip",o,t),n[S.take]=y(this,"onTake",w,t)),d=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(n),url:b,ejPvtData:d,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(n,t,e),{type:"GET",url:(s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s).length?b.replace(/\/*$/,s):b,ejPvtData:d})},convertToQueryString:function(t,i,s){return s.dataSource.url&&-1!==s.dataSource.url.indexOf("?")?e.param(t):"?"+e.param(t)},processResponse:function(e,i,a,o,r,n){var l,d,h,c,u=r.ejPvtData||{},p=e.groupDs;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return a._requiresCount?{result:[],count:0}:[];if((l=JSON.parse(r.data))&&"batch"===l.action&&e.added)return n.added=e.added,n;if(e.d&&(e=e.d),u&&u.aggregates&&u.aggregates.length){var m,g=u.aggregates,_={},f={};for(("count"in e&&(_.count=e.count),e.result&&(_.result=e.result),e.aggregate&&(e=e.aggregate),h=0);h<g.length;h++)(m=t.aggregates[g[h].type])&&(f[g[h].field+" - "+g[h].type]=m(e,g[h].field));_.aggregates=f,e=_}if(u&&u.groups&&u.groups.length){for((d=u.groups,_={},"count"in e&&(_.count=e.count),e.aggregates&&(_.aggregates=e.aggregates),e.result&&(e=e.result),h=0);h<d.length;h++)c=D(d[h],a.queries),t.isNullOrUndefined(p)||(p=t.group(p,d[h],null,c)),e=t.group(e,d[h],u.aggregates,c,null,p);return _.count!=s?_.result=e:_=e,_}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,s){var a={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:a}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a)}},beforeSend:function(){},insert:function(e,t,i,s){var a={value:t,table:i,action:"insert",antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:a}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(a)}},remove:function(e,t,i,s,a){var o={key:i,keyColumn:t,table:s,action:"remove",antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return a&&this.addParams({dm:e,query:a,params:a._params,reqParams:o}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},update:function(e,t,i,s,a){var o={value:i,action:"update",keyColumn:t,key:i[t],table:s,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return a&&this.addParams({dm:e,query:a,params:a._params,reqParams:o}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},getFiltersFrom:function(e,i){var s;e instanceof Array&&e.length||u("ej.SubQuery: Array of key values required");var a,o=i._fKey,r=o,n=i._key,l=[],d="object"!=typeof e[0];for("object"!=typeof e[0]&&(r=null),s=0;s<e.length;s++)a=d?e[s]:t.pvt.getObject(n||r,e[s]),l.push(new t.Predicate(o,"==",a));return t.Predicate.or(l)},addParams:function(e){var t,i,s=e.dm,a=e.query,o=e.params,r=e.reqParams;for(r.params={},t=0;i=o[t];t++)r[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),r[i.key]=i.value,i.fn&&(r[i.key]=i.fn.call(a,i.key,a,s)),r.params[i.key]=r[i.key]}}),t.WebMethodAdaptor=(new t.UrlAdaptor).extend({processQuery:function(e,i,s){var a=t.UrlAdaptor.prototype.processQuery(e,i,s),o=t.parseJSON(a.data),r={};return r.value=o,y(this,"addParams",{dm:e,query:i,params:i._params,reqParams:r}),{data:JSON.stringify(r),url:a.url,ejPvtData:a.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,s,a,o=e.dm,r=e.query,n=e.params,l=e.reqParams;for(l.params={},t=0;i=n[t];t++)l[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),s=i.key,a=i.value,i.fn&&(a=i.fn.call(r,i.key,r,o)),l[s]=a,l.params[s]=l[s]}}),t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(e,i,s){var a;t.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=s,this.guidId=t.getGuid("cacheAdaptor"),window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]})),a=this.guidId,t.isNullOrUndefined(i)||setInterval((function(){for(var e=t.parseJSON(window.localStorage.getItem(a)),s=[],o=0;o<e.results.length;o++)e.results[o].timeStamp=new Date-new Date(e.results[o].timeStamp),new Date-new Date(e.results[o].timeStamp)>i&&s.push(o);for(o=0;o<s.length;o++)e.results.splice(s[o],1),e.keys.splice(s[o],1);window.localStorage.removeItem(a),window.localStorage.setItem(a,JSON.stringify(e))}),i)},generateKey:function(e,t){var i,s,a,o,r=v(t.queries,"onSortBy"),n=v(t.queries,"onGroup"),l=v(t.queries,"onWhere"),d=v(t.queries,"onSearch"),h=(v(t.queries,"onPage"),x(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),c=e;for(h.onPage&&(c+=h.onPage.pageIndex),r.forEach((function(e){c+=e.e.direction+e.e.fieldName})),n.forEach((function(e){c+=e.e.fieldName})),d.forEach((function(e){c+=e.e.searchKey})),i=0;i<l.length;i++)if((s=l[i]).e.isComplex){for((a=t.clone()).queries=[],o=0;o<s.e.predicates.length;o++)a.queries.push({fn:"onWhere",e:s.e.predicates[o],filter:t.queries.filter});c+=s.e.condition+this.generateKey(e,a)}else c+=s.e.field+s.e.operator+s.e.value;return c},processQuery:function(e,i){var s,a,o=this.generateKey(e.dataSource.url,i);return window.localStorage&&(s=t.parseJSON(window.localStorage.getItem(this.guidId))),null==(a=s?s.results[s.keys.indexOf(o)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):a},processResponse:function(i,s,a,o,r,n){var l;if(this._insertAction||r&&this.cacheAdaptor.options.batch&&r.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(i,s,a,o,r,n);i=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0));var d=this.generateKey(s.dataSource.url,a),h={};for(window.localStorage&&(h=t.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(l=e.inArray(d,h.keys))&&(h.results.splice(l,1),h.keys.splice(l,1)),h.results[h.keys.push(d)-1]={keys:d,result:i.result,timeStamp:new Date,count:i.count};h.results.length>this.pageSize;)h.results.splice(0,1),h.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(h)),i},update:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,s)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,s)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}});var v=function(e,t){return e.filter((function(e){return e.fn===t}))||[]},x=function(e,t){for(var i=e.filter((function(e){return-1!==t.indexOf(e.fn)})),s={},a=0;a<i.length;a++)s[i[a].fn]||(s[i[a].fn]=i[a].e);return s},y=function(e,t,i,s){if(e[t]){var a=e[t](i,s);c(a)||(i=a)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},_typeStringQuery:function(e,i,s,a,o){return-1!=s.indexOf("'")&&(s=s.replace(new RegExp(/'/g),"''")),/[ !@@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(s)&&(s=encodeURIComponent(s)),i&&(a="cast("+a+", 'Edm.String')"),t.isGUID(s="'"+s+"'")&&(o="guid"),e.ignoreCase&&(o||(a="tolower("+a+")"),s=s.toLowerCase()),{val:s,guid:o,field:a}},onPredicate:function(e,i,s){var a,o,r,n,l,d,h="",c=e.value,u=typeof c,p=this._p(e.field);if(c instanceof Date&&(c="datetime'"+b.replacer(c).toJSON()+"'"),"string"===u&&(c=(n=this._typeStringQuery(e,s,c,p,o)).val,p=n.field,o=n.guid),a=t.data.odBiOperator[e.operator],""!=e.anyCondition&&a)return h+=c.table,h+="/"+e.anyCondition,h+="(d:d/",h+=p,h+=a,(h+=c.value)+")";if("in"==e.operator||"notin"==e.operator){for(h+="(",r=0;r<c.length;r++)c[r]instanceof Date&&(c[r]="datetime'"+b.replacer(c[r]).toJSON()+"'"),"string"==typeof c[r]&&(n=this._typeStringQuery(e,s,c[r],p,o),c[r]=n.val,p=n.field,o=n.guid),h+=p,h+=a,h+=c[r],r!=c.length-1&&(h+="in"==e.operator?" or ":" and ");return h+")"}return a?this.onOperation(h,a,p,c,o):(a=t.data.odUniOperator[e.operator])&&"string"===u?("substringof"===a&&(l=c,c=p,p=l),h+=a+"(",h+=p+",",o&&(h+=o),h+=c+")","notcontains"==e.operator&&(h+=" eq false"),""!=e.anyCondition&&a?(d+=c.table,d+="/"+e.anyCondition,h+=h,(d+="(d:d/")+")"):h):""},onOperation:function(e,t,i,s,a){return e+=i,e+=t,a&&(e+=a),e+s},onComplexPredicate:function(e,t){for(var i=[],s=0;s<e.predicates.length;s++)i.push("("+this.onEachWhere(e.predicates[s],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var i,s;for(0===e.fields.length&&u("Query() - Search : oData search requires list of field names to search"),i=this.pvt.searches||[],s=0;s<e.fields.length;s++)i.push(new t.Predicate(e.fields[s],e.operator,e.key,e.ignoreCase));this.pvt.searches=i},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept","multipart/mixed"),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,s,a,o,r,n){var l,d,h,u,p,m,g,_,f;if(!t.isNullOrUndefined(i.d)&&!t.isNullOrUndefined(l=a&&a._requiresCount?i.d.results:i.d))for(_=0;_<l.length;_++)t.isNullOrUndefined(l[_].__metadata)||delete l[_].__metadata;if(d=r&&r.ejPvtData,o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return a._requiresCount?{result:[],count:0}:[];if(r&&this.options.batch&&r.url.endsWith(this.options.batch)&&"post"===r.type.toLowerCase()){if(h=(h=o.getResponseHeader("Content-Type")).substring(h.indexOf("=batchresponse")+1),(i=i.split(h)).length<2)return;for(m=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i=i[1]),i.replace(m[0],""),_=(i=i.split(m[1])).length;_>-1;_--)/\bContent-ID:/i.test(i[_])&&/\bHTTP.+201/.test(i[_])&&(u=parseInt(/\bContent-ID: (\d+)/i.exec(i[_])[1]),n.added[u]&&(p=b.parseJson(/^\{.+\}/m.exec(i[_])[0]),e.extend(n.added[u],this.processResponse(p))));return n}var v=o&&o.getResponseHeader("DataServiceVersion"),x=null,y={};if(v=v&&parseInt(v,10)||2,a&&a._requiresCount&&((i.__count||i["odata.count"])&&(x=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(x=i.__count||i["odata.count"])),3===v&&i.value&&(i=i.value),i.d&&(i=i.d),v<3&&i.results&&(i=i.results),d&&d.aggregates&&d.aggregates.length){var w,S=d.aggregates,C={};for(_=0;_<S.length;_++)(w=t.aggregates[S[_].type])&&(C[S[_].field+" - "+S[_].type]=w(i,S[_].field));y=C}if(d&&d.groups&&d.groups.length)for(g=d.groups,_=0;_<g.length;_++)f=D(g[_],a.queries),i=t.group(i,g[_],d.aggregates,f);return c(x)?i:{result:i,count:x,aggregates:y}},convertToQueryString:function(e,t,i){var s,a=[],o=e.table||"";for(s in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)a.push(s+"="+e[s]);return a=a.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!o?a:a.length?o+"?"+a:o||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,i,s,a){return"string"==typeof s?{type:"DELETE",url:t.isGUID(s)?e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s+")":e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"('"+s+"')"}:{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s+")"}},update:function(e,i,s,a){return{type:"PUT",url:"string"==typeof s[i]?t.isGUID(s[i])?e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s[i]+")":e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"('"+s[i]+"')":e.dataSource.url.replace(/\/*$/,a?"/"+a:"")+"("+s[i]+")",data:JSON.stringify(s),accept:this.options.accept}},batchRequest:function(e,i,s){var a=s.guid=t.getGuid(g),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),r={url:s.url,key:s.key,cid:1,cSet:t.getGuid("--changeset_")},n="--"+a+"\n";return n+="Content-Type: multipart/mixed; boundary="+r.cSet.replace("--","")+"\n",this.pvt.changeSet=0,n+=this.generateInsertRequest(i.added,r),n+=this.generateUpdateRequest(i.changed,r),n+=this.generateDeleteRequest(i.deleted,r),n+=r.cSet+"--\n",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+a,data:n+="--"+a+"--"}},generateDeleteRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=_+"\n\n",i+="DELETE ",i+=t.url+"("+("string"==typeof e[s][t.key]?"'"+e[s][t.key]+"'":e[s][t.key])+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=f+"\n";return i+"\n"},generateInsertRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=_+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=f+"\n\n",i+=JSON.stringify(e[s])+"\n";return i},generateUpdateRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=_+"\n\n",i+="PUT ",i+=t.url+"("+("string"==typeof e[s][t.key]?"'"+e[s][t.key]+"'":e[s][t.key])+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=f+"\n\n",i+=JSON.stringify(e[s])+"\n\n";return i},_p:function(e){return e.replace(/\./g,"/")}}),t.ODataV4Adaptor=(new t.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,i,s){var a="",o=e.value instanceof Date;return t.data.odUniOperator.contains="contains",a=t.ODataAdaptor.prototype.onPredicate.call(this,e,i,s),t.data.odUniOperator.contains="substringof",o&&(a=a.replace(/datetime'(.*)'$/,"$1")),a},onOperation:function(e,t,i,s,a){return a?(e+="("+i,e+=t,e+=s.replace(/["']/g,"")+")"):(e+=i,e+=t,e+=s),e},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,i){for(var s,a,o=/\/[\d*\/]*/g,r="",n=i._expands.length-1;n>0;n--)if(r.indexOf(i._expands[n])>=0)i._expands.pop();else if(o.test(i._expands[n])){for(s=(r=i._expands.pop()).replace(o,"($expand="),a=0;a<r.split(o).length-1;a++)s+=")";i._expands.unshift(s),n++}return t.ODataAdaptor.prototype.processQuery.apply(this,[e,i])},processResponse:function(i,s,a,o,r,n){var l,d,h,u,p,m,g,_,f,v=r&&r.ejPvtData;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return a._requiresCount?{result:[],count:0}:[];if(r&&this.options.batch&&r.url.endsWith(this.options.batch)&&"post"===r.type.toLowerCase()){if(l=(l=o.getResponseHeader("Content-Type")).substring(l.indexOf("=batchresponse")+1),(i=i.split(l)).length<2)return;for(u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i=i[1]),i.replace(u[0],""),_=(i=i.split(u[1])).length;_>-1;_--)/\bContent-ID:/i.test(i[_])&&/\bHTTP.+201/.test(i[_])&&(d=parseInt(/\bContent-ID: (\d+)/i.exec(i[_])[1]),n.added[d]&&(h=b.parseJson(/^\{.+\}/m.exec(i[_])[0]),e.extend(n.added[d],this.processResponse(h))));return n}if(p=null,m={},a&&a._requiresCount&&"@odata.count"in i&&(p=i["@odata.count"]),i=t.isNullOrUndefined(i.value)?i:i.value,v&&v.aggregates&&v.aggregates.length){var x,y=v.aggregates,w={};for(_=0;_<y.length;_++)(x=t.aggregates[y[_].type])&&(w[y[_].field+" - "+y[_].type]=x(i,y[_].field));m=w}if(v&&v.groups&&v.groups.length)for(g=v.groups,_=0;_<g.length;_++)f=D(g[_],a.queries),i=t.group(i,g[_],v.aggregates,f);return c(p)?i:{result:i,count:p,aggregates:m}}}),t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(e,t){for(var i,a,o=e.dataSource.json.slice(0),r=o.length,n=!0,l={},d=0;d<t.queries.length;d++)i=this[(a=t.queries[d]).fn].call(this,o,a.e,t),"onAggregates"==a.fn?l[a.e.field+" - "+a.e.type]=i:o=i!==s?i:o,("onPage"===a.fn||"onSkip"===a.fn||"onTake"===a.fn||"onRange"===a.fn)&&(n=!1),n&&(r=o.length);return t._requiresCount&&(o={result:o,count:r,aggregates:l}),o},batchRequest:function(e,t,i){for(var s=0;s<t.added.length;s++)this.insert(e,t.added[s]);for(s=0;s<t.changed.length;s++)this.update(e,i.key,t.changed[s]);for(s=0;s<t.deleted.length;s++)this.remove(e,i.key,t.deleted[s]);return t},onWhere:function(e,t){return e?e.filter((function(e){return t.validate(e)})):e},onAggregates:function(e,i){var s=t.aggregates[i.type];return e&&s&&0!=e.length?s(e,i.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&t.pvt.getFieldList(e[0],i.fieldNames),e.filter((function(e){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(e,t.pvt.getObject(i.fieldNames[s],e),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1}))):e},onSortBy:function(e,i,s){var o,r,n;if(!e)return e;if(!(r=a(i.fieldName,s)))return e.sort(i.comparer);if(r instanceof Array){for(n=(r=r.slice(0)).length-1;n>=0;n--)r[n]&&(o=i.comparer,r[n].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),r[n]=r[n].replace(" desc","")),e=j(e,r[n],o,[]));return e}return j(e,r,i.comparer,s?s.queries:[])},onGroup:function(e,i,s){var o,r,n,l,d;if(!e)return e;if(r=[],(o=v(s.queries,"onAggregates")).length)for(l=0;l<o.length;l++)r.push({type:(n=o[l].e).type,field:a(n.field,s)});return d=D(i.fieldName,s.queries),t.group(e,a(i.fieldName,s),r,d)},onPage:function(e,t,i){var s=a(t.pageSize,i),o=(a(t.pageIndex,i)-1)*s;return e?e.slice(o,o+s):e},onRange:function(e,t){return e?e.slice(a(t.start),a(t.end)):e},onTake:function(e,t){return e?e.slice(0,a(t.nos)):e},onSkip:function(e,t){return e?e.slice(a(t.nos)):e},onSelect:function(e,i){return e?t.select(e,a(i.fieldNames)):e},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,i,s){var a,o=e.dataSource.json;for("object"==typeof s&&(s=t.getObject(i,s)),a=0;a<o.length&&t.getObject(i,o[a])!==s;a++);return a!==o.length?o.splice(a,1):null},update:function(i,s,a){for(var o=i.dataSource.json,r=t.getObject(s,a),n=0;n<o.length&&t.getObject(s,o[n])!==r;n++);return n<o.length?e.extend(o[n],a):null}}),t.ForeignKeyAdaptor=function(i,a){var o=(new t[a||"JsonAdaptor"]).extend({init:function(){var e,s;for(this.foreignData=[],this.key=[],this.adaptorType=a,this.value=[],this.fValue=[],this.keyField=[],e=i,s=0;s<e.length;s++)this.foreignData[s]=e[s].dataSource,this.key[s]=e[s].foreignKeyField,this.fValue[s]=t.isNullOrUndefined(e[s].field)?e[s].foreignKeyValue:e[s].field+"_"+e[s].foreignKeyValue,this.value[s]=e[s].foreignKeyValue,this.keyField[s]=e[s].field||e[s].foreignKeyField,this.initial=!0},processQuery:function(e,i){var s,a,o,r=e.dataSource.json;if(this.initial){for(s=0;s<r.length;s++)for(a=this,o=0;o<this.foreignData.length;o++)this.foreignData[o].filter((function(e){t.getObject(a.key[o],e)==t.getObject(a.keyField[o],r[s])&&(r[s][a.fValue[o]]=t.getObject(a.value[o],e))}));this.initial=!1}return this.base.processQuery.apply(this,[e,i])},setValue:function(i){for(var a,o,r,n=0;n<this.foreignData.length;n++)a=this,"string"!=typeof(o=i[this.fValue[n]])||isNaN(o)||(o=t.parseFloat(o)),r=e.grep(a.foreignData[n],(function(e){return e[a.value[n]]==o}))[0],t.isNullOrUndefined(r)&&(r=e.grep(a.foreignData[n],(function(e){return e[a.key[n]]==o}))[0],t.getObject(this.value[n],r)!=s&&t.createObject(a.value[n],t.getObject(this.value[n],r),i)),t.getObject(this.value[n],r)!=s&&t.createObject(this.keyField[n],t.getObject(this.key[n],r),i)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert",antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""})}},update:function(e,i,s,a){return this.setValue(s),t.JsonAdaptor.prototype.update(e,i,s,a),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:s,action:"update",keyColumn:i,key:s[i],table:a,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""})}}});return e.extend(this,new o),this},t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,addParams:t.UrlAdaptor.prototype.addParams,batchRequest:function(e,t,i,s){var a={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key,antiForgery:e.dataSource.antiForgery?e.antiForgeryToken().value:""};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:a}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a)}},processResponse:function(e,i,s,a,o,r,n){if(t.isNullOrUndefined(r))return e.d?e.d:e;e.d&&(e=e.d),e.added&&(r.added=t.parseJSON(e.added)),e.changed&&(r.changed=t.parseJSON(e.changed)),e.deleted&&(r.deleted=t.parseJSON(e.deleted));for(var l=0;l<r.added.length;l++)t.JsonAdaptor.prototype.insert(i,r.added[l]);for(l=0;l<r.changed.length;l++)t.JsonAdaptor.prototype.update(i,n,r.changed[l]);for(l=0;l<r.deleted.length;l++)t.JsonAdaptor.prototype.remove(i,n,r.deleted[l]);return e}}),t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},batchRequest:function(i,s,a){var o=a.guid=t.getGuid(g),r=[];return e.each(s.added,(function(e,t){r.push("--"+o),r.push("Content-Type: application/http; msgtype=request",""),r.push("POST "+i.dataSource.insertUrl+" HTTP/1.1"),r.push("Content-Type: application/json; charset=utf-8"),r.push("Host: "+location.host),r.push("",t?JSON.stringify(t):"")})),e.each(s.changed,(function(e,t){r.push("--"+o),r.push("Content-Type: application/http; msgtype=request",""),r.push("PUT "+i.dataSource.updateUrl+" HTTP/1.1"),r.push("Content-Type: application/json; charset=utf-8"),r.push("Host: "+location.host),r.push("",t?JSON.stringify(t):"")})),e.each(s.deleted,(function(e,t){r.push("--"+o),r.push("Content-Type: application/http; msgtype=request",""),r.push("DELETE "+i.dataSource.removeUrl+"/"+t[a.key]+" HTTP/1.1"),r.push("Content-Type: application/json; charset=utf-8"),r.push("Host: "+location.host),r.push("",t?JSON.stringify(t):"")})),r.push("--"+o+"--",""),{type:"POST",url:i.dataSource.batchUrl||i.dataSource.crudUrl||i.dataSource.url,data:r.join("\r\n"),contentType:'multipart/mixed; boundary="'+o+'"'}},processResponse:function(e,i,s,a,o){var r,n,l,d=o&&o.ejPvtData;if(o&&"post"!=o.type.toLowerCase()){var h=a&&a.getResponseHeader("DataServiceVersion"),u=null,p={};if(h=h&&parseInt(h,10)||2,s&&s._requiresCount&&(c(e.Count)||(u=e.Count)),h<3&&e.Items&&(e=e.Items),d&&d.aggregates&&d.aggregates.length){var m,g=d.aggregates,_={};for(n=0;n<g.length;n++)(m=t.aggregates[g[n].type])&&(_[g[n].field+" - "+g[n].type]=m(e,g[n].field));p=_}if(d&&d.groups&&d.groups.length)for(r=d.groups,n=0;n<r.length;n++)l=D(r[n],s.queries),e=t.group(e,r[n],d.aggregates,l);return c(u)?e:{result:e,count:u,aggregates:p}}}}),a=function(e,t){return"function"==typeof e?e.call(t||{}):e},t.TableModel=function(i,s,a,o){var r,n,l,d;if(!M(this,t.TableModel))return new t.TableModel(s);for(M(s,Array)||u("ej.TableModel - Json Array is required"),r=[],l=h(C,this),d=0;d<s.length;d++)(n=new t.Model(s[d],this)).state="unchanged",n.on("stateChange",l),o&&n.computes(o),r.push(n);return this.name=i||"table1",this.rows=t.NotifierArray(r),this._deleted=[],this._events=e({}),this.dataManager=a,this._isDirty=!1,this},t.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){if(this.dataManager&&M(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);e.done(h((function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter((function(e){return e[this.key]===t.get(this.key)}))[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})}),this)),e.fail(h((function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})}),this)),this._isDirty=!1}},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){var i=new t.Model(e);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(e){var t;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i,s=e,a=this.key,o=s[a];for(t in i=(i=this.rows.array.filter((function(e){return e.get(a)===o})))[0],s)i.set(t,s[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:i,table:this})},remove:function(e){var t,i,a,o;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==s?e[t]:e.get(t)),o=0;o<this.rows.length();o++)if(this.rows.array[o].get(t)===e){i=o;break}i>-1&&((a=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:a,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:a,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},i=this.toArray(),s=0;s<i.length;s++)e[i[s].state]&&e[i[s].state].push(i[s].json);return e.deleted=t.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(t){var i,s,a=o,n=e(t.html()),l=this.toArray();for(e.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(a=r),a.insertBefore(t),t.detach().empty(),s=0;s<l.length;s++)i=n.clone(),l[s].bindTo(i),t.append(i);t.insertAfter(a),a.remove()}},o=i?e(document.createElement("div")):{},r=i?e(document.createElement("tr")):{},t.Model=function(i,s,a){"string"==typeof s&&(a=s,s=null),this.$id=F("m"),this.json=i,this.table=s instanceof t.TableModel?s:null,this.name=a||this.table&&this.table.name,this.dataManager=s instanceof t.DataManager?s:s.dataManagar,this.actual={},this._events=e({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},t.Model.prototype={computes:function(t){e.extend(this.computed,t)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,a,o=this.json,r=e;for(e=e.split("."),a=0;a<e.length-1;a++)o=o[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=o[e],this.actual[e]!==s||e in this.actual||(this.actual[e]=t),o[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:r,current:t,previous:i,model:this})},get:function(e){return t.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,s){return i=i||this.dataManagar,s=s||i.dataSource.key,i||u("ej.Model - DataManager is required to commit the changes"),"added"===this.state?i.insert(this.json,this.name).done(t.proxy((function(t){e.extend(this.json,t.record)}),this)):"changed"===this.state?i.update(s,this.json,this.name):"deleted"===this.state?i.remove(s,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if("added"===this.state){if("deleted"!==t)return;t="unchanged"}var s=t;i=i||{},this.state=t,this._events.triggerHandler(e.extend({type:"stateChange",current:t,previous:s,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(t){var i,s,a,o,r=e(t),n=r.find("[ej-observe], [ej-computed], [ej-prop]"),l=n.length;for(r.data("ejModel",this),a={fields:[],props:[],computes:[]},o=0;o<l;o++)(s=(i=n.eq(o)).attr("ej-prop"))&&this._processAttrib(s,i,a),(s=i.attr("ej-observe"))&&-1!==this._props.indexOf(s)?this._processField(i,s,a):(s=i.attr("ej-computed"))&&this._processComputed(s,i,a);r.data("ejModelBinding"+this.$id,a)},unbind:function(t){var i,s,a,o,r,n,l,d={props:this._attrEls,computes:this._computeEls},h=!1;for(s in t&&(d=e(t).removeData("ejModel").data("ejModelBinding"+this.$id)||d,h=!0),this.computed)i=d.computes[s],s=this.computed[s],i&&s.deps&&(this.off(s.deps.join(" "),i.handle),h&&delete this._computeEls[s]);for(s in h||(this._computeEls={}),d.props)(i=d.props[s])&&(this.off(i.deps.join(" "),i.handle),delete d.props[s],h&&delete this._attrEls[s]);if(h||(this._attrEls={}),d.fields&&d.fields.length)for(a=d.fields.length,l=0;l<a;l++)e(o=d.fields[l]).off("change",null,this._changeHandler),n=-1!==this.formElements.indexOf(o.tagName.toLowerCase())?"input":"read",-1!==(r=this._updates[n].indexOf(o))&&this._updates[n].splice(r,1)},_processComputed:function(e,t,i){if(e){var s,a,o=S(e),r=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html";this.computed[e]&&this.computed[o]||(this.computed[o]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=o),(s=this.computed[e]).get||(s.get=function(){s.value.call(this.json)}),a=s.deps,s=s.value,this._updateDeps(a),this._updateElement(t,r,s),s={el:t,handle:h(this._computeHandle,this,{value:e,type:r})},this._computeEls[e]=s,i.computes[e]=s,this.on(a.join(" "),s.handle)}},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(t,i,s){t[i](s.call(e.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var i=0;i<e.length;i++)!(e[i]in this.json)&&e[i]in this.computed&&t.merge(e,this.computed[e[i]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),s=[],a=0;a<i.length;a++)i[a].startsWith("#ej.#")&&(t=i[a].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&s.push(t);return s},_processAttrib:function(e,t,i){var s,a,o,r,n={};for(e=e.replace(/^ +| +$/g,"").split(";"),o=0;o<e.length;o++)e[o]=e[o].split(":"),e[o].length<2||(n[s=e[o][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[o][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(s in r=[],e=n)r.push(e[s]);this._updateDeps(r),this._updateProps(t,e),n=F("emak"),a={el:t,handle:h(this._attrHandle,this,n),value:e,deps:r},t.prop("ejmodelattrkey",n),i.props[n]=a,this._attrEls[n]=a,this.on(r.join(" "),a.handle)},_attrHandle:function(e){var t=this._attrEls[e];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var s,a=this.json,o=this.computed;for(var r in i)(s=i[r])in a?s=a[s]:s in o&&(s=o[s])&&(s=s.value.call(e.extend({},this.json,o))),c(s)||t.prop(r,s)},_updateValues:function(e,t){var i=this._updates[e];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,s){if(t)for(var a=t.length-1;a>-1;a--)t[a].offsetParent?e(t[a])[i](s):t.splice(a,1)},_changeHandler:function(t){t.data.self.set(t.data.prop,e(this).val())},_processField:function(e,t,i){var s={self:this,prop:t},a=this.get(t);return i.fields.push(e[0]),-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(a),this._updates[t].read.push(e[0])):(e.val(a).off("change",null,this._changeHandler).on("change",null,s,this._changeHandler),this._updates[t].input.push(e[0]))},formElements:["input","select","textarea"]};var w=/[^\w]+/g,S=function(e){return e.replace(w,"_")},C=function(e){this.setDirty(!0,e.model)};if(t.Predicate=function(e,i,s,a,o){if(!(this instanceof t.Predicate))return new t.Predicate(e,i,s,a,o);if(this.ignoreAccent=!1,"string"==typeof e){var r="";-1!=i.toLowerCase().indexOf(" any")?(i=i.replace(" any",""),r="any"):-1!=i.toLowerCase().indexOf(" all")&&(i=i.replace(" all",""),r="all"),this.field=e,this.operator=i,this.value=s,this.ignoreCase=a,this.ignoreAccent=o,this.isComplex=!1,this.anyCondition=r,this._comparer=t.data.fnOperators.processOperator(""!=r?r:this.operator)}else(e instanceof t.Predicate&&s instanceof t.Predicate||s instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[e],s instanceof Array?[].push.apply(this.predicates,s):this.predicates.push(s));return this},t.Predicate.and=function(){return n._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return n._combinePredicates([].slice.call(arguments,0),"or")},t.Predicate.fromJSON=function(e){var t,i,s;if(M(e,Array)){for(t=[],i=0,s=e.length;i<s;i++)t.push(n._fromJSON(e[i]));return t}return n._fromJSON(e)},n={_combinePredicates:function(e,i){if(!e.length)return s;if(1===e.length){if(!M(e[0],Array))return e[0];e=e[0]}return new t.Predicate(e[0],i,e.slice(1))},_combine:function(e,i,s,a,o,r,n){return i instanceof t.Predicate?t.Predicate[o](e,i):"string"==typeof i?t.Predicate[o](e,new t.Predicate(i,s,a,r,n)):u("Predicate - "+o+" : invalid arguments")},_fromJSON:function(e){var i;if(!e||M(e,t.Predicate))return e;var s=e.predicates||[],a=s.length,o=[];for(i=0;i<a;i++)o.push(n._fromJSON(s[i]));return e.isComplex?new t.Predicate(o[0],e.condition,o.slice(1)):new t.Predicate(e.field,e.operator,t.parseJSON({val:e.value}).val,e.ignoreCase,e.ignoreAccent)}},t.Predicate.prototype={and:function(e,t,i,s,a){return n._combine(this,e,t,i,"and",s,a)},or:function(e,t,i,s,a){return n._combine(this,e,t,i,"or",s,a)},validate:function(e){var i,s,a,o=this.predicates;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);for(i="and"===this.condition,a=0;a<o.length;a++)if(s=o[a].validate(e),i){if(!s)return!1}else if(s)return!0;return i},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e,anyCondition:this.anyCondition}}},t.dataUtil={swap:function(e,t,i){if(t!=i){var s=e[t];e[t]=e[i],e[i]=s}},mergeSort:function(e,i,s){return s&&"string"!=typeof s||(s=t.pvt.fnSort(s,!0)),"function"==typeof i&&(s=i,i=null),t.pvt.mergeSort(e,i,s)},max:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnDescending)},min:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnAscending)},distinct:function(e,t,i){for(var s,a=[],o={},r=0;r<e.length;r++)(s=I(e,t,r))in o||(a.push(i?e[r]:s),o[s]=1);return a},sum:function(e,t){for(var i,s=0,a="number"!=typeof I(e,t,0),o=0;o<e.length;o++)i=I(e,t,o),isNaN(i)||null===i||(a&&(i=+i),s+=i);return s},avg:function(e,i){return t.sum(e,i)/e.length},select:function(e,i){for(var s=[],a=0;a<e.length;a++)s.push(t.pvt.extractFields(e[a],i));return s},group:function(i,s,a,o,r,n){var l,d,h,c,u,p,m,g,_,f;if(r=r||1,i.GROUPGUID==t.pvt.consts.GROUPGUID){for(_=0;_<i.length;_++)t.isNullOrUndefined(n)?(i[_].items=t.group(i[_].items,s,a,o,i.level+1),i[_].count=i[_].items.length):(f=e.grep(n,(function(e){return e.key==i[_].key})),l=n.indexOf(f[0]),i[_].items=t.group(i[_].items,s,a,o,i.level+1,n[l].items),i[_].count=n[l].count);return i.childLevels+=1,i}for(d={},(h=[]).GROUPGUID=t.pvt.consts.GROUPGUID,h.level=r,h.childLevels=0,h.records=i,p=0;p<i.length;p++)c=I(i,s,p),t.isNullOrUndefined(o)||(c=o(c,s)),d[c]||(d[c]={key:c,count:0,items:[],aggregates:{},field:s},h.push(d[c]),t.isNullOrUndefined(n)||(u=e.grep(n,(function(e){return e.key==d[c].key})),d[c].count=u[0].count)),d[c].count=t.isNullOrUndefined(n)?d[c].count+=1:d[c].count,d[c].items.push(i[p]);if(a&&a.length)for(p=0;p<h.length;p++){for(m={},_=0;_<a.length;_++)g=t.aggregates[a[_].type],t.isNullOrUndefined(n)?g&&(m[a[_].field+" - "+a[_].type]=g(h[p].items,a[_].field)):(f=e.grep(n,(function(e){return e.key==h[p].key})),g&&(m[a[_].field+" - "+a[_].type]=g(f[0].items,a[_].field)));h[p].aggregates=m}return h},parseTable:function(i,s,a){var o,r,n,l,d,h,c,u=i.rows,p=[],m=[];if(!u.length)return[];switch(a=a||0,(s||"").toLowerCase()){case t.headerOption.tHead:o=i.tHead.rows[a];break;case t.headerOption.row:default:o=i.rows[a]}for(n=o.cells,r=0;r<n.length;r++)p.push(e.trim(n[r].innerHTML));for(r=a+1;r<u.length;r++){for(l={},d=u[r].cells,h=0;h<d.length;h++)l[p[h]]="string"==typeof(c=d[h].innerHTML)&&e.isNumeric(c)?Number(c):c;m.push(l)}return m}},t.headerOption={tHead:"thead",row:"row"},t.aggregates={sum:function(e,i){return t.sum(e,i)},average:function(e,i){return t.avg(e,i)},minimum:function(e,i){return t.getObject(i,t.min(e,i))},maximum:function(e,i){return t.getObject(i,t.max(e,i))},truecount:function(e,i){var s=t.Predicate(i,"equal",!0);return t.DataManager(e).executeLocal(t.Query().where(s)).length},falsecount:function(e,i){var s=t.Predicate(i,"equal",!1);return t.DataManager(e).executeLocal(t.Query().where(s)).length},count:function(e){return e.length}},t.pvt={filterQueries:v,mergeSort:function(e,i,s){if(e.length<=1)return e;var a=parseInt(e.length/2,10),o=e.slice(0,a),r=e.slice(a);return o=t.pvt.mergeSort(o,i,s),r=t.pvt.mergeSort(r,i,s),t.pvt.merge(o,r,i,s)},getItemFromComparer:function(e,i,s){var a,o,r,n=0,l="string"==typeof I(e,i,0);if(e.length)for(;t.isNullOrUndefined(a)&&n<e.length;)a=I(e,i,n),r=e[n++];for(;n<e.length;n++)o=I(e,i,n),t.isNullOrUndefined(o)||(l&&(a=+a,o=+o),s(a,o)>0&&(a=o,r=e[n]));return r},quickSelect:function(e,i,s,a,o,r){if(s==a)return e[s];var n=t.pvt.partition(e,i,s,a,r),l=n-s+1;return l==o?e[n]:o<l?t.pvt.quickSelect(e,i,s,n-1,o,r):t.pvt.quickSelect(e,i,n+1,a,o-l,r)},extractFields:function(e,i){var s,a={};if(1==i.length)return t.pvt.getObject(i[0],e);for(s=0;s<i.length;s++)a[i[s].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[s],e);return a},partition:function(e,i,s,a,o){var r,n=parseInt((s+a)/2,10),l=I(e,i,n);for(t.swap(e,n,a),n=s,r=s;r<a;r++)o(I(e,i,r),l)&&(t.swap(e,r,n),n++);return t.swap(e,n,a),n},fnSort:function(e){return(e=e?e.toLowerCase():t.sortOrder.Ascending)==t.sortOrder.Ascending?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(e,i){return function(s,a){return i(t.pvt.getObject(e,s),t.pvt.getObject(e,a))}},fnAscending:function(e,i){return t.isNullOrUndefined(i)&&t.isNullOrUndefined(e)||null===i||i===s?-1:"string"==typeof e?e.localeCompare(i):null===e||e===s?1:e-i},fnDescending:function(e,i){return t.isNullOrUndefined(i)&&t.isNullOrUndefined(e)?-1:null===i||i===s?1:"string"==typeof e?-1*e.localeCompare(i):null===e||e===s?-1:i-e},merge:function(e,t,i,s){for(var a,o=[];e.length>0||t.length>0;)a=e.length>0&&t.length>0?s?s(I(e,i,0),I(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,o.push(a.shift());return o},getObject:function(e,t){var i,a,o;if(!t)return s;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,a=e.split("."),o=0;o<a.length&&null!=i;o++)i=i[a[o]];return i},createObject:function(e,t,i){for(var a=e.split("."),o=i||window,r=o,n=0;n<a.length;n++)n+1==a.length?r[a[n]]=t===s?{}:t:null==r[a[n]]&&(r[a[n]]={}),r=r[a[n]];return o},ignoreDiacritics:function(e){return"string"!=typeof e?e:e.split("").map((function(e){return e in t.data.diacritics?t.data.diacritics[e]:e})).join("")},getFieldList:function(e,i,a){if(a===s&&(a=""),i===s||null===i)return t.pvt.getFieldList(e,[],a);for(var o in e)"object"!=typeof e[o]||e[o]instanceof Array?i.push(a+o):t.pvt.getFieldList(e[o],i,a+o+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne ",in:" eq ",notin:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",notcontains:"substringof"},t.data.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},t.data.fnOperators={equal:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?O(e)==O(i):e==i},notequal:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),!t.data.fnOperators.equal(e,i,s)},notin:function(e,i,s){for(var a=0;a<i.length;a++)if(0==t.data.fnOperators.notequal(e,i[a],s))return!1;return!0},lessthan:function(e,t,i){return i?O(e)<O(t):e<t},greaterthan:function(e,t,i){return i?O(e)>O(t):e>t},lessthanorequal:function(e,t,i){return i?O(e)<=O(t):e<=t},greaterthanorequal:function(e,t,i){return i?O(e)>=O(t):e>=t},contains:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?!c(e)&&!c(i)&&-1!=O(e).indexOf(O(i)):!c(e)&&!c(i)&&-1!=e.toString().indexOf(i)},notcontains:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),!t.data.fnOperators.contains(e,i,s)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?e&&i&&O(e).startsWith(O(i)):e&&i&&e.startsWith(i)},endswith:function(e,i,s,a){return a&&(e=t.pvt.ignoreDiacritics(e),i=t.pvt.ignoreDiacritics(i)),s?e&&i&&O(e).endsWith(O(i)):e&&i&&e.endsWith(i)},all:function(e,i,s){for(var a=0;a<i.length;a++)if(0==t.data.fnOperators[this.operator](e,i[a],s))return!1;return!0},any:function(e,i,s){for(var a=0;a<i.length;a++)if(1==t.data.fnOperators[this.operator](e,i[a],s))return!0;return!1},processSymbols:function(e){var i,s=t.data.operatorSymbols[e];return s&&(i=t.data.fnOperators[s])?i:u("Query - Process Operator : Invalid operator")},processOperator:function(e){return t.data.fnOperators[e]||t.data.fnOperators.processSymbols(e)}},t.data.fnOperators.in=function(e,i,s){for(var a=0;a<i.length;a++)if(1==t.data.fnOperators.equal(e,i[a],s))return!0;return!1},t.NotifierArray=function(i){return M(this,t.NotifierArray)?(this.array=i,this._events=e({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t;return t=M(e,Array)?[].push.apply(this.array,e):this.array.push(e),this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(e.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},e.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,s=this.length;i<s;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,s,a;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,s=0;s<this.length;s++)e.call(i,a=this[s],s,this)&&t.push(a);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},t.support||(t.support={}),t.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort((function(){return 0})),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),t.support.cors=e.support.cors,!e.support.cors&&window.XDomainRequest){var T=/^https?:\/\//i,L=/^get|post$/i,k=new RegExp("^"+location.protocol,"i"),P=/\/xml/i;e.ajaxTransport("text html xml json",(function(e,t){if(e.crossDomain&&e.async&&L.test(e.type)&&T.test(t.url)&&k.test(t.url)){var i=null,a=(t.dataType||"").toLowerCase();return{send:function(o,r){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){r(500,"timeout")},i.onload=function(){var e,t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,o={code:200,message:"success"},n={text:i.responseText};try{if("json"===a)try{n.json=JSON.parse(i.responseText)}catch(h){o.code=500,o.message="parseerror"}else if("xml"===a||"text"!==a&&P.test(i.contentType)){(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{e.loadXML(i.responseText)}catch(h){e=s}if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)throw o.code=500,o.message="parseerror","Invalid XML: "+i.responseText;n.xml=e}}catch(O){throw O}finally{r(o.code,o.message,n,t)}},i.onerror=function(){r(500,"error",{text:i.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(i.onprogress=function(){}),i.open(e.type,e.url),i.send(t.data)},abort:function(){i&&i.abort()}}}}))}e.support.cors=!0,t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},l=function(e,t){t&&(e=h(e,t)),(window.setImmediate||window.setTimeout)(e,0)},t.support.enableLocalizedSort=!1;var j=function(e,i,s,a){return t.support.stableSort?t.support.enableLocalizedSort||"string"!=typeof t.pvt.getObject(i,e[0]||{})||s!==t.pvt.fnAscending&&s!==t.pvt.fnDescending||1!==a.filter((function(e){return"onSortBy"===e.fn})).length?e.sort(t.pvt.fnGetComparer(i,s)):A(e,i,s===t.pvt.fnDescending):t.mergeSort(e,i,s)},D=function(i,s){for(var a=e.grep(s,(function(e){return"onGroup"==e.fn})),o=0;o<a.length;o++)if(t.getObject("fieldName",a[o].e)==i)return t.getObject("fn",a[o].e)},A=function(e,i,s){var a=Object.prototype.toString;Object.prototype.toString=-1===i.indexOf(".")?function(){return this[i]}:function(){return t.pvt.getObject(i,this)},e=e.sort(),Object.prototype.toString=a,s&&e.reverse()},O=function(e){return e?e.toLowerCase?e.toLowerCase():e.toString().toLowerCase():0===e||!1===e?e.toString():""},I=function(e,i,s){return i?t.pvt.getObject(i,e[s]):e[s]},R=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},M=function(e,t){return e instanceof t},E=function(e,i,s,a){return function(o){return"object"==typeof o&&(a=o,o=null),new t.TableModel(o||e,i,s,a)}},V=function(t){return function(i,s){var a,o,r,n,l;for((s=s||window.ko)||u("Knockout is undefined"),o=[],l=0;l<t.length;l++){for(r in a={},t[l])r.startsWith("_")||(a[r]=s.observable(t[l][r]));for(r in i)e.isPlainObject(n=i[r])?(n.owner||(n.owner=a),n=s.computed(n)):n=s.computed(n,a),a[r]=n;o.push(a)}return s.observableArray(o)}},N=0,F=function(e){return e+(N+=1)};t.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var s=new Uint8Array(1);window.crypto.getRandomValues(s),t=s[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]}))},d=function(e,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),e.apply(t||this,i)}},h=function(e,t,i){return"bind"in e?i?e.bind(t,i):e.bind(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}},t.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},c=function(e){return e===s||null===e},u=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}}(window.jQuery,window.Syncfusion,window.document),function(e,t){function i(){var e={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var s in i)if(i.hasOwnProperty(s)&&(t=navigator.userAgent.match(i[s]))){e.name=t[1].toLowerCase(),e.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(e.name="msie");break}return e.isMSPointerEnabled="msie"==e.name&&e.version>9&&window.navigator.msPointerEnabled,e.pointerEnabled=window.navigator.pointerEnabled,e}function s(t,i,s){var a=s.type;s.type=i,e.event.dispatch.call(t,s),s.type=a}function a(e,t){if(t)for(prop in t)prop in e||(e[prop]=t[prop])}function o(e){return e.originalEvent.touches?e.originalEvent.touches[0]:c?e.originalEvent:e}function r(e){var i=c?e.originalEvent.pointerType:e.originalEvent.touches?"touch":"mouse",s=c&&u==t?4==i?"mouse":"touch":i;return e.pointerType=s,"mousedown"!=e.type&&"mouseup"!=e.type&&a(e,e.originalEvent),"touch"==s&&(e.button=t),e}function n(t,i,s){var a,o,r,n,l,d={};return s&&(l=s.originalEvent.touches?[s.originalEvent.touches[0],t.originalEvent.changedTouches[0]]:[s.originalEvent,t.originalEvent],i._isSwipe||i._isdrag?(a=e.event.special.pinch._getdistance(l[0],l[1]),o=i.time,n={pageX:i.stopPoint.pageX,pageY:i.stopPoint.pageY}):i._isPinch&&(a=e.event.special.pinch.distance(t),o=t.timeStamp-s.timeStamp,r=i._pinchDistance),i._isDelta&&(d._dTime=t.timeStamp-s.timeStamp,d._x=l[1].pageX-l[0].pageX,d._y=l[1].pageY-l[0].pageY)),{options:t,delta:{time:d._dTime||null,X:d._x||null,Y:d._y||null},distance:a,scale:i._isPinch?r:null,time:o,velocity:{XY:a/d._dTime||null,X:d._x/d._dTime||null,Y:d._y/d._dTime||null},currentPosition:{pageX:n?n.pageX:null,pageY:n?n.pageY:null}}}function l(){return(new Date).getTime()}function d(e){c&&e.css("-ms-touch-action","pinch-zoom").css("touch-action","pinch-zoom")}var h=e(document);e.each("touchstart touchmove touchend tap doubletap taphold swipe swipeleft swiperight pinch pinchin pinchout pinchstop scrollstart scrollstop".split(" "),(function(t,i){e.fn[i]=function(e){return e?this.on(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}));var c=i().isMSPointerEnabled,u=i().pointerEnabled,p="ontouchstart"in window,m="undefined"==typeof orientation,g=navigator.userAgent.match(/iPhone|iPad|iPod/i),_=c?u?"pointerdown":"MSPointerDown":p?"touchstart":"mousedown",f=c?u?"pointerup":"MSPointerUp":g||p?"touchend":"mouseup",b=c?u?"pointermove":"MSPointerMove":p?"touchmove":"mousemove",v=c?u?"pointercancel":"MSPointerCancel":p?"touchcancel":"mouseleave",x=c||!m?_:g?"touchstart":"touchstart mousedown",y=c||!m?f:"touchend mouseup",w=c||!m?b:"touchmove mousemove",S=i(),C="msie"==S.name&&"9.0"==S.version;e.event.special.ejtouchmove={setup:function(){function t(e){if(!e.which||1===e.which){var t=e.originalEvent;a(e,e.originalEvent),(!c||!i||Math.abs(i.x-t.x)>10||Math.abs(i.y-t.y)>10&&c)&&s(o,"ejtouchmove",e)}}var i,o=this,r=e(o);r.on(_,(function(e){if(e.originalEvent&&(!e.which||1===e.which)){var s=e.originalEvent;c&&(i={x:s.x,y:s.y}),r.on(b,t)}})),h.on(f,(function(){})),i={}}},e.event.special.swipeupdown={setup:function(){var i=e(this);d(i),i.on(_,(function(s){function a(e){if(e.preventDefault(),h){var t=o(e);r={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},Math.abs(h.coords[1]-r.coords[1])>10&&e.preventDefault()}}if(s.originalEvent){var r,l=s,d=o(s),h={time:(new Date).getTime(),coords:[d.pageX,d.pageY],origin:e(s.target)};i.on(b,a).one(f,(function(s){if(i.off(b,a),h&&r&&r.time-h.time<1e3&&Math.abs(h.coords[1]-r.coords[1])>30&&Math.abs(h.coords[0]-r.coords[0])<75){var o=n(s,{time:r.time-h.time,_isSwipe:!0,_isDelta:!0,stopPoint:r},l);h.origin.trigger(e.extend(!0,{type:"swipeupdown"},o)).trigger(e.extend(!0,{type:h.coords[1]>r.coords[1]?"swipeup":"swipedown"},o))}h=r=t}))}}))}},e.event.special.scrollstart={isEnabled:!0,setup:function(){function t(e,t){s(o,(i=t)?"scrollstart":"scrollstop",e)}var i,a,o=this;e(o).on("scroll",(function(s){e.event.special.scrollstart.isEnabled&&(i||t(s,!0),clearTimeout(a),a=setTimeout((function(){t(s,!1)}),250))}))}},e.event.special.tap={doubleTapThreshold:500,tapholdThreshold:650,canDoubleTap:function(t){return l()-t.doubleTapStartTime<=e.event.special.tap.doubleTapThreshold},setup:function(){var t,i=this,a=e(i),o=a.data();d(a),o.isDoubleTapWait=!1,o.stopProcess=!1,o.preTouchend=null,o.preTouchstart=null,a.on(x,(function(n){function d(){clearTimeout(f),a.off(y,u),C&&h.off(y,u),h.off(y,d),a.off(v,d),a.off(w,c),a.off("dragstart",m)}function c(e){var t=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent,i=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0]:n.originalEvent;t.pageX-i.pageX<10&&t.pageX-i.pageX>-10&&t.pageY-i.pageY<10&&t.pageY-i.pageY>-10||("mousemove"==e.type||"pointermove"==e.type&&"mouse"==e.originalEvent.pointerType||"MSPointerMove"==e.type&&4==e.originalEvent.pointerType?(clearTimeout(f),a.off(v,d),a.off(w,c)):d())}function u(a){var n,h;"touchend"==a.type&&(o.preTouchend=l()),d(),t!=a.target&&(n=a.target,jQuery.contains(t,n)?p(a,t):jQuery.contains(n,t)||(h=e(t).parents().has(e(n)).first()[0],ej.isNullOrUndefined(h)||p(a,h))),g===a.currentTarget&&(s(i,"tap",e.extend(r(a),{time:l()-o.startTime})),o.isDoubleTapWait&&e.event.special.tap.canDoubleTap(o)?(o.isDoubleTapWait=!1,s(i,"doubletap",e.extend(r(a),{time:l()-o.doubleTapStartTime}))):(o.isDoubleTapWait&&(o.isDoubleTapWait=!1,o.doubleTapStartTime=o.startTime),e.event.special.tap.canDoubleTap(o)&&(o.isDoubleTapWait=!0)))}function p(e,t){e.target=t,e.toElement=t}function m(){d()}var g,_,f,b,x;if(n.originalEvent)if(t=n.target,(o=a.data()).startTime=l(),o.isDoubleTapWait||(o.doubleTapStartTime=o.startTime),"touchstart"==n.type&&(o.preTouchstart=o.startTime),o.stopProcess="mousedown"==n.type&&(o.startTime-o.preTouchend<300||o.startTime-o.preTouchstart<30),g=n.currentTarget,_=n.originalEvent,n.which&&1!==n.which||o.stopProcess)o.stopProcess&&(o.stopProcess=!1);else{for(x in a.on(y,u),h.on(y,d),C&&h.on(y,u),a.on(v,d),a.on(w,c),a.on("dragstart",m),b={},_)b[x]=_[x];f=setTimeout((function(){o.isDoubleTapWait&&(o.isDoubleTapWait=!1),s(i,"taphold",e.extend(r(n),{options:b,time:l()-o.startTime}))}),e.event.special.tap.tapholdThreshold)}}))}},e.event.special.swipe={scrollSupression:10,duration:1e3,horizontalDistance:30,verticalDistance:75,pointers:window.navigator.msPointerEnabled,startPoint:function(t){var i=o(t);return{time:(new Date).getTime(),Items:i,coords:[i.pageX,i.pageY],origin:e(t.target)}},stopPoint:function(e){var t=o(e);return{time:(new Date).getTime(),Items:t,coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i,s,a){if((t.Items.pageY!=t.Items.clientY||i.Items.pageY!=i.Items.clientY)&&(e.event.special.swipe.horizontalDistance=130),i.time-t.time<e.event.special.swipe.duration&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistance&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistance){var o=n(s,{time:i.time-t.time,_isSwipe:!0,_isDelta:!0,stopPoint:i},a);t.origin.trigger(e.extend(!0,{type:"swipe"},o)).trigger(e.extend(!0,{type:t.coords[0]>i.coords[0]?"swipeleft":"swiperight"},o))}},setup:function(){var i=e(this);d(i),i.on(_,(function(s){function a(t){r&&(o=e.event.special.swipe.stopPoint(t),Math.abs(r.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupression&&t.preventDefault())}if(s.originalEvent){var o,r=e.event.special.swipe.startPoint(s),n=s;e(s.target).data("_dataTouchStart",{event:s,_now:(new Date).getTime()}),i.on(b,a).one(f,(function(s){i.off(b,a),r&&o&&e.event.special.swipe.handleSwipe(r,o,s,n),r=o=t}))}}))}},e.event.special.pinch={distance:function(t){return t.originalEvent.touches.length<2?null:e.event.special.pinch._getdistance(t.originalEvent.touches[0],t.originalEvent.touches[1])},_getdistance:function(e,t){return Math.sqrt((e.pageX-t.pageX)*(e.pageX-t.pageX)+(e.pageY-t.pageY)*(e.pageY-t.pageY))},setup:function(){var i=e(this);d(i),i.on(_,(function(s){var a;if(s.originalEvent&&(a=s,s.originalEvent.touches&&s.originalEvent.touches.length>=2)){var o,r,l=e.event.special.pinch.distance(s),d=l,h=n(s,{_isPinch:!0,_pinchDistance:d},a);function c(t){r=t,o=e.event.special.pinch.distance(t)||null,l&&o&&Math.abs(l-o)>5&&(e(t.target).trigger(e.extend(!0,{type:l>o?"pinchin":"pinchout"},n(t,{_isPinch:!0,_pinchDistance:d},a))),l=o)}e(s.target).trigger(e.extend(!0,{type:"pinch"},h)),i.on(b,c).one(f,(function(){i.off(b,c),e(s.target).trigger(e.extend(!0,{type:"pinchstop"},n(r,{_isPinch:!0,_pinchDistance:o},a))),l=o=t}))}}))}},e.event.special.touchdrag={setup:function(){var i=e(this);d(i),i.on(_,(function(s){function a(t){l&&(r=o(t),e.event.special.pinch._getdistance(l,r)>5&&e(t.target).trigger(e.extend(!0,{type:"touchdrag"},n(t,{_isdrag:!0,stopPoint:r,_isDelta:!0},d))))}if(s.originalEvent){var r,l=o(s),d=s;e(s.target).data("_dataTouchStart",{event:s,_now:(new Date).getTime()}),i.on(b,a).one(f,(function(){i.off(b,a),l=r=t}))}}))}},e.each({scrollstop:"scrollstart",doubletap:"tap",taphold:"tap",swipeleft:"swipe",swiperight:"swipe",swipedown:"swipeupdown",swipeup:"swipeupdown",pinchin:"pinch",pinchout:"pinch",pinchstop:"pinch"},(function(t,i){e.event.special[t]={setup:function(){e(this).on(i,e.noop)}}}))}(jQuery),e=jQuery,(t=Syncfusion).widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,autoScroll:!1,scrollSensitivity:20,scrollSpeed:20,helper:function(){return e('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},this._wireEvents(),this._browser=t.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch"),"edge"==this._browser.name&&this.element.css("touch-action","none")},_setModel:function(e){for(var t in e)switch(t){case"dragArea":this.model.dragArea=e[t];break;case"dragOnTaphold":this.model.dragOnTaphold=e[t];break;case"autoScroll":this.model.autoScroll=e[t]}},_destroy:function(){e(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._dragStopHandler).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),t.widgetBase.droppables[this.scope]=null},_initialize:function(i){var s,a;if(i.target&&i.target.nodeName&&e(i.target).closest("input[type='text'], input[type='checkbox'], textarea, select, option").length)return!0;s=i,i.preventDefault(),i=this._getCoordinate(i),this.target=e(s.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},e(document).on(t.eventType.mouseMove,this._dragStartHandler).on(t.eventType.mouseUp,this._destroyHandler),this.model.clone||(a=this.element.offset(),this._relXposition=i.pageX-a.left,this._relYposition=i.pageY-a.top),e(document.documentElement).trigger(t.eventType.mouseDown,s)},_setDragArea:function(){var i,s,a,o,r,n,l,d=e(this.model.dragArea)[0];if(d){if(o=["left","right","bottom","top"],t.isNullOrUndefined(d.getBoundingClientRect)){for(i=e(this.model.dragArea).outerWidth(),s=e(this.model.dragArea).outerHeight(),l=0;l<o.length;l++)this["border-"+o[l]+"-width"]=0,this["padding-"+o[l]]=0;r=n=0}else{for(i=(a=d.getBoundingClientRect()).width?a.width:a.right-a.left,s=a.height?a.height:a.bottom-a.top,l=0;l<o.length;l++)this["border-"+o[l]+"-width"]=isNaN(parseFloat(e(e(this.model.dragArea)[0]).css("border-"+o[l]+"-width")))?0:parseFloat(e(e(this.model.dragArea)[0]).css("border-"+o[l]+"-width")),this["padding-"+o[l]]=isNaN(parseFloat(e(e(this.model.dragArea)[0]).css("padding-"+o[l])))?0:parseFloat(e(e(this.model.dragArea)[0]).css("padding-"+o[l]));r=e(this.model.dragArea).offset().top,n=e(this.model.dragArea).offset().left}this._left=t.isNullOrUndefined(e(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:n+this["border-left-width"]+this["padding-left"],this._top=t.isNullOrUndefined(e(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:r+this["border-top-width"]+this["padding-top"],this._right=n+i-[this["border-right-width"]+this["padding-right"]],this._bottom=r+s-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(s){var a,o,r,n,l,d;if("touchmove"==s.type||"mousemove"==s.type&&1==(s.buttons!==i?s.buttons:s.which)||this._isIE8||this._isIE9){a=s,s=this._getCoordinate(s),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(a);var h=this._initPosition.x-s.pageX,c=this._initPosition.y-s.pageY;if(Math.sqrt(h*h+c*c)>=this.model.distance){if(!(o=this.model.helper({sender:a,element:this.target}))||t.isNullOrUndefined(o))return;if(r=this.model.handle=this.helper=o,this.model.dragStart&&(n=null,"touchmove"==a.type?(l=a.originalEvent.changedTouches[0],n=document.elementFromPoint(l.clientX,l.clientY)):n=a.originalEvent.target||a.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(n=this._checkTargetElement(s)||n),this._trigger("dragStart",{event:a,element:this.element,target:n,currentTarget:this._getCurrTarget(s)})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),!t.isNullOrUndefined(r)&&r.length>0&&(d=r.offsetParent().offset(),e(document).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._dragHandler).on(t.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),t.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:r.css({position:"absolute",left:this.position.left-d.left,top:this.position.top-d.top}),destroy:this._destroyHandler})}}(this.model.autoScroll&&"touchmove"==s.type||"mousemove"==s.type&&1==(s.buttons!==i?s.buttons:s.which)||this._isIE8||this._isIE9)&&this._getScrollParent(a.target)},_drag:function(i){var s,a,o,r,n,l,d,h,c,u;i.preventDefault(),this.position=this._getMousePosition(i),this.position.top<0&&(this.position.top=0),e(document).height()<this.position.top&&(this.position.top=e(document).height()),e(document).width()<this.position.left&&(this.position.left=e(document).width()),c=t.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(n=null,"touchmove"==i.type?(l=i.originalEvent.changedTouches[0],n=document.elementFromPoint(l.clientX,l.clientY)):n=i.originalEvent.target||i.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(n=this._checkTargetElement(i)||n),d={event:i,element:this.target,target:n,currentTarget:this._getCurrTarget(i),position:{left:null,top:null}},this._trigger("drag",d)),h=this._checkTargetElement(i),t.isNullOrUndefined(h)?this._hoverTarget&&(i.target=i.toElement=this._hoverTarget,this._hoverTarget.object._out(i),this._hoverTarget=null):(i.target=i.toElement=h,h.object._over(i),this._hoverTarget=h),u=(c=t.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),o=t.isNullOrUndefined(i.pageX)||0===i.pageX&&"touchmove"==i.type?i.originalEvent.changedTouches[0].pageX:i.pageX,r=t.isNullOrUndefined(i.pageY)||0===i.pageY&&"touchmove"==i.type?i.originalEvent.changedTouches[0].pageY:i.pageY,this.model.dragArea?(this._pageX!=o&&(s=this._left>this.position.left?this._left:this._right<this.position.left+c.outerWidth(!0)?this._right-c.outerWidth(!0):this.position.left),this._pageY!=r&&(a=this._top>this.position.top?this._top:this._bottom<this.position.top+c.outerHeight(!0)?this._bottom-c.outerHeight(!0):this.position.top)):(s=this.position.left,a=this.position.top),(a<0||a-[u.top+this["border-top-width"]]<0)&&(a=[u.top+this["border-top-width"]]),(s<0||s-[u.left+this["border-left-width"]]<0)&&(s=[u.left+this["border-left-width"]]),s=d&&d.position&&d.position.left?d.position.left:s,a=d&&d.position&&d.position.top?d.position.top:a,c.css({left:d&&d.position&&d.position.left?s:s-[u.left+this["border-left-width"]],top:d&&d.position&&d.position.top?a:a-[u.top+this["border-top-width"]]}),this.position.left=s,this.position.top=a,this._pageX=o,this._pageY=r,this.model.autoScroll&&(r-e(document).scrollTop()<this.model.scrollSensitivity?e(document).scrollTop(e(document).scrollTop()-this.model.scrollSpeed):e(window).height()-(r-e(document).scrollTop())<this.model.scrollSensitivity&&e(document).scrollTop(e(document).scrollTop()+this.model.scrollSpeed),o-e(document).scrollLeft()<this.model.scrollSensitivity?e(document).scrollLeft(e(document).scrollLeft()-this.model.scrollSpeed):e(window).width()-(o-e(document).scrollLeft())<this.model.scrollSensitivity&&e(document).scrollLeft(e(document).scrollLeft()+this.model.scrollSpeed))},_dragStop:function(e){var t,i;("mouseup"==e.type||"touchend"==e.type)&&this._destroy(e),this.model.dragStop&&(t=null,"touchend"==e.type?0==this.model.cursorAt.top&&0==this.model.cursorAt.left?t=e.originalEvent.target||e.target:(i=e.originalEvent.changedTouches[0],t=document.elementFromPoint(i.clientX,i.clientY)):t=e.originalEvent.target||e.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(t=this._checkTargetElement(e)||t),this._trigger("dragStop",{event:e,element:this.target,target:t,currentTarget:this._getCurrTarget(e)})),this._dragEnd(e)},_dragEnd:function(e){var i=this._checkTargetElement(e);t.isNullOrUndefined(i)||(e.target=e.toElement=i,i.object._drop(e,this.element))},_dragMouseEnter:function(t){e(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(t):this._isIE8?0==t.button&&this._dragManualStop(t):0==t.buttons&&this._dragManualStop(t)},_dragManualStop:function(e){null!=this.model.dragStop&&this._trigger("dragStop",{event:e,element:this.target,target:e.originalEvent.target||e.target,currentTarget:this._getCurrTarget(e)}),this._destroy(e)},_dragMouseOut:function(){e(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(e){var t,i;return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?(i=e.originalEvent.changedTouches[0],t=document.elementFromPoint(i.clientX,i.clientY)):t=e.target,this.helper&&this._contains(this.helper[0],t)?(this.helper.hide(),t=this._elementUnderCursor(e),this.helper.show(),this._withDropElement(t)):this._withDropElement(t)},_getCurrTarget:function(e){var i,s,a=e.originalEvent&&e.originalEvent.target||e.target;if(!t.isNullOrUndefined(a.style))return i=a.style.display,this.element.is(a)&&(a.style.display="none"),s=null,t.isNullOrUndefined(e.pageX)||t.isNullOrUndefined(e.pageY)||(s=document.elementFromPoint(e.pageX,e.pageY)),a.style.display=i,s},_withDropElement:function(i){if(i){var s=e(i).data("ejDroppable");if(t.isNullOrUndefined(s)&&(s=this._checkParentElement(e(i))),!t.isNullOrUndefined(s))return e.extend(i,{object:s})}},_checkParentElement:function(i){var s,a=e(i).closest(".e-droppable");if(a.length>0&&(s=e(a).data("ejDroppable"),!t.isNullOrUndefined(s)))return s},_elementUnderCursor:function(e){return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):document.elementFromPoint(e.clientX,e.clientY)},_contains:function(t,i){try{return e.contains(t,i)||t==i}catch(s){return!1}},_wireEvents:function(){1==t.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,t.eventType.mouseDown,this._initialize),this._dragStartHandler=e.proxy(this._dragStart,this),this._destroyHandler=e.proxy(this._destroy,this),this._dragStopHandler=e.proxy(this._dragStop,this),this._dragHandler=e.proxy(this._drag,this),this._dragMouseEnterHandler=e.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=e.proxy(this._dragMouseOut,this)},_getMousePosition:function(e){return e=this._getCoordinate(e),{left:(this.model.clone?e.pageX:e.pageX-this._relXposition)-[this.margins.left+this.model.cursorAt.left],top:(this.model.clone?e.pageY:e.pageY-this._relYposition)-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(e){var i=e;return("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type&&"msie"!=t.browserInfo().name)&&(i=e.originalEvent.changedTouches[0]),i},_getScrollParent:function(e){return e&&e.scrollHeight>e.clientHeight?e:e&&e.parentNode?this._getScrollParent(e.parentNode):void 0}}),function(e,t){t.widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],dropElements:[],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this._mouseOver=!1,this.dropElements.push(this)},_setModel:function(){},_destroy:function(){e(this.element).off("mouseup",e.proxy(this._drop,this))},_over:function(e){this._mouseOver||(this._trigger("over",e),this._mouseOver=!0)},_out:function(e){this._mouseOver&&(this._trigger("out",e),this._mouseOver=!1)},_drop:function(t,i){var s,a=t.target,o=e(a).parents(".e-droppable");for(e(a).hasClass("e-droppable")&&o.push(a),s=0;s<this.dropElements.length;s++)e(o).is(e(this.dropElements[s].element))&&this.dropElements[s]._dropEvent.call(this.dropElements[s],t,i)},_dropEvent:function(i,s){var a,o=t.widgetBase.droppables[this.model.scope],r=!t.isNullOrUndefined(o.helper)&&o.helper.is(":visible");r&&"touchend"==i.type&&e(o.helper).hide(),a=this._isDropArea(i),r&&"touchend"==i.type&&e(o.helper).show(),o&&!t.isNullOrUndefined(this.model.drop)&&r&&a.canDrop&&this.model.drop(e.extend(i,{dropTarget:a.target,dragElement:s},!0),o)},_isDropArea:function(t){var i,s,a,o,r,n={canDrop:!0,target:e(t.target)};if("touchend"==t.type)for(i=t.originalEvent.changedTouches[0],s=document.elementFromPoint(i.clientX,i.clientY),n.canDrop=!1,a=e(s).parents(),o=0;o<this.element.length;o++){if(e(s).is(e(this.element[o])))n={canDrop:!0,target:e(s)};else for(r=0;r<a.length;r++)if(e(this.element[o]).is(e(a[r]))){n={canDrop:!0,target:e(s)};break}if(n.canDrop)break}return n}})}(jQuery,Syncfusion),function(e,t){t.widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return e('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=t.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?e(this.target).delegate(this.handle,t.eventType.mouseDown,e.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):e(this.target).on(t.eventType.mouseDown,e.proxy(this._mousedown,this)),this._resizeStartHandler=e.proxy(this._resizeStart,this),this._destroyHandler=e.proxy(this._destroy,this),this._resizeStopHandler=e.proxy(this._resizeStop,this),this._resizeHandler=e.proxy(this._resize,this),this._resizeMouseEnterHandler=e.proxy(this._resizeMouseEnter,this)},_mouseover:function(i){e(i.target).hasClass("e-resizable")?(e(i.target).css({cursor:"se-resize"}),e(this.target).on(t.eventType.mouseDown,e.proxy(this._mousedown,this))):(e(this.target).off(t.eventType.mouseDown),e(this.target).css({cursor:""}))},_blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},_setModel:function(){},_mousedown:function(i){var s=i;return i=this._getCoordinate(i),this.target=e(s.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},this._pageX=i.pageX,this._pageY=i.pageY,e(document).on(t.eventType.mouseMove,this._resizeStartHandler).on(t.eventType.mouseUp,this._destroyHandler),e(document.documentElement).trigger(t.eventType.mouseDown,s),!1},_resizeStart:function(i){var s;if(e(i.target).hasClass("e-resizable")){i=this._getCoordinate(i);var a,o,r=this._initPosition.x-i.pageX,n=this._initPosition.y-i.pageY;if(Math.sqrt(r*r+n*n)>=this.model.distance){if(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:i,element:this.target}))return;s=this.model.helper({element:this.target}),a=i.pageX-this._pageX+s.outerWidth(),o=i.pageY-this._pageY+s.outerHeight(),this._pageX=i.pageX,this._pageY=i.pageY,this.getElementPosition(s),e(document).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._resizeHandler).on(t.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),t.widgetBase.resizables[this.scope]={resizable:this.target,helper:s.css({width:a,height:o}),destroy:this._destroyHandler}}}},_resize:function(e){var i,s,a,o;e=this._getCoordinate(e),this.getElementPosition(t.widgetBase.resizables[this.scope].helper),o=this.model.helper({element:this.target}),i=e.pageX-this._pageX+o.outerWidth(),s=e.pageY-this._pageY+o.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,i<this.model.minWidth&&(a=this.model.minWidth-i,i=this.model.minWidth,this._pageX=e.pageX+a),s<this.model.minHeight&&(a=this.model.minHeight-s,s=this.model.minHeight,this._pageY=e.pageY+a),null!=this.model.maxHeight&&s>this.model.maxHeight&&(a=s-this.model.maxHeight,s=this.model.maxHeight,this._pageY=e.pageY-a),null!=this.model.maxWidth&&i>this.model.maxWidth&&(a=i-this.model.maxWidth,i=this.model.maxWidth,this._pageX=e.pageX-a),t.widgetBase.resizables[this.scope].helper.css({width:i,height:s}),this._trigger("resize",{element:this.target})},_resizeStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),("mouseup"==e.type||"touchend"==e.type)&&this._destroy(e)},_resizeMouseEnter:function(e){this._isIE9?this._resizeManualStop(e):this._isIE8?0==e.button&&this._resizeManualStop(e):0==e.buttons&&this._resizeManualStop(e)},_resizeManualStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(e)},_destroy:function(){e(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._resizeStopHandler).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),t.widgetBase.resizables[this.scope]=null},getElementPosition:function(e){return null!=e&&e.length>0?{left:e[0].offsetLeft,top:e[0].offsetTop}:null},_getCoordinate:function(e){var t=e;return("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type)&&(t=e.originalEvent.changedTouches[0]),t}})}(jQuery,Syncfusion),function(e,t,i,s){"use strict";t.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:t.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content=this.element.find("horizontal"===this.model.orientation?".e-hhandle":".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.element.addClass(this.model.orientation===t.ScrollBar.Orientation.Horizontal?"e-hscrollbar":"e-vscrollbar"),(0!==this.value()||0!==this.model.minimum)&&(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(e,t,i,s){var a,o={};return o.dimension=e,o.xy=t,o.position=i,o.css=s,o.uDimension=e,this._calculateLayout(o),this._createLayout(o),a=this[o.main].find(".e-button"),this._off(a,"mousedown")._on(a,"mousedown",{d:o,step:1},this._spaceMouseDown),this._off(this[o.scroll],"mousedown")._on(this[o.scroll],"mousedown",{d:o},this._spaceMouseDown),this._off(this[o.handler],"mousedown touchstart")._on(this[o.handler],"mousedown touchstart",{d:o},this._mouseDown),o},_createLayout:function(i){var s,a="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}</div>",o=e.fn.jquery,r={};r[i.dimension]=i.modelDim,s=t.buildTag("div."+i.css+"scroll e-box",String.format(a,"up e-chevron-up_01 e-icon e-box e-button",i.buttonSize)+String.format(a,"handlespace",i.handleSpace,String.format(a,"handle e-box e-pinch",i.handle))+String.format(a,"down e-chevron-down_01 e-icon e-box e-button",i.buttonSize),r),this.element.append(s),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),("1.7.1"===o||"1.7.2"===o)&&i.uDimension.toLowerCase(),this[i.handler]=this.element.find("."+i.handler),this[i.handler].css("transition","none"),this[i.scroll]=this[i.handler].parent(),this[i.main]=this[i.scroll].parent(),this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize)},_calculateLayout:function(e){var i,a;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,i=this.model.height,"horizontal"===this.model.orientation&&(i=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(i-2*this.model.buttonSize),a=!t.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!a&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=s},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),a=t.css("width"==e.dimension?"left":"top"),o="width"==e.dimension?i.outerWidth():i.outerHeight();a!==s&&"auto"!==a&&(o>=e.handle+parseFloat(a)||t.css("width"===e.dimension?"left":"top",this.model.enableRTL||parseFloat(o)-e.handle>0?parseFloat(o)-e.handle:0)),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,i,s,a){var o,r,n=this._scrollData;if(!s)if(this.model.orientation===t.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:a}))return}else if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:a}))return;this._scrollData&&(!this._scrollData.enableRTL||"mousemove"!=a&&"touchmove"!=a||"msie"==t.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=a&&"touchmove"!=a||"msie"!=t.browserInfo().name?this.value(e):this.value(-1*e):this.value(-n.scrollable+e),this.content().length>0&&(this.model.orientation===t.ScrollBar.Orientation.Horizontal?(e=(o=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?o:(e-this.model.minimum)/this._scrollData.onePx,this._scrollData.enableRTL&&("mousemove"==a||"touchmove"==a)&&"msie"!=t.browserInfo().name&&(e=o-e)>0&&(e*=-1),this._scrollData.enableRTL&&("mousemove"==a||"touchmove"==a)&&"msie"==t.browserInfo().name&&(e=-e),this._scrollData.enableRTL&&e>0&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(e>0&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(r=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?r:(e-this.model.minimum)/this._scrollData.onePx,"msie"==t.browserInfo().name&&isNaN(e)&&(e=""),this.content()[0].style.top=e+"px")))},_changeTop:function(e,t,i){var s,a;return a=(s=this.value())+t,e.step=t,e.enableRTL&&t<0||t>0&&!e.enableRTL?e.enableRTL?a<-1*this.model.maximum&&(a=-1*this.model.maximum):a>this.model.maximum&&(a=this.model.maximum):e.enableRTL?a>this.model.minimum&&(a=this.model.minimum):a<this.model.minimum&&(a=this.model.minimum),(a!==s||this.model.infiniteScrolling)&&this.scroll(a,i),a!==s},_mouseUp:function(i){if(i.data){var s=i.data.d;clearInterval(s.vInterval),"touchend"==i.type&&e(i.target).removeClass("e-touch"),"mouseup"!==i.type&&"touchend"!==i.type&&(i.toElement||i.relatedTarget||i.target)||(this._prevY=this._d=this._data=null,this._off(e(document),"mousemove touchmove",this._mouseMove),e(document).off("mouseup touchend",t.proxy(this._mouseUp,this)),s.fromScroller=!1,this[s.scroll].off("mousemove"),this[s.handler].off("mousemove").css("transition",""),"thumb"!==i.data.source||t.isNullOrUndefined(this.model)||e.when(this.content()).done(t.proxy((function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:s})}),this))),s.up=!0}},_mouseDown:function(i){this._enabled&&(this._d=i,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(e(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),e(document).one("mouseup touchend",{d:this._data,source:"thumb"},t.proxy(this._mouseUp,this)),"touchstart"==i.type&&e(i.target).addClass("e-touch"))},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(i){var s,a,o=0,r=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(i.preventDefault(),t.isNullOrUndefined(i.target.tagName)){if(e(i.target).is(document))return void this._mouseCall(i)}else if("iframe"===i.target.tagName.toLowerCase())return void this._mouseCall(i);a="mousemove"==i.type?i[this._data.clientXy]:i.originalEvent.changedTouches[0][this._data.clientXy],this._prevY&&a!==this._prevY&&(o=a-this._prevY,this.model.infiniteScrolling?(r+=o,this._data.step=o,(this._data.enableRTL?r>0:r<0)&&(r=0),r*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(r=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),s=Math.ceil(r*this._data.onePx),this.scroll(s,"thumb")):this._changeTop(this._data,s=o*this._data.onePx,"thumb",this._d),this._trigger("thumbMove",{originalEvent:i,direction:this._data.step>0?1:-1,scrollData:this._data})),this._prevY=a},_spaceMouseDown:function(s){var a,o,r,n;s.data&&this._enabled&&(o=this[(a=s.data.d).handler][0].getBoundingClientRect(),1===s.which&&s.target!==this[a.handler][0])&&(r=s.data.step?this.model.smallChange:this.model.largeChange,n=s.data.top||o[a.lPosition],s[a.clientXy]=s[a.clientXy]||0,s[a.clientXy]-i.scrollY<n&&(r*=-1),a.target=s.target,this._changeTop(a,r,3===r?"track":"button",s),1!==s.data.step&&this[a.scroll].mousemove((function(){a.up=!0})),a.up=!1,a.vInterval=setInterval(t.proxy((function(){(r<0?n+r/a.onePx<s[a.clientXy]:n+a.handle+r/a.onePx>s[a.clientXy])&&(a.up=!0),a.up?clearInterval(a.vInterval):(this._changeTop(a,r,3===r?"track":"button",s),n=s.data&&s.data.top||o[a.lPosition])}),this),150),e(document).one("mouseup",{d:a},t.proxy(this._mouseUp,this)),e(document).mouseout({d:a},t.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===t.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),t.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion,window),function(e,t,i,s){"use strict";t.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:s,enableTouchScroll:!0,preventDefault:!1,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:t.util.valueFunction("scrollTop"),scrollLeft:t.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return!this._contentOffsetParent&&this._content&&this._content[0]&&(this._contentOffsetParent=this._content[0].offsetParent),this._content&&this._content.length&&this._contentOffsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){t.isNullOrUndefined(this.content()[0])||(this._isJquery3=parseInt(e.fn.jquery)>=3,this._tempWidth=this.model.width,this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=t.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this._isNativeScroll=t.isDevice(),null!=this.model.targetPane&&this.content().find(this.model.targetPane).addClass("e-target-pane"),this.model.enableRTL===s&&(this.model.enableRTL="rtl"===this.element.css("direction")),this.model.autoHide&&this._on(this.element,"mousedown",this._mouseDownInitContent),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._isNativeScroll&&this.element.addClass("e-native-scroll"),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.scrollTop(this._isJquery3?Math.ceil(this.scrollTop()):this.scrollTop()),this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),(this._prevScrollWidth!==this.content()[0].scrollWidth||this._prevScrollHeight!==this.content()[0].scrollHeight)&&this.refresh()),this._addActionClass(),this._isNativeScroll&&this._on(this.content(),"scrollstop",this._touchDown)},_mouseDownInitContent:function(){this.model.autoHide&&this._on(e(document),"mouseup",this._mouseUpContent),this.element.addClass("e-scroll-focus")},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll||this._hScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):e(this.content()[0]).height("")),t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll||this._vScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):e(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==t.browserInfo().name?e<0?e:-1*e:!t.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==t.browserInfo().name||this._rtlScrollLeftValue>0)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var a,o=e.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),this.content().length>0&&(this.isVScroll()?(this._tempVscrollbar||(this._vScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Vertical,this.isHScroll()),this._tempVscrollbar=this._vScrollbar),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this._tempVscrollbar=this._vScrollbar,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._tempHscrollbar||(this._hScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Horizontal,this.isVScroll()),this._tempHscrollbar=this._hScrollbar),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this._tempHscrollbar=this._hScrollbar,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),"1.7.1"===o||"1.7.2"===o?(this._contentHeight="height",this._contentWidth="width"):(this._contentHeight="outerHeight",this._contentWidth="outerWidth"),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),a=this._exactElementDimension(this.element),this._elementDimension(a),null!==this.model.targetPane&&this.content().find(this.model.targetPane)[0]!==s?this.content().find(this.model.targetPane)[0].scrollLeft=this.scrollLeft():!this.isHScroll()&&this.element.children(".e-hscrollbar").length>0&&this._ensureScrollers(),isNaN(this._eleWidth)&&this._eleWidth.indexOf("%")>0&&isNaN(this._eleHeight)&&this._eleHeight.indexOf("%")>0&&e(i).on("resize",e.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=e(this.element).parent().height(),this._parentWidth=e(this.element).parent().width())},_elementDimension:function(e){this._ElementHeight=e.height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[this._contentHeight](this._ElementHeight-(this._hScroll&&!this.model.autoHide||this.element.find(".e-hscrollbar").is(":visible")?this.model.scrollerSize:0)),this._ElementWidth=e.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[this._contentWidth](this._ElementWidth-(this._vScroll&&!this.model.autoHide||this.element.find(".e-vscrollbar").is(":visible")?this.model.scrollerSize:0))},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){var i,s=parseFloat(e.fn.jquery)>=3?Math.ceil(this.element.width()):this.element.width(),a=this.model.width;if(t.isNullOrUndefined(this.model.width)||(a="string"==typeof this.model.width&&-1!=this.model.width.indexOf("%")?s:parseFloat(e.fn.jquery)>=3&&!isNaN(parseFloat(this.model.width))?Math.ceil(parseFloat(this.model.width)):this.model.width),t.isNullOrUndefined(this._tempWidth)||"string"!=typeof this._tempWidth||-1==this._tempWidth.indexOf("%")){if(a>0){if(i=this.content().find(this.model.targetPane),null!=this.model.targetPane&&i.length)return i[0].scrollWidth+i.siblings().width()>a;if(this.content()[0].scrollWidth>a)return!0;if(this.content()[0].scrollWidth==a){if(this.model.autoHide&&e(this.content()[0]).find("> *").length>0)return e(this.content()[0]).find("> *")[0].scrollWidth>e(this.content()[0]).width();if(e(this.content()[0]).find("> *").length>0)return e(this.content()[0]).find("> *")[0].scrollWidth>(t.isNullOrUndefined(this._tempVscrollbar)?a:a-this.model.scrollerSize)}return!1}return!1}return t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?this.content()[0].scrollWidth>s||void 0:this.content()[0].scrollWidth>s},isVScroll:function(){return t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(this.model.height>0&&(this.content()[0].scrollHeight>Math.ceil(this.model.height)||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var i in e)switch(i){case"enableRTL":e[i]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));break;case"preventDefault":this.model.preventDefault=e[i];break;case"scrollLeft":(parseFloat(t.util.getVal(e[i]))<0||!this._hScroll)&&(e[i]=0),this._hScrollbar&&(e[i]=parseFloat(t.util.getVal(e[i]))>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(t.util.getVal(e[i]))),this._setScrollLeftValue(parseFloat(e[i])),this.scrollLeft(e[i]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[i],!0);break;case"scrollTop":this._vScrollbar&&(e[i]=parseFloat(t.util.getVal(e[i]))>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(t.util.getVal(e[i]))),(parseFloat(e[i])<0||!this._vScroll)&&(e[i]=0),this.content().scrollTop(parseFloat(e[i])),this.scrollTop(e[i]),this.scrollY(e[i],!0);break;case"touchScroll":this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");break;case"scrollOneStepBy":this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[i],this._vScrollbar.model.smallChange=e[i]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[i],this._hScrollbar.model.smallChange=e[i]);break;case"buttonSize":this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh();break;case"height":this._eleHeight=e[i],this.refresh();break;case"width":this._eleWidth=e[i],this.refresh();break;case"enabled":e[i]?this.enable():this.disable();break;default:this.refresh()}},_createScrollbar:function(i,s){var a,o,r,n,l,d,h,c=this,u=document.createElement("div");return i===t.ScrollBar.Orientation.Vertical?(o=this.model.scrollerSize,r=a=t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(s?this.model.scrollerSize:0):this.element.height()-(s?this.model.scrollerSize:0),n=this.content()[0].scrollHeight,l=this.scrollTop()):(o=a=this.model.width-(s?this.model.scrollerSize:0),r=this.model.scrollerSize,t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(d=this.content().find(this.model.targetPane),n=null!=this.model.targetPane&&d.length?d[0].scrollWidth+d.parent().width()-d.width():this.content()[0].scrollWidth):(o=a=this.element.width()-(s?this.model.scrollerSize:0),n=this.content()[0].scrollWidth),l=this.scrollLeft()),this.element.children(".e-hscrollbar").length>0?e(this.element.children(".e-hscrollbar")).before(u):this.element.append(u),e(u).ejScrollBar({elementHeight:c._eleHeight,elementWidth:c._eleWidth,buttonSize:c.model.buttonSize,orientation:i,viewportSize:a,height:r,width:o,maximum:n-a,value:l,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:t.proxy(this._scrollChanged,this),thumbEnd:t.proxy(this._thumbEnd,this),thumbStart:t.proxy(this._thumbStart,this),thumbMove:t.proxy(this._thumbMove,this)}),h=e(u).ejScrollBar("instance"),i!==t.ScrollBar.Orientation.Vertical&&s||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:h._scrollData},this._mouseWheel),i===t.ScrollBar.Orientation.Horizontal?this._scrollXdata=h._scrollData:this._scrollYdata=h._scrollData,i===t.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(h._scrollData.enableRTL=!0),h._enabled=this.model.enabled,h},_updateScrollbar:function(i,s){var a=i===t.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;a&&(i===t.ScrollBar.Orientation.Vertical?(a.model.width=this.model.scrollerSize,a.model.height=a.model.viewportSize=this.model.height-(s?this.model.scrollerSize:0),a.model.maximum=this.content()[0].scrollHeight-a.model.viewportSize,a.model.value=this.scrollTop()):(a.model.width=a.model.viewportSize=this.model.width-(s?this.model.scrollerSize:0),a.model.height=this.model.scrollerSize,a.model.maximum=(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length>0?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-this.content().find(e(this.model.targetPane)).outerWidth()):this.content()[0].scrollWidth)-a.model.viewportSize,this.model.enableRTL||(a.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),e(":hover").filter(this.element[0]).length||this.content().siblings(".e-scrollbar.e-js").hide(),this._elementDimension(this._exactElementDimension(this.element))):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_mouseUpContent:function(t){"mouseup"==t.type&&(this.element.removeClass("e-scroll-focus"),this._autohide(),this._off(e(document),"mouseup",this._mouseUpContent))},_scrollChanged:function(i){this._updateScroll=!0,i.scrollTop!==s?this.scrollY(i.scrollTop,!0,"",i.source):i.scrollLeft!==s&&this.scrollX(i.scrollLeft,!0,"",i.source),this._updateScroll=!1;var a=this;e.when(this.content()).done(t.proxy((function(){a._trigger("scrollEnd",{scrollData:i})})))},_bindBlurEvent:function(s,a){this._scrollEle=e(s).data("ejScrollBar"),this._event=a,this._listener=function(){this._scrollEle._off(e(document),"mousemove touchmove",this._scrollEle._mouseMove),e(document).off("mouseup touchend",t.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(e(document),"mousemove touchmove",this._mouseMove),this._off(e(document),"mouseup touchend",this._mouseUp),this._off(e(i),"blur"),this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(e(i),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;var t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar"),this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(t){this._trigger("thumbEnd",t),this._off(e(i),"blur")},refresh:function(i){var s,a;i?(this._tempVscrollbar=null,this.element.children(".e-vscrollbar").remove(),this._tempHscrollbar=null,this.element.children(".e-hscrollbar").remove()):this.element.find(">.e-content").removeAttr("style"),t.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==e(this.element).parent().height()||(s=(s=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),s)),t.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==e(this.element).parent().width()||(s=(s=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),s)),this._ensureScrollers(),a=this.model.scrollLeft,this.model.enableRTL?(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),a>0?this.content().scrollLeft(this._rtlScrollLeftValue-a):this._setScrollLeftValue(a)):this.content().scrollLeft(a),(this.scrollTop()&&t.isNullOrUndefined(this._vScrollbar)||!t.isNullOrUndefined(this._vScrollbar)&&this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.scrollTop(this._isJquery3?Math.ceil(this.scrollTop()):this.scrollTop()),this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(t.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData)),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(t.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData)),"msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){var t,i,s,a=e.get(0).getBoundingClientRect(),o=["left","right","top","bottom"];for(t=a.width?a.width:a.right-a.left,i=a.height?a.height:a.bottom-a.top,s=0;s<o.length;s++)this["border_"+o[s]]=isNaN(parseFloat(e.css("border-"+o[s]+"-width")))?0:parseFloat(e.css("border-"+o[s]+"-width")),this["padding_"+o[s]]=isNaN(parseFloat(e.css("padding-"+o[s])))?0:parseFloat(e.css("padding-"+o[s]));return{width:t,height:i}},_keyPressed:function(e,i){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(i.tagName.toLowerCase()))return!0;var s,a;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==t.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),s=this._vScrollbar._scrollData),a="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(s=this._hScrollbar._scrollData),a="i"}return!s||!this._changeTop(s,(e.indexOf(a)<0?-1:1)*("p"!==e[0]?1:3)*s.scrollOneStepBy,"key")}},scrollY:function(e,i,s,a,o){var r=this;if(""!==e){if(i){if(o={source:a||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o},e=this._isJquery3?Math.ceil(o.scrollTop):o.scrollTop,this.scrollTop(e),this._trigger("scroll",o))return;return void this.content().scrollTop(e)}(t.isNullOrUndefined(s)||""===s)&&(s=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),e=this._isJquery3?Math.ceil(e):e,this.scrollTop(e),this.content().stop().animate({scrollTop:e},s,"linear",(function(){r._trigger("scroll",{source:a||"custom",scrollData:r._vScrollbar?r._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o})}))}},scrollX:function(e,i,s,a,o){var r,n=this;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),r=t.browserInfo().name,this.model.enableRTL&&"mozilla"!=r&&(e<0&&(e=Math.abs(e)),null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content(),"mousemove"!=o&&"touchmove"!=o&&"msie"!=r&&"msie"!=r&&(e=this._hScrollbar._scrollData.scrollable-e)),this.scrollLeft(e),i){if(this._trigger("scroll",{source:a||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o}))return;return void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).scrollLeft(e):this.content().scrollLeft(e))}(t.isNullOrUndefined(s)||""===s)&&(s=100),null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).stop().animate({scrollLeft:e},s,"linear"):this.content().stop().animate({scrollLeft:e},s,"linear",(function(){n._trigger("scroll",{source:a||"custom",scrollData:n._hScrollbar?n._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})}))}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,i,s,a){var o,r=Math.ceil(null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane)[e.scrollVal]():this.content()[e.scrollVal]());return"height"==e.dimension&&0==r&&(r=0!=this.scrollTop()?this.scrollTop():0),o=r+i,(e.enableRTL?o<e.scrollable:o>e.scrollable)&&(o=Math.round(e.scrollable)),(e.enableRTL?o>0:o<0)&&(o=0),o!==r&&(this["scroll"+e.xy](o,!0,"",s,a),"X"!==e.xy||t.isNullOrUndefined(this._hScrollbar)?t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(o,s,!0,a):this._hScrollbar.scroll(o,s,!0,a)),o!==r},_mouseWheel:function(t){var s;if((!this._vScrollbar||!t.ctrlKey)&&(this._vScrollbar||t.shiftKey)&&t.data&&this.model.enabled){var a,o=0,r=t.data.d,n=t;if(t=t.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:t,scrollData:n.data.d}),this._wheelStart=!1,clearTimeout(e.data(this,"timer")),1!=this._wheelx&&(0==t.wheelDeltaX||0==t.wheelDeltaY)&&(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?t.axis==t.HORIZONTAL_AXIS&&(r=this._scrollXdata):"msie"==this._browser?("wheel"==t.type&&(o=t.deltaX/120),"mousewheel"==t.type&&t.shiftKey&&(r=this._scrollXdata,t.preventDefault?t.preventDefault():t.returnValue=!1)):this._wheelx&&0!=t.wheelDeltaX&&0==t.wheelDeltaY&&this._scrollXdata&&(r=this._scrollXdata),0==t.wheelDeltaX&&(this._wheelx=t.wheelDeltaX),t.wheelDelta?(o=this._normalizingDelta(t),i.opera&&parseFloat(i.opera.version,10)<10&&(o=-o)):t.detail&&(o=t.detail/3),o&&(n.originalEvent&&(a=n.originalEvent.wheelDelta&&n.originalEvent.wheelDelta>0||n.originalEvent.detail&&n.originalEvent.detail<0?-1:1),this._changeTop(r,o*r.scrollOneStepBy,"wheel",t)?(t.preventDefault?t.preventDefault():n.preventDefault(),this._trigger("wheelMove",{originalEvent:t,scrollData:n.data.d,direction:a})):(this._trigger("scrollEnd",{originalEvent:t,scrollData:n}),this._wheelx=0),s=this,e.data(this,"timer",setTimeout((function(){s._wheelStart=!0,s._trigger("wheelStop",{originalEvent:t,scrollData:n.data.d,direction:a})}),250)))}},_normalizingDelta:function(e){return 0==navigator.platform.indexOf("Mac")?-e.wheelDelta/3:-e.wheelDelta/120},_contentHeightWidth:function(){"block"==this.content().siblings().css("display")&&this.model.autoHide?(this._hScroll&&this.content()[this._contentHeight](this._ElementHeight-this.model.scrollerSize),this._vScroll&&this.content()[this._contentWidth](this._ElementWidth-this.model.scrollerSize)):"none"==this.content().siblings().css("display")&&this.model.autoHide&&(this._vScroll||this._hScroll)&&(this.content()[this._contentHeight](this._ElementHeight),this.content()[this._contentWidth](this._ElementWidth))},_scrollerHover:function(e){this.model.enabled&&("mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?"mouseleave"!=e.type&&"touchend"!=e.type||this.element.hasClass("e-scroll-focus")||(this.content().siblings().hide(),this._contentHeightWidth(),this._trigger("scrollHide",{originalEvent:e})):(this.content().siblings().css("display","block"),this._contentHeightWidth(),this._ensureScrollers(),this._setScrollLeftValue(this.model.scrollLeft),this._trigger("scrollVisible",{originalEvent:e})))},_mouseUp:function(s){if(s.data){var a=s.data.d;this.model.enableRTL&&("mouseup"==s.type||"touchend"==s.type)&&(this.model.scrollLeft=this._rtlScrollLeftValue-this.model.scrollLeft),"mouseup"!==s.type&&"touchend"!==s.type&&(s.toElement||s.relatedTarget)||(this.content().css("cursor","default"),this._off(e(document),"mousemove touchmove"),this._off(this.content(),"touchmove",this._touchMove),this._off(e(document),"mouseup touchend",this._mouseUp),a.fromScroller=!1,!0!==this._mouseMoved||"thumb"!==s.data.source||t.isNullOrUndefined(this.model)||(e.when(this.content()).done(t.proxy((function(){this._trigger("thumbEnd",{originalEvent:s,scrollData:a})}),this)),this._off(e(i),"blur"))),a.up=!0,this._mouseMoved=!1,i.ontouchmove=null}},_mouseDownOnContent:function(a){var o,r;if(this._startX=a.clientX!=s?a.clientX:a.originalEvent.changedTouches[0].clientX,this._startY=a.clientY!=s?a.clientY:a.originalEvent.changedTouches[0].clientY,this._timeStart=a.timeStamp||Date.now(),this.model.enabled&&(o=a.data.d,this._evtData=a.data,r=this.element.find("."+o.handler).closest(".e-scrollbar"),this._bindBlurEvent(r,a),!this._trigger("thumbStart",{originalEvent:a,scrollData:o}))&&(3!=a.which||2!=a.button)){o.fromScroller=!0;var n,l=null,d=1;this._document=e(document),this._window=e(i),this._mouseMove=function(e){var r,h,c;if(this.model.enableRTL&&this._UpdateScrollLeftValue(a),this._startX+this._startY!=e.clientX+e.clientY){if(this._relDisX=(this._startx=e.clientX!=s?e.clientX:e.originalEvent.changedTouches[0].clientX)-this._startX,this._relDisY=(this._starty=e.clientY!=s?e.clientY:e.originalEvent.changedTouches[0].clientY)-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,this._swipe=Math.abs(this._relDisX)>Math.abs(this._relDisY)?this._relDisX>0?"left":"right":this._relDisY>0?"up":"down",!t.isNullOrUndefined(e.target.tagName)&&"iframe"===e.target.tagName.toLowerCase())return e.type="mouseup",void this._mouseUp(e);if(r="mousemove"==e.type?e[o.clientXy]:e.originalEvent.changedTouches[0][o.clientXy],l&&r!==l&&(this._mouseMoved=!0,c=this.model[o.scrollVal]-(h=r-l),1==d&&Math.abs(h)>5&&(n=o.position,d=0),0==d&&(l=r),c>=0&&c<=o.scrollable&&n===o.position)){var u=this._velocityX>.5&&this._duration<50&&"Left"==o.position;(this._velocityY>.5||this._velocityX>.5)&&this._duration<50?this._velocityY>.5&&this._duration<50&&"Top"==o.position?(c=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(c+=this.scrollTop())>o.scrollable&&(c=o.scrollable):(c<this.scrollTop()&&(c=Math.abs(c-this.scrollTop())),c>this.scrollTop()&&(c=0)),this.scrollTop()<=o.scrollable&&this.scrollY(c,!1,this.model.animationSpeed,"thumb")):u&&(c=Math.abs(this._relDisX),this._startX>this._startx?(c+=this.scrollLeft())>o.scrollable&&(c=o.scrollable):(c-=this.scrollLeft(),((c=Math.abs(c))>o.scrollable||c>=this.scrollLeft())&&(c=0)),this.scrollLeft()<=o.scrollable&&this.scrollX(c,!1,this.model.animationSpeed,"thumb")):(this["scroll"+o.xy](c,!0,"","thumb",e.type),"X"===o.xy?this._hScrollbar.scroll(c,"thumb",!0,e.type):t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(c,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:o}))}i.ontouchmove=function(e){(e=e||i.event).preventDefault&&e.preventDefault(),e.returnValue=!1},null==l&&(l=r),(0==Math.round(this._content.scrollTop())&&"down"==this._swipe||(Math.ceil(this._content.scrollTop())==o.scrollable||Math.ceil(this._content.scrollTop())+1==o.scrollable)&&"up"==this._swipe)&&(this._trigger("scrollEnd",{originalEvent:e.originalEvent,scrollData:e}),i.ontouchmove=null)}},this._trigger("touchStart",{originalEvent:a,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData,scrollTop:this.content().scrollTop(),scrollLeft:this.content().scrollLeft()}),this._on(e(document),"mousemove",{d:o,source:"thumb"},this._mouseMove),this._isNativeScroll?this._on(this.content(),"touchmove",{d:o,source:"thumb"},this._touchMove):this._on(e(document),"touchmove",{d:o,source:"thumb"},this._mouseMove),this._on(e(document),"mouseup touchend",{d:o,source:"thumb"},this._mouseUp)}},_touchMove:function(){this.content().css("cursor","pointer"),this._mouseMoved=!0,this._tempLeft=null!=this.model.targetPane?this.content().find(this.model.targetPane).scrollLeft():this.content().scrollLeft(),this._tempTop=this.content().scrollTop()},_touchDown:function(e){var t;t=this._tempLeft!=this.scrollLeft()?this._scrollXdata:this._tempTop!=this.scrollTop()||this._scrollYdata?this._scrollYdata:this._scrollXdata,this._trigger("scrollStop",{source:"thumb",originalEvent:e,scrollData:t,scrollTop:this.content().scrollTop(),scrollLeft:this.content().scrollLeft()})},_speedScrolling:function(e){var t,i,s,a;if(this._mouseMoved){if(this.element.find(".e-vhandle").length>0&&(t=this.content().scrollTop(),this._tempTop!==t&&(this._trigger("thumbMove",{originalEvent:e,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData}),this._vScrollbar.scroll(this.content().scrollTop(),"thumb",!0,"touchmove"),e={source:"thumb",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:this.content().scrollTop(),originalEvent:e},a=this._isJquery3?Math.ceil(e.scrollTop):e.scrollTop,this.scrollTop(a),this._trigger("scroll",e))))return;if(this.element.find(".e-hhandle").length>0&&(s=(i=null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content()).scrollLeft(),this._tempLeft!==s&&(this._trigger("thumbMove",{originalEvent:e,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData}),this._hScrollbar.scroll(i.scrollLeft(),"thumb",!0,"touchmove"),e={source:"thumb",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:this.content().scrollLeft(),originalEvent:e},a=this._isJquery3?Math.ceil(e.scrollLeft):e.scrollLeft,this.scrollLeft(a),this._trigger("scroll",e))))return;this.content().css("cursor","pointer")}},_scroll:function(s){var a,o,r,n,l,d=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null];for(this._evtData&&(a=this._evtData.d?this._evtData.d:this._evtData),o=0;o<2;o++)(r=d[o])&&!r.skipChange&&(this.model&&(!this.model.targetPane||this.model.targetPane&&a&&"X"!=a.xy)&&("height"===r.dimension?this.scrollTop(s.target[r.scrollVal]):this.scrollLeft(s.target[r.scrollVal])),r.sTop=this.model&&null!=this.model.targetPane&&1==o&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][r.scrollVal]:"scrollTop"==r.scrollVal?this.scrollTop():this.scrollLeft(),this[r.scrollVal](r.sTop),r.fromScroller||(1===o?(n=this.content()[0],this._rtlScrollLeftValue&&n.scrollWidth-n.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=n.scrollWidth-n.clientWidth),r.sTop=this.model&&"mozilla"!=t.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*r.sTop:r.sTop-this._rtlScrollLeftValue:r.sTop,this._hScrollbar.scroll(r.sTop,"",!0)):this._vScrollbar.scroll(r.sTop,"",!0),(2==d.length&&1==o||1==d.length&&0==o)&&(this._externalScroller=!1,this.model&&this._trigger("scroll",{source:"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:this.scrollLeft(),originalEvent:s}))));this._isNativeScroll&&this.model.enableTouchScroll&&this._speedScrolling(s),this._UpdateScrollLeftValue(s),l=this,this._vScrollbar&&this._scrollYdata&&this.model&&this._scrollYdata.scrollable-this.model.scrollOneStepBy>=this.scrollTop()&&(e(":hover").filter(this.element[0]).length||l._off(t.getScrollableParents(l.wrapper),"scroll",null),i.onmousewheel=function(t){l.model&&l.model.preventDefault&&e(":hover").filter(l.element[0]).length&&t.preventDefault()})},_UpdateScrollLeftValue:function(e){this.model&&"touchstart"!=e.type&&"mousedown"!=e.type&&this.model.enableRTL&&this._rtlScrollLeftValue&&this.model.scrollLeft!=this._previousScrollLeft&&(this.model.scrollLeft=this._rtlScrollLeftValue-this.model.scrollLeft,this._previousScrollLeft=this.model.scrollLeft),(this.model&&"touchstart"==e.type||"mousedown"==e.type)&&this.model.enableRTL&&(this.model.scrollLeft=this.content().scrollLeft(),this.option("scrollLeft",this.content().scrollLeft()))},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&e>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&top>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_destroy:function(){this._off(this.content(),"scrollstop",this._touchDown),this._off(e(document),"mouseup",this._mouseUpContent),this.element.css({width:"",height:""}).children(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""}),this.element.removeClass("e-widget")},_preventDefault:function(e){(e=e||i.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})}(jQuery,Syncfusion,window),function(e,t){function i(e,t,i){var o,r,n,l;if(ej.isNullOrUndefined(e)||"string"==typeof e||!t)throw"Bad Number Format Exception";if(l=t,n=(o=function(e,t){var i,s,a,o,r,n,l,d,h,c,u,p=e||"",m=D,g=(t=t.toString()).indexOf(".")>-1||e.indexOf(".")>-1,_=0,f=0,b="",v="",x=e.split(","),y="0",w=e.toLowerCase().indexOf("e"),S=p.indexOf("#");if(e.indexOf("\\")>-1&&(v=e.substr(0,e.lastIndexOf("\\")+1),S=(e=e.substr(e.lastIndexOf("\\")+1,e.length)).indexOf("#")),w>-1){for(a="",p="",s=e.toLowerCase().split("e"),e.indexOf("+")>-1?e.split("+"):e.split("-"),i=(t=parseInt(t).toExponential()).split("e"),_=s[1].length-i[1].length,h=s[1].length-1;h>0;h--)"0"!=s[1][h]?p+=s[1][h]:_>1?(p+="#",_--):p+="0";for(p=(e.indexOf("+")>-1?"+":"")+p.split("").reverse().join(""),h=0;h<i[0].length;h++)a=a.concat("."!=i[0][h]?"#":".");a.length>s[0].length&&(a=s[0]),p=v+a+"e"+p}else if(g){if(s=e.split("."),i=t.split("."),s[1]=s[1].replace(/[,.]/g,""),(_=s[0].replace(/[,.]/g,"").length-i[0].replace(/[,.]/g,"").length)<0&&ej.isNullOrUndefined(e.match(/[\[\(\)\]]/g))){for(x=s[0].split(","),b=s[0].split(","),u=x.length-1;u>=0;u--)if(x[u])for(d=x[u].length,h=0,c=Math.abs(_);h<c&&3!==d;h++)b[u]="0"+b[u],d++,_++;if(b=b.join(),_<0)for(ej.isNullOrUndefined(d)||3==d||(b=","+b),h=0,c=Math.abs(_);h<c;h++)3===d&&(b=","+b,d=0),b="0"+b,d++;_=0,p=v+b+"."+s[1]}else if(ej.isNullOrUndefined(e.match(/[\[\(\)\]]/g))){for(o="",d=0,j=(b=s[0].replace(/[,.]/g,"")).length-1;j>=0;j--)3===d?(o=","+o,d=0):d++,o=b[j]+o;p=v+o+"."+s[1]}}else{if(r=0,n=x.splice(1,x.length),_=e.replace(/[,.\[\(\]\)]/g,"").length-t.replace(/[,.]/g,"").length,S>-1){for(l=0,c=e.length;l<c;l++)"#"===e[l]&&r++;(1===r||x[1]&&2===r)&&(y="#"),1===r&&(n=x[0])}if(_<0){for(b=(s=p.split(",")).splice(1,s.length),u=x.length-1;u>=0;u--)if(n[u])for(d=n[u].length,b[u]||(b[u]=""),h=0,c=Math.abs(_)+1;h<c;h++){if(1!=r&&3===d){d=0;break}b[u]=b[u].concat(y),d++,_++}if(b=b.join(),_<0)for(ej.isNullOrUndefined(d)||3==d||(b=","+b),h=0,c=Math.abs(_)+1;h<c;h++)1!=r&&3===d&&(b=","+b,d=0),b=y+b,d++;_=0,p=v+b}f=0}for(var C,T,L=[],k=p.split(""),P=0,j=0,A=!1,O=!1,I=e.indexOf("\\");j<p.length;j++)if("e"===(C=k[j])&&(O=!0),"0"===C&&S<0?_>0&&f<=j?(_--,f++):_>0?_--:T=m[C]:"0"==C&&(O||"0"!=C)||(T=m[C]),"0"===C&&I>-1&&(T=m[C]),j===p.lastIndexOf("\\")&&(A=!1),T&&!A)L[P]={rule:T},P+=1;else for("\\"===C&&(C="",j===p.lastIndexOf("\\")||(A=!0)),C=C.split(""),u=0;u<C.length;u++)L[P]=C[u],P+=1;return{rules:m=L,format:p}}(t,e)).rules,(t=o.format).indexOf("\\")>=0){var d=t.lastIndexOf("\\"),h=t.slice(0,d),c=t.slice(d+1,t.length);r=(h+(c=c.replace(/[9?CANa#&]/g,"_"))).replace(/[\\]/g,""),t=t.replace(/[\\]/g,"")}else r=t.replace(/[9?CANa#&]/g,"_");return a(e,t,r=s(r,i),n,i,l)}function s(e,t){var i,s,a,o,r,n;if(0!=e.length){for(r="",s=(i=ej.preferredCulture(t)).numberFormat[","],a=i.numberFormat.currency.symbol,o=i.numberFormat["."],n=0;n<e.length;n++)r+=","==e[n]?s:"."==e[n]?o:"$"==e[n]?a:e[n];e=r}return e}function a(i,a,n,l,d,h){var c,u;if(!ej.isNullOrUndefined(i)){a.toLowerCase().indexOf("e")>-1&&(h.indexOf("+")>-1?h.split("+"):h.split("-"),i=i.toExponential(),h.indexOf("-")>-1&&(i=i.replace("+","")));var p,m,g,_,f,b,v,x,y=p=m=i.toString(),w=n,S=g=0,C=a.match(/[\(\[\]\)]/g);if(y=!a.indexOf("\\")>=0?i=m.replace(/[\(\)-]/g,""):void 0,c=l.length-1,u=p.length-1,ej.isNullOrUndefined(C))for(;S<l.length&&(f=l[S],(_=p[g])!=t)&&(_===f||"_"===_||"e"===_&&_===f.toLowerCase()?(b=w.substring(0,S),v=w.substring(S),w=b+(_=s(_,d))+v.substr(1,v.length),g+=1,S+=1):l[S].rule!=t?o(a,p.charCodeAt(g),S)?(b=w.substring(0,S),v=w.substring(S),w=b+(x=r(p,g,S,a,n))+v.substr(1,v.length),S++,g++):S++:("e"===f&&(g=p.indexOf("e")+1),S++),!(g>y.length||c<0)););else for(;c>=0&&(f=l[c],(_=p[u])!=t)&&(_===f||"_"===_||"e"===_&&_===f.toLowerCase()?(b=w.substring(0,c+1),v=w.substring(c+1),_=s(_,d),w=b.substr(0,b.length-1)+_+v,c--,u--):l[c].rule!=t&&o(a,p.charCodeAt(u),c)?(b=w.substring(0,c+1),v=w.substring(c+1),x=r(p,u,c,a,n),w=b.substr(0,b.length-1)+x+v,c--,u--):c--,!(g>y.length||c<0)););if(i)return(w.indexOf("_")-w.indexOf(",")==1||w.indexOf("_")-w.indexOf(".")==1)&&(w=w.slice(0,w.indexOf("_")-1)),""==e.trim(w.replace(/[_]/g,""))?null:w.replace(/[_]/g,"")}}function o(t,i,s){var a=D,o=!1,r=t.substr(s,1),n=String.fromCharCode(i);return e.each(a,(function(e,t){r==e&&(o=!!n.match(new RegExp(t)))})),o}function r(e,t,i,s,a){var o=!1;return s.indexOf(".")>-1&&i===a.length-1&&e[t+1]>5&&(o=!0),o?(parseInt(e[t])+1).toString():e[t]}function n(e,t){return 0===e.indexOf(t)}function l(e,t){return e.substr(e.length-t.length)===t}function d(e){return(e+"").replace(L,"")}function h(e,t,i){for(var s=e.length;s<t;s++)e=i?"0"+e:e+"0";return e}function c(e,t,i){var s,a=t["-"],o=t["+"];switch(i){case"n -":a=" "+a,o=" "+o;case"n-":l(e,a)?s=["-",e.substr(0,e.length-a.length)]:l(e,o)&&(s=["+",e.substr(0,e.length-o.length)]);break;case"- n":a+=" ",o+=" ";case"-n":n(e,a)?s=["-",e.substr(a.length)]:n(e,o)&&(s=["+",e.substr(o.length)]);break;case"(n)":n(e,"(")&&l(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]}function u(e,t,i){var s,a,o,r,n,l,h,u,p,m,g;"string"==typeof i&&(t=i,i=10);var _=NaN,f=(t=ej.globalize.findCulture(t)).numberFormat,b=t.numberFormat.pattern[0];if((e=e.replace(/ /g,"")).indexOf(t.numberFormat.currency.symbol)>-1?(e=(e=e.replace(t.numberFormat.currency.symbol||"$","")).replace(t.numberFormat.currency["."]||".",t.numberFormat["."]||"."),b=d(t.numberFormat.currency.pattern[0].replace("$",""))):e.indexOf(t.numberFormat.percent.symbol)>-1&&(e=(e=e.replace(t.numberFormat.percent.symbol||"%","")).replace(t.numberFormat.percent["."]||".",t.numberFormat["."]||"."),b=d(t.numberFormat.percent.pattern[0].replace("%",""))),e=d(e),k.test(e))_=parseFloat(e,"",i);else if(P.test(e))_=parseInt(e,16);else{var v=c(e,f,b),x=v[0],y=v[1];""===x&&"-n"!==f.pattern[0]&&(x=(v=c(e,f,"-n"))[0],y=v[1]),x=x||"+",(o=y.indexOf("e"))<0&&(o=y.indexOf("E")),o<0?(a=y,s=null):(a=y.substr(0,o),s=y.substr(o+1)),(h=a.indexOf(l=f["."]||"."))<0?(r=a,n=null):(r=a.substr(0,h),n=a.substr(h+l.length)),r=r.split(u=f[","]||",").join(""),p=u.replace(/\u00A0/g," "),u!==p&&(r=r.split(p).join("")),m=x+r,null!==n&&(m+="."+n),null!==s&&(m+="e"+((g=c(s,f,b))[0]||"+")+g[1]),!i&&j.test(m)?_=parseFloat(m):i&&(_=parseInt(m,i))}return _}function p(e,t,i){return e<t||e>i}function m(e,t){var i,s,a=new Date;return t<100&&(i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i,(t+=(s=a.getFullYear())-s%100)>i&&(t-=100)),t}function g(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function _(e){return e.split("\xa0").join(" ").toUpperCase()}function f(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=_(e[i]);return t}function b(e,t,i){var s,a=e.days,o=e._upperDays;return o||(e._upperDays=o=[f(a.names),f(a.namesAbbr),f(a.namesShort)]),t=_(t),i?-1===(s=g(o[1],t))&&(s=g(o[2],t)):s=g(o[0],t),s}function v(e,t,i){var s,a=e.months,o=e.monthsGenitive||e.months,r=e._upperMonths,n=e._upperMonthsGen;return r||(e._upperMonths=r=[f(a.names),f(a.namesAbbr)],e._upperMonthsGen=n=[f(o.names),f(o.namesAbbr)]),t=_(t),(s=g(i?r[1]:r[0],t))<0&&(s=g(i?n[1]:n[0],t)),s}function x(e,t){for(var i,s=0,a=!1,o=0,r=e.length;o<r;o++)"'"==(i=e.charAt(o))?(a?t.push("'"):s++,a=!1):"\\"==i?(a&&t.push("\\"),a=!a):(t.push(i),a=!1);return s}function y(e,t,i,s){var a;if(!e)return null;for(var o=0,r=0,n=null,l=(t=t.split("")).length,d=function(e){for(var i=0;t[o]===e;)i++,o++;return i>0&&(o-=1),i},h=function(t){var i=new RegExp("^\\d{1,"+t+"}"),s=e.substr(r,t).match(i);return s?(r+=(s=s[0]).length,parseInt(s,10)):null},c=function(t,i){for(var s,a,o,n=0,l=t.length;n<l;n++)if(o=e.substr(r,a=(s=t[n]).length),i&&(o=o.toLowerCase()),o==s)return r+=a,n+1;return null},u=function(e){for(var t=0,i=e.length,s=[];t<i;t++)s[t]=(e[t]+"").toLowerCase();return s},p=function(e){var t={};for(var i in e)t[i]=u(e[i]);return t};o<l;o++)"d"===t[o]&&(a=d("d"),s._lowerDays||(s._lowerDays=p(s.days)),n=a<3?h(2):c(s._lowerDays[3==a?"namesAbbr":"names"],!0));return n}function w(e,t){var i,s=(t=t||"F").length;if(1===s){if(!(i=e.patterns[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===s&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function S(e,t,i){var s,a,o,r,l,h,c,u,g;e=d(e),t=d(t);var _=i.calendar,f=ej.globalize._getDateParseRegExp(_,t),x=new RegExp(f.regExp).exec(e);if(null===x)return null;var w,S=f.groups,C=null,L=null,k=null,P=0,j=0,D=0,A=0,O=null,I=!1;for(s=0,a=S.length;s<a;s++)if(o=x[s+1]){var R=S[s],M=R.length,E=parseInt(o,10);switch(R){case T.DAY_OF_MONTH_DOUBLE_DIGIT:case T.DAY_OF_MONTH_SINGLE_DIGIT:if(p(k=E,1,31))return null;break;case T.MONTH_THREE_LETTER:case T.MONTH_FULL_NAME:if(p(L=v(_,o,3===M),0,11))return null;break;case T.MONTH_SINGLE_DIGIT:case T.MONTH_DOUBLE_DIGIT:if(p(L=E-1,0,11))return null;break;case T.YEAR_SINGLE_DIGIT:case T.YEAR_DOUBLE_DIGIT:case T.YEAR_FULL:if(p(C=M<4?m(_,E):E,0,9999))return null;break;case T.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case T.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(12===(P=E)&&(P=0),p(P,0,11))return null;break;case T.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case T.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(p(P=E,0,23))return null;break;case T.MINUTES_SINGLE_DIGIT:case T.MINUTES_DOUBLE_DIGIT:if(p(j=E,0,59))return null;break;case T.SECONDS_SINGLE_DIGIT:case T.SECONDS_DOUBLE_DIGIT:if(p(D=E,0,59))return null;break;case T.MERIDIAN_INDICATOR_FULL:case T.MERIDIAN_INDICATOR_SINGLE:if(!(I=_.PM&&(o===_.PM[0]||o===_.PM[1]||o===_.PM[2]))&&(!_.AM||o!==_.AM[0]&&o!==_.AM[1]&&o!==_.AM[2]))return null;break;case T.DECISECONDS:case T.CENTISECONDS:case T.MILLISECONDS:if(p(A=E*Math.pow(10,3-M),0,999))return null;break;case T.DAY_OF_WEEK_THREE_LETTER:k=y(e,t,0,_);break;case T.DAY_OF_WEEK_FULL_NAME:if(b(_,o,3===M),p(null,0,6))return null;break;case T.TIME_ZONE_OFFSET_FULL:if(2!==(r=o.split(/:/)).length||p(w=parseInt(r[0],10),-12,13)||p(l=parseInt(r[1],10),0,59))return null;O=60*w+(n(o,"-")?-l:l);break;case T.TIME_ZONE_OFFSET_SINGLE_DIGIT:case T.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(p(w=E,-12,13))return null;O=60*w}}if(h=new Date,c=(u=_.convert)?u.fromGregorian(h)[0]:h.getFullYear(),null===C&&(C=c),null===L&&(L=0),null===k&&(k=1),u){if(null===(h=u.toGregorian(C,L,k)))return null}else if(h.setFullYear(C,L,k),h.getDate()!==k)return null;return I&&P<12&&(P+=12),h.setHours(P,j,D,A),null!==O&&(g=h.getMinutes()-(O+h.getTimezoneOffset()),h.setHours(h.getHours()+parseInt(g/60,10),g%60)),h}function C(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=g[t-2]+s).substr(i.length-t,t):s}var a,o,r,n,l,d=i.calendar,h=d.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?h?C(e,d.patterns.F,i):e.toLocaleString():e.toString();o="s"===t,t=w(d,t),a=[];var c,u,p,m,g=["0","00","000"],_=/([^d]|^)(d|dd)([^d]|$)/g,f=0,b=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!o&&h&&(m=h.fromGregorian(e));;){var v=b.lastIndex,y=b.exec(t);if(f+=x(t.slice(v,y?y.index:t.length),a),!y)break;if(f%2)a.push(y[0]);else switch(n=(r=y[0]).length,r){case T.DAY_OF_WEEK_THREE_LETTER:case T.DAY_OF_WEEK_FULL_NAME:a.push((3===n?d.days.namesAbbr:d.days.names)[e.getDay()]);break;case T.DAY_OF_MONTH_SINGLE_DIGIT:case T.DAY_OF_MONTH_DOUBLE_DIGIT:u=!0,a.push(s(m?m[2]:e.getDate(),n));break;case T.MONTH_THREE_LETTER:case T.MONTH_FULL_NAME:l=m?m[1]:e.getMonth(),a.push(d.monthsGenitive&&(u||p||(u=_.test(t),p=!0),u)?d.monthsGenitive[3===n?"namesAbbr":"names"][l]:d.months[3===n?"namesAbbr":"names"][l]);break;case T.MONTH_SINGLE_DIGIT:case T.MONTH_DOUBLE_DIGIT:a.push(s((m?m[1]:e.getMonth())+1,n));break;case T.YEAR_SINGLE_DIGIT:case T.YEAR_DOUBLE_DIGIT:case T.YEAR_FULL:l=m?m[0]:e.getFullYear(),n<4&&(l%=100),a.push(s(l,n));break;case T.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case T.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0==(c=e.getHours()%12)&&(c=12),a.push(s(c,n));break;case T.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case T.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:a.push(s(e.getHours(),n));break;case T.MINUTES_SINGLE_DIGIT:case T.MINUTES_DOUBLE_DIGIT:a.push(s(e.getMinutes(),n));break;case T.SECONDS_SINGLE_DIGIT:case T.SECONDS_DOUBLE_DIGIT:a.push(s(e.getSeconds(),n));break;case T.MERIDIAN_INDICATOR_SINGLE:case T.MERIDIAN_INDICATOR_FULL:l=e.getHours()<12?d.AM?d.AM[0]:" ":d.PM?d.PM[0]:" ",a.push(1===n?l.charAt(0):l);break;case T.DECISECONDS:case T.CENTISECONDS:case T.MILLISECONDS:a.push(s(e.getMilliseconds(),3).substr(0,n));break;case T.TIME_ZONE_OFFSET_SINGLE_DIGIT:case T.TIME_ZONE_OFFSET_DOUBLE_DIGIT:c=e.getTimezoneOffset()/60,a.push((c<=0?"+":"-")+s(Math.floor(Math.abs(c)),n));break;case T.TIME_ZONE_OFFSET_FULL:c=e.getTimezoneOffset()/60,a.push((c<=0?"+":"-")+s(Math.floor(Math.abs(c)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case T.DATE_SEPARATOR:a.push(d["/"]||"/");break;default:throw"Invalid date format pattern '"+r+"'."}}return a.join("")}var T;ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=e.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,week:{name:"Week",nameAbbr:"Wek",nameShort:"Wk"},days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var L=/^\s+|\s+$/g,k=/^[+-]?infinity$/i,P=/^0x[a-f0-9]+$/i,j=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,D={9:"[0-9 ]",0:"[0-9 ]",a:"[A-Za-z0-9 ]",A:"[A-Za-z0-9]",N:"[0-9]","#":"[0-9]","&":"[^\x7f]+","<":"",">":"",C:"[A-Za-z ]","?":"[A-Za-z]"};T={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,s,a,o,r,n,l=e._parseRegExp;if(l){if(i=l[t])return i}else e._parseRegExp=l={};for(var d,h=w(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),c=["^"],u=[],p=0,m=0,g=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(d=g.exec(h));)if(s=h.slice(p,d.index),p=g.lastIndex,(m+=x(s,c))%2)c.push(d[0]);else{switch(o=(a=d[0]).length,a){case T.DAY_OF_WEEK_THREE_LETTER:case T.DAY_OF_WEEK_FULL_NAME:case T.MONTH_FULL_NAME:case T.MONTH_THREE_LETTER:r="(\\D+)";break;case T.MERIDIAN_INDICATOR_FULL:case T.MERIDIAN_INDICATOR_SINGLE:r="(\\D*)";break;case T.YEAR_FULL:case T.MILLISECONDS:case T.CENTISECONDS:case T.DECISECONDS:r="(\\d{"+o+"})";break;case T.DAY_OF_MONTH_DOUBLE_DIGIT:case T.DAY_OF_MONTH_SINGLE_DIGIT:case T.MONTH_DOUBLE_DIGIT:case T.MONTH_SINGLE_DIGIT:case T.YEAR_DOUBLE_DIGIT:case T.YEAR_SINGLE_DIGIT:case T.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case T.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case T.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case T.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case T.MINUTES_DOUBLE_DIGIT:case T.MINUTES_SINGLE_DIGIT:case T.SECONDS_DOUBLE_DIGIT:case T.SECONDS_SINGLE_DIGIT:r="(\\d\\d?)";break;case T.TIME_ZONE_OFFSET_FULL:r="([+-]?\\d\\d?:\\d{2})";break;case T.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case T.TIME_ZONE_OFFSET_SINGLE_DIGIT:r="([+-]?\\d\\d?)";break;case T.DATE_SEPARATOR:r="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+a+"'."}r&&c.push(r),u.push(d[0])}return x(h.slice(p),c),c.push("$"),n=c.join("").replace(/\s+/g,"\\s+"),l[t]={regExp:n,groups:u}},ej.globalize.addCulture=function(t,i){ej.cultures[t]=e.extend(!0,e.extend(!0,{},ej.cultures.default,i),ej.cultures[t]),ej.cultures[t].calendar=ej.cultures[t].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(t){var i,s,a,o,r;if(t){if(e.isPlainObject(t)&&t.numberFormat&&(i=t),"string"==typeof t){if((s=ej.cultures)[t])return s[t];if(t.indexOf("-")>-1){if(s[a=t.split("-")[0]])return s[a]}else for(o=e.map(s,(function(e){return e})),r=0;r<o.length;r++)if(o[r].name.split("-")[0]===t)return o[r];return ej.cultures.default}}else i=ej.cultures.current||ej.cultures.default;return i},ej.globalize.format=function(e,t,s){var a=ej.globalize.findCulture(s);return"number"==typeof e?e=function(e,t,s){var a,o;if(!t||"i"===t)return s.name.length?e.toLocaleString():e.toString();t=t||"D";var r,n=s.numberFormat,l=Math.abs(e),d=-1;switch(t.length>1&&(d=parseInt(t.slice(1),10)),a=t.charAt(0).toUpperCase()){case"D":r="n",l=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}(l),-1!==d&&(l=h(""+l,d,!0)),e<0&&(l=-l);break;case"N":(o=n).pattern=o.pattern||["-n"];case"C":(o=o||n.currency).pattern=o.pattern||["-$n","$n"];case"P":(o=o||n.percent).pattern=o.pattern||["-n %","n %"],r=e<0?o.pattern[0]||"-n":o.pattern[1]||"n",-1===d&&(d=o.decimals),l=function(e,t,i){var s=i.groupSizes||[3],a=s[0],o=1,r=ej._round(e,t);isFinite(r)||(r=e);var n=(e=r)+"",l="",d=n.split(/e/i),c=d.length>1?parseInt(d[1],10):0;d=(n=d[0]).split("."),n=d[0],l=d.length>1?d[1]:"",c>0?(n+=(l=h(l,c,!1)).slice(0,c),l=l.substr(c)):c<0&&(l=(n=h(n,1+(c=-c),!0)).slice(-c,n.length)+l,n=n.slice(0,-c)),l=t>0?(i["."]||".")+(l.length>t?l.slice(0,t):h(l,t)):"";for(var u=n.length-1,p=i[","]||",",m="";u>=0;){if(0===a||a>u)return n.slice(0,u+1)+(m.length?p+m+l:l);m=n.slice(u-a+1,u+1)+(m.length?p+m:""),u-=a,o<s.length&&(a=s[o],o++)}return n.slice(0,u+1)+p+m+l}(l*("P"===a?100:1),d,o);break;default:return i(e,t,s)}return function(e,t,i){for(var s,a,o=/n|\$|-|%/g,r="";s=o.lastIndex,a=o.exec(t),r+=t.slice(s,a?a.index:t.length),a;)switch(a[0]){case"n":r+=e;break;case"$":r+=i.currency.symbol||"$";break;case"-":/[1-9]/.test(e)&&(r+=i["-"]||"-");break;case"%":r+=i.percent.symbol||"%"}return r}(l,r,n)}(e,t,a):e instanceof Date&&(e=C(e,t,a)),e},ej.globalize._round=function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i},ej.globalize.parseInt=function(e,t,i){return t||(t=10),Math.floor(u(e,i,t))},ej.globalize.getISODate=function(e){if(e instanceof Date)return e.toISOString()},ej.globalize.parseFloat=function(e,t,i){return"string"==typeof t&&(i=t,t=10),u(e,i)},ej.globalize.parseDate=function(e,t,i){var s,a,o,r,n,l;if(i=ej.globalize.findCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(r=0,n=t.length;r<n&&(!(l=t[r])||!(s=S(e,l,i)));r++);}else for(a in o=i.calendar.patterns)if(s=S(e,o[a],i))break;return s||null},ej.globalize.getLocalizedConstants=function(t,i){var s,a=t.replace("ej.","").split(".");return s=function e(t,i){return i.length?e(t[i[0]],i.slice(1)):t}(ej,a),e.extend(!0,{},s.Locale.default,s.Locale[i||this.cultureObject.name])},e.extend(ej,ej.globalize)}(jQuery)})?s.apply(t,a):s)||(e.exports=o)},zUnb:function(e,t,i){"use strict";function s(e){return"function"==typeof e}i.r(t);let a=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=e},get useDeprecatedSynchronousErrorHandling(){return a}};function r(e){setTimeout(()=>{throw e},0)}const n={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;r(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function d(e){return null!==e&&"object"==typeof e}const h=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let c=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:a,_unsubscribe:o,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(let e=0;e<i.length;++e)i[e].remove(this);if(s(o)){a&&(this._unsubscribe=void 0);try{o.call(this)}catch(n){t=n instanceof h?u(n.errors):[n]}}if(l(r)){let e=-1,i=r.length;for(;++e<i;){const i=r[e];if(d(i))try{i.unsubscribe()}catch(n){t=t||[],n instanceof h?t=t.concat(u(n.errors)):t.push(n)}}}if(t)throw new h(t)}add(t){let i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){const t=i;i=new e,i._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:s}=i;if(null===s)i._parentOrParents=this;else if(s instanceof e){if(s===this)return i;i._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return i;s.push(this)}const a=this._subscriptions;return null===a?this._subscriptions=[i]:a.push(i),i}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class m extends c{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n;break;case 1:if(!e){this.destination=n;break}if("object"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,i)}}[p](){return this}static create(e,t,i){const s=new m(e,t,i);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends m{constructor(e,t,i,a){let o;super(),this._parentSubscriber=e;let r=this;s(t)?o=t:t&&(o=t.next,i=t.error,a=t.complete,t!==n&&(r=Object.create(t),s(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=o,this._error=i,this._complete=a}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=o;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):r(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;r(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw i;r(i)}}__tryOrSetError(e,t,i){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(s){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(r(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const _=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function f(e){return e}let b=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:s}=this,a=function(e,t,i){if(e){if(e instanceof m)return e;if(e[p])return e[p]()}return e||t||i?new m(e,t,i):new m(n)}(e,t,i);if(a.add(s?s.call(a,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),o.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:s}=e;if(t||s)return!1;e=i&&i instanceof m?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=v(t))((t,i)=>{let s;s=this.subscribe(t=>{try{e(t)}catch(a){i(a),s&&s.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[_](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?f:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=v(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function v(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const x=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class y extends c{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class w extends m{constructor(e){super(e),this.destination=e}}let S=(()=>{class e extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new w(this)}lift(e){const t=new C(this,this);return t.operator=e,t}next(e){if(this.closed)throw new x;if(!this.isStopped){const{observers:t}=this,i=t.length,s=t.slice();for(let a=0;a<i;a++)s[a].next(e)}}error(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,s=t.slice();for(let a=0;a<i;a++)s[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let s=0;s<t;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new x;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),c.EMPTY):this.isStopped?(e.complete(),c.EMPTY):(this.observers.push(e),new y(this,e))}asObservable(){const e=new b;return e.source=this,e}}return e.create=(e,t)=>new C(e,t),e})();class C extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):c.EMPTY}}class T{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new L(e,this.project,this.thisArg))}}class L extends m{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const k=e=>t=>{for(let i=0,s=e.length;i<s&&!t.closed;i++)t.next(e[i]);t.complete()};function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const j=P();const D=e=>{if(e&&"function"==typeof e[_])return o=e,e=>{const t=o[_]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((t=e)&&"number"==typeof t.length&&"function"!=typeof t)return k(e);var t,i,s,a,o;if((i=e)&&"function"!=typeof i.subscribe&&"function"==typeof i.then)return a=e,e=>(a.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r),e);if(e&&"function"==typeof e[j])return s=e,e=>{const t=s[j]();for(;;){let s;try{s=t.next()}catch(i){return e.error(i),e}if(s.done){e.complete();break}if(e.next(s.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e};{const t=d(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};class A extends m{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class O extends m{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}class I{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new R(e,this.project,this.concurrent))}}class R extends O{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t)}_innerSub(e){const t=new A(this),i=this.destination;i.add(t);const s=function(e,t){if(t.closed)return;if(e instanceof b)return e.subscribe(t);let i;try{i=D(e)(t)}catch(s){t.error(s)}return i}(e,t);s!==t&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function M(){return function(e){return e.lift(new E(e))}}class E{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const s=new V(e,i),a=t.subscribe(s);return s.closed||(s.connection=i.connect()),a}}class V extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,s=e._connection;this.connection=null,!s||i&&s!==i||s.unsubscribe()}}class N extends b{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new c,e.add(this.source.subscribe(new B(this.getSubject(),this))),e.closed&&(this._connection=null,e=c.EMPTY)),e}refCount(){return M()(this)}}const F=(()=>{const e=N.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class B extends w{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function z(){return new S}function Y(e){return{toString:e}.toString()}const X="__parameters__";function H(e,t,i){return Y(()=>{const s=function(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}(t);function a(...e){if(this instanceof a)return s.apply(this,e),this;const t=new a(...e);return i.annotation=t,i;function i(e,i,s){const a=e.hasOwnProperty(X)?e[X]:Object.defineProperty(e,X,{value:[]})[X];for(;a.length<=s;)a.push(null);return(a[s]=a[s]||[]).push(t),e}}return i&&(a.prototype=Object.create(i.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const W=H("Inject",e=>({token:e})),U=H("Optional"),G=H("Self"),q=H("SkipSelf");var Z=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function Q(e){for(let t in e)if(e[t]===Q)return t;throw Error("Could not find renamed property on target object.")}function K(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function J(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ee(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function te(e){return ie(e,e[ae])||ie(e,e[ne])}function ie(e,t){return t&&t.token===e?t:null}function se(e){return e&&(e.hasOwnProperty(oe)||e.hasOwnProperty(le))?e[oe]:null}const ae=Q({"\u0275prov":Q}),oe=Q({"\u0275inj":Q}),re=Q({"\u0275provFallback":Q}),ne=Q({ngInjectableDef:Q}),le=Q({ngInjectorDef:Q});function de(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(de).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function he(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ce=Q({__forward_ref__:Q});function ue(e){return e.__forward_ref__=ue,e.toString=function(){return de(this())},e}function pe(e){return"function"==typeof(t=e)&&t.hasOwnProperty(ce)&&t.__forward_ref__===ue?e():e;var t}const me="undefined"!=typeof globalThis&&globalThis,ge="undefined"!=typeof window&&window,_e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fe="undefined"!=typeof global&&global,be=me||fe||ge||_e,ve=Q({"\u0275cmp":Q}),xe=Q({"\u0275dir":Q}),ye=Q({"\u0275pipe":Q}),we=Q({"\u0275mod":Q}),Se=Q({"\u0275loc":Q}),Ce=Q({"\u0275fac":Q}),Te=Q({__NG_ELEMENT_ID__:Q});class Le{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=J({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const ke=new Le("INJECTOR",-1),Pe={},je=/\n/gm,De="__source",Ae=Q({provide:String,useValue:Q});let Oe,Ie=void 0;function Re(e){const t=Ie;return Ie=e,t}function Me(e){const t=Oe;return Oe=e,t}function Ee(e,t=Z.Default){if(void 0===Ie)throw new Error("inject() must be called from an injection context");return null===Ie?Ne(e,void 0,t):Ie.get(e,t&Z.Optional?null:void 0,t)}function Ve(e,t=Z.Default){return(Oe||Ee)(pe(e),t)}function Ne(e,t,i){const s=te(e);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(i&Z.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${de(e)}]`)}function Fe(e){const t=[];for(let i=0;i<e.length;i++){const s=pe(e[i]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let e=void 0,i=Z.Default;for(let t=0;t<s.length;t++){const a=s[t];a instanceof U||"Optional"===a.ngMetadataName||a===U?i|=Z.Optional:a instanceof q||"SkipSelf"===a.ngMetadataName||a===q?i|=Z.SkipSelf:a instanceof G||"Self"===a.ngMetadataName||a===G?i|=Z.Self:e=a instanceof W||a===W?a.token:a}t.push(Ve(e,i))}else t.push(Ve(s))}return t}class Be{get(e,t=Pe){if(t===Pe){const t=new Error(`NullInjectorError: No provider for ${de(e)}!`);throw t.name="NullInjectorError",t}return t}}class ze{}function Ye(e,t){e.forEach(e=>Array.isArray(e)?Ye(e,t):t(e))}var Xe=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),He=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const We={},Ue=[];let $e=0;function Ge(e){return Y(()=>{const t={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ue,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||He.Emulated,id:"c",styles:e.styles||Ue,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,a=e.features,o=e.pipes;return i.id+=$e++,i.inputs=Je(e.inputs,t),i.outputs=Je(e.outputs),a&&a.forEach(e=>e(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(qe):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ze):null,i})}function qe(e){return tt(e)||function(e){return e[xe]||null}(e)}function Ze(e){return function(e){return e[ye]||null}(e)}const Qe={};function Ke(e){const t={type:e.type,bootstrap:e.bootstrap||Ue,declarations:e.declarations||Ue,imports:e.imports||Ue,exports:e.exports||Ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&Y(()=>{Qe[e.id]=e.type}),t}function Je(e,t){if(null==e)return We;const i={};for(const s in e)if(e.hasOwnProperty(s)){let a=e[s],o=a;Array.isArray(a)&&(o=a[1],a=a[0]),i[a]=s,t&&(t[a]=o)}return i}const et=Ge;function tt(e){return e[ve]||null}function it(e,t){return e.hasOwnProperty(Ce)?e[Ce]:null}function st(e,t){const i=e[we]||null;if(!i&&!0===t)throw new Error(`Type ${de(e)} does not have '\u0275mod' property.`);return i}const at=20;function ot(e){return Array.isArray(e)&&"object"==typeof e[1]}function rt(e){return Array.isArray(e)&&!0===e[1]}function nt(e){return 0!=(8&e.flags)}function lt(e){return 2==(2&e.flags)}function dt(e){return null!==e.template}class ht{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ct(){return ut}function ut(e){return e.type.prototype.ngOnChanges&&(e.setInput=mt),pt}function pt(){const e=gt(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===We)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function mt(e,t,i,s){const a=gt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:We,current:null}),o=a.current||(a.current={}),r=a.previous,n=this.declaredInputs[i],l=r[n];o[n]=new ht(l&&l.currentValue,t,r===We),e[s]=t}function gt(e){return e.__ngSimpleChanges__||null}ct.ngInherit=!0;let _t=void 0;function ft(e){return!!e.listen}const bt={createRenderer:(e,t)=>void 0!==_t?_t:"undefined"!=typeof document?document:void 0};function vt(e){for(;Array.isArray(e);)e=e[0];return e}function xt(e,t){return vt(t[e.index])}function yt(e,t){return e.data[t+at]}function wt(e,t){const i=t[e];return ot(i)?i:i[0]}function St(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ct(e){return 128==(128&e[2])}function Tt(e,t){return null===e||null==t?null:e[t]}function Lt(e){e[18]=0}function kt(e,t){e[5]+=t;let i=e,s=e[3];for(;null!==s&&(1===t&&1===i[5]||-1===t&&0===i[5]);)s[5]+=t,i=s,s=s[3]}const Pt={lFrame:Xt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function jt(){return Pt.bindingsEnabled}function Dt(){return Pt.lFrame.lView}function At(){return Pt.lFrame.tView}function Ot(){return Pt.lFrame.currentTNode}function It(e,t){Pt.lFrame.currentTNode=e,Pt.lFrame.isParent=t}function Rt(){return Pt.lFrame.isParent}function Mt(){return Pt.checkNoChangesMode}function Et(e){Pt.checkNoChangesMode=e}function Vt(e,t){const i=Pt.lFrame;i.bindingIndex=i.bindingRootIndex=e,Nt(t)}function Nt(e){Pt.lFrame.currentDirectiveIndex=e}function Ft(e){Pt.lFrame.currentQueryIndex=e}function Bt(e,t){const i=Yt();Pt.lFrame=i,i.currentTNode=t,i.lView=e}function zt(e){const t=Yt(),i=e[1];Pt.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex}function Yt(){const e=Pt.lFrame,t=null===e?null:e.child;return null===t?Xt(e):t}function Xt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Ht(){const e=Pt.lFrame;return Pt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Wt=Ht;function Ut(){const e=Ht();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $t(e){Pt.lFrame.selectedIndex=e}function Gt(e,t){for(let i=t.directiveStart,s=t.directiveEnd;i<s;i++){const t=e.data[i].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:o,ngAfterViewChecked:r,ngOnDestroy:n}=t;s&&(e.contentHooks||(e.contentHooks=[])).push(-i,s),a&&((e.contentHooks||(e.contentHooks=[])).push(i,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,a)),o&&(e.viewHooks||(e.viewHooks=[])).push(-i,o),r&&((e.viewHooks||(e.viewHooks=[])).push(i,r),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,r)),null!=n&&(e.destroyHooks||(e.destroyHooks=[])).push(i,n)}}function qt(e,t,i){Kt(e,t,3,i)}function Zt(e,t,i,s){(3&e[2])===i&&Kt(e,t,i,s)}function Qt(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Kt(e,t,i,s){const a=null!=s?s:-1;let o=0;for(let r=void 0!==s?65535&e[18]:0;r<t.length;r++)if("number"==typeof t[r+1]){if(o=t[r],null!=s&&o>=s)break}else t[r]<0&&(e[18]+=65536),(o<a||-1==a)&&(Jt(e,i,t,r),e[18]=(4294901760&e[18])+r+2),r++}function Jt(e,t,i,s){const a=i[s]<0,o=i[s+1],r=e[a?-i[s]:i[s]];a?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(r)):o.call(r)}const ei=-1;class ti{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function ii(e,t,i){const s=ft(e);let a=0;for(;a<i.length;){const o=i[a];if("number"==typeof o){if(0!==o)break;a++;const r=i[a++],n=i[a++],l=i[a++];s?e.setAttribute(t,n,l,r):t.setAttributeNS(r,n,l)}else{const r=o,n=i[++a];si(r)?s&&e.setProperty(t,r,n):s?e.setAttribute(t,r,n):t.setAttribute(r,n),a++}}return a}function si(e){return 64===e.charCodeAt(0)}function ai(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:0===i||oi(e,i,a,null,-1===i||2===i?t[++s]:null)}}return e}function oi(e,t,i,s,a){let o=0,r=e.length;if(-1===t)r=-1;else for(;o<e.length;){const i=e[o++];if("number"==typeof i){if(i===t){r=-1;break}if(i>t){r=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===i){if(null===s)return void(null!==a&&(e[o+1]=a));if(s===e[o+1])return void(e[o+2]=a)}o++,null!==s&&o++,null!==a&&o++}-1!==r&&(e.splice(r,0,t),o=r+1),e.splice(o++,0,i),null!==s&&e.splice(o++,0,s),null!==a&&e.splice(o++,0,a)}function ri(e){return 32767&e}function ni(e,t){let i=e>>16,s=t;for(;i>0;)s=s[15],i--;return s}function li(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function(e){return"string"==typeof e?e:null==e?"":""+e}(e)}const di=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(be))();function hi(e){return e instanceof Function?e():e}let ci=!0;function ui(e){const t=ci;return ci=e,t}let pi=0;function mi(e,t){const i=_i(e,t);if(-1!==i)return i;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,gi(s.data,e),gi(t,null),gi(s.blueprint,null));const a=fi(e,t),o=e.injectorIndex;if(a!==ei){const e=ri(a),i=ni(a,t),s=i[1].data;for(let a=0;a<8;a++)t[o+a]=i[e+a]|s[e+a]}return t[o+8]=a,o}function gi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _i(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function fi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,s=null,a=t;for(;null!==a;){const e=a[1],t=e.type;if(s=2===t?e.declTNode:1===t?a[6]:null,null===s)return ei;if(i++,a=a[15],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return ei}function bi(e,t,i){!function(e,t,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Te)&&(s=i[Te]),null==s&&(s=i[Te]=pi++);const a=255&s,o=1<<a,r=64&a,n=32&a,l=t.data;128&a?r?n?l[e+7]|=o:l[e+6]|=o:n?l[e+5]|=o:l[e+4]|=o:r?n?l[e+3]|=o:l[e+2]|=o:n?l[e+1]|=o:l[e]|=o}(e,t,i)}function vi(e,t,i,s=Z.Default,a){if(null!==e){const a=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Te)?e[Te]:void 0;return"number"==typeof t&&t>0?255&t:t}(i);if("function"==typeof a){Bt(t,e);try{const e=a();if(null!=e||s&Z.Optional)return e;throw new Error(`No provider for ${li(i)}!`)}finally{Wt()}}else if("number"==typeof a){if(-1===a)return new Ti(e,t);let o=null,r=_i(e,t),n=ei,l=s&Z.Host?t[16][6]:null;for((-1===r||s&Z.SkipSelf)&&(n=-1===r?fi(e,t):t[r+8],n!==ei&&Ci(s,!1)?(o=t[1],r=ri(n),t=ni(n,t)):r=-1);-1!==r;){const e=t[1];if(Si(a,r,e.data)){const e=yi(r,t,i,o,s,l);if(e!==xi)return e}n=t[r+8],n!==ei&&Ci(s,t[1].data[r+8]===l)&&Si(a,r,t)?(o=e,r=ri(n),t=ni(n,t)):r=-1}}}if(s&Z.Optional&&void 0===a&&(a=null),0==(s&(Z.Self|Z.Host))){const e=t[9],o=Me(void 0);try{return e?e.get(i,a,s&Z.Optional):Ne(i,a,s&Z.Optional)}finally{Me(o)}}if(s&Z.Optional)return a;throw new Error(`NodeInjector: NOT_FOUND [${li(i)}]`)}const xi={};function yi(e,t,i,s,a,o){const r=t[1],n=r.data[e+8],l=function(e,t,i,s,a){const o=e.providerIndexes,r=t.data,n=1048575&o,l=e.directiveStart,d=o>>20,h=a?n+d:e.directiveEnd;for(let c=s?n:n+d;c<h;c++){const e=r[c];if(c<l&&i===e||c>=l&&e.type===i)return c}if(a){const e=r[l];if(e&&dt(e)&&e.type===i)return l}return null}(n,r,i,null==s?lt(n)&&ci:s!=r&&2===n.type,a&Z.Host&&o===n);return null!==l?wi(t,r,l,n):xi}function wi(e,t,i,s){let a=e[i];const o=t.data;if(a instanceof ti){const r=a;if(r.resolving)throw new Error("Circular dep for "+li(o[i]));const n=ui(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?Me(r.injectImpl):null;Bt(e,s);try{a=e[i]=r.factory(void 0,o,e,s),t.firstCreatePass&&i>=s.directiveStart&&function(e,t,i){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:o}=t.type.prototype;if(s){const s=ut(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,s),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,s)}a&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,a),o&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,o),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,o))}(i,o[i],t)}finally{null!==l&&Me(l),ui(n),r.resolving=!1,Wt()}}return a}function Si(e,t,i){const s=64&e,a=32&e;let o;return o=128&e?s?a?i[t+7]:i[t+6]:a?i[t+5]:i[t+4]:s?a?i[t+3]:i[t+2]:a?i[t+1]:i[t],!!(o&1<<e)}function Ci(e,t){return!(e&Z.Self||e&Z.Host&&t)}class Ti{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return vi(this._tNode,this._lView,e,void 0,t)}}function Li(e){return e.ngDebugContext}function ki(e){return e.ngOriginalError}function Pi(e,...t){e.error(...t)}class ji{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),s=function(e){return e.ngErrorLogger||Pi}(e);s(this._console,"ERROR",e),t&&s(this._console,"ORIGINAL ERROR",t),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?Li(e)?Li(e):this._findContext(ki(e)):null}_findOriginalError(e){let t=ki(e);for(;t&&ki(t);)t=ki(t);return t}}let Di=!0,Ai=!1;function Oi(){return Ai=!0,Di}function Ii(e,t){e.__ngContext__=t}function Ri(e,t,i){let s=e.length;for(;;){const a=e.indexOf(t,i);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const i=t.length;if(a+i===s||e.charCodeAt(a+i)<=32)return a}i=a+1}}const Mi="ng-template";function Ei(e,t,i){let s=0;for(;s<e.length;){let a=e[s++];if(i&&"class"===a){if(a=e[s],-1!==Ri(a.toLowerCase(),t,0))return!0}else if(1===a){for(;s<e.length&&"string"==typeof(a=e[s++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function Vi(e){return 0===e.type&&e.tagName!==Mi}function Ni(e,t,i){return t===(0!==e.type||i?e.tagName:Mi)}function Fi(e,t,i){let s=4;const a=e.attrs||[],o=function(e){for(let i=0;i<e.length;i++)if(3===(t=e[i])||4===t||6===t)return i;var t;return e.length}(a);let r=!1;for(let n=0;n<t.length;n++){const l=t[n];if("number"!=typeof l){if(!r)if(4&s){if(s=2|1&s,""!==l&&!Ni(e,l,i)||""===l&&1===t.length){if(Bi(s))return!1;r=!0}}else{const d=8&s?l:t[++n];if(8&s&&null!==e.attrs){if(!Ei(e.attrs,d,i)){if(Bi(s))return!1;r=!0}continue}const h=zi(8&s?"class":l,a,Vi(e),i);if(-1===h){if(Bi(s))return!1;r=!0;continue}if(""!==d){let e;e=h>o?"":a[h+1].toLowerCase();const t=8&s?e:null;if(t&&-1!==Ri(t,d,0)||2&s&&d!==e){if(Bi(s))return!1;r=!0}}}}else{if(!r&&!Bi(s)&&!Bi(l))return!1;if(r&&Bi(l))continue;r=!1,s=l|1&s}}return Bi(s)||r}function Bi(e){return 0==(1&e)}function zi(e,t,i,s){if(null===t)return-1;let a=0;if(s||!i){let i=!1;for(;a<t.length;){const s=t[a];if(s===e)return a;if(3===s||6===s)i=!0;else{if(1===s||2===s){let e=t[++a];for(;"string"==typeof e;)e=t[++a];continue}if(4===s)break;if(0===s){a+=4;continue}}a+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const s=e[i];if("number"==typeof s)return-1;if(s===t)return i;i++}return-1}(t,e)}function Yi(e,t,i=!1){for(let s=0;s<t.length;s++)if(Fi(e,t[s],i))return!0;return!1}function Xi(e,t){return e?":not("+t.trim()+")":t}function Hi(e){let t=e[0],i=1,s=2,a="",o=!1;for(;i<e.length;){let r=e[i];if("string"==typeof r)if(2&s){const t=e[++i];a+="["+r+(t.length>0?'="'+t+'"':"")+"]"}else 8&s?a+="."+r:4&s&&(a+=" "+r);else""===a||Bi(r)||(t+=Xi(o,a),a=""),s=r,o=o||!Bi(s);i++}return""!==a&&(t+=Xi(o,a)),t}const Wi={};function Ui(e){const t=e[3];return rt(t)?t[3]:t}function $i(e){return qi(e[13])}function Gi(e){return qi(e[4])}function qi(e){for(;null!==e&&!rt(e);)e=e[4];return e}function Zi(e,t){const i=e.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const a=i[s],o=i[s+1];if(-1!==o){const i=e.data[o];Ft(a),i.contentQueries(2,t[o],o)}}}function Qi(e,t,i){return ft(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function Ki(e,t,i,s,a,o,r,n,l,d){const h=t.blueprint.slice();return h[0]=a,h[2]=140|s,Lt(h),h[3]=h[15]=e,h[8]=i,h[10]=r||e&&e[10],h[11]=n||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=d||e&&e[9]||null,h[6]=o,h[16]=2==t.type?e[16]:h,h}function Ji(e,t,i,s,a){const o=t+at,r=e.data[o]||function(e,t,i,s,a){const o=Ot(),r=Rt(),n=e.data[t]=function(e,t,i,s,a,o){return{type:i,index:s,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:a,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?o:o&&o.parent,i,t,s,a);return null===e.firstChild&&(e.firstChild=n),null!==o&&(r&&null==o.child&&null!==n.parent?o.child=n:r||(o.next=n)),n}(e,o,i,s,a);return It(r,!0),r}function es(e,t,i){zt(t);try{const s=e.viewQuery;null!==s&&Ss(1,s,i);const a=e.template;null!==a&&ss(e,t,a,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zi(e,t),e.staticViewQueries&&Ss(2,e.viewQuery,i);const o=e.components;null!==o&&function(e,t){for(let i=0;i<t.length;i++)vs(e,t[i])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,Ut()}}function ts(e,t,i,s){const a=t[2];if(256==(256&a))return;zt(t);const o=Mt();try{Lt(t),Pt.lFrame.bindingIndex=e.bindingStartIndex,null!==i&&ss(e,t,i,2,s);const r=3==(3&a);if(!o)if(r){const i=e.preOrderCheckHooks;null!==i&&qt(t,i,null)}else{const i=e.preOrderHooks;null!==i&&Zt(t,i,0,null),Qt(t,0)}if(function(e){for(let t=$i(e);null!==t;t=Gi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const i=e[t],s=i[3];0==(1024&i[2])&&kt(s,1),i[2]|=1024}}}(t),function(e){for(let t=$i(e);null!==t;t=Gi(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Ct(i)&&ts(s,i,s.template,i[8])}}(t),null!==e.contentQueries&&Zi(e,t),!o)if(r){const i=e.contentCheckHooks;null!==i&&qt(t,i)}else{const i=e.contentHooks;null!==i&&Zt(t,i,1),Qt(t,1)}!function(e,t){try{const i=e.expandoInstructions;if(null!==i){let s=e.expandoStartIndex,a=-1,o=-1;for(let e=0;e<i.length;e++){const r=i[e];"number"==typeof r?r<=0?(o=0-r,$t(o),s+=9+i[++e],a=s):s+=r:(null!==r&&(Vt(s,a),r(2,t[a])),a++)}}}finally{$t(-1)}}(e,t);const n=e.components;null!==n&&function(e,t){for(let i=0;i<t.length;i++)bs(e,t[i])}(t,n);const l=e.viewQuery;if(null!==l&&Ss(2,l,s),!o)if(r){const i=e.viewCheckHooks;null!==i&&qt(t,i)}else{const i=e.viewHooks;null!==i&&Zt(t,i,2),Qt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,kt(t[3],-1))}finally{Ut()}}function is(e,t,i,s){const a=t[10],o=!Mt(),r=4==(4&t[2]);try{o&&!r&&a.begin&&a.begin(),r&&es(e,t,s),ts(e,t,i,s)}finally{o&&!r&&a.end&&a.end()}}function ss(e,t,i,s,a){const o=Pt.lFrame.selectedIndex;try{$t(-1),2&s&&t.length>at&&function(e,t,i,s){if(!s)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&qt(t,i,0)}else{const i=e.preOrderHooks;null!==i&&Zt(t,i,0,0)}$t(0)}(e,t,0,Mt()),i(s,a)}finally{$t(o)}}function as(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=os(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function os(e,t,i,s,a,o,r,n,l,d){const h=at+s,c=h+a,u=function(e,t){const i=[];for(let s=0;s<t;s++)i.push(s<e?null:Wi);return i}(h,c),p="function"==typeof d?d():d;return u[1]={type:e,blueprint:u,template:i,queries:null,viewQuery:n,declTNode:t,data:u.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:c,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function rs(e,t,i){for(let s in e)if(e.hasOwnProperty(s)){const a=e[s];(i=null===i?{}:i).hasOwnProperty(s)?i[s].push(t,a):i[s]=[t,a]}return i}function ns(e,t){const i=e.expandoInstructions;i.push(t.hostBindings),0!==t.hostVars&&i.push(t.hostVars)}function ls(e,t,i){for(let s=0;s<i;s++)t.push(Wi),e.blueprint.push(Wi),e.data.push(null)}function ds(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function hs(e,t,i){const s=at-t.index,a=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(s,a,i)}function cs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function us(e,t,i){if(i){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)i[t.exportAs[s]]=e;dt(t)&&(i[""]=e)}}function ps(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function ms(e,t,i){e.data.push(i);const s=i.factory||(i.factory=it(i.type)),a=new ti(s,dt(i),null);e.blueprint.push(a),t.push(a)}function gs(e,t,i){const s=xt(t,e),a=as(i),o=e[10],r=xs(e,Ki(e,a,null,i.onPush?64:16,s,t,o,o.createRenderer(s,i),null,null));e[t.index]=r}function _s(e,t,i,s,a,o){const r=o[t];if(null!==r){const e=s.setInput;for(let t=0;t<r.length;){const a=r[t++],o=r[t++],n=r[t++];null!==e?s.setInput(i,n,a,o):i[o]=n}}}function fs(e,t){let i=null,s=0;for(;s<t.length;){const a=t[s];if(0!==a)if(5!==a){if("number"==typeof a)break;e.hasOwnProperty(a)&&(null===i&&(i=[]),i.push(a,e[a],t[s+1])),s+=2}else s+=2;else s+=4}return i}function bs(e,t){const i=wt(t,e);if(Ct(i)){const e=i[1];80&i[2]?ts(e,i,e.template,i[8]):i[5]>0&&function e(t){for(let s=$i(t);null!==s;s=Gi(s))for(let t=10;t<s.length;t++){const i=s[t];if(1024&i[2]){const e=i[1];ts(e,i,e.template,i[8])}else i[5]>0&&e(i)}const i=t[1].components;if(null!==i)for(let s=0;s<i.length;s++){const a=wt(i[s],t);Ct(a)&&a[5]>0&&e(a)}}(i)}}function vs(e,t){const i=wt(t,e),s=i[1];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(s,i),es(s,i,i[8])}function xs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ys(e,t,i){const s=t[10];s.begin&&s.begin();try{ts(e,t,e.template,i)}catch(a){throw function(e,t){const i=e[9],s=i?i.get(ji,null):null;s&&s.handleError(t)}(t,a),a}finally{s.end&&s.end()}}function ws(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],s=St(i),a=s[1];is(a,s,a.template,i)}}(e[8])}function Ss(e,t,i){Ft(0),t(e,i)}const Cs=(()=>Promise.resolve(null))();function Ts(e,t,i,s,a){for(let o=0;o<i.length;){const r=i[o++],n=i[o++],l=t[r],d=e.data[r];null!==d.setInput?d.setInput(l,a,s,n):l[n]=a}}function Ls(e,t,i,s,a){if(null!=s){let o,r=!1;rt(s)?o=s:ot(s)&&(r=!0,s=s[0]);const n=vt(s);0===e&&null!==i?null==a?js(t,i,n):Ps(t,i,n,a||null):1===e&&null!==i?Ps(t,i,n,a||null):2===e?function(e,t,i){const s=function(e,t){return ft(e)?e.parentNode(t):t.parentNode}(e,t);s&&function(e,t,i,s){ft(e)?e.removeChild(t,i,s):t.removeChild(i)}(e,s,t,i)}(t,n,r):3===e&&t.destroyNode(n),null!=o&&function(e,t,i,s,a){const o=i[7];o!==vt(i)&&Ls(t,e,s,o,a);for(let r=10;r<i.length;r++){const a=i[r];Os(a[1],a,e,t,s,o)}}(t,e,o,i,a)}}function ks(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let s=0;s<i.length;s+=2){const e=t[i[s]];if(!(e instanceof ti)){const t=i[s+1];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)t[i+1].call(e[t[i]]);else t.call(e)}}}(e,t),function(e,t){const i=e.cleanup;if(null!==i){const e=t[7];for(let s=0;s<i.length-1;s+=2)if("string"==typeof i[s]){const a=i[s+1],o="function"==typeof a?a(t):vt(t[a]),r=e[i[s+2]],n=i[s+3];"boolean"==typeof n?o.removeEventListener(i[s],r,n):n>=0?e[n]():e[-n].unsubscribe(),s+=2}else i[s].call(e[i[s+1]]);t[7]=null}}(e,t),1===t[1].type&&ft(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&rt(t[3])){i!==t[3]&&function(e,t){const i=e[9],s=i.indexOf(t),a=t[3];1024&t[2]&&(t[2]&=-1025,kt(a,-1)),i.splice(s,1)}(i,t);const s=t[19];null!==s&&s.detachView(e)}}}function Ps(e,t,i,s){ft(e)?e.insertBefore(t,i,s):t.insertBefore(i,s,!0)}function js(e,t,i){ft(e)?e.appendChild(t,i):t.appendChild(i)}function Ds(e,t,i,s){null!==s?Ps(e,t,i,s):js(e,t,i)}function As(e,t,i,s,a,o,r){for(;null!=i;){const n=s[i.index],l=i.type;r&&0===t&&(n&&Ii(vt(n),s),i.flags|=4),64!=(64&i.flags)&&(3===l||4===l?(As(e,t,i.child,s,a,o,!1),Ls(t,e,a,n,o)):1===l?Is(e,t,s,i,a,o):Ls(t,e,a,n,o)),i=r?i.projectionNext:i.next}}function Os(e,t,i,s,a,o){As(i,s,e.firstChild,t,a,o,!1)}function Is(e,t,i,s,a,o){const r=i[16],n=r[6].projection[s.projection];if(Array.isArray(n))for(let l=0;l<n.length;l++)Ls(t,e,a,n[l],o);else As(e,t,n,r[3],a,o,!0)}function Rs(e,t,i){ft(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function Ms(e,t,i){ft(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}class Es{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return function e(t,i,s,a,o=!1){for(;null!==s;){const r=i[s.index];if(null!==r&&a.push(vt(r)),rt(r))for(let t=10;t<r.length;t++){const i=r[t],s=i[1].firstChild;null!==s&&e(i[1],i,s,a)}const n=s.type;if(3===n||4===n)e(t,i,s.child,a);else if(1===n){const t=i[16],o=t[6].projection[s.projection];if(Array.isArray(o))a.push(...o);else{const i=Ui(t);e(i[1],i,o,a,!0)}}s=o?s.projectionNext:s.next}return a}(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}!function(e,t){if(!(256&t[2])){const i=t[11];ft(i)&&i.destroyNode&&Os(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return ks(e[1],e);for(;t;){let i=null;if(ot(t))i=t[13];else{const e=t[10];e&&(i=e)}if(!i){for(;t&&!t[4]&&t!==e;)ot(t)&&ks(t[1],t),t=t[3];null===t&&(t=e),ot(t)&&ks(t[1],t),i=t&&t[4]}t=i}}(t)}}(this._lView[1],this._lView)}onDestroy(e){!function(e,t,i,s){const a=(o=t)[7]||(o[7]=[]);var o;a.push(null),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(s,a.length-1)}(this._lView[1],this._lView,0,e)}markForCheck(){!function(e){for(;e;){e[2]|=64;const t=Ui(e);if(0!=(512&e[2])&&!t)return e;e=t}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ys(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){Et(!0);try{ys(e,t,i)}finally{Et(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Os(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Vs extends Es{constructor(e){super(e),this._view=e}detectChanges(){ws(this._view)}checkNoChanges(){!function(e){Et(!0);try{ws(e)}finally{Et(!1)}}(this._view)}get context(){return null}}let Ns;function Fs(e,t,i){return Ns||(Ns=class extends e{}),new Ns(xt(t,i))}let Bs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>zs(),e})();const zs=function(e=!1){return function(e,t,i){if(!i&&lt(e)){const i=wt(e.index,t);return new Es(i,i)}return 2===e.type||0===e.type||3===e.type||4===e.type?new Es(t[16],t):null}(Ot(),Dt(),e)},Ys=new Le("Set Injector scope."),Xs={},Hs={},Ws=[];let Us=void 0;function $s(){return void 0===Us&&(Us=new Be),Us}function Gs(e,t=null,i=null,s){return new qs(e,i,t||$s(),s)}class qs{constructor(e,t,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];t&&Ye(t,i=>this.processProvider(i,e,t)),Ye([e],e=>this.processInjectorType(e,[],a)),this.records.set(ke,Qs(void 0,this));const o=this.records.get(Ys);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof e?null:de(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Pe,i=Z.Default){this.assertNotDestroyed();const s=Re(this);try{if(!(i&Z.SkipSelf)){let t=this.records.get(e);if(void 0===t){const i=("function"==typeof(a=e)||"object"==typeof a&&a instanceof Le)&&te(e);t=i&&this.injectableDefInScope(i)?Qs(Zs(e),Xs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(i&Z.Self?$s():this.parent).get(e,t=i&Z.Optional&&t===Pe?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(de(e)),s)throw o;return function(e,t,i,s){const a=e.ngTempTokenPath;throw t[De]&&a.unshift(t[De]),e.message=function(e,t,i,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let a=de(t);if(Array.isArray(t))a=t.map(de).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let s=t[i];e.push(i+":"+("string"==typeof s?JSON.stringify(s):de(s)))}a=`{${e.join(", ")}}`}return`${i}${s?"("+s+")":""}[${a}]: ${e.replace(je,"\n  ")}`}("\n"+e.message,a,i,s),e.ngTokenPath=a,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{Re(s)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,i)=>e.push(de(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=pe(e)))return!1;let s=se(e);const a=null==s&&e.ngModule||void 0,o=void 0===a?e:a,r=-1!==i.indexOf(o);if(void 0!==a&&(s=se(a)),null==s)return!1;if(null!=s.imports&&!r){let e;i.push(o);try{Ye(s.imports,s=>{this.processInjectorType(s,t,i)&&(void 0===e&&(e=[]),e.push(s))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:i,providers:s}=e[t];Ye(s,e=>this.processProvider(e,i,s||Ws))}}this.injectorDefTypes.add(o),this.records.set(o,Qs(s.factory,Xs));const n=s.providers;if(null!=n&&!r){const t=e;Ye(n,e=>this.processProvider(e,t,n))}return void 0!==a&&void 0!==e.providers}processProvider(e,t,i){let s=Js(e=pe(e))?e:pe(e&&e.provide);const a=function(e,t,i){return Ks(e)?Qs(void 0,e.useValue):Qs(function(e,t,i){let s=void 0;if(Js(e)){const t=pe(e);return it(t)||Zs(t)}if(Ks(e))s=()=>pe(e.useValue);else if((a=e)&&a.useFactory)s=()=>e.useFactory(...Fe(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))s=()=>Ve(pe(e.useExisting));else{const t=pe(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return it(t)||Zs(t);s=()=>new t(...Fe(e.deps))}var a;return s}(e),Xs)}(e);if(Js(e)||!0!==e.multi)this.records.get(s);else{let t=this.records.get(s);t||(t=Qs(void 0,Xs,!0),t.factory=()=>Fe(t.multi),this.records.set(s,t)),s=e,t.multi.push(e)}this.records.set(s,a)}hydrate(e,t){var i;return t.value===Xs&&(t.value=Hs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Zs(e){const t=te(e),i=null!==t?t.factory:it(e);if(null!==i)return i;const s=se(e);if(null!==s)return s.factory;if(e instanceof Le)throw new Error(`Token ${de(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=function(e,t){const i=[];for(let s=0;s<e;s++)i.push("?");return i}(t);throw new Error(`Can't resolve all parameters for ${de(e)}: (${i.join(", ")}).`)}const i=function(e){const t=e&&(e[ae]||e[ne]||e[re]&&e[re]());if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function Qs(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Ks(e){return null!==e&&"object"==typeof e&&Ae in e}function Js(e){return"function"==typeof e}const ea=function(e,t,i){return function(e,t=null,i=null,s){const a=Gs(e,t,i,s);return a._resolveInjectorDefTypes(),a}({name:i},t,e,i)};let ta=(()=>{class e{static create(e,t){return Array.isArray(e)?ea(e,t,""):ea(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Pe,e.NULL=new Be,e.\u0275prov=J({token:e,providedIn:"any",factory:()=>Ve(ke)}),e.__NG_ELEMENT_ID__=-1,e})();function ia(e,t,i){let s=i?e.styles:null,a=i?e.classes:null,o=0;if(null!==t)for(let r=0;r<t.length;r++){const e=t[r];"number"==typeof e?o=e:1==o?a=he(a,e):2==o&&(s=he(s,e+": "+t[++r]+";"))}i?e.styles=s:e.stylesWithoutHost=s,i?e.classes=a:e.classesWithoutHost=a}function sa(e,t){const i=St(e)[1],s=i.data.length-1;Gt(i,{directiveStart:s,directiveEnd:s+1})}function aa(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,i=!0;const s=[e];for(;t;){let a=void 0;if(dt(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");a=t.\u0275dir}if(a){if(i){s.push(a);const t=e;t.inputs=oa(e.inputs),t.declaredInputs=oa(e.declaredInputs),t.outputs=oa(e.outputs);const i=a.hostBindings;i&&la(e,i);const o=a.viewQuery,r=a.contentQueries;if(o&&ra(e,o),r&&na(e,r),K(e.inputs,a.inputs),K(e.declaredInputs,a.declaredInputs),K(e.outputs,a.outputs),dt(a)&&a.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(a.data.animation)}}const t=a.features;if(t)for(let s=0;s<t.length;s++){const a=t[s];a&&a.ngInherit&&a(e),a===aa&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=ai(a.hostAttrs,i=ai(i,a.hostAttrs))}}(s)}function oa(e){return e===We?{}:e===Ue?[]:e}function ra(e,t){const i=e.viewQuery;e.viewQuery=i?(e,s)=>{t(e,s),i(e,s)}:t}function na(e,t){const i=e.contentQueries;e.contentQueries=i?(e,s,a)=>{t(e,s,a),i(e,s,a)}:t}function la(e,t){const i=e.hostBindings;e.hostBindings=i?(e,s)=>{t(e,s),i(e,s)}:t}let da=null;function ha(){if(!da){const e=be.Symbol;if(e&&e.iterator)da=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(da=i)}}}return da}function ca(e){return!!ua(e)&&(Array.isArray(e)||!(e instanceof Map)&&ha()in e)}function ua(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function pa(e,t=Z.Default){const i=Dt();return null===i?Ve(e,t):vi(Ot(),i,pe(e),t)}function ma(e,t,i){const s=Dt();return function(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}(s,Pt.lFrame.bindingIndex++,t)&&function(e,t,i,s,a,o,r,n){const l=xt(t,i);let d,h=t.inputs;var c;null!=h&&(d=h[s])?(Ts(e,i,d,s,a),lt(t)&&function(e,t){const i=wt(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):2===t.type&&(s="class"===(c=s)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,a=null!=r?r(a,t.tagName||"",s):a,ft(o)?o.setProperty(l,s,a):si(s)||(l.setProperty?l.setProperty(s,a):l[s]=a))}(At(),function(){const e=Pt.lFrame;return yt(e.tView,e.selectedIndex)}(),s,e,t,s[11],i),ma}function ga(e,t,i,s,a){const o=a?"class":"style";Ts(e,i,t.inputs[o],o,s)}function _a(e,t,i,s){const a=Dt(),o=At(),r=at+e,n=a[11],l=a[r]=Qi(t,n,Pt.lFrame.currentNamespace),d=o.firstCreatePass?function(e,t,i,s,a,o,r){const n=t.consts,l=Ji(t,e,2,a,Tt(n,o));return function(e,t,i,s){let a=!1;if(jt()){const o=function(e,t,i){const s=e.directiveRegistry;let a=null;if(s)for(let o=0;o<s.length;o++){const r=s[o];Yi(i,r.selectors,!1)&&(a||(a=[]),bi(mi(i,t),e,r.type),dt(r)?(cs(e,i),a.unshift(r)):a.push(r))}return a}(e,t,i),r=null===s?null:{"":-1};if(null!==o){let s=0;a=!0,ps(i,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}hs(e,i,o.length);let n=!1,l=!1;for(let a=0;a<o.length;a++){const d=o[a];i.mergedAttrs=ai(i.mergedAttrs,d.hostAttrs),ms(e,t,d),us(e.data.length-1,d,r),null!==d.contentQueries&&(i.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(i.flags|=128);const h=d.type.prototype;!n&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index-at),n=!0),l||!h.ngOnChanges&&!h.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index-at),l=!0),ns(e,d),s+=d.hostVars}!function(e,t){const i=t.directiveEnd,s=e.data,a=t.attrs,o=[];let r=null,n=null;for(let l=t.directiveStart;l<i;l++){const e=s[l],i=e.inputs,d=null===a||Vi(t)?null:fs(i,a);o.push(d),r=rs(i,l,r),n=rs(e.outputs,l,n)}null!==r&&(r.hasOwnProperty("class")&&(t.flags|=16),r.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=r,t.outputs=n}(e,i),ls(e,t,s)}r&&function(e,t,i){if(t){const s=e.localNames=[];for(let e=0;e<t.length;e+=2){const a=i[t[e+1]];if(null==a)throw new Error(`Export of name '${t[e+1]}' not found!`);s.push(t[e],a)}}}(i,s,r)}i.mergedAttrs=ai(i.mergedAttrs,i.attrs)}(t,i,l,Tt(n,r)),null!==l.attrs&&ia(l,l.attrs,!1),null!==l.mergedAttrs&&ia(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(e,o,a,0,t,i,s):o.data[r];It(d,!0);const h=d.mergedAttrs;null!==h&&ii(n,l,h);const c=d.classes;null!==c&&Ms(n,l,c);const u=d.styles;null!==u&&Rs(n,l,u),function(e,t,i,s){const a=function(e,t,i){let s=t.parent;for(;null!=s&&(3===s.type||4===s.type);)s=(t=s).parent;if(null===s)return i[0];if(t&&4===t.type&&4&t.flags)return xt(t,i).parentNode;if(2&s.flags){const t=e.data,i=t[t[s.index].directiveStart].encapsulation;if(i!==He.ShadowDom&&i!==He.Native)return null}return xt(s,i)}(e,s,t);if(null!=a){const e=t[11],o=function(e,t){return 3===e.type||4===e.type?xt(e,t):null}(s.parent||t[6],t);if(Array.isArray(i))for(let t=0;t<i.length;t++)Ds(e,a,i[t],o);else Ds(e,a,i,o)}}(o,a,l,d),0===Pt.lFrame.elementDepthCount&&Ii(l,a),Pt.lFrame.elementDepthCount++,function(e){return 1==(1&e.flags)}(d)&&(function(e,t,i){jt()&&(function(e,t,i,s){const a=i.directiveStart,o=i.directiveEnd;e.firstCreatePass||mi(i,t),Ii(s,t);const r=i.initialInputs;for(let n=a;n<o;n++){const s=e.data[n],o=dt(s);o&&gs(t,i,s);const l=wi(t,e,n,i);Ii(l,t),null!==r&&_s(0,n-a,l,s,0,r),o&&(wt(i.index,t)[8]=l)}}(e,t,i,xt(i,t)),128==(128&i.flags)&&function(e,t,i){const s=i.directiveStart,a=i.directiveEnd,o=e.expandoInstructions,r=e.firstCreatePass,n=i.index-at,l=Pt.lFrame.currentDirectiveIndex;try{$t(n);for(let i=s;i<a;i++){const s=e.data[i],a=t[i];Nt(i),null!==s.hostBindings||0!==s.hostVars||null!==s.hostAttrs?ds(s,a):r&&o.push(null)}}finally{$t(-1),Nt(l)}}(e,t,i))}(o,a,d),function(e,t,i){if(nt(t)){const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const t=e.data[a];t.contentQueries&&t.contentQueries(1,i[a],a)}}}(o,d,a)),null!==s&&function(e,t,i=xt){const s=t.localNames;if(null!==s){let a=t.index+1;for(let o=0;o<s.length;o+=2){const r=s[o+1],n=-1===r?i(t,e):e[r];e[a++]=n}}}(a,d)}function fa(e){return!!e&&"function"==typeof e.then}class ba{}class va{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${de(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let xa=(()=>{class e{}return e.NULL=new va,e})(),ya=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>wa(e),e})();const wa=function(e){return Fs(e,Ot(),Dt())};class Sa{}var Ca=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ta=(()=>{class e{}return e.\u0275prov=J({token:e,providedIn:"root",factory:()=>null}),e})();class La{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ka=new La("10.1.6");class Pa{constructor(){}supports(e){return ca(e)}create(e){return new Da(e)}}const ja=(e,t)=>t;class Da{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ja}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,a=null;for(;t||i;){const o=!i||t&&t.currentIndex<Ra(i,s,a)?t:i,r=Ra(o,s,a),n=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{a||(a=[]);const e=r-s,t=n-s;if(e!=t){for(let i=0;i<e;i++){const s=i<a.length?a[i]:a[i]=0,o=s+i;t<=o&&o<e&&(a[i]=s+1)}a[o.previousIndex]=t-e}}r!==n&&e(o,r,n)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ca(e))throw new Error(`Error trying to diff '${de(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,s,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],s=this._trackByFn(t,i),null!==a&&Object.is(a.trackById,s)?(o&&(a=this._verifyReinsertion(a,i,s,t)),Object.is(a.item,i)||this._addIdentityChange(a,i)):(a=this._mismatch(a,i,s,t),o=!0),a=a._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[ha()]();let s;for(;!(s=i.next()).done;)t(s.value)}}(e,e=>{s=this._trackByFn(t,e),null!==a&&Object.is(a.trackById,s)?(o&&(a=this._verifyReinsertion(a,e,s,t)),Object.is(a.item,e)||this._addIdentityChange(a,e)):(a=this._mismatch(a,e,s,t),o=!0),a=a._next,t++}),this.length=t;return this._truncate(a),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,s)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,s)):e=this._addAfter(new Aa(t,i),a,s),e}_verifyReinsertion(e,t,i,s){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==a?e=this._reinsertAfter(a,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,a=e._nextRemoved;return null===s?this._removalsHead=a:s._nextRemoved=a,null===a?this._removalsTail=s:a._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ia),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ia),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Aa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oa{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Ia{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Oa,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ra(e,t,i){const s=e.previousIndex;if(null===s)return s;let a=0;return i&&s<i.length&&(a=i[s]),s+t+a}class Ma{constructor(){}supports(e){return e instanceof Map||ua(e)}create(){return new Ea}}class Ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ua(e)))throw new Error(`Error trying to diff '${de(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const i=new Va(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Va{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Na=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,i)},deps:[[e,new q,new U]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${i=e,i.name||typeof i}'`);var i}}return e.\u0275prov=J({token:e,providedIn:"root",factory:()=>new e([new Pa])}),e})(),Fa=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,i)},deps:[[e,new q,new U]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=J({token:e,providedIn:"root",factory:()=>new e([new Ma])}),e})();const Ba=[new Ma],za=new Na([new Pa]),Ya=new Fa(Ba),Xa={};class Ha extends xa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=tt(e);return new $a(t,this.ngModule)}}function Wa(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const Ua=new Le("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>di});class $a extends ba{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Hi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Wa(this.componentDef.inputs)}get outputs(){return Wa(this.componentDef.outputs)}create(e,t,i,s){const a=(s=s||this.ngModule)?function(e,t){return{get:(i,s,a)=>{const o=e.get(i,Xa,a);return o!==Xa||s===Xa?o:t.get(i,s,a)}}}(e,s.injector):e,o=a.get(Sa,bt),r=a.get(Ta,null),n=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=i?function(e,t,i){if(ft(e))return e.selectRootElement(t,i===He.ShadowDom);let s="string"==typeof t?e.querySelector(t):t;return s.textContent="",s}(n,i,this.componentDef.encapsulation):Qi(l,o.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,c={components:[],scheduler:di,clean:Cs,playerHandler:null,flags:0},u=os(0,null,null,1,0,null,null,null,null,null),p=Ki(null,u,c,h,null,null,o,n,r,a);let m,g;zt(p);try{const e=function(e,t,i,s,a,o){const r=i[1];i[20]=e;const n=Ji(r,0,2,null,null),l=n.mergedAttrs=t.hostAttrs;null!==l&&(ia(n,l,!0),null!==e&&(ii(a,e,l),null!==n.classes&&Ms(a,e,n.classes),null!==n.styles&&Rs(a,e,n.styles)));const d=s.createRenderer(e,t),h=Ki(i,as(t),null,t.onPush?64:16,i[20],n,s,d,null,null);return r.firstCreatePass&&(bi(mi(n,i),r,t.type),cs(r,n),ps(n,i.length,1)),xs(i,h),i[20]=h}(d,this.componentDef,p,o,n);if(d)if(i)ii(n,d,["ng-version",ka.full]);else{const{attrs:e,classes:t}=function(e){const t=[],i=[];let s=1,a=2;for(;s<e.length;){let o=e[s];if("string"==typeof o)2===a?""!==o&&t.push(o,e[++s]):8===a&&i.push(o);else{if(!Bi(a))break;a=o}s++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);e&&ii(n,d,e),t&&t.length>0&&Ms(n,d,t.join(" "))}if(g=yt(u,0),void 0!==t){const e=g.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const s=t[i];e.push(null!=s?Array.from(s):null)}}m=function(e,t,i,s,a){const o=i[1],r=function(e,t,i){const s=Ot();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),hs(e,s,1),ms(e,t,i));const a=wi(t,e,t.length-1,s);Ii(a,t);const o=xt(s,t);return o&&Ii(o,t),a}(o,i,t);s.components.push(r),e[8]=r,a&&a.forEach(e=>e(r,t)),t.contentQueries&&t.contentQueries(1,r,i.length-1);const n=Ot();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){$t(n.index-at);const e=i[1];ns(e,t),ls(e,i,t.hostVars),ds(t,r)}return r}(e,this.componentDef,p,c,[sa]),es(u,p,null)}finally{Ut()}return new Ga(this.componentType,m,Fs(ya,g,p),p,g)}}class Ga extends class{}{constructor(e,t,i,s,a){super(),this.location=i,this._rootLView=s,this._tNode=a,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new Vs(s),this.componentType=e}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const qa=void 0;var Za=["en",[["a","p"],["AM","PM"],qa],[["AM","PM"],qa,qa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qa,"{1} 'at' {0}",qa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Qa={};function Ka(e){return e in Qa||(Qa[e]=be.ng&&be.ng.common&&be.ng.common.locales&&be.ng.common.locales[e]),Qa[e]}var Ja=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const eo="en-US";let to=eo;function io(e){var t,i;i="Expected localeId to be defined",null==(t=e)&&function(e,t,i,s){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(i,t),"string"==typeof e&&(to=e.toLowerCase().replace(/_/g,"-"))}const so=new Map;class ao extends ze{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ha(this);const i=st(e),s=e[Se]||null;s&&io(s),this._bootstrapComponents=hi(i.bootstrap),this._r3Injector=Gs(e,t,[{provide:ze,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],de(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ta.THROW_IF_NOT_FOUND,i=Z.Default){return e===ta||e===ze||e===ke?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class oo extends class{}{constructor(e){super(),this.moduleType=e,null!==st(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${de(t)} vs ${de(t.name)}`)})(e,so.get(e),t),so.set(e,t)}let i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach(t=>e(t))}(e)}create(e){return new ao(this.moduleType,e)}}const ro=class extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let s,a=e=>null,o=()=>null;e&&"object"==typeof e?(s=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(a=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(a=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),i&&(o=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const r=super.subscribe(s,a,o);return e instanceof c&&e.add(r),r}},no=new Le("Application Initializer");let lo=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();fa(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ve(no,8))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();const ho=new Le("AppId"),co={provide:ho,useFactory:function(){return`${uo()}${uo()}${uo()}`},deps:[]};function uo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const po=new Le("Platform Initializer"),mo=new Le("Platform ID"),go=new Le("appBootstrapListener");let _o=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();const fo=new Le("LocaleId"),bo=new Le("DefaultCurrencyCode");class vo{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const xo=function(e){return new oo(e)},yo=xo,wo=function(e){return Promise.resolve(xo(e))},So=function(e){const t=xo(e),i=hi(st(e).declarations).reduce((e,t)=>{const i=tt(t);return i&&e.push(new $a(i)),e},[]);return new vo(t,i)},Co=So,To=function(e){return Promise.resolve(So(e))};let Lo=(()=>{class e{constructor(){this.compileModuleSync=yo,this.compileModuleAsync=wo,this.compileModuleAndAllComponentsSync=Co,this.compileModuleAndAllComponentsAsync=To}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();const ko=(()=>Promise.resolve(0))();function Po(e){"undefined"==typeof Zone?ko.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class jo{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ro(!1),this.onMicrotaskEmpty=new ro(!1),this.onStable=new ro(!1),this.onError=new ro(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.wtfZoneSpec&&(i._inner=i._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=t,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=be.requestAnimationFrame,t=be.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(be,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Io(e),Oo(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Io(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(i,s,a,o,r,n)=>{try{return Ro(e),i.invokeTask(a,o,r,n)}finally{t&&"eventTask"===o.type&&t(),Mo(e)}},onInvoke:(t,i,s,a,o,r,n)=>{try{return Ro(e),t.invoke(s,a,o,r,n)}finally{Mo(e)}},onHasTask:(t,i,s,a)=>{t.hasTask(s,a),i===s&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Io(e),Oo(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,i,s,a)=>(t.handleError(s,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+s,e,Ao,Do,Do);try{return a.runTask(o,t,i)}finally{a.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}function Do(){}const Ao={};function Oo(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Io(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Ro(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mo(e){e._nesting--,Oo(e)}class Eo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ro,this.onMicrotaskEmpty=new ro,this.onStable=new ro,this.onError=new ro}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}}let Vo=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jo.assertNotInAngularZone(),Po(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Po(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==s),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ve(jo))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})(),No=(()=>{class e{constructor(){this._applications=new Map,zo.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return zo.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();class Fo{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Bo,zo=new Fo;const Yo=new Le("AllowMultipleToken");function Xo(e,t,i=[]){const s="Platform: "+t,a=new Le(s);return(t=[])=>{let o=Ho();if(!o||o.injector.get(Yo,!1))if(e)e(i.concat(t).concat({provide:a,useValue:!0}));else{const e=i.concat(t).concat({provide:a,useValue:!0},{provide:Ys,useValue:"platform"});!function(e){if(Bo&&!Bo.destroyed&&!Bo.injector.get(Yo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bo=e.get(Wo);const t=e.get(po,null);t&&t.forEach(e=>e())}(ta.create({providers:e,name:s}))}return function(e){const t=Ho();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(a)}}function Ho(){return Bo&&!Bo.destroyed?Bo:null}let Wo=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e,t){let i;return i="noop"===e?new Eo:("zone.js"===e?void 0:e)||new jo({enableLongStackTrace:Oi(),shouldCoalesceEventChangeDetection:t}),i}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),s=[{provide:jo,useValue:i}];return i.run(()=>{const t=ta.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(t),o=a.injector.get(ji,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.onDestroy(()=>Go(this._modules,a)),i.runOutsideAngular(()=>i.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,i){try{const s=i();return fa(s)?s.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(o,i,()=>{const e=a.injector.get(lo);return e.runInitializers(),e.donePromise.then(()=>(io(a.injector.get(fo,eo)||eo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,t=[]){const i=Uo({},t);return function(e,t,i){const s=new oo(i);return Promise.resolve(s)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get($o);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${de(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ve(ta))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();function Uo(e,t){return Array.isArray(t)?t.reduce(Uo,e):Object.assign(Object.assign({},e),t)}let $o=(()=>{class e{constructor(e,t,i,s,a,o){this._zone=e,this._console=t,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Oi(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new b(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),n=new b(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{jo.assertNotInAngularZone(),Po(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,i=null,s=e[e.length-1];var a;return(a=s)&&"function"==typeof a.schedule?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof s&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof b?e[0]:function(e=Number.POSITIVE_INFINITY){return function e(t,i,s=Number.POSITIVE_INFINITY){return"function"==typeof i?a=>a.pipe(e((e,s)=>{return(a=t(e,s),a instanceof b?a:new b(D(a))).pipe(function(e,t){return function(t){return t.lift(new T(e,void 0))}}((t,a)=>i(e,t,s,a)));var a},s)):("number"==typeof i&&(s=i),e=>e.lift(new I(t,s)))}(f,e)}(t)(function(e,t){return t?function(e,t){return new b(i=>{const s=new c;let a=0;return s.add(t.schedule((function(){a!==e.length?(i.next(e[a++]),i.closed||s.add(this.schedule())):i.complete()}))),s})}(e,t):new b(k(e))}(e,i))}(r,n.pipe(e=>{return M()((t=z,function(e){let i;i="function"==typeof t?t:function(){return t};const s=Object.create(e,F);return s.source=e,s.subjectFactory=i,s})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof ba?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=i.isBoundToModule?void 0:this._injector.get(ze),a=i.create(ta.NULL,[],t||i.selector,s);a.onDestroy(()=>{this._unloadComponent(a)});const o=a.injector.get(Vo,null);return o&&a.injector.get(No).registerApplication(a.location.nativeElement,o),this._loadComponent(a),Oi()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Go(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(go,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Go(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Ve(jo),Ve(_o),Ve(ta),Ve(ji),Ve(xa),Ve(lo))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();function Go(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const qo=Xo(null,"core",[{provide:mo,useValue:"unknown"},{provide:Wo,deps:[ta]},{provide:No,deps:[]},{provide:_o,deps:[]}]),Zo=[{provide:$o,useClass:$o,deps:[jo,_o,ta,ji,xa,lo]},{provide:Ua,deps:[jo],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:lo,useClass:lo,deps:[[new U,no]]},{provide:Lo,useClass:Lo,deps:[]},co,{provide:Na,useFactory:function(){return za},deps:[]},{provide:Fa,useFactory:function(){return Ya},deps:[]},{provide:fo,useFactory:function(e){return io(e=e||"undefined"!=typeof $localize&&$localize.locale||eo),e},deps:[[new W(fo),new U,new q]]},{provide:bo,useValue:"USD"}];let Qo=(()=>{class e{constructor(e){}}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ee({factory:function(t){return new(t||e)(Ve($o))},providers:Zo}),e})(),Ko=null;function Jo(){return Ko}const er=new Le("DocumentToken");var tr=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class ir{}let sr=(()=>{class e extends ir{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Ka(t);if(i)return i;const s=t.split("-")[0];if(i=Ka(s),i)return i;if("en"===s)return Za;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Ja.PluralCase]}(t||this.locale)(e)){case tr.Zero:return"zero";case tr.One:return"one";case tr.Two:return"two";case tr.Few:return"few";case tr.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(Ve(fo))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})(),ar=(()=>{class e{}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ee({factory:function(t){return new(t||e)},providers:[{provide:ir,useClass:sr}]}),e})();class or extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new or,Ko||(Ko=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=nr||(nr=document.querySelector("base"),nr)?nr.getAttribute("href"):null;return null==t?null:(i=t,rr||(rr=document.createElement("a")),rr.setAttribute("href",i),"/"===rr.pathname.charAt(0)?rr.pathname:"/"+rr.pathname);var i}resetBaseElement(){nr=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[s,a]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(s.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,e)}}let rr,nr=null;const lr=new Le("TRANSITION_ID"),dr=[{provide:no,useFactory:function(e,t,i){return()=>{i.get(lo).donePromise.then(()=>{const i=Jo();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>i.remove(e))})}},deps:[lr,er,ta],multi:!0}];class hr{static init(){var e;e=new hr,zo=e}addToWindow(e){be.getAngularTestability=(t,i=!0)=>{const s=e.findTestabilityInTree(t,i);if(null==s)throw new Error("Could not find testability for element.");return s},be.getAllAngularTestabilities=()=>e.getAllTestabilities(),be.getAllAngularRootElements=()=>e.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(e=>{const t=be.getAllAngularTestabilities();let i=t.length,s=!1;const a=function(t){s=s||t,i--,0==i&&e(s)};t.forEach((function(e){e.whenStable(a)}))})}findTestabilityInTree(e,t,i){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:i?Jo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const cr=new Le("EventManagerPlugins");let ur=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let s=0;s<i.length;s++){const t=i[s];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(Ve(cr),Ve(jo))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();class pr{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const s=Jo().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,i)}}let mr=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})(),gr=(()=>{class e extends mr{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,this._styleNodes.add(t.appendChild(i))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Jo().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(Ve(er))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();const _r={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fr=/%COMP%/g;function br(e,t,i){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?br(e,a,i):(a=a.replace(fr,e),i.push(a))}return i}function vr(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let xr=(()=>{class e{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new yr(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case He.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new wr(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case He.Native:case He.ShadowDom:return new Sr(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=br(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Ve(ur),Ve(gr),Ve(ho))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();class yr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(_r[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const a=_r[s];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=_r[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&Ca.DashCase?e.style.setProperty(t,i,s&Ca.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ca.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vr(i)):this.eventManager.addEventListener(e,t,vr(i))}}class wr extends yr{constructor(e,t,i,s){super(e),this.component=i;const a=br(s+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(fr,s+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(fr,s+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Sr extends yr{constructor(e,t,i,s){super(e),this.sharedStylesHost=t,this.hostEl=i,this.component=s,this.shadowRoot=s.encapsulation===He.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const a=br(s.id,s.styles,[]);for(let o=0;o<a.length;o++){const e=document.createElement("style");e.textContent=a[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Cr=(()=>{class e extends pr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}}return e.\u0275fac=function(t){return new(t||e)(Ve(er))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();const Tr=["alt","control","meta","shift"],Lr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pr={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let jr=(()=>{class e extends pr{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,s){const a=e.parseEventName(i),o=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jo().onAndCancel(t,a.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(i.pop());let o="";if(Tr.forEach(e=>{const t=i.indexOf(e);t>-1&&(i.splice(t,1),o+=e+".")}),o+=a,0!=i.length||0===a.length)return null;const r={};return r.domEventName=s,r.fullKey=o,r}static getEventFullKey(e){let t="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&kr.hasOwnProperty(t)&&(t=kr[t]))}return Lr[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tr.forEach(s=>{s!=i&&(0,Pr[s])(e)&&(t+=s+".")}),t+=i,t}static eventCallback(t,i,s){return a=>{e.getEventFullKey(a)===t&&s.runGuarded(()=>i(a))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(Ve(er))},e.\u0275prov=J({token:e,factory:e.\u0275fac}),e})();const Dr=Xo(qo,"browser",[{provide:mo,useValue:"browser"},{provide:po,useValue:function(){or.makeCurrent(),hr.init()},multi:!0},{provide:er,useFactory:function(){return function(e){_t=e}(document),document},deps:[]}]),Ar=[[],{provide:Ys,useValue:"root"},{provide:ji,useFactory:function(){return new ji},deps:[]},{provide:cr,useClass:Cr,multi:!0,deps:[er,jo,mo]},{provide:cr,useClass:jr,multi:!0,deps:[er]},[],{provide:xr,useClass:xr,deps:[ur,gr,ho]},{provide:Sa,useExisting:xr},{provide:mr,useExisting:gr},{provide:gr,useClass:gr,deps:[er]},{provide:Vo,useClass:Vo,deps:[jo]},{provide:ur,useClass:ur,deps:[cr,jo]},[]];let Or=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:ho,useValue:t.appId},{provide:lr,useExisting:ho},dr]}}}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ee({factory:function(t){return new(t||e)(Ve(e,12))},providers:Ar,imports:[ar,Qo]}),e})();"undefined"!=typeof window&&window;let Ir={},Rr=(()=>{class e{constructor(e,t,i,s,a,o){this.controlName=e,this.el=t,this.cdRef=i,this.tags=s,this.ejIterableDiffers=a,this._ejKeyValueDiffers=o,this.model={},this.outputs=[],this.inputs=[],this.twoways=[],this.firstCheck=!0,this.ejIterable=this.ejIterableDiffers.find([]).create(null),this.ejKeyValueDif=o.find([]).create()}static bindAndRaiseEvent(e,t,i){i.startsWith("model.")||(t[i.startsWith("bold")?i.substr(4):i]=function(t){e[i+"_output"].emit(t)})}createTwoways(e){if(!e)return;let t=this.model;for(let i=0;i<e.length;i++){let s=e[i].replace(/\_/g,".");ej.createObject(s+"Change",this[e[i]+"_twoChange"],t),ej.createObject(s,this.addTwoways(s),t)}}addTwoways(e){let t=this.model,i=Ir;return function(s,a){if(i===Ir&&(i=ej.getObject(e+"_two",t),void 0===i&&(i=ej.getObject(e,void 0===this||void 0===this.defaults?{}:this.defaults))),void 0===s)return i;i!==s&&(i=s,a||(ej.createObject(e+"_two",s,t),ej.getObject(e+"Change",t).emit(s)))}}ngOnInit(){for(let e in this)-1!=e.indexOf("_input")&&this.inputs.push(e),-1!=e.indexOf("_output")&&this.outputs.push(e),-1!=e.indexOf("_two")&&-1==e.indexOf("_twoChange")&&this.twoways.push(e.replace("_two",""));ej.isNullOrUndefined(this.options)&&this.createTwoways(this.twoways)}ngAfterContentInit(){this.firstCheck=!1;let t=this.model,i=this.outputs;if(i)for(let s=0;s<i.length;s++){let a=i[s].replace("_output","");e.bindAndRaiseEvent(this,t,a)}if(ej.isNullOrUndefined(this.options)){for(let e=0;e<this.tags.length;e++){let t=this.tags[e],i=this["tag_"+t.replace(/\./g,"_")];ej.isNullOrUndefined(i)||ej.createObject(t,i.getList(),this.model)}for(let e=0;e<this.inputs.length;e++){let t=this.inputs[e],i=this.inputs[e].replace("_input","");if(null!=this[t])if(-1==i.indexOf("_"))this.model[i]?$.extend(!0,this.model[i],this[t]):this.model[i]=this[t];else if(-1==i.indexOf("_two")){let e={},s=i.replace(/\_/g,".");ej.createObject(s,this[t],e);let a=s.split(".")[0];null==this.model[a]&&(this.model[a]={}),$.extend(!0,this.model[a],e[a])}}for(let e=0;e<this.twoways.length;e++){let t=this.twoways[e],i=t+"_two";if(null!=this[i])if(-1==t.indexOf("_"))this.model[i]=this[i];else{let e={},s=t.replace(/\_/g,".")+"_two";ej.createObject(s,this[i],e);let a=i.split("_")[0];$.extend(!0,this.model[a],e[a])}}}else this.model=jQuery.extend(this.model,this.options)}ngDoCheck(){if(ej.isNullOrUndefined(this.options))this.twoways.forEach(e=>{if(this[e+"_two"]instanceof Array){let t=this.ejIterable.diff(this[e+"_two"]);if(t){let i={};null!=this.widget&&(i=this.getTwowayChanges(t.collection,i,e.replace(/\_/g,".")),ej.createObject(e.replace(/\_/g,".")+".two",t.collection,i),this.widget.setModel(i,$.isPlainObject(i)))}}});else{let t=this.ejKeyValueDif.diff(this.options);if(t&&null!=this.widget){var e={};t.forEachChangedItem(t=>{ej.createObject(t.key,t.currentValue,e)}),this.widget.setModel(e,$.isPlainObject(e))}}}ngAfterViewInit(){let e=this.isEditor?$(this.el.nativeElement.children):$(this.el.nativeElement),t=this.lowerCaseFirstLetter(this.controlName);this.widget=$(e)[t](this.model)[t]("instance")}lowerCaseFirstLetter(e){return e[0].toLowerCase()+e.slice(1)}ngOnChanges(e){if(this.firstCheck)return;let t={};if(ej.isNullOrUndefined(this.options)){for(let i in e){let s=e[i];if(s.previousValue===s.currentValue)break;if(i=i.replace("_input","").replace(/\_/g,"."),i.endsWith(".two")){let e=i.replace(".two","");t=this.getTwowayChanges(s.currentValue,t,e)}ej.createObject(i,s.currentValue,t)}this.widget.setModel(t,$.isPlainObject(t))}}getTwowayChanges(e,t,i){let s=ej.getObject(i,this.widget.model);return s(e,!0),ej.createObject(i,s,t),t}ngAfterContentChecked(){let e=class{static IterateAndGetChanges(e){if(ej.isNullOrUndefined(e.tags)||0===e.tags.length)return null;let t={};for(let i=0,s=e.tags;i<s.length;i++){let a=s[i],o=e["tag_"+a.replace(/\./g,"_")];!ej.isNullOrUndefined(o)&&o.hasChanges&&(t[a]=o.getChangesAndReset())}return t}}.IterateAndGetChanges(this);for(let t in e)e.hasOwnProperty(t)&&this.widget["_"+t](e[t])}ngOnDestroy(){this.widget.destroy()}}return e.\u0275fac=function(e){!function(){throw new Error("invalid")}()},e.\u0275dir=et({type:e,features:[ct]}),e})(),Mr=(()=>{class e extends Rr{constructor(e,t,i,s){super("BoldReportViewer",e,t,[],i,s),this.el=e,this.cdRef=t,this._ejIterableDiffers=i,this._ejkeyvaluediffers=s,this.drillThrough_output=new ro,this.renderingBegin_output=new ro,this.renderingComplete_output=new ro,this.reportError_output=new ro,this.reportExport_output=new ro,this.reportLoaded_output=new ro,this.showError_output=new ro,this.viewReportClick_output=new ro,this.ajaxBeforeLoad_output=new ro,this.ajaxSuccess_output=new ro,this.ajaxError_output=new ro,this.toolbarRendering_output=new ro,this.exportProgressChanged_output=new ro,this.printProgressChanged_output=new ro,this.exportItemClick_output=new ro,this.toolBarItemClick_output=new ro,this.hyperlink_output=new ro,this.reportPrint_output=new ro,this.beforeParameterAdd_output=new ro}}return e.\u0275fac=function(t){return new(t||e)(pa(ya),pa(Bs),pa(Na),pa(Fa))},e.\u0275cmp=Ge({type:e,selectors:[["bold-reportviewer"]],inputs:{dataSources_input:["dataSources","dataSources_input"],exportSettings_input:["exportSettings","exportSettings_input"],isResponsive_input:["isResponsive","isResponsive_input"],locale_input:["locale","locale_input"],pageSettings_input:["pageSettings","pageSettings_input"],parameters_input:["parameters","parameters_input"],toolbarSettings_input:["toolbarSettings","toolbarSettings_input"],parameterSettings_input:["parameterSettings","parameterSettings_input"],printMode_input:["printMode","printMode_input"],printOption_input:["printOption","printOption_input"],processingMode_input:["processingMode","processingMode_input"],renderMode_input:["renderMode","renderMode_input"],reportPath_input:["reportPath","reportPath_input"],reportServerUrl_input:["reportServerUrl","reportServerUrl_input"],reportServiceUrl_input:["reportServiceUrl","reportServiceUrl_input"],zoomFactor_input:["zoomFactor","zoomFactor_input"],serviceAuthorizationToken_input:["serviceAuthorizationToken","serviceAuthorizationToken_input"],enableParameterBlockScroller_input:["enableParameterBlockScroller","enableParameterBlockScroller_input"],enableDatasourceBlockScroller_input:["enableDatasourceBlockScroller","enableDatasourceBlockScroller_input"],sizeToReportContent_input:["sizeToReportContent","sizeToReportContent_input"],autoRender_input:["autoRender","autoRender_input"],enableNotificationBar_input:["enableNotificationBar","enableNotificationBar_input"],enableDropDownSearch_input:["enableDropDownSearch","enableDropDownSearch_input"],enableVirtualEvaluation_input:["enableVirtualEvaluation","enableVirtualEvaluation_input"],waitingPopupTemplate_input:["waitingPopupTemplate","waitingPopupTemplate_input"],dataSources_name_input:["dataSources.name","dataSources_name_input"],dataSources_value_input:["dataSources.value","dataSources_value_input"],exportSettings_exportOptions_input:["exportSettings.exportOptions","exportSettings_exportOptions_input"],exportSettings_excelFormat_input:["exportSettings.excelFormat","exportSettings_excelFormat_input"],exportSettings_wordFormat_input:["exportSettings.wordFormat","exportSettings_wordFormat_input"],exportSettings_customItems_input:["exportSettings.customItems","exportSettings_customItems_input"],exportSettings_imageQuality_input:["exportSettings.imageQuality","exportSettings_imageQuality_input"],pageSettings_orientation_input:["pageSettings.orientation","pageSettings_orientation_input"],pageSettings_paperSize_input:["pageSettings.paperSize","pageSettings_paperSize_input"],pageSettings_height_input:["pageSettings.height","pageSettings_height_input"],pageSettings_width_input:["pageSettings.width","pageSettings_width_input"],pageSettings_margins_input:["pageSettings.margins","pageSettings_margins_input"],parameters_labels_input:["parameters.labels","parameters_labels_input"],parameters_name_input:["parameters.name","parameters_name_input"],parameters_nullable_input:["parameters.nullable","parameters_nullable_input"],parameters_prompt_input:["parameters.prompt","parameters_prompt_input"],parameters_values_input:["parameters.values","parameters_values_input"],parameterSettings_delimiterChar_input:["parameterSettings.delimiterChar","parameterSettings_delimiterChar_input"],parameterSettings_popupHeight_input:["parameterSettings.popupHeight","parameterSettings_popupHeight_input"],parameterSettings_popupWidth_input:["parameterSettings.popupWidth","parameterSettings_popupWidth_input"],parameterSettings_itemWidth_input:["parameterSettings.itemWidth","parameterSettings_itemWidth_input"],parameterSettings_labelWidth_input:["parameterSettings.labelWidth","parameterSettings_labelWidth_input"],parameterSettings_minDateTime_input:["parameterSettings.minDateTime","parameterSettings_minDateTime_input"],parameterSettings_maxDateTime_input:["parameterSettings.maxDateTime","parameterSettings_maxDateTime_input"],parameterSettings_hideParameterBlock_input:["parameterSettings.hideParameterBlock","parameterSettings_hideParameterBlock_input"],parameterSettings_dateTimeFormat_input:["parameterSettings.dateTimeFormat","parameterSettings_dateTimeFormat_input"],parameterSettings_timeDisplayFormat_input:["parameterSettings.timeDisplayFormat","parameterSettings_timeDisplayFormat_input"],parameterSettings_timeInterval_input:["parameterSettings.timeInterval","parameterSettings_timeInterval_input"],parameterSettings_accessInternalValue_input:["parameterSettings.accessInternalValue","parameterSettings_accessInternalValue_input"],toolbarSettings_click_input:["toolbarSettings.click","toolbarSettings_click_input"],toolbarSettings_items_input:["toolbarSettings.items","toolbarSettings_items_input"],toolbarSettings_showToolbar_input:["toolbarSettings.showToolbar","toolbarSettings_showToolbar_input"],toolbarSettings_showTooltip_input:["toolbarSettings.showTooltip","toolbarSettings_showTooltip_input"],toolbarSettings_templateId_input:["toolbarSettings.templateId","toolbarSettings_templateId_input"],toolbarSettings_customItems_input:["toolbarSettings.customItems","toolbarSettings_customItems_input"],toolbarSettings_customGroups_input:["toolbarSettings.customGroups","toolbarSettings_customGroups_input"]},outputs:{drillThrough_output:"drillThrough",renderingBegin_output:"renderingBegin",renderingComplete_output:"renderingComplete",reportError_output:"reportError",reportExport_output:"reportExport",reportLoaded_output:"reportLoaded",showError_output:"showError",viewReportClick_output:"viewReportClick",ajaxBeforeLoad_output:"ajaxBeforeLoad",ajaxSuccess_output:"ajaxSuccess",ajaxError_output:"ajaxError",toolbarRendering_output:"toolbarRendering",exportProgressChanged_output:"exportProgressChanged",printProgressChanged_output:"printProgressChanged",exportItemClick_output:"exportItemClick",toolBarItemClick_output:"toolBarItemClick",hyperlink_output:"hyperlink",reportPrint_output:"reportPrint",beforeParameterAdd_output:"beforeParameterAdd"},features:[aa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Er=(()=>{class e{}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ee({factory:function(t){return new(t||e)},imports:[[ar]]}),e})(),Vr=(()=>{class e{constructor(){this.title="jsreport-sample",this.serviceUrl="https://demos.boldreports.com/services/api/ReportViewer",this.reportPath="~/Resources/docs/sales-order-detail.rdl"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ge({type:e,selectors:[["app-root"]],decls:1,vars:2,consts:[["id","reportViewer_Control",2,"width","100%","height","950px",3,"reportServiceUrl","reportPath"]],template:function(e,t){1&e&&(_a(0,"bold-reportviewer",0,undefined),function(){let e=Ot();Rt()?Pt.lFrame.isParent=!1:(e=e.parent,It(e,!1));const t=e;Pt.lFrame.elementDepthCount--;const i=At();i.firstCreatePass&&(Gt(i,e),nt(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ga(i,t,Dt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ga(i,t,Dt(),t.stylesWithoutHost,!1)}()),2&e&&ma("reportServiceUrl",t.serviceUrl)("reportPath",t.reportPath)},directives:[Mr],styles:[""]}),e})();i("+Hlo"),i("06PS"),i("qkun");let Nr=(()=>{class e{}return e.\u0275mod=Ke({type:e,bootstrap:[Vr]}),e.\u0275inj=ee({factory:function(t){return new(t||e)},providers:[],imports:[[Or,Er]]}),e})();(function(){if(Ai)throw new Error("Cannot enable prod mode after platform setup.");Di=!1})(),Dr().bootstrapModule(Nr).catch(e=>console.error(e))},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[0,0]]]);